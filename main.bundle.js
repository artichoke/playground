"use strict";(()=>{var Bae=Object.create;var O4=Object.defineProperty;var jae=Object.getOwnPropertyDescriptor;var Wae=Object.getOwnPropertyNames;var zae=Object.getPrototypeOf,Vae=Object.prototype.hasOwnProperty;var DK=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var ue=(r,e)=>()=>(r&&(e=r(r=0)),e);var a0=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),fE=(r,e)=>{for(var t in e)O4(r,t,{get:e[t],enumerable:!0})},Uae=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Wae(e))!Vae.call(r,n)&&n!==t&&O4(r,n,{get:()=>e[n],enumerable:!(i=jae(e,n))||i.enumerable});return r};var l0=(r,e,t)=>(t=r!=null?Bae(zae(r)):{},Uae(e||!r||!r.__esModule?O4(t,"default",{value:r,enumerable:!0}):t,r));function Nue(r,e){let t;return e.length===0?t=r:t=r.replace(/\{(\d+)\}/g,(i,n)=>{let o=n[0],s=e[o],a=i;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),Oue&&(t="\uFF3B"+t.replace(/[aouei]/g,"$&$&")+"\uFF3D"),t}function g(r,e,...t){return Nue(e,t)}var Oue,Ne=ue(()=>{Oue=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0});function WE(){if(!Yq){Yq=!0;let r=new Uint8Array(2);r[0]=1,r[1]=2,qq=new Uint16Array(r.buffer)[0]===(2<<8)+1}return qq}var f5,Qy,eS,tS,Jy,Tue,Zq,m5,Pue,p5,Aue,FE,BE,Mue,Pg,Qi,hs,Gq,Rue,g5,Ji,at,$i,Ns,ja,Xq,sa,sh,Qq,Fue,jE,Nr,qq,Yq,_5,Jq,eY,tY,PMe,At=ue(()=>{Ne();Qy="en",eS=!1,tS=!1,Jy=!1,Tue=!1,Zq=!1,m5=!1,Pue=!1,p5=!1,Aue=!1,BE=Qy,Qi=typeof self=="object"?self:typeof global=="object"?global:{};typeof Qi.vscode<"u"&&typeof Qi.vscode.process<"u"?hs=Qi.vscode.process:typeof process<"u"&&(hs=process);Gq=typeof((f5=hs?.versions)===null||f5===void 0?void 0:f5.electron)=="string",Rue=Gq&&hs?.type==="renderer";if(typeof navigator=="object"&&!Rue)Pg=navigator.userAgent,eS=Pg.indexOf("Windows")>=0,tS=Pg.indexOf("Macintosh")>=0,p5=(Pg.indexOf("Macintosh")>=0||Pg.indexOf("iPad")>=0||Pg.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Jy=Pg.indexOf("Linux")>=0,m5=!0,FE=(g({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"),void 0)||Qy,BE=FE;else if(typeof hs=="object"){eS=hs.platform==="win32",tS=hs.platform==="darwin",Jy=hs.platform==="linux",Tue=Jy&&!!hs.env.SNAP&&!!hs.env.SNAP_REVISION,Pue=Gq,Aue=!!hs.env.CI||!!hs.env.BUILD_ARTIFACTSTAGINGDIRECTORY,FE=Qy,BE=Qy;let r=hs.env.VSCODE_NLS_CONFIG;if(r)try{let e=JSON.parse(r),t=e.availableLanguages["*"];FE=e.locale,BE=t||Qy,Mue=e._translationsConfigFile}catch{}Zq=!0}else console.error("Unable to resolve platform.");g5=0;tS?g5=1:eS?g5=3:Jy&&(g5=2);Ji=eS,at=tS,$i=Jy,Ns=Zq,ja=m5,Xq=m5&&typeof Qi.importScripts=="function",sa=p5,sh=Pg,Qq=BE,Fue=typeof Qi.postMessage=="function"&&!Qi.importScripts,jE=(()=>{if(Fue){let r=[];Qi.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,n=r.length;i<n;i++){let o=r[i];if(o.id===t.data.vscodeScheduleAsyncWork){r.splice(i,1),o.callback();return}}});let e=0;return t=>{let i=++e;r.push({id:i,callback:t}),Qi.postMessage({vscodeScheduleAsyncWork:i},"*")}}return r=>setTimeout(r)})(),Nr=tS||p5?2:eS?1:3,qq=!0,Yq=!1;_5=!!(sh&&sh.indexOf("Chrome")>=0),Jq=!!(sh&&sh.indexOf("Firefox")>=0),eY=!!(!_5&&sh&&sh.indexOf("Safari")>=0),tY=!!(sh&&sh.indexOf("Edg/")>=0),PMe=!!(sh&&sh.indexOf("Android")>=0)});var wt,aa=ue(()=>{(function(r){function e(k){return k&&typeof k=="object"&&typeof k[Symbol.iterator]=="function"}r.is=e;let t=Object.freeze([]);function i(){return t}r.empty=i;function*n(k){yield k}r.single=n;function o(k){return k||t}r.from=o;function s(k){return!k||k[Symbol.iterator]().next().done===!0}r.isEmpty=s;function a(k){return k[Symbol.iterator]().next().value}r.first=a;function l(k,N){for(let M of k)if(N(M))return!0;return!1}r.some=l;function c(k,N){for(let M of k)if(N(M))return M}r.find=c;function*d(k,N){for(let M of k)N(M)&&(yield M)}r.filter=d;function*h(k,N){let M=0;for(let I of k)yield N(I,M++)}r.map=h;function*u(...k){for(let N of k)for(let M of N)yield M}r.concat=u;function*f(k){for(let N of k)for(let M of N)yield M}r.concatNested=f;function m(k,N,M){let I=M;for(let O of k)I=N(I,O);return I}r.reduce=m;function _(k,N){let M=0;for(let I of k)N(I,M++)}r.forEach=_;function*v(k,N,M=k.length){for(N<0&&(N+=k.length),M<0?M+=k.length:M>k.length&&(M=k.length);N<M;N++)yield k[N]}r.slice=v;function w(k,N=Number.POSITIVE_INFINITY){let M=[];if(N===0)return[M,k];let I=k[Symbol.iterator]();for(let O=0;O<N;O++){let R=I.next();if(R.done)return[M,r.empty()];M.push(R.value)}return[M,{[Symbol.iterator](){return I}}]}r.consume=w;function y(k){return w(k)[0]}r.collect=y;function x(k,N,M=(I,O)=>I===O){let I=k[Symbol.iterator](),O=N[Symbol.iterator]();for(;;){let R=I.next(),K=O.next();if(R.done!==K.done)return!1;if(R.done)return!0;if(!M(R.value,K.value))return!1}}r.equals=x})(wt||(wt={}))});var Dn,Rn,Xc=ue(()=>{Dn=class{constructor(e){this.element=e,this.next=Dn.Undefined,this.prev=Dn.Undefined}};Dn.Undefined=new Dn(void 0);Rn=class{constructor(){this._first=Dn.Undefined,this._last=Dn.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Dn.Undefined}clear(){let e=this._first;for(;e!==Dn.Undefined;){let t=e.next;e.prev=Dn.Undefined,e.next=Dn.Undefined,e=t}this._first=Dn.Undefined,this._last=Dn.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let i=new Dn(e);if(this._first===Dn.Undefined)this._first=i,this._last=i;else if(t){let o=this._last;this._last=i,i.prev=o,o.next=i}else{let o=this._first;this._first=i,i.next=o,o.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==Dn.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Dn.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Dn.Undefined&&e.next!==Dn.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Dn.Undefined&&e.next===Dn.Undefined?(this._first=Dn.Undefined,this._last=Dn.Undefined):e.next===Dn.Undefined?(this._last=this._last.prev,this._last.next=Dn.Undefined):e.prev===Dn.Undefined&&(this._first=this._first.next,this._first.prev=Dn.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Dn.Undefined;)yield e.element,e=e.next}}});function Bue(r=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(let t of b5)r.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}function zE(r){let e=iS;if(r&&r instanceof RegExp)if(r.global)e=r;else{let t="g";r.ignoreCase&&(t+="i"),r.multiline&&(t+="m"),r.unicode&&(t+="u"),e=new RegExp(r.source,t)}return e.lastIndex=0,e}function Ag(r,e,t,i,n){if(n||(n=wt.first(iY)),t.length>n.maxLen){let c=r-n.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,r+n.maxLen/2),Ag(r,e,t,i,n)}let o=Date.now(),s=r-1-i,a=-1,l=null;for(let c=1;!(Date.now()-o>=n.timeBudget);c++){let d=s-n.windowSize*c;e.lastIndex=Math.max(0,d);let h=jue(e,t,s,a);if(!h&&l||(l=h,d<=0))break;a=d}if(l){let c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function jue(r,e,t,i){let n;for(;n=r.exec(e);){let o=n.index||0;if(o<=t&&r.lastIndex>=t)return n;if(i>0&&o>i)return null}return null}var b5,iS,iY,E0=ue(()=>{aa();Xc();b5="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";iS=Bue();iY=new Rn;iY.unshift({maxLen:1e3,windowSize:15,timeBudget:150})});function Wa(r,e=0){return r[r.length-(1+e)]}function oY(r){if(r.length===0)throw new Error("Invalid tail call");return[r.slice(0,r.length-1),r[r.length-1]]}function go(r,e,t=(i,n)=>i===n){if(r===e)return!0;if(!r||!e||r.length!==e.length)return!1;for(let i=0,n=r.length;i<n;i++)if(!t(r[i],e[i]))return!1;return!0}function rY(r,e){let t=r.length-1;e<t&&(r[e]=r[t]),r.pop()}function I0(r,e,t){return Wue(r.length,i=>t(r[i],e))}function Wue(r,e){let t=0,i=r-1;for(;t<=i;){let n=(t+i)/2|0,o=e(n);if(o<0)t=n+1;else if(o>0)i=n-1;else return n}return-(t+1)}function UE(r,e){let t=0,i=r.length;if(i===0)return 0;for(;t<i;){let n=Math.floor((t+i)/2);e(r[n])?i=n:t=n+1}return t}function VE(r,e,t){if(r=r|0,r>=e.length)throw new TypeError("invalid index");let i=e[Math.floor(e.length*Math.random())],n=[],o=[],s=[];for(let a of e){let l=t(a,i);l<0?n.push(a):l>0?o.push(a):s.push(a)}return r<n.length?VE(r,n,t):r<n.length+s.length?s[0]:VE(r-(n.length+s.length),o,t)}function v5(r,e){let t=[],i;for(let n of r.slice(0).sort(e))!i||e(i[0],n)!==0?(i=[n],t.push(i)):i.push(n);return t}function Mg(r){return r.filter(e=>!!e)}function HE(r){return!Array.isArray(r)||r.length===0}function an(r){return Array.isArray(r)&&r.length>0}function la(r,e=t=>t){let t=new Set;return r.filter(i=>{let n=e(i);return t.has(n)?!1:(t.add(n),!0)})}function nS(r,e){let t=zue(r,e);if(t!==-1)return r[t]}function zue(r,e){for(let t=r.length-1;t>=0;t--){let i=r[t];if(e(i))return t}return-1}function $E(r,e){return r.length>0?r[0]:e}function Wo(r,e){let t=typeof e=="number"?r:0;typeof e=="number"?t=r:(t=0,e=r);let i=[];if(t<=e)for(let n=t;n<e;n++)i.push(n);else for(let n=t;n>e;n--)i.push(n);return i}function Rg(r,e,t){let i=r.slice(0,e),n=r.slice(e);return i.concat(t,n)}function KE(r,e){let t=r.indexOf(e);t>-1&&(r.splice(t,1),r.unshift(e))}function oS(r,e){let t=r.indexOf(e);t>-1&&(r.splice(t,1),r.push(e))}function C5(r,e){for(let t of e)r.push(t)}function O0(r){return Array.isArray(r)?r:[r]}function Vue(r,e,t){let i=sY(r,e),n=r.length,o=t.length;r.length=n+o;for(let s=n-1;s>=i;s--)r[s+o]=r[s];for(let s=0;s<o;s++)r[s+i]=t[s]}function w5(r,e,t,i){let n=sY(r,e),o=r.splice(n,t);return Vue(r,n,i),o}function sY(r,e){return e<0?Math.max(e+r.length,0):Math.min(e,r.length)}function Fg(r,e){return(t,i)=>e(r(t),r(i))}function y5(r,e){if(r.length===0)return;let t=r[0];for(let i=1;i<r.length;i++){let n=r[i];e(n,t)>0&&(t=n)}return t}function qE(r,e){if(r.length===0)return;let t=r[0];for(let i=1;i<r.length;i++){let n=r[i];e(n,t)>=0&&(t=n)}return t}function lY(r,e){return y5(r,(t,i)=>-e(t,i))}var nY,aY,Qc,Ft=ue(()=>{(function(r){function e(n){return n<0}r.isLessThan=e;function t(n){return n>0}r.isGreaterThan=t;function i(n){return n===0}r.isNeitherLessOrGreaterThan=i,r.greaterThan=1,r.lessThan=-1,r.neitherLessOrGreaterThan=0})(nY||(nY={}));aY=(r,e)=>r-e;Qc=class{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;let i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;let i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){let e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){let t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}});function YE(r){return Array.isArray(r)}function zo(r){return typeof r=="string"}function mo(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&!(r instanceof RegExp)&&!(r instanceof Date)}function cY(r){let e=Object.getPrototypeOf(Uint8Array);return typeof r=="object"&&r instanceof e}function za(r){return typeof r=="number"&&!isNaN(r)}function S5(r){return!!r&&typeof r[Symbol.iterator]=="function"}function ZE(r){return r===!0||r===!1}function cr(r){return typeof r>"u"}function dY(r){return!Tr(r)}function Tr(r){return cr(r)||r===null}function $t(r,e){if(!r)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function rS(r){if(Tr(r))throw new Error("Assertion Failed: argument is undefined or null");return r}function N0(r){return typeof r=="function"}function hY(r,e){let t=Math.min(r.length,e.length);for(let i=0;i<t;i++)Uue(r[i],e[i])}function Uue(r,e){if(zo(e)){if(typeof r!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(N0(e)){try{if(r instanceof e)return}catch{}if(!Tr(r)&&r.constructor===e||e.length===1&&e.call(void 0,r)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Hue(r){let e=[],t=Object.getPrototypeOf(r);for(;Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}function T0(r){let e=[];for(let t of Hue(r))typeof r[t]=="function"&&e.push(t);return e}function uY(r,e){let t=n=>function(){let o=Array.prototype.slice.call(arguments,0);return e(n,o)},i={};for(let n of r)i[n]=t(n);return i}function Va(r){return r===null?void 0:r}function Bg(r,e="Unreachable"){throw new Error(e)}var ti=ue(()=>{});function rc(r){if(!r||typeof r!="object"||r instanceof RegExp)return r;let e=Array.isArray(r)?[]:{};return Object.keys(r).forEach(t=>{r[t]&&typeof r[t]=="object"?e[t]=rc(r[t]):e[t]=r[t]}),e}function fY(r){if(!r||typeof r!="object")return r;let e=[r];for(;e.length>0;){let t=e.shift();Object.freeze(t);for(let i in t)if(gY.call(t,i)){let n=t[i];typeof n=="object"&&!Object.isFrozen(n)&&!cY(n)&&e.push(n)}}return r}function GE(r,e){return L5(r,e,new Set)}function L5(r,e,t){if(Tr(r))return r;let i=e(r);if(typeof i<"u")return i;if(YE(r)){let n=[];for(let o of r)n.push(L5(o,e,t));return n}if(mo(r)){if(t.has(r))throw new Error("Cannot clone recursive data-structure");t.add(r);let n={};for(let o in r)gY.call(r,o)&&(n[o]=L5(r[o],e,t));return t.delete(r),n}return r}function Pr(r,e,t=!0){return mo(r)?(mo(e)&&Object.keys(e).forEach(i=>{i in r?t&&(mo(r[i])&&mo(e[i])?Pr(r[i],e[i],t):r[i]=e[i]):r[i]=e[i]}),r):e}function dr(r,e){if(r===e)return!0;if(r==null||e===null||e===void 0||typeof r!=typeof e||typeof r!="object"||Array.isArray(r)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(r)){if(r.length!==e.length)return!1;for(t=0;t<r.length;t++)if(!dr(r[t],e[t]))return!1}else{let n=[];for(i in r)n.push(i);n.sort();let o=[];for(i in e)o.push(i);if(o.sort(),!dr(n,o))return!1;for(t=0;t<n.length;t++)if(!dr(r[n[t]],e[n[t]]))return!1}return!0}var gY,hr=ue(()=>{ti();gY=Object.prototype.hasOwnProperty});var Do,sS=ue(()=>{Do={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}});function Pe(r){Ps(r)||pY.onUnexpectedError(r)}function Oi(r){Ps(r)||pY.onUnexpectedExternalError(r)}function i3(r){if(r instanceof Error){let{name:e,message:t}=r,i=r.stacktrace||r.stack;return{$isError:!0,name:e,message:t,stack:i,noTelemetry:Ug.isErrorNoTelemetry(r)}}return r}function Ps(r){return r instanceof _l?!0:r instanceof Error&&r.name===JE&&r.message===JE}function tI(){let r=new Error(JE);return r.name=r.message,r}function gs(r){return r?new Error(`Illegal argument: ${r}`):new Error("Illegal argument")}function _Y(r){return r?new Error(`Illegal state: ${r}`):new Error("Illegal state")}var t3,pY,JE,_l,eI,Ug,M0,ut=ue(()=>{t3=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?Ug.isErrorNoTelemetry(e)?new Ug(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},pY=new t3;JE="Canceled";_l=class extends Error{constructor(){super(JE),this.name=this.message}};eI=class extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}},Ug=class extends Error{constructor(e){super(e),this.name="ErrorNoTelemetry"}static fromError(e){if(e instanceof Ug)return e;let t=new Ug;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="ErrorNoTelemetry"}},M0=class extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,M0.prototype);debugger}}});function Ua(r){let e=this,t=!1,i;return function(){return t||(t=!0,i=r.apply(e,arguments)),i}}var u_=ue(()=>{});function tfe(r){da=r}function lS(r){return da?.trackDisposable(r),r}function cS(r){da?.markAsDisposed(r)}function iI(r,e){da?.setParent(r,e)}function ife(r,e){if(!!da)for(let t of r)da.setParent(t,e)}function sI(r){return da?.markAsSingleton(r),r}function R0(r){return typeof r.dispose=="function"&&r.dispose.length===0}function ft(r){if(wt.is(r)){let e=[];for(let t of r)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new n3(e);return Array.isArray(r)?[]:r}else if(r)return r.dispose(),r}function ms(...r){let e=Ke(()=>ft(r));return ife(r,e),e}function Ke(r){let e=lS({dispose:Ua(()=>{cS(e),r()})});return e}var efe,da,n3,J,$,Cn,nI,oI,rI,se=ue(()=>{u_();aa();efe=!1,da=null;if(efe){let r="__is_disposable_tracked__";tfe(new class{trackDisposable(e){let t=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[r]||console.log(t)},3e3)}setParent(e,t){if(e&&e!==$.None)try{e[r]=!0}catch{}}markAsDisposed(e){if(e&&e!==$.None)try{e[r]=!0}catch{}}markAsSingleton(e){}})}n3=class extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}};J=class{constructor(){this._toDispose=new Set,this._isDisposed=!1,lS(this)}dispose(){this._isDisposed||(cS(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{ft(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return iI(e,this),this._isDisposed?J.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}};J.DISABLE_DISPOSED_WARNING=!1;$=class{constructor(){this._store=new J,lS(this),iI(this._store,this)}dispose(){cS(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};$.None=Object.freeze({dispose(){}});Cn=class{constructor(){this._isDisposed=!1,lS(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),e&&iI(e,this),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,cS(this),(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e&&iI(e,null),e}},nI=class{constructor(e){this._disposable=e,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}},oI=class{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,lS(this)}set(e){let t=e;return this.unset=()=>t=void 0,this.isset=()=>t!==void 0,this.dispose=()=>{t&&(t(),t=void 0,cS(this))},this}},rI=class{constructor(e){this.object=e}dispose(){}}});var nfe,_n,Ha=ue(()=>{At();nfe=Qi.performance&&typeof Qi.performance.now=="function",_n=class{constructor(e){this._highResolution=nfe&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new _n(e)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?Qi.performance.now():Date.now()}}});var bY,ofe,Ie,F0,vY,o3,f_,r3,B,dS,s3,a3,Hg,aI,$g,hS,Oe=ue(()=>{ut();se();Xc();Ha();bY=!1,ofe=!1;(function(r){r.None=()=>$.None;function e(I){if(ofe){let{onListenerDidAdd:O}=I,R=f_.create(),K=0;I.onListenerDidAdd=()=>{++K===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),R.print()),O?.()}}}function t(I){return(O,R=null,K)=>{let q=!1,te;return te=I(ie=>{if(!q)return te?te.dispose():q=!0,O.call(R,ie)},null,K),q&&te.dispose(),te}}r.once=t;function i(I,O,R){return c((K,q=null,te)=>I(ie=>K.call(q,O(ie)),null,te),R)}r.map=i;function n(I,O,R){return c((K,q=null,te)=>I(ie=>{O(ie),K.call(q,ie)},null,te),R)}r.forEach=n;function o(I,O,R){return c((K,q=null,te)=>I(ie=>O(ie)&&K.call(q,ie),null,te),R)}r.filter=o;function s(I){return I}r.signal=s;function a(...I){return(O,R=null,K)=>ms(...I.map(q=>q(te=>O.call(R,te),null,K)))}r.any=a;function l(I,O,R,K){let q=R;return i(I,te=>(q=O(q,te),q),K)}r.reduce=l;function c(I,O){let R,K={onFirstListenerAdd(){R=I(q.fire,q)},onLastListenerRemove(){R?.dispose()}};O||e(K);let q=new B(K);return O?.add(q),q.event}function d(I,O,R=100,K=!1,q,te){let ie,xe,Ae,Re=0,Ve={leakWarningThreshold:q,onFirstListenerAdd(){ie=I(Dt=>{Re++,xe=O(xe,Dt),K&&!Ae&&(nt.fire(xe),xe=void 0),clearTimeout(Ae),Ae=setTimeout(()=>{let Si=xe;xe=void 0,Ae=void 0,(!K||Re>1)&&nt.fire(Si),Re=0},R)})},onLastListenerRemove(){ie.dispose()}};te||e(Ve);let nt=new B(Ve);return te?.add(nt),nt.event}r.debounce=d;function h(I,O=(K,q)=>K===q,R){let K=!0,q;return o(I,te=>{let ie=K||!O(te,q);return K=!1,q=te,ie},R)}r.latch=h;function u(I,O,R){return[r.filter(I,O,R),r.filter(I,K=>!O(K),R)]}r.split=u;function f(I,O=!1,R=[]){let K=R.slice(),q=I(xe=>{K?K.push(xe):ie.fire(xe)}),te=()=>{K?.forEach(xe=>ie.fire(xe)),K=null},ie=new B({onFirstListenerAdd(){q||(q=I(xe=>ie.fire(xe)))},onFirstListenerDidAdd(){K&&(O?setTimeout(te):te())},onLastListenerRemove(){q&&q.dispose(),q=null}});return ie.event}r.buffer=f;class m{constructor(O){this.event=O,this.disposables=new J}map(O){return new m(i(this.event,O,this.disposables))}forEach(O){return new m(n(this.event,O,this.disposables))}filter(O){return new m(o(this.event,O,this.disposables))}reduce(O,R){return new m(l(this.event,O,R,this.disposables))}latch(){return new m(h(this.event,void 0,this.disposables))}debounce(O,R=100,K=!1,q){return new m(d(this.event,O,R,K,q,this.disposables))}on(O,R,K){return this.event(O,R,K)}once(O,R,K){return t(this.event)(O,R,K)}dispose(){this.disposables.dispose()}}function _(I){return new m(I)}r.chain=_;function v(I,O,R=K=>K){let K=(...xe)=>ie.fire(R(...xe)),q=()=>I.on(O,K),te=()=>I.removeListener(O,K),ie=new B({onFirstListenerAdd:q,onLastListenerRemove:te});return ie.event}r.fromNodeEventEmitter=v;function w(I,O,R=K=>K){let K=(...xe)=>ie.fire(R(...xe)),q=()=>I.addEventListener(O,K),te=()=>I.removeEventListener(O,K),ie=new B({onFirstListenerAdd:q,onLastListenerRemove:te});return ie.event}r.fromDOMEventEmitter=w;function y(I){return new Promise(O=>t(I)(O))}r.toPromise=y;function x(I,O){return O(void 0),I(R=>O(R))}r.runAndSubscribe=x;function k(I,O){let R=null;function K(te){R?.dispose(),R=new J,O(te,R)}K(void 0);let q=I(te=>K(te));return Ke(()=>{q.dispose(),R?.dispose()})}r.runAndSubscribeWithStore=k;class N{constructor(O,R){this.obs=O,this._counter=0,this._hasChanged=!1;let K={onFirstListenerAdd:()=>{O.addObserver(this)},onLastListenerRemove:()=>{O.removeObserver(this)}};R||e(K),this.emitter=new B(K),R&&R.add(this.emitter)}beginUpdate(O){this._counter++}handleChange(O,R){this._hasChanged=!0}endUpdate(O){--this._counter===0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function M(I,O){return new N(I,O).emitter.event}r.fromObservable=M})(Ie||(Ie={}));F0=class{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${F0._idPool++}`}start(e){this._stopWatch=new _n(!0),this._listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}};F0._idPool=0;vY=-1,o3=class{constructor(e,t=Math.random().toString(18).slice(2,5)){this.customThreshold=e,this.name=t,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(e,t){let i=vY;if(typeof this.customThreshold=="number"&&(i=this.customThreshold),i<=0||t<i)return;this._stacks||(this._stacks=new Map);let n=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let o,s=0;for(let[a,l]of this._stacks)(!o||s<l)&&(o=a,s=l);console.warn(`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`),console.warn(o)}return()=>{let o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}},f_=class{constructor(e){this.value=e}static create(){var e;return new f_((e=new Error().stack)!==null&&e!==void 0?e:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},r3=class{constructor(e,t,i){this.callback=e,this.callbackThis=t,this.stack=i,this.subscription=new oI}invoke(e){this.callback.call(this.callbackThis,e)}},B=class{constructor(e){var t,i;this._disposed=!1,this._options=e,this._leakageMon=vY>0?new o3(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((t=this._options)===null||t===void 0)&&t._profName?new F0(this._options._profName):void 0,this._deliveryQueue=(i=this._options)===null||i===void 0?void 0:i.deliveryQueue}dispose(){var e,t,i,n;if(!this._disposed){if(this._disposed=!0,this._listeners){if(bY){let o=Array.from(this._listeners);queueMicrotask(()=>{var s;for(let a of o)a.subscription.isset()&&(a.subscription.unset(),(s=a.stack)===null||s===void 0||s.print())})}this._listeners.clear()}(e=this._deliveryQueue)===null||e===void 0||e.clear(this),(i=(t=this._options)===null||t===void 0?void 0:t.onLastListenerRemove)===null||i===void 0||i.call(t),(n=this._leakageMon)===null||n===void 0||n.dispose()}}get event(){return this._event||(this._event=(e,t,i)=>{var n,o,s;this._listeners||(this._listeners=new Rn);let a=this._listeners.isEmpty();a&&((n=this._options)===null||n===void 0?void 0:n.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let l,c;this._leakageMon&&this._listeners.size>=30&&(c=f_.create(),l=this._leakageMon.check(c,this._listeners.size+1)),bY&&(c=c??f_.create());let d=new r3(e,t,c),h=this._listeners.push(d);a&&((o=this._options)===null||o===void 0?void 0:o.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),!((s=this._options)===null||s===void 0)&&s.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);let u=d.subscription.set(()=>{l?.(),this._disposed||(h(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return i instanceof J?i.add(u):Array.isArray(i)&&i.push(u),u}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new s3);for(let n of this._listeners)this._deliveryQueue.push(this,n,e);(t=this._perfMon)===null||t===void 0||t.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(i=this._perfMon)===null||i===void 0||i.stop()}}},dS=class{constructor(){this._queue=new Rn}get size(){return this._queue.size}push(e,t,i){this._queue.push(new a3(e,t,i))}clear(e){let t=new Rn;for(let i of this._queue)i.emitter!==e&&t.push(i);this._queue=t}deliver(){for(;this._queue.size>0;){let e=this._queue.shift();try{e.listener.invoke(e.event)}catch(t){Pe(t)}}}},s3=class extends dS{clear(e){this._queue.clear()}},a3=class{constructor(e,t,i){this.emitter=e,this.listener=t,this.event=i}},Hg=class extends B{constructor(e){super(e),this._isPaused=0,this._eventQueue=new Rn,this._mergeFn=e?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){let e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}},aI=class extends Hg{constructor(e){var t;super(e),this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}},$g=class{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e(o=>{let s=this.buffers[this.buffers.length-1];s?s.push(()=>t.call(i,o)):t.call(i,o)},void 0,n)}bufferEvents(e){let t=[];this.buffers.push(t);let i=e();return this.buffers.pop(),t.forEach(n=>n()),i}},hS=class{constructor(){this.listening=!1,this.inputEvent=Ie.None,this.inputEventListener=$.None,this.emitter=new B({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}});var CY,Je,B0,qi,Di=ue(()=>{Oe();CY=Object.freeze(function(r,e){let t=setTimeout(r.bind(e),0);return{dispose(){clearTimeout(t)}}});(function(r){function e(t){return t===r.None||t===r.Cancelled||t instanceof B0?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}r.isCancellationToken=e,r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ie.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:CY})})(Je||(Je={}));B0=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?CY:(this._emitter||(this._emitter=new B),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},qi=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new B0),this._token}cancel(){this._token?this._token instanceof B0&&this._token.cancel():this._token=Je.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof B0&&this._token.dispose():this._token=Je.None}}});function en(r,e){let t=(e&65535)<<16>>>0;return(r|t)>>>0}var uS,lI,l3,c3,h3,sfe,afe,lfe,cfe,cI,d3,Hu,bl=ue(()=>{uS=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},lI=new uS,l3=new uS,c3=new uS,h3=new Array(230),sfe={},afe=[],lfe=Object.create(null),cfe=Object.create(null),cI=[],d3=[];for(let r=0;r<=193;r++)cI[r]=-1;for(let r=0;r<=127;r++)d3[r]=-1;(function(){let r="",e=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",r,r],[0,1,1,"Hyper",0,r,0,r,r,r],[0,1,2,"Super",0,r,0,r,r,r],[0,1,3,"Fn",0,r,0,r,r,r],[0,1,4,"FnLock",0,r,0,r,r,r],[0,1,5,"Suspend",0,r,0,r,r,r],[0,1,6,"Resume",0,r,0,r,r,r],[0,1,7,"Turbo",0,r,0,r,r,r],[0,1,8,"Sleep",0,r,0,"VK_SLEEP",r,r],[0,1,9,"WakeUp",0,r,0,r,r,r],[31,0,10,"KeyA",31,"A",65,"VK_A",r,r],[32,0,11,"KeyB",32,"B",66,"VK_B",r,r],[33,0,12,"KeyC",33,"C",67,"VK_C",r,r],[34,0,13,"KeyD",34,"D",68,"VK_D",r,r],[35,0,14,"KeyE",35,"E",69,"VK_E",r,r],[36,0,15,"KeyF",36,"F",70,"VK_F",r,r],[37,0,16,"KeyG",37,"G",71,"VK_G",r,r],[38,0,17,"KeyH",38,"H",72,"VK_H",r,r],[39,0,18,"KeyI",39,"I",73,"VK_I",r,r],[40,0,19,"KeyJ",40,"J",74,"VK_J",r,r],[41,0,20,"KeyK",41,"K",75,"VK_K",r,r],[42,0,21,"KeyL",42,"L",76,"VK_L",r,r],[43,0,22,"KeyM",43,"M",77,"VK_M",r,r],[44,0,23,"KeyN",44,"N",78,"VK_N",r,r],[45,0,24,"KeyO",45,"O",79,"VK_O",r,r],[46,0,25,"KeyP",46,"P",80,"VK_P",r,r],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",r,r],[48,0,27,"KeyR",48,"R",82,"VK_R",r,r],[49,0,28,"KeyS",49,"S",83,"VK_S",r,r],[50,0,29,"KeyT",50,"T",84,"VK_T",r,r],[51,0,30,"KeyU",51,"U",85,"VK_U",r,r],[52,0,31,"KeyV",52,"V",86,"VK_V",r,r],[53,0,32,"KeyW",53,"W",87,"VK_W",r,r],[54,0,33,"KeyX",54,"X",88,"VK_X",r,r],[55,0,34,"KeyY",55,"Y",89,"VK_Y",r,r],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",r,r],[22,0,36,"Digit1",22,"1",49,"VK_1",r,r],[23,0,37,"Digit2",23,"2",50,"VK_2",r,r],[24,0,38,"Digit3",24,"3",51,"VK_3",r,r],[25,0,39,"Digit4",25,"4",52,"VK_4",r,r],[26,0,40,"Digit5",26,"5",53,"VK_5",r,r],[27,0,41,"Digit6",27,"6",54,"VK_6",r,r],[28,0,42,"Digit7",28,"7",55,"VK_7",r,r],[29,0,43,"Digit8",29,"8",56,"VK_8",r,r],[30,0,44,"Digit9",30,"9",57,"VK_9",r,r],[21,0,45,"Digit0",21,"0",48,"VK_0",r,r],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",r,r],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",r,r],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",r,r],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",r,r],[10,1,50,"Space",10,"Space",32,"VK_SPACE",r,r],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,r,0,r,r,r],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",r,r],[59,1,64,"F1",59,"F1",112,"VK_F1",r,r],[60,1,65,"F2",60,"F2",113,"VK_F2",r,r],[61,1,66,"F3",61,"F3",114,"VK_F3",r,r],[62,1,67,"F4",62,"F4",115,"VK_F4",r,r],[63,1,68,"F5",63,"F5",116,"VK_F5",r,r],[64,1,69,"F6",64,"F6",117,"VK_F6",r,r],[65,1,70,"F7",65,"F7",118,"VK_F7",r,r],[66,1,71,"F8",66,"F8",119,"VK_F8",r,r],[67,1,72,"F9",67,"F9",120,"VK_F9",r,r],[68,1,73,"F10",68,"F10",121,"VK_F10",r,r],[69,1,74,"F11",69,"F11",122,"VK_F11",r,r],[70,1,75,"F12",70,"F12",123,"VK_F12",r,r],[0,1,76,"PrintScreen",0,r,0,r,r,r],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",r,r],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",r,r],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",r,r],[14,1,80,"Home",14,"Home",36,"VK_HOME",r,r],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",r,r],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",r,r],[13,1,83,"End",13,"End",35,"VK_END",r,r],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",r,r],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",r],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",r],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",r],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",r],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",r,r],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",r,r],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",r,r],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",r,r],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",r,r],[3,1,94,"NumpadEnter",3,r,0,r,r,r],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",r,r],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",r,r],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",r,r],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",r,r],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",r,r],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",r,r],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",r,r],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",r,r],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",r,r],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",r,r],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",r,r],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",r,r],[58,1,107,"ContextMenu",58,"ContextMenu",93,r,r,r],[0,1,108,"Power",0,r,0,r,r,r],[0,1,109,"NumpadEqual",0,r,0,r,r,r],[71,1,110,"F13",71,"F13",124,"VK_F13",r,r],[72,1,111,"F14",72,"F14",125,"VK_F14",r,r],[73,1,112,"F15",73,"F15",126,"VK_F15",r,r],[74,1,113,"F16",74,"F16",127,"VK_F16",r,r],[75,1,114,"F17",75,"F17",128,"VK_F17",r,r],[76,1,115,"F18",76,"F18",129,"VK_F18",r,r],[77,1,116,"F19",77,"F19",130,"VK_F19",r,r],[0,1,117,"F20",0,r,0,"VK_F20",r,r],[0,1,118,"F21",0,r,0,"VK_F21",r,r],[0,1,119,"F22",0,r,0,"VK_F22",r,r],[0,1,120,"F23",0,r,0,"VK_F23",r,r],[0,1,121,"F24",0,r,0,"VK_F24",r,r],[0,1,122,"Open",0,r,0,r,r,r],[0,1,123,"Help",0,r,0,r,r,r],[0,1,124,"Select",0,r,0,r,r,r],[0,1,125,"Again",0,r,0,r,r,r],[0,1,126,"Undo",0,r,0,r,r,r],[0,1,127,"Cut",0,r,0,r,r,r],[0,1,128,"Copy",0,r,0,r,r,r],[0,1,129,"Paste",0,r,0,r,r,r],[0,1,130,"Find",0,r,0,r,r,r],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",r,r],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",r,r],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",r,r],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",r,r],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",r,r],[0,1,136,"KanaMode",0,r,0,r,r,r],[0,0,137,"IntlYen",0,r,0,r,r,r],[0,1,138,"Convert",0,r,0,r,r,r],[0,1,139,"NonConvert",0,r,0,r,r,r],[0,1,140,"Lang1",0,r,0,r,r,r],[0,1,141,"Lang2",0,r,0,r,r,r],[0,1,142,"Lang3",0,r,0,r,r,r],[0,1,143,"Lang4",0,r,0,r,r,r],[0,1,144,"Lang5",0,r,0,r,r,r],[0,1,145,"Abort",0,r,0,r,r,r],[0,1,146,"Props",0,r,0,r,r,r],[0,1,147,"NumpadParenLeft",0,r,0,r,r,r],[0,1,148,"NumpadParenRight",0,r,0,r,r,r],[0,1,149,"NumpadBackspace",0,r,0,r,r,r],[0,1,150,"NumpadMemoryStore",0,r,0,r,r,r],[0,1,151,"NumpadMemoryRecall",0,r,0,r,r,r],[0,1,152,"NumpadMemoryClear",0,r,0,r,r,r],[0,1,153,"NumpadMemoryAdd",0,r,0,r,r,r],[0,1,154,"NumpadMemorySubtract",0,r,0,r,r,r],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",r,r],[0,1,156,"NumpadClearEntry",0,r,0,r,r,r],[5,1,0,r,5,"Ctrl",17,"VK_CONTROL",r,r],[4,1,0,r,4,"Shift",16,"VK_SHIFT",r,r],[6,1,0,r,6,"Alt",18,"VK_MENU",r,r],[57,1,0,r,57,"Meta",0,"VK_COMMAND",r,r],[5,1,157,"ControlLeft",5,r,0,"VK_LCONTROL",r,r],[4,1,158,"ShiftLeft",4,r,0,"VK_LSHIFT",r,r],[6,1,159,"AltLeft",6,r,0,"VK_LMENU",r,r],[57,1,160,"MetaLeft",57,r,0,"VK_LWIN",r,r],[5,1,161,"ControlRight",5,r,0,"VK_RCONTROL",r,r],[4,1,162,"ShiftRight",4,r,0,"VK_RSHIFT",r,r],[6,1,163,"AltRight",6,r,0,"VK_RMENU",r,r],[57,1,164,"MetaRight",57,r,0,"VK_RWIN",r,r],[0,1,165,"BrightnessUp",0,r,0,r,r,r],[0,1,166,"BrightnessDown",0,r,0,r,r,r],[0,1,167,"MediaPlay",0,r,0,r,r,r],[0,1,168,"MediaRecord",0,r,0,r,r,r],[0,1,169,"MediaFastForward",0,r,0,r,r,r],[0,1,170,"MediaRewind",0,r,0,r,r,r],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",r,r],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",r,r],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",r,r],[0,1,174,"Eject",0,r,0,r,r,r],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",r,r],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",r,r],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",r,r],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",r,r],[0,1,179,"LaunchApp1",0,r,0,"VK_MEDIA_LAUNCH_APP1",r,r],[0,1,180,"SelectTask",0,r,0,r,r,r],[0,1,181,"LaunchScreenSaver",0,r,0,r,r,r],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",r,r],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",r,r],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",r,r],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",r,r],[0,1,186,"BrowserStop",0,r,0,"VK_BROWSER_STOP",r,r],[0,1,187,"BrowserRefresh",0,r,0,"VK_BROWSER_REFRESH",r,r],[0,1,188,"BrowserFavorites",0,r,0,"VK_BROWSER_FAVORITES",r,r],[0,1,189,"ZoomToggle",0,r,0,r,r,r],[0,1,190,"MailReply",0,r,0,r,r,r],[0,1,191,"MailForward",0,r,0,r,r,r],[0,1,192,"MailSend",0,r,0,r,r,r],[109,1,0,r,109,"KeyInComposition",229,r,r,r],[111,1,0,r,111,"ABNT_C2",194,"VK_ABNT_C2",r,r],[91,1,0,r,91,"OEM_8",223,"VK_OEM_8",r,r],[0,1,0,r,0,r,0,"VK_KANA",r,r],[0,1,0,r,0,r,0,"VK_HANGUL",r,r],[0,1,0,r,0,r,0,"VK_JUNJA",r,r],[0,1,0,r,0,r,0,"VK_FINAL",r,r],[0,1,0,r,0,r,0,"VK_HANJA",r,r],[0,1,0,r,0,r,0,"VK_KANJI",r,r],[0,1,0,r,0,r,0,"VK_CONVERT",r,r],[0,1,0,r,0,r,0,"VK_NONCONVERT",r,r],[0,1,0,r,0,r,0,"VK_ACCEPT",r,r],[0,1,0,r,0,r,0,"VK_MODECHANGE",r,r],[0,1,0,r,0,r,0,"VK_SELECT",r,r],[0,1,0,r,0,r,0,"VK_PRINT",r,r],[0,1,0,r,0,r,0,"VK_EXECUTE",r,r],[0,1,0,r,0,r,0,"VK_SNAPSHOT",r,r],[0,1,0,r,0,r,0,"VK_HELP",r,r],[0,1,0,r,0,r,0,"VK_APPS",r,r],[0,1,0,r,0,r,0,"VK_PROCESSKEY",r,r],[0,1,0,r,0,r,0,"VK_PACKET",r,r],[0,1,0,r,0,r,0,"VK_DBE_SBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_DBE_DBCSCHAR",r,r],[0,1,0,r,0,r,0,"VK_ATTN",r,r],[0,1,0,r,0,r,0,"VK_CRSEL",r,r],[0,1,0,r,0,r,0,"VK_EXSEL",r,r],[0,1,0,r,0,r,0,"VK_EREOF",r,r],[0,1,0,r,0,r,0,"VK_PLAY",r,r],[0,1,0,r,0,r,0,"VK_ZOOM",r,r],[0,1,0,r,0,r,0,"VK_NONAME",r,r],[0,1,0,r,0,r,0,"VK_PA1",r,r],[0,1,0,r,0,r,0,"VK_OEM_CLEAR",r,r]],t=[],i=[];for(let n of e){let[o,s,a,l,c,d,h,u,f,m]=n;if(i[a]||(i[a]=!0,afe[a]=l,lfe[l]=a,cfe[l.toLowerCase()]=a,s&&(cI[a]=c,c!==0&&c!==3&&c!==5&&c!==4&&c!==6&&c!==57&&(d3[c]=a))),!t[c]){if(t[c]=!0,!d)throw new Error(`String representation missing for key code ${c} around scan code ${l}`);lI.define(c,d),l3.define(c,f||d),c3.define(c,m||f||d)}h&&(h3[h]=c),u&&(sfe[u]=c)}d3[3]=46})();(function(r){function e(a){return lI.keyCodeToStr(a)}r.toString=e;function t(a){return lI.strToKeyCode(a)}r.fromString=t;function i(a){return l3.keyCodeToStr(a)}r.toUserSettingsUS=i;function n(a){return c3.keyCodeToStr(a)}r.toUserSettingsGeneral=n;function o(a){return l3.strToKeyCode(a)||c3.strToKeyCode(a)}r.fromUserSettings=o;function s(a){if(a>=93&&a<=108)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return lI.keyCodeToStr(a)}r.toElectronAccelerator=s})(Hu||(Hu={}))});var j0,dI,wY,Kg,yY=ue(()=>{At();if(typeof Qi.vscode<"u"&&typeof Qi.vscode.process<"u"){let r=Qi.vscode.process;j0={get platform(){return r.platform},get arch(){return r.arch},get env(){return r.env},cwd(){return r.cwd()}}}else typeof process<"u"?j0={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:j0={get platform(){return Ji?"win32":at?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};dI=j0.cwd,wY=j0.env,Kg=j0.platform});function Vo(r,e){if(typeof r!="string")throw new hI(e,"string",r)}function bi(r){return r===Jr||r===$a}function u3(r){return r===Jr}function Yg(r){return r>=hfe&&r<=ffe||r>=ufe&&r<=gfe}function uI(r,e,t,i){let n="",o=0,s=-1,a=0,l=0;for(let c=0;c<=r.length;++c){if(c<r.length)l=r.charCodeAt(c);else{if(i(l))break;l=Jr}if(i(l)){if(!(s===c-1||a===1))if(a===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==Zg||n.charCodeAt(n.length-2)!==Zg){if(n.length>2){let d=n.lastIndexOf(t);d===-1?(n="",o=0):(n=n.slice(0,d),o=n.length-1-n.lastIndexOf(t)),s=c,a=0;continue}else if(n.length!==0){n="",o=0,s=c,a=0;continue}}e&&(n+=n.length>0?`${t}..`:"..",o=2)}else n.length>0?n+=`${t}${r.slice(s+1,c)}`:n=r.slice(s+1,c),o=c-s-1;s=c,a=0}else l===Zg&&a!==-1?++a:a=-1}return n}function SY(r,e){if(e===null||typeof e!="object")throw new hI("pathObject","Object",e);let t=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${i}`:`${t}${r}${i}`:i}var hfe,ufe,ffe,gfe,Zg,Jr,$a,qg,mfe,hI,As,kn,fI,LY,xY,gI,ah,DY,lh,Gg=ue(()=>{yY();hfe=65,ufe=97,ffe=90,gfe=122,Zg=46,Jr=47,$a=92,qg=58,mfe=63,hI=class extends Error{constructor(e,t,i){let n;typeof t=="string"&&t.indexOf("not ")===0?(n="must not be",t=t.replace(/^not /,"")):n="must be";let o=e.indexOf(".")!==-1?"property":"argument",s=`The "${e}" ${o} ${n} of type ${t}`;s+=`. Received type ${typeof i}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}};As={resolve(...r){let e="",t="",i=!1;for(let n=r.length-1;n>=-1;n--){let o;if(n>=0){if(o=r[n],Vo(o,"path"),o.length===0)continue}else e.length===0?o=dI():(o=wY[`=${e}`]||dI(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===$a)&&(o=`${e}\\`));let s=o.length,a=0,l="",c=!1,d=o.charCodeAt(0);if(s===1)bi(d)&&(a=1,c=!0);else if(bi(d))if(c=!0,bi(o.charCodeAt(1))){let h=2,u=h;for(;h<s&&!bi(o.charCodeAt(h));)h++;if(h<s&&h!==u){let f=o.slice(u,h);for(u=h;h<s&&bi(o.charCodeAt(h));)h++;if(h<s&&h!==u){for(u=h;h<s&&!bi(o.charCodeAt(h));)h++;(h===s||h!==u)&&(l=`\\\\${f}\\${o.slice(u,h)}`,a=h)}}}else a=1;else Yg(d)&&o.charCodeAt(1)===qg&&(l=o.slice(0,2),a=2,s>2&&bi(o.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${o.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=uI(t,!i,"\\",bi),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(r){Vo(r,"path");let e=r.length;if(e===0)return".";let t=0,i,n=!1,o=r.charCodeAt(0);if(e===1)return u3(o)?"\\":r;if(bi(o))if(n=!0,bi(r.charCodeAt(1))){let a=2,l=a;for(;a<e&&!bi(r.charCodeAt(a));)a++;if(a<e&&a!==l){let c=r.slice(l,a);for(l=a;a<e&&bi(r.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!bi(r.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${r.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${r.slice(l,a)}`,t=a)}}}else t=1;else Yg(o)&&r.charCodeAt(1)===qg&&(i=r.slice(0,2),t=2,e>2&&bi(r.charCodeAt(2))&&(n=!0,t=3));let s=t<e?uI(r.slice(t),!n,"\\",bi):"";return s.length===0&&!n&&(s="."),s.length>0&&bi(r.charCodeAt(e-1))&&(s+="\\"),i===void 0?n?`\\${s}`:s:n?`${i}\\${s}`:`${i}${s}`},isAbsolute(r){Vo(r,"path");let e=r.length;if(e===0)return!1;let t=r.charCodeAt(0);return bi(t)||e>2&&Yg(t)&&r.charCodeAt(1)===qg&&bi(r.charCodeAt(2))},join(...r){if(r.length===0)return".";let e,t;for(let o=0;o<r.length;++o){let s=r[o];Vo(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let i=!0,n=0;if(typeof t=="string"&&bi(t.charCodeAt(0))){++n;let o=t.length;o>1&&bi(t.charCodeAt(1))&&(++n,o>2&&(bi(t.charCodeAt(2))?++n:i=!1))}if(i){for(;n<e.length&&bi(e.charCodeAt(n));)n++;n>=2&&(e=`\\${e.slice(n)}`)}return As.normalize(e)},relative(r,e){if(Vo(r,"from"),Vo(e,"to"),r===e)return"";let t=As.resolve(r),i=As.resolve(e);if(t===i||(r=t.toLowerCase(),e=i.toLowerCase(),r===e))return"";let n=0;for(;n<r.length&&r.charCodeAt(n)===$a;)n++;let o=r.length;for(;o-1>n&&r.charCodeAt(o-1)===$a;)o--;let s=o-n,a=0;for(;a<e.length&&e.charCodeAt(a)===$a;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===$a;)l--;let c=l-a,d=s<c?s:c,h=-1,u=0;for(;u<d;u++){let m=r.charCodeAt(n+u);if(m!==e.charCodeAt(a+u))break;m===$a&&(h=u)}if(u!==d){if(h===-1)return i}else{if(c>d){if(e.charCodeAt(a+u)===$a)return i.slice(a+u+1);if(u===2)return i.slice(a+u)}s>d&&(r.charCodeAt(n+u)===$a?h=u:u===2&&(h=3)),h===-1&&(h=0)}let f="";for(u=n+h+1;u<=o;++u)(u===o||r.charCodeAt(u)===$a)&&(f+=f.length===0?"..":"\\..");return a+=h,f.length>0?`${f}${i.slice(a,l)}`:(i.charCodeAt(a)===$a&&++a,i.slice(a,l))},toNamespacedPath(r){if(typeof r!="string")return r;if(r.length===0)return"";let e=As.resolve(r);if(e.length<=2)return r;if(e.charCodeAt(0)===$a){if(e.charCodeAt(1)===$a){let t=e.charCodeAt(2);if(t!==mfe&&t!==Zg)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Yg(e.charCodeAt(0))&&e.charCodeAt(1)===qg&&e.charCodeAt(2)===$a)return`\\\\?\\${e}`;return r},dirname(r){Vo(r,"path");let e=r.length;if(e===0)return".";let t=-1,i=0,n=r.charCodeAt(0);if(e===1)return bi(n)?r:".";if(bi(n)){if(t=i=1,bi(r.charCodeAt(1))){let a=2,l=a;for(;a<e&&!bi(r.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&bi(r.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!bi(r.charCodeAt(a));)a++;if(a===e)return r;a!==l&&(t=i=a+1)}}}}else Yg(n)&&r.charCodeAt(1)===qg&&(t=e>2&&bi(r.charCodeAt(2))?3:2,i=t);let o=-1,s=!0;for(let a=e-1;a>=i;--a)if(bi(r.charCodeAt(a))){if(!s){o=a;break}}else s=!1;if(o===-1){if(t===-1)return".";o=t}return r.slice(0,o)},basename(r,e){e!==void 0&&Vo(e,"ext"),Vo(r,"path");let t=0,i=-1,n=!0,o;if(r.length>=2&&Yg(r.charCodeAt(0))&&r.charCodeAt(1)===qg&&(t=2),e!==void 0&&e.length>0&&e.length<=r.length){if(e===r)return"";let s=e.length-1,a=-1;for(o=r.length-1;o>=t;--o){let l=r.charCodeAt(o);if(bi(l)){if(!n){t=o+1;break}}else a===-1&&(n=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=r.length),r.slice(t,i)}for(o=r.length-1;o>=t;--o)if(bi(r.charCodeAt(o))){if(!n){t=o+1;break}}else i===-1&&(n=!1,i=o+1);return i===-1?"":r.slice(t,i)},extname(r){Vo(r,"path");let e=0,t=-1,i=0,n=-1,o=!0,s=0;r.length>=2&&r.charCodeAt(1)===qg&&Yg(r.charCodeAt(0))&&(e=i=2);for(let a=r.length-1;a>=e;--a){let l=r.charCodeAt(a);if(bi(l)){if(!o){i=a+1;break}continue}n===-1&&(o=!1,n=a+1),l===Zg?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===i+1?"":r.slice(t,n)},format:SY.bind(null,"\\"),parse(r){Vo(r,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;let t=r.length,i=0,n=r.charCodeAt(0);if(t===1)return bi(n)?(e.root=e.dir=r,e):(e.base=e.name=r,e);if(bi(n)){if(i=1,bi(r.charCodeAt(1))){let h=2,u=h;for(;h<t&&!bi(r.charCodeAt(h));)h++;if(h<t&&h!==u){for(u=h;h<t&&bi(r.charCodeAt(h));)h++;if(h<t&&h!==u){for(u=h;h<t&&!bi(r.charCodeAt(h));)h++;h===t?i=h:h!==u&&(i=h+1)}}}}else if(Yg(n)&&r.charCodeAt(1)===qg){if(t<=2)return e.root=e.dir=r,e;if(i=2,bi(r.charCodeAt(2))){if(t===3)return e.root=e.dir=r,e;i=3}}i>0&&(e.root=r.slice(0,i));let o=-1,s=i,a=-1,l=!0,c=r.length-1,d=0;for(;c>=i;--c){if(n=r.charCodeAt(c),bi(n)){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),n===Zg?o===-1?o=c:d!==1&&(d=1):o!==-1&&(d=-1)}return a!==-1&&(o===-1||d===0||d===1&&o===a-1&&o===s+1?e.base=e.name=r.slice(s,a):(e.name=r.slice(s,o),e.base=r.slice(s,a),e.ext=r.slice(o,a))),s>0&&s!==i?e.dir=r.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},kn={resolve(...r){let e="",t=!1;for(let i=r.length-1;i>=-1&&!t;i--){let n=i>=0?r[i]:dI();Vo(n,"path"),n.length!==0&&(e=`${n}/${e}`,t=n.charCodeAt(0)===Jr)}return e=uI(e,!t,"/",u3),t?`/${e}`:e.length>0?e:"."},normalize(r){if(Vo(r,"path"),r.length===0)return".";let e=r.charCodeAt(0)===Jr,t=r.charCodeAt(r.length-1)===Jr;return r=uI(r,!e,"/",u3),r.length===0?e?"/":t?"./":".":(t&&(r+="/"),e?`/${r}`:r)},isAbsolute(r){return Vo(r,"path"),r.length>0&&r.charCodeAt(0)===Jr},join(...r){if(r.length===0)return".";let e;for(let t=0;t<r.length;++t){let i=r[t];Vo(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":kn.normalize(e)},relative(r,e){if(Vo(r,"from"),Vo(e,"to"),r===e||(r=kn.resolve(r),e=kn.resolve(e),r===e))return"";let t=1,i=r.length,n=i-t,o=1,s=e.length-o,a=n<s?n:s,l=-1,c=0;for(;c<a;c++){let h=r.charCodeAt(t+c);if(h!==e.charCodeAt(o+c))break;h===Jr&&(l=c)}if(c===a)if(s>a){if(e.charCodeAt(o+c)===Jr)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else n>a&&(r.charCodeAt(t+c)===Jr?l=c:c===0&&(l=0));let d="";for(c=t+l+1;c<=i;++c)(c===i||r.charCodeAt(c)===Jr)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(o+l)}`},toNamespacedPath(r){return r},dirname(r){if(Vo(r,"path"),r.length===0)return".";let e=r.charCodeAt(0)===Jr,t=-1,i=!0;for(let n=r.length-1;n>=1;--n)if(r.charCodeAt(n)===Jr){if(!i){t=n;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":r.slice(0,t)},basename(r,e){e!==void 0&&Vo(e,"ext"),Vo(r,"path");let t=0,i=-1,n=!0,o;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e===r)return"";let s=e.length-1,a=-1;for(o=r.length-1;o>=0;--o){let l=r.charCodeAt(o);if(l===Jr){if(!n){t=o+1;break}}else a===-1&&(n=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=r.length),r.slice(t,i)}for(o=r.length-1;o>=0;--o)if(r.charCodeAt(o)===Jr){if(!n){t=o+1;break}}else i===-1&&(n=!1,i=o+1);return i===-1?"":r.slice(t,i)},extname(r){Vo(r,"path");let e=-1,t=0,i=-1,n=!0,o=0;for(let s=r.length-1;s>=0;--s){let a=r.charCodeAt(s);if(a===Jr){if(!n){t=s+1;break}continue}i===-1&&(n=!1,i=s+1),a===Zg?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||i===-1||o===0||o===1&&e===i-1&&e===t+1?"":r.slice(e,i)},format:SY.bind(null,"/"),parse(r){Vo(r,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;let t=r.charCodeAt(0)===Jr,i;t?(e.root="/",i=1):i=0;let n=-1,o=0,s=-1,a=!0,l=r.length-1,c=0;for(;l>=i;--l){let d=r.charCodeAt(l);if(d===Jr){if(!a){o=l+1;break}continue}s===-1&&(a=!1,s=l+1),d===Zg?n===-1?n=l:c!==1&&(c=1):n!==-1&&(c=-1)}if(s!==-1){let d=o===0&&t?1:o;n===-1||c===0||c===1&&n===s-1&&n===o+1?e.base=e.name=r.slice(d,s):(e.name=r.slice(d,n),e.base=r.slice(d,s),e.ext=r.slice(n,s))}return o>0?e.dir=r.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};kn.win32=As.win32=As;kn.posix=As.posix=kn;fI=Kg==="win32"?As.normalize:kn.normalize,LY=Kg==="win32"?As.resolve:kn.resolve,xY=Kg==="win32"?As.relative:kn.relative,gI=Kg==="win32"?As.dirname:kn.dirname,ah=Kg==="win32"?As.basename:kn.basename,DY=Kg==="win32"?As.extname:kn.extname,lh=Kg==="win32"?As.sep:kn.sep});function kY(r,e){if(!r.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${r.authority}", path: "${r.path}", query: "${r.query}", fragment: "${r.fragment}"}`);if(r.scheme&&!pfe.test(r.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(r.path){if(r.authority){if(!_fe.test(r.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(bfe.test(r.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function vfe(r,e){return!r&&!e?"file":r}function Cfe(r,e){switch(r){case"https":case"http":case"file":e?e[0]!==Jc&&(e=Jc+e):e=Jc;break}return e}function EY(r,e){let t,i=-1;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47)i!==-1&&(t+=encodeURIComponent(r.substring(i,n)),i=-1),t!==void 0&&(t+=r.charAt(n));else{t===void 0&&(t=r.substr(0,n));let s=NY[o];s!==void 0?(i!==-1&&(t+=encodeURIComponent(r.substring(i,n)),i=-1),t+=s):i===-1&&(i=n)}}return i!==-1&&(t+=encodeURIComponent(r.substring(i))),t!==void 0?t:r}function yfe(r){let e;for(let t=0;t<r.length;t++){let i=r.charCodeAt(t);i===35||i===63?(e===void 0&&(e=r.substr(0,t)),e+=NY[i]):e!==void 0&&(e+=r[t])}return e!==void 0?e:r}function fS(r,e){let t;return r.authority&&r.path.length>1&&r.scheme==="file"?t=`//${r.authority}${r.path}`:r.path.charCodeAt(0)===47&&(r.path.charCodeAt(1)>=65&&r.path.charCodeAt(1)<=90||r.path.charCodeAt(1)>=97&&r.path.charCodeAt(1)<=122)&&r.path.charCodeAt(2)===58?e?t=r.path.substr(1):t=r.path[1].toLowerCase()+r.path.substr(2):t=r.path,Ji&&(t=t.replace(/\//g,"\\")),t}function g3(r,e){let t=e?yfe:EY,i="",{scheme:n,authority:o,path:s,query:a,fragment:l}=r;if(n&&(i+=n,i+=":"),(o||n==="file")&&(i+=Jc,i+=Jc),o){let c=o.indexOf("@");if(c!==-1){let d=o.substr(0,c);o=o.substr(c+1),c=d.indexOf(":"),c===-1?i+=t(d,!1):(i+=t(d.substr(0,c),!1),i+=":",i+=t(d.substr(c+1),!1)),i+="@"}o=o.toLowerCase(),c=o.indexOf(":"),c===-1?i+=t(o,!1):(i+=t(o.substr(0,c),!1),i+=o.substr(c))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let c=s.charCodeAt(1);c>=65&&c<=90&&(s=`/${String.fromCharCode(c+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let c=s.charCodeAt(0);c>=65&&c<=90&&(s=`${String.fromCharCode(c+32)}:${s.substr(2)}`)}i+=t(s,!0)}return a&&(i+="?",i+=t(a,!1)),l&&(i+="#",i+=e?l:EY(l,!1)),i}function TY(r){try{return decodeURIComponent(r)}catch{return r.length>3?r.substr(0,3)+TY(r.substr(3)):r}}function mI(r){return r.match(IY)?r.replace(IY,e=>TY(e)):r}var pfe,_fe,bfe,Gn,Jc,wfe,Ee,OY,Xg,NY,IY,vi=ue(()=>{Gg();At();pfe=/^\w[\w\d+.-]*$/,_fe=/^\//,bfe=/^\/\//;Gn="",Jc="/",wfe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Ee=class{constructor(e,t,i,n,o,s=!1){typeof e=="object"?(this.scheme=e.scheme||Gn,this.authority=e.authority||Gn,this.path=e.path||Gn,this.query=e.query||Gn,this.fragment=e.fragment||Gn):(this.scheme=vfe(e,s),this.authority=t||Gn,this.path=Cfe(this.scheme,i||Gn),this.query=n||Gn,this.fragment=o||Gn,kY(this,s))}static isUri(e){return e instanceof Ee?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}get fsPath(){return fS(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=Gn),i===void 0?i=this.authority:i===null&&(i=Gn),n===void 0?n=this.path:n===null&&(n=Gn),o===void 0?o=this.query:o===null&&(o=Gn),s===void 0?s=this.fragment:s===null&&(s=Gn),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&s===this.fragment?this:new Xg(t,i,n,o,s)}static parse(e,t=!1){let i=wfe.exec(e);return i?new Xg(i[2]||Gn,mI(i[4]||Gn),mI(i[5]||Gn),mI(i[7]||Gn),mI(i[9]||Gn),t):new Xg(Gn,Gn,Gn,Gn,Gn)}static file(e){let t=Gn;if(Ji&&(e=e.replace(/\\/g,Jc)),e[0]===Jc&&e[1]===Jc){let i=e.indexOf(Jc,2);i===-1?(t=e.substring(2),e=Jc):(t=e.substring(2,i),e=e.substring(i)||Jc)}return new Xg("file",t,e,Gn,Gn)}static from(e){let t=new Xg(e.scheme,e.authority,e.path,e.query,e.fragment);return kY(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return Ji&&e.scheme==="file"?i=Ee.file(As.join(fS(e,!0),...t)).path:i=kn.join(e.path,...t),e.with({path:i})}toString(e=!1){return g3(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof Ee)return e;{let t=new Xg(e);return t._formatted=e.external,t._fsPath=e._sep===OY?e.fsPath:null,t}}else return e}},OY=Ji?1:void 0,Xg=class extends Ee{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=fS(this,!1)),this._fsPath}toString(e=!1){return e?g3(this,!0):(this._formatted||(this._formatted=g3(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=OY),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},NY={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};IY=/(%[0-9A-Za-z][0-9A-Za-z])+/g});var H,rt=ue(()=>{H=class{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new H(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return H.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return H.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return H.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){let i=e.lineNumber|0,n=t.lineNumber|0;if(i===n){let o=e.column|0,s=t.column|0;return o-s}return i-n}clone(){return new H(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new H(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}}});var D,Le=ue(()=>{rt();D=class{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return D.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return D.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return D.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return D.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return D.plusRange(this,e)}static plusRange(e,t){let i,n,o,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new D(i,n,o,s)}intersectRanges(e){return D.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,d=t.endColumn;return i<a?(i=a,n=l):i===a&&(n=Math.max(n,l)),o>c?(o=c,s=d):o===c&&(s=Math.min(s,d)),i>o||i===o&&n>s?null:new D(i,n,o,s)}equalsRange(e){return D.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return D.getEndPosition(this)}static getEndPosition(e){return new H(e.endLineNumber,e.endColumn)}getStartPosition(){return D.getStartPosition(this)}static getStartPosition(e){return new H(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new D(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new D(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return D.collapseToStart(this)}static collapseToStart(e){return new D(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new D(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){let o=e.startLineNumber|0,s=t.startLineNumber|0;if(o===s){let a=e.startColumn|0,l=t.startColumn|0;if(a===l){let c=e.endLineNumber|0,d=t.endLineNumber|0;if(c===d){let h=e.endColumn|0,u=t.endColumn|0;return h-u}return c-d}return a-l}return o-s}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}}});var ge,Ci=ue(()=>{rt();Le();ge=class extends D{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return ge.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new ge(this.startLineNumber,this.startColumn,e,t):new ge(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new H(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new H(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new ge(e,t,this.endLineNumber,this.endColumn):new ge(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new ge(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new ge(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new ge(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new ge(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,n,o){return o===0?new ge(e,t,i,n):new ge(i,n,e,t)}}});function PY(r){return r?r.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}var p,po,bn=ue(()=>{p=class{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,p._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return p._allCodicons}};p._allCodicons=[];p.add=new p("add",{fontCharacter:"\\ea60"});p.plus=new p("plus",p.add.definition);p.gistNew=new p("gist-new",p.add.definition);p.repoCreate=new p("repo-create",p.add.definition);p.lightbulb=new p("lightbulb",{fontCharacter:"\\ea61"});p.lightBulb=new p("light-bulb",{fontCharacter:"\\ea61"});p.repo=new p("repo",{fontCharacter:"\\ea62"});p.repoDelete=new p("repo-delete",{fontCharacter:"\\ea62"});p.gistFork=new p("gist-fork",{fontCharacter:"\\ea63"});p.repoForked=new p("repo-forked",{fontCharacter:"\\ea63"});p.gitPullRequest=new p("git-pull-request",{fontCharacter:"\\ea64"});p.gitPullRequestAbandoned=new p("git-pull-request-abandoned",{fontCharacter:"\\ea64"});p.recordKeys=new p("record-keys",{fontCharacter:"\\ea65"});p.keyboard=new p("keyboard",{fontCharacter:"\\ea65"});p.tag=new p("tag",{fontCharacter:"\\ea66"});p.tagAdd=new p("tag-add",{fontCharacter:"\\ea66"});p.tagRemove=new p("tag-remove",{fontCharacter:"\\ea66"});p.person=new p("person",{fontCharacter:"\\ea67"});p.personFollow=new p("person-follow",{fontCharacter:"\\ea67"});p.personOutline=new p("person-outline",{fontCharacter:"\\ea67"});p.personFilled=new p("person-filled",{fontCharacter:"\\ea67"});p.gitBranch=new p("git-branch",{fontCharacter:"\\ea68"});p.gitBranchCreate=new p("git-branch-create",{fontCharacter:"\\ea68"});p.gitBranchDelete=new p("git-branch-delete",{fontCharacter:"\\ea68"});p.sourceControl=new p("source-control",{fontCharacter:"\\ea68"});p.mirror=new p("mirror",{fontCharacter:"\\ea69"});p.mirrorPublic=new p("mirror-public",{fontCharacter:"\\ea69"});p.star=new p("star",{fontCharacter:"\\ea6a"});p.starAdd=new p("star-add",{fontCharacter:"\\ea6a"});p.starDelete=new p("star-delete",{fontCharacter:"\\ea6a"});p.starEmpty=new p("star-empty",{fontCharacter:"\\ea6a"});p.comment=new p("comment",{fontCharacter:"\\ea6b"});p.commentAdd=new p("comment-add",{fontCharacter:"\\ea6b"});p.alert=new p("alert",{fontCharacter:"\\ea6c"});p.warning=new p("warning",{fontCharacter:"\\ea6c"});p.search=new p("search",{fontCharacter:"\\ea6d"});p.searchSave=new p("search-save",{fontCharacter:"\\ea6d"});p.logOut=new p("log-out",{fontCharacter:"\\ea6e"});p.signOut=new p("sign-out",{fontCharacter:"\\ea6e"});p.logIn=new p("log-in",{fontCharacter:"\\ea6f"});p.signIn=new p("sign-in",{fontCharacter:"\\ea6f"});p.eye=new p("eye",{fontCharacter:"\\ea70"});p.eyeUnwatch=new p("eye-unwatch",{fontCharacter:"\\ea70"});p.eyeWatch=new p("eye-watch",{fontCharacter:"\\ea70"});p.circleFilled=new p("circle-filled",{fontCharacter:"\\ea71"});p.primitiveDot=new p("primitive-dot",{fontCharacter:"\\ea71"});p.closeDirty=new p("close-dirty",{fontCharacter:"\\ea71"});p.debugBreakpoint=new p("debug-breakpoint",{fontCharacter:"\\ea71"});p.debugBreakpointDisabled=new p("debug-breakpoint-disabled",{fontCharacter:"\\ea71"});p.debugHint=new p("debug-hint",{fontCharacter:"\\ea71"});p.primitiveSquare=new p("primitive-square",{fontCharacter:"\\ea72"});p.edit=new p("edit",{fontCharacter:"\\ea73"});p.pencil=new p("pencil",{fontCharacter:"\\ea73"});p.info=new p("info",{fontCharacter:"\\ea74"});p.issueOpened=new p("issue-opened",{fontCharacter:"\\ea74"});p.gistPrivate=new p("gist-private",{fontCharacter:"\\ea75"});p.gitForkPrivate=new p("git-fork-private",{fontCharacter:"\\ea75"});p.lock=new p("lock",{fontCharacter:"\\ea75"});p.mirrorPrivate=new p("mirror-private",{fontCharacter:"\\ea75"});p.close=new p("close",{fontCharacter:"\\ea76"});p.removeClose=new p("remove-close",{fontCharacter:"\\ea76"});p.x=new p("x",{fontCharacter:"\\ea76"});p.repoSync=new p("repo-sync",{fontCharacter:"\\ea77"});p.sync=new p("sync",{fontCharacter:"\\ea77"});p.clone=new p("clone",{fontCharacter:"\\ea78"});p.desktopDownload=new p("desktop-download",{fontCharacter:"\\ea78"});p.beaker=new p("beaker",{fontCharacter:"\\ea79"});p.microscope=new p("microscope",{fontCharacter:"\\ea79"});p.vm=new p("vm",{fontCharacter:"\\ea7a"});p.deviceDesktop=new p("device-desktop",{fontCharacter:"\\ea7a"});p.file=new p("file",{fontCharacter:"\\ea7b"});p.fileText=new p("file-text",{fontCharacter:"\\ea7b"});p.more=new p("more",{fontCharacter:"\\ea7c"});p.ellipsis=new p("ellipsis",{fontCharacter:"\\ea7c"});p.kebabHorizontal=new p("kebab-horizontal",{fontCharacter:"\\ea7c"});p.mailReply=new p("mail-reply",{fontCharacter:"\\ea7d"});p.reply=new p("reply",{fontCharacter:"\\ea7d"});p.organization=new p("organization",{fontCharacter:"\\ea7e"});p.organizationFilled=new p("organization-filled",{fontCharacter:"\\ea7e"});p.organizationOutline=new p("organization-outline",{fontCharacter:"\\ea7e"});p.newFile=new p("new-file",{fontCharacter:"\\ea7f"});p.fileAdd=new p("file-add",{fontCharacter:"\\ea7f"});p.newFolder=new p("new-folder",{fontCharacter:"\\ea80"});p.fileDirectoryCreate=new p("file-directory-create",{fontCharacter:"\\ea80"});p.trash=new p("trash",{fontCharacter:"\\ea81"});p.trashcan=new p("trashcan",{fontCharacter:"\\ea81"});p.history=new p("history",{fontCharacter:"\\ea82"});p.clock=new p("clock",{fontCharacter:"\\ea82"});p.folder=new p("folder",{fontCharacter:"\\ea83"});p.fileDirectory=new p("file-directory",{fontCharacter:"\\ea83"});p.symbolFolder=new p("symbol-folder",{fontCharacter:"\\ea83"});p.logoGithub=new p("logo-github",{fontCharacter:"\\ea84"});p.markGithub=new p("mark-github",{fontCharacter:"\\ea84"});p.github=new p("github",{fontCharacter:"\\ea84"});p.terminal=new p("terminal",{fontCharacter:"\\ea85"});p.console=new p("console",{fontCharacter:"\\ea85"});p.repl=new p("repl",{fontCharacter:"\\ea85"});p.zap=new p("zap",{fontCharacter:"\\ea86"});p.symbolEvent=new p("symbol-event",{fontCharacter:"\\ea86"});p.error=new p("error",{fontCharacter:"\\ea87"});p.stop=new p("stop",{fontCharacter:"\\ea87"});p.variable=new p("variable",{fontCharacter:"\\ea88"});p.symbolVariable=new p("symbol-variable",{fontCharacter:"\\ea88"});p.array=new p("array",{fontCharacter:"\\ea8a"});p.symbolArray=new p("symbol-array",{fontCharacter:"\\ea8a"});p.symbolModule=new p("symbol-module",{fontCharacter:"\\ea8b"});p.symbolPackage=new p("symbol-package",{fontCharacter:"\\ea8b"});p.symbolNamespace=new p("symbol-namespace",{fontCharacter:"\\ea8b"});p.symbolObject=new p("symbol-object",{fontCharacter:"\\ea8b"});p.symbolMethod=new p("symbol-method",{fontCharacter:"\\ea8c"});p.symbolFunction=new p("symbol-function",{fontCharacter:"\\ea8c"});p.symbolConstructor=new p("symbol-constructor",{fontCharacter:"\\ea8c"});p.symbolBoolean=new p("symbol-boolean",{fontCharacter:"\\ea8f"});p.symbolNull=new p("symbol-null",{fontCharacter:"\\ea8f"});p.symbolNumeric=new p("symbol-numeric",{fontCharacter:"\\ea90"});p.symbolNumber=new p("symbol-number",{fontCharacter:"\\ea90"});p.symbolStructure=new p("symbol-structure",{fontCharacter:"\\ea91"});p.symbolStruct=new p("symbol-struct",{fontCharacter:"\\ea91"});p.symbolParameter=new p("symbol-parameter",{fontCharacter:"\\ea92"});p.symbolTypeParameter=new p("symbol-type-parameter",{fontCharacter:"\\ea92"});p.symbolKey=new p("symbol-key",{fontCharacter:"\\ea93"});p.symbolText=new p("symbol-text",{fontCharacter:"\\ea93"});p.symbolReference=new p("symbol-reference",{fontCharacter:"\\ea94"});p.goToFile=new p("go-to-file",{fontCharacter:"\\ea94"});p.symbolEnum=new p("symbol-enum",{fontCharacter:"\\ea95"});p.symbolValue=new p("symbol-value",{fontCharacter:"\\ea95"});p.symbolRuler=new p("symbol-ruler",{fontCharacter:"\\ea96"});p.symbolUnit=new p("symbol-unit",{fontCharacter:"\\ea96"});p.activateBreakpoints=new p("activate-breakpoints",{fontCharacter:"\\ea97"});p.archive=new p("archive",{fontCharacter:"\\ea98"});p.arrowBoth=new p("arrow-both",{fontCharacter:"\\ea99"});p.arrowDown=new p("arrow-down",{fontCharacter:"\\ea9a"});p.arrowLeft=new p("arrow-left",{fontCharacter:"\\ea9b"});p.arrowRight=new p("arrow-right",{fontCharacter:"\\ea9c"});p.arrowSmallDown=new p("arrow-small-down",{fontCharacter:"\\ea9d"});p.arrowSmallLeft=new p("arrow-small-left",{fontCharacter:"\\ea9e"});p.arrowSmallRight=new p("arrow-small-right",{fontCharacter:"\\ea9f"});p.arrowSmallUp=new p("arrow-small-up",{fontCharacter:"\\eaa0"});p.arrowUp=new p("arrow-up",{fontCharacter:"\\eaa1"});p.bell=new p("bell",{fontCharacter:"\\eaa2"});p.bold=new p("bold",{fontCharacter:"\\eaa3"});p.book=new p("book",{fontCharacter:"\\eaa4"});p.bookmark=new p("bookmark",{fontCharacter:"\\eaa5"});p.debugBreakpointConditionalUnverified=new p("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"});p.debugBreakpointConditional=new p("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"});p.debugBreakpointConditionalDisabled=new p("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"});p.debugBreakpointDataUnverified=new p("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"});p.debugBreakpointData=new p("debug-breakpoint-data",{fontCharacter:"\\eaa9"});p.debugBreakpointDataDisabled=new p("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"});p.debugBreakpointLogUnverified=new p("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"});p.debugBreakpointLog=new p("debug-breakpoint-log",{fontCharacter:"\\eaab"});p.debugBreakpointLogDisabled=new p("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"});p.briefcase=new p("briefcase",{fontCharacter:"\\eaac"});p.broadcast=new p("broadcast",{fontCharacter:"\\eaad"});p.browser=new p("browser",{fontCharacter:"\\eaae"});p.bug=new p("bug",{fontCharacter:"\\eaaf"});p.calendar=new p("calendar",{fontCharacter:"\\eab0"});p.caseSensitive=new p("case-sensitive",{fontCharacter:"\\eab1"});p.check=new p("check",{fontCharacter:"\\eab2"});p.checklist=new p("checklist",{fontCharacter:"\\eab3"});p.chevronDown=new p("chevron-down",{fontCharacter:"\\eab4"});p.dropDownButton=new p("drop-down-button",p.chevronDown.definition);p.chevronLeft=new p("chevron-left",{fontCharacter:"\\eab5"});p.chevronRight=new p("chevron-right",{fontCharacter:"\\eab6"});p.chevronUp=new p("chevron-up",{fontCharacter:"\\eab7"});p.chromeClose=new p("chrome-close",{fontCharacter:"\\eab8"});p.chromeMaximize=new p("chrome-maximize",{fontCharacter:"\\eab9"});p.chromeMinimize=new p("chrome-minimize",{fontCharacter:"\\eaba"});p.chromeRestore=new p("chrome-restore",{fontCharacter:"\\eabb"});p.circleOutline=new p("circle-outline",{fontCharacter:"\\eabc"});p.debugBreakpointUnverified=new p("debug-breakpoint-unverified",{fontCharacter:"\\eabc"});p.circleSlash=new p("circle-slash",{fontCharacter:"\\eabd"});p.circuitBoard=new p("circuit-board",{fontCharacter:"\\eabe"});p.clearAll=new p("clear-all",{fontCharacter:"\\eabf"});p.clippy=new p("clippy",{fontCharacter:"\\eac0"});p.closeAll=new p("close-all",{fontCharacter:"\\eac1"});p.cloudDownload=new p("cloud-download",{fontCharacter:"\\eac2"});p.cloudUpload=new p("cloud-upload",{fontCharacter:"\\eac3"});p.code=new p("code",{fontCharacter:"\\eac4"});p.collapseAll=new p("collapse-all",{fontCharacter:"\\eac5"});p.colorMode=new p("color-mode",{fontCharacter:"\\eac6"});p.commentDiscussion=new p("comment-discussion",{fontCharacter:"\\eac7"});p.compareChanges=new p("compare-changes",{fontCharacter:"\\eafd"});p.creditCard=new p("credit-card",{fontCharacter:"\\eac9"});p.dash=new p("dash",{fontCharacter:"\\eacc"});p.dashboard=new p("dashboard",{fontCharacter:"\\eacd"});p.database=new p("database",{fontCharacter:"\\eace"});p.debugContinue=new p("debug-continue",{fontCharacter:"\\eacf"});p.debugDisconnect=new p("debug-disconnect",{fontCharacter:"\\ead0"});p.debugPause=new p("debug-pause",{fontCharacter:"\\ead1"});p.debugRestart=new p("debug-restart",{fontCharacter:"\\ead2"});p.debugStart=new p("debug-start",{fontCharacter:"\\ead3"});p.debugStepInto=new p("debug-step-into",{fontCharacter:"\\ead4"});p.debugStepOut=new p("debug-step-out",{fontCharacter:"\\ead5"});p.debugStepOver=new p("debug-step-over",{fontCharacter:"\\ead6"});p.debugStop=new p("debug-stop",{fontCharacter:"\\ead7"});p.debug=new p("debug",{fontCharacter:"\\ead8"});p.deviceCameraVideo=new p("device-camera-video",{fontCharacter:"\\ead9"});p.deviceCamera=new p("device-camera",{fontCharacter:"\\eada"});p.deviceMobile=new p("device-mobile",{fontCharacter:"\\eadb"});p.diffAdded=new p("diff-added",{fontCharacter:"\\eadc"});p.diffIgnored=new p("diff-ignored",{fontCharacter:"\\eadd"});p.diffModified=new p("diff-modified",{fontCharacter:"\\eade"});p.diffRemoved=new p("diff-removed",{fontCharacter:"\\eadf"});p.diffRenamed=new p("diff-renamed",{fontCharacter:"\\eae0"});p.diff=new p("diff",{fontCharacter:"\\eae1"});p.discard=new p("discard",{fontCharacter:"\\eae2"});p.editorLayout=new p("editor-layout",{fontCharacter:"\\eae3"});p.emptyWindow=new p("empty-window",{fontCharacter:"\\eae4"});p.exclude=new p("exclude",{fontCharacter:"\\eae5"});p.extensions=new p("extensions",{fontCharacter:"\\eae6"});p.eyeClosed=new p("eye-closed",{fontCharacter:"\\eae7"});p.fileBinary=new p("file-binary",{fontCharacter:"\\eae8"});p.fileCode=new p("file-code",{fontCharacter:"\\eae9"});p.fileMedia=new p("file-media",{fontCharacter:"\\eaea"});p.filePdf=new p("file-pdf",{fontCharacter:"\\eaeb"});p.fileSubmodule=new p("file-submodule",{fontCharacter:"\\eaec"});p.fileSymlinkDirectory=new p("file-symlink-directory",{fontCharacter:"\\eaed"});p.fileSymlinkFile=new p("file-symlink-file",{fontCharacter:"\\eaee"});p.fileZip=new p("file-zip",{fontCharacter:"\\eaef"});p.files=new p("files",{fontCharacter:"\\eaf0"});p.filter=new p("filter",{fontCharacter:"\\eaf1"});p.flame=new p("flame",{fontCharacter:"\\eaf2"});p.foldDown=new p("fold-down",{fontCharacter:"\\eaf3"});p.foldUp=new p("fold-up",{fontCharacter:"\\eaf4"});p.fold=new p("fold",{fontCharacter:"\\eaf5"});p.folderActive=new p("folder-active",{fontCharacter:"\\eaf6"});p.folderOpened=new p("folder-opened",{fontCharacter:"\\eaf7"});p.gear=new p("gear",{fontCharacter:"\\eaf8"});p.gift=new p("gift",{fontCharacter:"\\eaf9"});p.gistSecret=new p("gist-secret",{fontCharacter:"\\eafa"});p.gist=new p("gist",{fontCharacter:"\\eafb"});p.gitCommit=new p("git-commit",{fontCharacter:"\\eafc"});p.gitCompare=new p("git-compare",{fontCharacter:"\\eafd"});p.gitMerge=new p("git-merge",{fontCharacter:"\\eafe"});p.githubAction=new p("github-action",{fontCharacter:"\\eaff"});p.githubAlt=new p("github-alt",{fontCharacter:"\\eb00"});p.globe=new p("globe",{fontCharacter:"\\eb01"});p.grabber=new p("grabber",{fontCharacter:"\\eb02"});p.graph=new p("graph",{fontCharacter:"\\eb03"});p.gripper=new p("gripper",{fontCharacter:"\\eb04"});p.heart=new p("heart",{fontCharacter:"\\eb05"});p.home=new p("home",{fontCharacter:"\\eb06"});p.horizontalRule=new p("horizontal-rule",{fontCharacter:"\\eb07"});p.hubot=new p("hubot",{fontCharacter:"\\eb08"});p.inbox=new p("inbox",{fontCharacter:"\\eb09"});p.issueClosed=new p("issue-closed",{fontCharacter:"\\eba4"});p.issueReopened=new p("issue-reopened",{fontCharacter:"\\eb0b"});p.issues=new p("issues",{fontCharacter:"\\eb0c"});p.italic=new p("italic",{fontCharacter:"\\eb0d"});p.jersey=new p("jersey",{fontCharacter:"\\eb0e"});p.json=new p("json",{fontCharacter:"\\eb0f"});p.kebabVertical=new p("kebab-vertical",{fontCharacter:"\\eb10"});p.key=new p("key",{fontCharacter:"\\eb11"});p.law=new p("law",{fontCharacter:"\\eb12"});p.lightbulbAutofix=new p("lightbulb-autofix",{fontCharacter:"\\eb13"});p.linkExternal=new p("link-external",{fontCharacter:"\\eb14"});p.link=new p("link",{fontCharacter:"\\eb15"});p.listOrdered=new p("list-ordered",{fontCharacter:"\\eb16"});p.listUnordered=new p("list-unordered",{fontCharacter:"\\eb17"});p.liveShare=new p("live-share",{fontCharacter:"\\eb18"});p.loading=new p("loading",{fontCharacter:"\\eb19"});p.location=new p("location",{fontCharacter:"\\eb1a"});p.mailRead=new p("mail-read",{fontCharacter:"\\eb1b"});p.mail=new p("mail",{fontCharacter:"\\eb1c"});p.markdown=new p("markdown",{fontCharacter:"\\eb1d"});p.megaphone=new p("megaphone",{fontCharacter:"\\eb1e"});p.mention=new p("mention",{fontCharacter:"\\eb1f"});p.milestone=new p("milestone",{fontCharacter:"\\eb20"});p.mortarBoard=new p("mortar-board",{fontCharacter:"\\eb21"});p.move=new p("move",{fontCharacter:"\\eb22"});p.multipleWindows=new p("multiple-windows",{fontCharacter:"\\eb23"});p.mute=new p("mute",{fontCharacter:"\\eb24"});p.noNewline=new p("no-newline",{fontCharacter:"\\eb25"});p.note=new p("note",{fontCharacter:"\\eb26"});p.octoface=new p("octoface",{fontCharacter:"\\eb27"});p.openPreview=new p("open-preview",{fontCharacter:"\\eb28"});p.package_=new p("package",{fontCharacter:"\\eb29"});p.paintcan=new p("paintcan",{fontCharacter:"\\eb2a"});p.pin=new p("pin",{fontCharacter:"\\eb2b"});p.play=new p("play",{fontCharacter:"\\eb2c"});p.run=new p("run",{fontCharacter:"\\eb2c"});p.plug=new p("plug",{fontCharacter:"\\eb2d"});p.preserveCase=new p("preserve-case",{fontCharacter:"\\eb2e"});p.preview=new p("preview",{fontCharacter:"\\eb2f"});p.project=new p("project",{fontCharacter:"\\eb30"});p.pulse=new p("pulse",{fontCharacter:"\\eb31"});p.question=new p("question",{fontCharacter:"\\eb32"});p.quote=new p("quote",{fontCharacter:"\\eb33"});p.radioTower=new p("radio-tower",{fontCharacter:"\\eb34"});p.reactions=new p("reactions",{fontCharacter:"\\eb35"});p.references=new p("references",{fontCharacter:"\\eb36"});p.refresh=new p("refresh",{fontCharacter:"\\eb37"});p.regex=new p("regex",{fontCharacter:"\\eb38"});p.remoteExplorer=new p("remote-explorer",{fontCharacter:"\\eb39"});p.remote=new p("remote",{fontCharacter:"\\eb3a"});p.remove=new p("remove",{fontCharacter:"\\eb3b"});p.replaceAll=new p("replace-all",{fontCharacter:"\\eb3c"});p.replace=new p("replace",{fontCharacter:"\\eb3d"});p.repoClone=new p("repo-clone",{fontCharacter:"\\eb3e"});p.repoForcePush=new p("repo-force-push",{fontCharacter:"\\eb3f"});p.repoPull=new p("repo-pull",{fontCharacter:"\\eb40"});p.repoPush=new p("repo-push",{fontCharacter:"\\eb41"});p.report=new p("report",{fontCharacter:"\\eb42"});p.requestChanges=new p("request-changes",{fontCharacter:"\\eb43"});p.rocket=new p("rocket",{fontCharacter:"\\eb44"});p.rootFolderOpened=new p("root-folder-opened",{fontCharacter:"\\eb45"});p.rootFolder=new p("root-folder",{fontCharacter:"\\eb46"});p.rss=new p("rss",{fontCharacter:"\\eb47"});p.ruby=new p("ruby",{fontCharacter:"\\eb48"});p.saveAll=new p("save-all",{fontCharacter:"\\eb49"});p.saveAs=new p("save-as",{fontCharacter:"\\eb4a"});p.save=new p("save",{fontCharacter:"\\eb4b"});p.screenFull=new p("screen-full",{fontCharacter:"\\eb4c"});p.screenNormal=new p("screen-normal",{fontCharacter:"\\eb4d"});p.searchStop=new p("search-stop",{fontCharacter:"\\eb4e"});p.server=new p("server",{fontCharacter:"\\eb50"});p.settingsGear=new p("settings-gear",{fontCharacter:"\\eb51"});p.settings=new p("settings",{fontCharacter:"\\eb52"});p.shield=new p("shield",{fontCharacter:"\\eb53"});p.smiley=new p("smiley",{fontCharacter:"\\eb54"});p.sortPrecedence=new p("sort-precedence",{fontCharacter:"\\eb55"});p.splitHorizontal=new p("split-horizontal",{fontCharacter:"\\eb56"});p.splitVertical=new p("split-vertical",{fontCharacter:"\\eb57"});p.squirrel=new p("squirrel",{fontCharacter:"\\eb58"});p.starFull=new p("star-full",{fontCharacter:"\\eb59"});p.starHalf=new p("star-half",{fontCharacter:"\\eb5a"});p.symbolClass=new p("symbol-class",{fontCharacter:"\\eb5b"});p.symbolColor=new p("symbol-color",{fontCharacter:"\\eb5c"});p.symbolCustomColor=new p("symbol-customcolor",{fontCharacter:"\\eb5c"});p.symbolConstant=new p("symbol-constant",{fontCharacter:"\\eb5d"});p.symbolEnumMember=new p("symbol-enum-member",{fontCharacter:"\\eb5e"});p.symbolField=new p("symbol-field",{fontCharacter:"\\eb5f"});p.symbolFile=new p("symbol-file",{fontCharacter:"\\eb60"});p.symbolInterface=new p("symbol-interface",{fontCharacter:"\\eb61"});p.symbolKeyword=new p("symbol-keyword",{fontCharacter:"\\eb62"});p.symbolMisc=new p("symbol-misc",{fontCharacter:"\\eb63"});p.symbolOperator=new p("symbol-operator",{fontCharacter:"\\eb64"});p.symbolProperty=new p("symbol-property",{fontCharacter:"\\eb65"});p.wrench=new p("wrench",{fontCharacter:"\\eb65"});p.wrenchSubaction=new p("wrench-subaction",{fontCharacter:"\\eb65"});p.symbolSnippet=new p("symbol-snippet",{fontCharacter:"\\eb66"});p.tasklist=new p("tasklist",{fontCharacter:"\\eb67"});p.telescope=new p("telescope",{fontCharacter:"\\eb68"});p.textSize=new p("text-size",{fontCharacter:"\\eb69"});p.threeBars=new p("three-bars",{fontCharacter:"\\eb6a"});p.thumbsdown=new p("thumbsdown",{fontCharacter:"\\eb6b"});p.thumbsup=new p("thumbsup",{fontCharacter:"\\eb6c"});p.tools=new p("tools",{fontCharacter:"\\eb6d"});p.triangleDown=new p("triangle-down",{fontCharacter:"\\eb6e"});p.triangleLeft=new p("triangle-left",{fontCharacter:"\\eb6f"});p.triangleRight=new p("triangle-right",{fontCharacter:"\\eb70"});p.triangleUp=new p("triangle-up",{fontCharacter:"\\eb71"});p.twitter=new p("twitter",{fontCharacter:"\\eb72"});p.unfold=new p("unfold",{fontCharacter:"\\eb73"});p.unlock=new p("unlock",{fontCharacter:"\\eb74"});p.unmute=new p("unmute",{fontCharacter:"\\eb75"});p.unverified=new p("unverified",{fontCharacter:"\\eb76"});p.verified=new p("verified",{fontCharacter:"\\eb77"});p.versions=new p("versions",{fontCharacter:"\\eb78"});p.vmActive=new p("vm-active",{fontCharacter:"\\eb79"});p.vmOutline=new p("vm-outline",{fontCharacter:"\\eb7a"});p.vmRunning=new p("vm-running",{fontCharacter:"\\eb7b"});p.watch=new p("watch",{fontCharacter:"\\eb7c"});p.whitespace=new p("whitespace",{fontCharacter:"\\eb7d"});p.wholeWord=new p("whole-word",{fontCharacter:"\\eb7e"});p.window=new p("window",{fontCharacter:"\\eb7f"});p.wordWrap=new p("word-wrap",{fontCharacter:"\\eb80"});p.zoomIn=new p("zoom-in",{fontCharacter:"\\eb81"});p.zoomOut=new p("zoom-out",{fontCharacter:"\\eb82"});p.listFilter=new p("list-filter",{fontCharacter:"\\eb83"});p.listFlat=new p("list-flat",{fontCharacter:"\\eb84"});p.listSelection=new p("list-selection",{fontCharacter:"\\eb85"});p.selection=new p("selection",{fontCharacter:"\\eb85"});p.listTree=new p("list-tree",{fontCharacter:"\\eb86"});p.debugBreakpointFunctionUnverified=new p("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"});p.debugBreakpointFunction=new p("debug-breakpoint-function",{fontCharacter:"\\eb88"});p.debugBreakpointFunctionDisabled=new p("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"});p.debugStackframeActive=new p("debug-stackframe-active",{fontCharacter:"\\eb89"});p.circleSmallFilled=new p("circle-small-filled",{fontCharacter:"\\eb8a"});p.debugStackframeDot=new p("debug-stackframe-dot",p.circleSmallFilled.definition);p.debugStackframe=new p("debug-stackframe",{fontCharacter:"\\eb8b"});p.debugStackframeFocused=new p("debug-stackframe-focused",{fontCharacter:"\\eb8b"});p.debugBreakpointUnsupported=new p("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"});p.symbolString=new p("symbol-string",{fontCharacter:"\\eb8d"});p.debugReverseContinue=new p("debug-reverse-continue",{fontCharacter:"\\eb8e"});p.debugStepBack=new p("debug-step-back",{fontCharacter:"\\eb8f"});p.debugRestartFrame=new p("debug-restart-frame",{fontCharacter:"\\eb90"});p.callIncoming=new p("call-incoming",{fontCharacter:"\\eb92"});p.callOutgoing=new p("call-outgoing",{fontCharacter:"\\eb93"});p.menu=new p("menu",{fontCharacter:"\\eb94"});p.expandAll=new p("expand-all",{fontCharacter:"\\eb95"});p.feedback=new p("feedback",{fontCharacter:"\\eb96"});p.groupByRefType=new p("group-by-ref-type",{fontCharacter:"\\eb97"});p.ungroupByRefType=new p("ungroup-by-ref-type",{fontCharacter:"\\eb98"});p.account=new p("account",{fontCharacter:"\\eb99"});p.bellDot=new p("bell-dot",{fontCharacter:"\\eb9a"});p.debugConsole=new p("debug-console",{fontCharacter:"\\eb9b"});p.library=new p("library",{fontCharacter:"\\eb9c"});p.output=new p("output",{fontCharacter:"\\eb9d"});p.runAll=new p("run-all",{fontCharacter:"\\eb9e"});p.syncIgnored=new p("sync-ignored",{fontCharacter:"\\eb9f"});p.pinned=new p("pinned",{fontCharacter:"\\eba0"});p.githubInverted=new p("github-inverted",{fontCharacter:"\\eba1"});p.debugAlt=new p("debug-alt",{fontCharacter:"\\eb91"});p.serverProcess=new p("server-process",{fontCharacter:"\\eba2"});p.serverEnvironment=new p("server-environment",{fontCharacter:"\\eba3"});p.pass=new p("pass",{fontCharacter:"\\eba4"});p.stopCircle=new p("stop-circle",{fontCharacter:"\\eba5"});p.playCircle=new p("play-circle",{fontCharacter:"\\eba6"});p.record=new p("record",{fontCharacter:"\\eba7"});p.debugAltSmall=new p("debug-alt-small",{fontCharacter:"\\eba8"});p.vmConnect=new p("vm-connect",{fontCharacter:"\\eba9"});p.cloud=new p("cloud",{fontCharacter:"\\ebaa"});p.merge=new p("merge",{fontCharacter:"\\ebab"});p.exportIcon=new p("export",{fontCharacter:"\\ebac"});p.graphLeft=new p("graph-left",{fontCharacter:"\\ebad"});p.magnet=new p("magnet",{fontCharacter:"\\ebae"});p.notebook=new p("notebook",{fontCharacter:"\\ebaf"});p.redo=new p("redo",{fontCharacter:"\\ebb0"});p.checkAll=new p("check-all",{fontCharacter:"\\ebb1"});p.pinnedDirty=new p("pinned-dirty",{fontCharacter:"\\ebb2"});p.passFilled=new p("pass-filled",{fontCharacter:"\\ebb3"});p.circleLargeFilled=new p("circle-large-filled",{fontCharacter:"\\ebb4"});p.circleLargeOutline=new p("circle-large-outline",{fontCharacter:"\\ebb5"});p.combine=new p("combine",{fontCharacter:"\\ebb6"});p.gather=new p("gather",{fontCharacter:"\\ebb6"});p.table=new p("table",{fontCharacter:"\\ebb7"});p.variableGroup=new p("variable-group",{fontCharacter:"\\ebb8"});p.typeHierarchy=new p("type-hierarchy",{fontCharacter:"\\ebb9"});p.typeHierarchySub=new p("type-hierarchy-sub",{fontCharacter:"\\ebba"});p.typeHierarchySuper=new p("type-hierarchy-super",{fontCharacter:"\\ebbb"});p.gitPullRequestCreate=new p("git-pull-request-create",{fontCharacter:"\\ebbc"});p.runAbove=new p("run-above",{fontCharacter:"\\ebbd"});p.runBelow=new p("run-below",{fontCharacter:"\\ebbe"});p.notebookTemplate=new p("notebook-template",{fontCharacter:"\\ebbf"});p.debugRerun=new p("debug-rerun",{fontCharacter:"\\ebc0"});p.workspaceTrusted=new p("workspace-trusted",{fontCharacter:"\\ebc1"});p.workspaceUntrusted=new p("workspace-untrusted",{fontCharacter:"\\ebc2"});p.workspaceUnspecified=new p("workspace-unspecified",{fontCharacter:"\\ebc3"});p.terminalCmd=new p("terminal-cmd",{fontCharacter:"\\ebc4"});p.terminalDebian=new p("terminal-debian",{fontCharacter:"\\ebc5"});p.terminalLinux=new p("terminal-linux",{fontCharacter:"\\ebc6"});p.terminalPowershell=new p("terminal-powershell",{fontCharacter:"\\ebc7"});p.terminalTmux=new p("terminal-tmux",{fontCharacter:"\\ebc8"});p.terminalUbuntu=new p("terminal-ubuntu",{fontCharacter:"\\ebc9"});p.terminalBash=new p("terminal-bash",{fontCharacter:"\\ebca"});p.arrowSwap=new p("arrow-swap",{fontCharacter:"\\ebcb"});p.copy=new p("copy",{fontCharacter:"\\ebcc"});p.personAdd=new p("person-add",{fontCharacter:"\\ebcd"});p.filterFilled=new p("filter-filled",{fontCharacter:"\\ebce"});p.wand=new p("wand",{fontCharacter:"\\ebcf"});p.debugLineByLine=new p("debug-line-by-line",{fontCharacter:"\\ebd0"});p.inspect=new p("inspect",{fontCharacter:"\\ebd1"});p.layers=new p("layers",{fontCharacter:"\\ebd2"});p.layersDot=new p("layers-dot",{fontCharacter:"\\ebd3"});p.layersActive=new p("layers-active",{fontCharacter:"\\ebd4"});p.compass=new p("compass",{fontCharacter:"\\ebd5"});p.compassDot=new p("compass-dot",{fontCharacter:"\\ebd6"});p.compassActive=new p("compass-active",{fontCharacter:"\\ebd7"});p.azure=new p("azure",{fontCharacter:"\\ebd8"});p.issueDraft=new p("issue-draft",{fontCharacter:"\\ebd9"});p.gitPullRequestClosed=new p("git-pull-request-closed",{fontCharacter:"\\ebda"});p.gitPullRequestDraft=new p("git-pull-request-draft",{fontCharacter:"\\ebdb"});p.debugAll=new p("debug-all",{fontCharacter:"\\ebdc"});p.debugCoverage=new p("debug-coverage",{fontCharacter:"\\ebdd"});p.runErrors=new p("run-errors",{fontCharacter:"\\ebde"});p.folderLibrary=new p("folder-library",{fontCharacter:"\\ebdf"});p.debugContinueSmall=new p("debug-continue-small",{fontCharacter:"\\ebe0"});p.beakerStop=new p("beaker-stop",{fontCharacter:"\\ebe1"});p.graphLine=new p("graph-line",{fontCharacter:"\\ebe2"});p.graphScatter=new p("graph-scatter",{fontCharacter:"\\ebe3"});p.pieChart=new p("pie-chart",{fontCharacter:"\\ebe4"});p.bracket=new p("bracket",p.json.definition);p.bracketDot=new p("bracket-dot",{fontCharacter:"\\ebe5"});p.bracketError=new p("bracket-error",{fontCharacter:"\\ebe6"});p.lockSmall=new p("lock-small",{fontCharacter:"\\ebe7"});p.azureDevops=new p("azure-devops",{fontCharacter:"\\ebe8"});p.verifiedFilled=new p("verified-filled",{fontCharacter:"\\ebe9"});p.newLine=new p("newline",{fontCharacter:"\\ebea"});p.layout=new p("layout",{fontCharacter:"\\ebeb"});p.layoutActivitybarLeft=new p("layout-activitybar-left",{fontCharacter:"\\ebec"});p.layoutActivitybarRight=new p("layout-activitybar-right",{fontCharacter:"\\ebed"});p.layoutPanelLeft=new p("layout-panel-left",{fontCharacter:"\\ebee"});p.layoutPanelCenter=new p("layout-panel-center",{fontCharacter:"\\ebef"});p.layoutPanelJustify=new p("layout-panel-justify",{fontCharacter:"\\ebf0"});p.layoutPanelRight=new p("layout-panel-right",{fontCharacter:"\\ebf1"});p.layoutPanel=new p("layout-panel",{fontCharacter:"\\ebf2"});p.layoutSidebarLeft=new p("layout-sidebar-left",{fontCharacter:"\\ebf3"});p.layoutSidebarRight=new p("layout-sidebar-right",{fontCharacter:"\\ebf4"});p.layoutStatusbar=new p("layout-statusbar",{fontCharacter:"\\ebf5"});p.layoutMenubar=new p("layout-menubar",{fontCharacter:"\\ebf6"});p.layoutCentered=new p("layout-centered",{fontCharacter:"\\ebf7"});p.layoutSidebarRightOff=new p("layout-sidebar-right-off",{fontCharacter:"\\ec00"});p.layoutPanelOff=new p("layout-panel-off",{fontCharacter:"\\ec01"});p.layoutSidebarLeftOff=new p("layout-sidebar-left-off",{fontCharacter:"\\ec02"});p.target=new p("target",{fontCharacter:"\\ebf8"});p.indent=new p("indent",{fontCharacter:"\\ebf9"});p.recordSmall=new p("record-small",{fontCharacter:"\\ebfa"});p.errorSmall=new p("error-small",{fontCharacter:"\\ebfb"});p.arrowCircleDown=new p("arrow-circle-down",{fontCharacter:"\\ebfc"});p.arrowCircleLeft=new p("arrow-circle-left",{fontCharacter:"\\ebfd"});p.arrowCircleRight=new p("arrow-circle-right",{fontCharacter:"\\ebfe"});p.arrowCircleUp=new p("arrow-circle-up",{fontCharacter:"\\ebff"});p.heartFilled=new p("heart-filled",{fontCharacter:"\\ec04"});p.map=new p("map",{fontCharacter:"\\ec05"});p.mapFilled=new p("map-filled",{fontCharacter:"\\ec06"});p.circleSmall=new p("circle-small",{fontCharacter:"\\ec07"});p.bellSlash=new p("bell-slash",{fontCharacter:"\\ec08"});p.bellSlashDot=new p("bell-slash-dot",{fontCharacter:"\\ec09"});p.commentUnresolved=new p("comment-unresolved",{fontCharacter:"\\ec0a"});p.gitPullRequestGoToChanges=new p("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"});p.gitPullRequestNewChanges=new p("git-pull-request-new-changes",{fontCharacter:"\\ec0c"});p.dialogError=new p("dialog-error",p.error.definition);p.dialogWarning=new p("dialog-warning",p.warning.definition);p.dialogInfo=new p("dialog-info",p.info.definition);p.dialogClose=new p("dialog-close",p.close.definition);p.treeItemExpanded=new p("tree-item-expanded",p.chevronDown.definition);p.treeFilterOnTypeOn=new p("tree-filter-on-type-on",p.listFilter.definition);p.treeFilterOnTypeOff=new p("tree-filter-on-type-off",p.listSelection.definition);p.treeFilterClear=new p("tree-filter-clear",p.close.definition);p.treeItemLoading=new p("tree-item-loading",p.loading.definition);p.menuSelection=new p("menu-selection",p.check.definition);p.menuSubmenu=new p("menu-submenu",p.chevronRight.definition);p.menuBarMore=new p("menubar-more",p.more.definition);p.scrollbarButtonLeft=new p("scrollbar-button-left",p.triangleLeft.definition);p.scrollbarButtonRight=new p("scrollbar-button-right",p.triangleRight.definition);p.scrollbarButtonUp=new p("scrollbar-button-up",p.triangleUp.definition);p.scrollbarButtonDown=new p("scrollbar-button-down",p.triangleDown.definition);p.toolBarMore=new p("toolbar-more",p.more.definition);p.quickInputBack=new p("quick-input-back",p.arrowLeft.definition);(function(r){r.iconNameSegment="[A-Za-z0-9]+",r.iconNameExpression="[A-Za-z0-9-]+",r.iconModifierExpression="~[A-Za-z]+",r.iconNameCharacter="[A-Za-z0-9~-]";let e=new RegExp(`^(${r.iconNameExpression})(${r.iconModifierExpression})?$`);function t(o){if(o instanceof p)return["codicon","codicon-"+o.id];let s=e.exec(o.id);if(!s)return t(p.error);let[,a,l]=s,c=["codicon","codicon-"+a];return l&&c.push("codicon-modifier-"+l.substr(1)),c}r.asClassNameArray=t;function i(o){return t(o).join(" ")}r.asClassName=i;function n(o){return"."+t(o).join(".")}r.asCSSSelector=n})(po||(po={}))});var m3,pI,p3,AY=ue(()=>{Oe();se();m3=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},pI=class{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Ke(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerFactory(e,t){var i;(i=this._factories.get(e))===null||i===void 0||i.dispose();let n=new p3(this,e,t);return this._factories.set(e,n),Ke(()=>{let o=this._factories.get(e);!o||o!==n||(this._factories.delete(e),o.dispose())})}getOrCreate(e){return m3(this,void 0,void 0,function*(){let t=this.get(e);if(t)return t;let i=this._factories.get(e);return!i||i.isResolved?null:(yield i.resolve(),this.get(e))})}get(e){return this._map.get(e)||null}isResolved(e){if(this.get(e))return!0;let i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}},p3=class extends ${constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return m3(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return m3(this,void 0,void 0,function*(){let e=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))})}}});function RY(r){return r&&Ee.isUri(r.uri)&&D.isIRange(r.range)&&(D.isIRange(r.originSelectionRange)||D.isIRange(r.targetSelectionRange))}var ed,Qg,$u,g_,Ms,vl,W0,MY,ha,_I,gS,ki,Un=ue(()=>{bn();vi();Le();AY();ed=class{constructor(e,t,i){this._tokenBrand=void 0,this.offset=e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}},Qg=class{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}},$u=class{constructor(e,t){this._encodedTokenizationResultBrand=void 0,this.tokens=e,this.endState=t}};(function(r){let e=new Map;e.set(0,p.symbolMethod),e.set(1,p.symbolFunction),e.set(2,p.symbolConstructor),e.set(3,p.symbolField),e.set(4,p.symbolVariable),e.set(5,p.symbolClass),e.set(6,p.symbolStruct),e.set(7,p.symbolInterface),e.set(8,p.symbolModule),e.set(9,p.symbolProperty),e.set(10,p.symbolEvent),e.set(11,p.symbolOperator),e.set(12,p.symbolUnit),e.set(13,p.symbolValue),e.set(15,p.symbolEnum),e.set(14,p.symbolConstant),e.set(15,p.symbolEnum),e.set(16,p.symbolEnumMember),e.set(17,p.symbolKeyword),e.set(27,p.symbolSnippet),e.set(18,p.symbolText),e.set(19,p.symbolColor),e.set(20,p.symbolFile),e.set(21,p.symbolReference),e.set(22,p.symbolCustomColor),e.set(23,p.symbolFolder),e.set(24,p.symbolTypeParameter),e.set(25,p.account),e.set(26,p.issues);function t(o){let s=e.get(o);return s||(console.info("No codicon found for CompletionItemKind "+o),s=p.symbolProperty),s}r.toIcon=t;let i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function n(o,s){let a=i.get(o);return typeof a>"u"&&!s&&(a=9),a}r.fromString=n})(g_||(g_={}));(function(r){r[r.Automatic=0]="Automatic",r[r.Explicit=1]="Explicit"})(Ms||(Ms={}));(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})(vl||(vl={}));(function(r){r[r.Text=0]="Text",r[r.Read=1]="Read",r[r.Write=2]="Write"})(W0||(W0={}));(function(r){let e=new Map;e.set(0,p.symbolFile),e.set(1,p.symbolModule),e.set(2,p.symbolNamespace),e.set(3,p.symbolPackage),e.set(4,p.symbolClass),e.set(5,p.symbolMethod),e.set(6,p.symbolProperty),e.set(7,p.symbolField),e.set(8,p.symbolConstructor),e.set(9,p.symbolEnum),e.set(10,p.symbolInterface),e.set(11,p.symbolFunction),e.set(12,p.symbolVariable),e.set(13,p.symbolConstant),e.set(14,p.symbolString),e.set(15,p.symbolNumber),e.set(16,p.symbolBoolean),e.set(17,p.symbolArray),e.set(18,p.symbolObject),e.set(19,p.symbolKey),e.set(20,p.symbolNull),e.set(21,p.symbolEnumMember),e.set(22,p.symbolStruct),e.set(23,p.symbolEvent),e.set(24,p.symbolOperator),e.set(25,p.symbolTypeParameter);function t(i){let n=e.get(i);return n||(console.info("No codicon found for SymbolKind "+i),n=p.symbolProperty),n}r.toIcon=t})(MY||(MY={}));ha=class{constructor(e){this.value=e}};ha.Comment=new ha("comment");ha.Imports=new ha("imports");ha.Region=new ha("region");(function(r){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}r.is=e})(_I||(_I={}));(function(r){r[r.Type=1]="Type",r[r.Parameter=2]="Parameter"})(gS||(gS={}));ki=new pI});var iO,mS,b3=ue(()=>{iO=class{constructor(e){this.fn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){let t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.fn(e)),this.lastCache}},mS=class{constructor(e){this.fn=e,this._map=new Map}get cachedValues(){return this._map}get(e){if(this._map.has(e))return this._map.get(e);let t=this.fn(e);return this._map.set(e,t),t}}});var lc,pS=ue(()=>{lc=class{constructor(e){this.executor=e,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}});function nO(r){return!r||typeof r!="string"?!0:r.trim().length===0}function td(r,...e){return e.length===0?r:r.replace(Lfe,function(t,i){let n=parseInt(i,10);return isNaN(n)||n<0||n>=e.length?t:e[n]})}function V0(r){return r.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function _o(r){return r.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function U0(r,e){if(!r||!e)return r;let t=e.length;if(t===0||r.length===0)return r;let i=0;for(;r.indexOf(e,i)===i;)i=i+t;return r.substring(i)}function jY(r,e){if(!r||!e)return r;let t=e.length,i=r.length;if(t===0||i===0)return r;let n=i,o=-1;for(;o=r.lastIndexOf(e,n-1),!(o===-1||o+t!==n);){if(o===0)return"";n=o}return r.substring(0,n)}function WY(r){return r.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function oO(r,e,t={}){if(!r)throw new Error("Cannot create regex from empty string");e||(r=_o(r)),t.wholeWord&&(/\B/.test(r.charAt(0))||(r="\\b"+r),/\B/.test(r.charAt(r.length-1))||(r=r+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(r,i)}function zY(r){return r.source==="^"||r.source==="^$"||r.source==="$"||r.source==="^\\s*$"?!1:!!(r.exec("")&&r.lastIndex===0)}function rO(r){return(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")}function Mr(r){return r.split(/\r\n|\r|\n/)}function En(r){for(let e=0,t=r.length;e<t;e++){let i=r.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function ri(r,e=0,t=r.length){for(let i=e;i<t;i++){let n=r.charCodeAt(i);if(n!==32&&n!==9)return r.substring(e,i)}return r.substring(e,t)}function es(r,e=r.length-1){for(let t=e;t>=0;t--){let i=r.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function Jg(r,e){return r<e?-1:r>e?1:0}function sO(r,e,t=0,i=r.length,n=0,o=e.length){for(;t<i&&n<o;t++,n++){let l=r.charCodeAt(t),c=e.charCodeAt(n);if(l<c)return-1;if(l>c)return 1}let s=i-t,a=o-n;return s<a?-1:s>a?1:0}function bS(r,e){return H0(r,e,0,r.length,0,e.length)}function H0(r,e,t=0,i=r.length,n=0,o=e.length){for(;t<i&&n<o;t++,n++){let l=r.charCodeAt(t),c=e.charCodeAt(n);if(l===c)continue;if(l>=128||c>=128)return sO(r.toLowerCase(),e.toLowerCase(),t,i,n,o);dh(l)&&(l-=32),dh(c)&&(c-=32);let d=l-c;if(d!==0)return d}let s=i-t,a=o-n;return s<a?-1:s>a?1:0}function vS(r){return r>=48&&r<=57}function dh(r){return r>=97&&r<=122}function Cl(r){return r>=65&&r<=90}function Ku(r,e){return r.length===e.length&&H0(r,e)===0}function $0(r,e){let t=e.length;return e.length>r.length?!1:H0(r,e,0,t)===0}function wl(r,e){let t=Math.min(r.length,e.length),i;for(i=0;i<t;i++)if(r.charCodeAt(i)!==e.charCodeAt(i))return i;return t}function qu(r,e){let t=Math.min(r.length,e.length),i,n=r.length-1,o=e.length-1;for(i=0;i<t;i++)if(r.charCodeAt(n-i)!==e.charCodeAt(o-i))return i;return t}function ln(r){return 55296<=r&&r<=56319}function hh(r){return 56320<=r&&r<=57343}function aO(r,e){return(r-55296<<10)+(e-56320)+65536}function K0(r,e,t){let i=r.charCodeAt(t);if(ln(i)&&t+1<e){let n=r.charCodeAt(t+1);if(hh(n))return aO(i,n)}return i}function xfe(r,e){let t=r.charCodeAt(e-1);if(hh(t)&&e>1){let i=r.charCodeAt(e-2);if(ln(i))return aO(i,t)}return t}function CS(r,e){return new __(r,e).nextGraphemeLength()}function v3(r,e){return new __(r,e).prevGraphemeLength()}function VY(r,e){e>0&&hh(r.charCodeAt(e))&&e--;let t=e+CS(r,e);return[t-v3(r,t),t]}function id(r){return Dfe.test(r)}function em(r){return kfe.test(r)}function lO(r){return C3.test(r)}function yl(r){return r>=11904&&r<=55215||r>=63744&&r<=64255||r>=65281&&r<=65374}function wS(r){return r>=127462&&r<=127487||r===8986||r===8987||r===9200||r===9203||r>=9728&&r<=10175||r===11088||r===11093||r>=127744&&r<=128591||r>=128640&&r<=128764||r>=128992&&r<=129008||r>=129280&&r<=129535||r>=129648&&r<=129782}function q0(r){return!!(r&&r.length>0&&r.charCodeAt(0)===65279)}function HY(r,e=!1){return r?(e&&(r=r.replace(/\\./g,"")),r.toLowerCase()!==r):!1}function cO(r){return r=r%(2*26),r<26?String.fromCharCode(97+r):String.fromCharCode(65+r-26)}function FY(r,e){return r===0?e!==5&&e!==7:r===2&&e===3?!1:r===4||r===2||r===3||e===4||e===2||e===3?!0:!(r===8&&(e===8||e===9||e===11||e===12)||(r===11||r===9)&&(e===9||e===10)||(r===12||r===10)&&e===10||e===5||e===13||e===7||r===1||r===13&&e===14||r===6&&e===6)}function Efe(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function $Y(r,e){if(r===0)return 0;let t=Ife(r,e);if(t!==void 0)return t;let i=new _S(e,r);return i.prevCodePoint(),i.offset}function Ife(r,e){let t=new _S(e,r),i=t.prevCodePoint();for(;Ofe(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!wS(i))return;let n=t.offset;return n>0&&t.prevCodePoint()===8205&&(n=t.offset),n}function Ofe(r){return 127995<=r&&r<=127999}var BY,Lfe,_S,__,Dfe,kfe,C3,UY,ch,KY,ua,Ka,Ye=ue(()=>{b3();pS();Lfe=/{(\d+)}/g;_S=class{constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}get offset(){return this._offset}setOffset(e){this._offset=e}prevCodePoint(){let e=xfe(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){let e=K0(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}},__=class{constructor(e,t=0){this._iterator=new _S(e,t)}get offset(){return this._iterator.offset}nextGraphemeLength(){let e=ch.getInstance(),t=this._iterator,i=t.offset,n=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){let o=t.offset,s=e.getGraphemeBreakType(t.nextCodePoint());if(FY(n,s)){t.setOffset(o);break}n=s}return t.offset-i}prevGraphemeLength(){let e=ch.getInstance(),t=this._iterator,i=t.offset,n=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){let o=t.offset,s=e.getGraphemeBreakType(t.prevCodePoint());if(FY(s,n)){t.setOffset(o);break}n=s}return i-t.offset}eol(){return this._iterator.eol()}};Dfe=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;kfe=/^[\t\n\r\x20-\x7E]*$/;C3=/[\u2028\u2029]/;UY=String.fromCharCode(65279);ch=class{constructor(){this._data=Efe()}static getInstance(){return ch._INSTANCE||(ch._INSTANCE=new ch),ch._INSTANCE}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let t=this._data,i=t.length/3,n=1;for(;n<=i;)if(e<t[3*n])n=2*n;else if(e>t[3*n+1])n=2*n+1;else return t[3*n+2];return 0}};ch._INSTANCE=null;KY="\xA0",ua=class{constructor(e){this.confusableDictionary=e}static getInstance(e){return ua.cache.get(Array.from(e))}static getLocales(){return ua._locales.getValue()}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};BY=ua;ua.ambiguousCharacterData=new lc(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));ua.cache=new iO(r=>{function e(c){let d=new Map;for(let h=0;h<c.length;h+=2)d.set(c[h],c[h+1]);return d}function t(c,d){let h=new Map(c);for(let[u,f]of d)h.set(u,f);return h}function i(c,d){if(!c)return d;let h=new Map;for(let[u,f]of c)d.has(u)&&h.set(u,f);return h}let n=BY.ambiguousCharacterData.getValue(),o=r.filter(c=>!c.startsWith("_")&&c in n);o.length===0&&(o=["_default"]);let s;for(let c of o){let d=e(n[c]);s=i(s,d)}let a=e(n._common),l=t(a,s);return new ua(l)});ua._locales=new lc(()=>Object.keys(ua.ambiguousCharacterData.getValue()).filter(r=>!r.startsWith("_")));Ka=class{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Ka.getRawData())),this._data}static isInvisibleCharacter(e){return Ka.getData().has(e)}static get codePoints(){return Ka.getData()}};Ka._data=void 0});var dc={};fE(dc,{PixelRatio:()=>Yu,addMatchMediaChangeListener:()=>dO,getZoomFactor:()=>x3,isAndroid:()=>k3,isChrome:()=>D3,isElectron:()=>Nfe,isFirefox:()=>ao,isSafari:()=>fa,isStandalone:()=>LS,isWebKit:()=>cc,isWebkitWebView:()=>SS});function dO(r,e){typeof r=="string"&&(r=window.matchMedia(r)),r.addEventListener("change",e)}function x3(){return yS.INSTANCE.getZoomFactor()}function LS(){return L3}var yS,w3,y3,S3,Yu,Y0,ao,cc,D3,fa,SS,Nfe,k3,L3,ur=ue(()=>{Oe();se();yS=class{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}};yS.INSTANCE=new yS;w3=class extends ${constructor(){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(e){var t;(t=this._mediaQueryList)===null||t===void 0||t.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),e&&this._onDidChange.fire()}},y3=class extends ${constructor(){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();let e=this._register(new w3);this._register(e.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){let e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i}},S3=class{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=sI(new y3)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};Yu=new S3;Y0=navigator.userAgent,ao=Y0.indexOf("Firefox")>=0,cc=Y0.indexOf("AppleWebKit")>=0,D3=Y0.indexOf("Chrome")>=0,fa=!D3&&Y0.indexOf("Safari")>=0,SS=!D3&&!fa&&cc,Nfe=Y0.indexOf("Electron/")>=0,k3=Y0.indexOf("Android")>=0,L3=!1;if(window.matchMedia){let r=window.matchMedia("(display-mode: standalone)");L3=r.matches,dO(r,({matches:e})=>{L3=e})}});function Afe(r,e,t){e[hc.DI_TARGET]===e?e[hc.DI_DEPENDENCIES].push({id:r,index:t}):(e[hc.DI_DEPENDENCIES]=[{id:r,index:t}],e[hc.DI_TARGET]=e)}function We(r){if(hc.serviceIds.has(r))return hc.serviceIds.get(r);let e=function(t,i,n){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Afe(e,t,n)};return e.toString=()=>r,hc.serviceIds.set(r,e),e}var hc,je,Xe=ue(()=>{(function(r){r.serviceIds=new Map,r.DI_TARGET="$di$target",r.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[r.DI_DEPENDENCIES]||[]}r.getServiceDependencies=e})(hc||(hc={}));je=We("instantiationService")});var kt,lo=ue(()=>{Xe();kt=We("codeEditorService")});function tm(r,e){if(!r)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}var fO=ue(()=>{});var im,ES=ue(()=>{im={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}});function YY(r){return r&&typeof r.read=="function"}function ZY(r){return!r.isTooLargeForSyncing()&&!r.isForSimpleWidget}var ts,is,qa,nm,fh,Z0,mO,pO,Rs=ue(()=>{hr();(function(r){r[r.Left=1]="Left",r[r.Center=2]="Center",r[r.Right=4]="Right",r[r.Full=7]="Full"})(ts||(ts={}));(function(r){r[r.Inline=1]="Inline",r[r.Gutter=2]="Gutter"})(is||(is={}));(function(r){r[r.Both=0]="Both",r[r.Right=1]="Right",r[r.Left=2]="Left",r[r.None=3]="None"})(qa||(qa={}));nm=class{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),this.indentSize=e.tabSize|0,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&dr(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}},fh=class{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}};Z0=class{constructor(e,t,i,n,o,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=s}},mO=class{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}},pO=class{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}});function IS(r,e,t){r.has(e)?r.get(e).push(t):r.set(e,[t])}var wn,G0,_O,om=ue(()=>{(function(r){r[r.None=0]="None",r[r.Indent=1]="Indent",r[r.IndentOutdent=2]="IndentOutdent",r[r.Outdent=3]="Outdent"})(wn||(wn={}));G0=class{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;let i=e.findTokenIndexAtOffset(t-2),n=e.getStandardTokenType(i);return this.isOK(n)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){let n=String.fromCharCode(i);if(!this.open.includes(n)&&!this.close.includes(n))return n}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}},_O=class{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let t of e)IS(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),IS(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),IS(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),IS(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&IS(this.autoClosingPairsCloseSingleChar,t.close,t)}}});function rm(r,e){let t=r.getCount(),i=r.findTokenIndexAtOffset(e),n=r.getLanguageId(i),o=i;for(;o+1<t&&r.getLanguageId(o+1)===n;)o++;let s=i;for(;s>0&&r.getLanguageId(s-1)===n;)s--;return new T3(r,n,s,o+1,r.getStartOffset(s),r.getEndOffset(o))}function uc(r){return(r&3)!==0}var T3,v_=ue(()=>{T3=class{constructor(e,t,i,n,o,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}});var C_,GY=ue(()=>{om();C_=class{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new G0(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new G0({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){let t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new G0({open:t.open,close:t.close||""}))}this._autoCloseBefore=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:C_.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}};C_.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`});function QY(r,e){return r[e+0]<<0>>>0|r[e+1]<<8>>>0}function JY(r,e,t){r[t+0]=e&255,e=e>>>8,r[t+1]=e&255}function Ll(r,e){return r[e]*Math.pow(2,24)+r[e+1]*Math.pow(2,16)+r[e+2]*Math.pow(2,8)+r[e+3]}function xl(r,e,t){r[t+3]=e,e=e>>>8,r[t+2]=e,e=e>>>8,r[t+1]=e,e=e>>>8,r[t]=e}function A3(r,e){return r[e]}function M3(r,e,t){r[t]=e}var XY,P3,sm,X0=ue(()=>{XY=typeof Buffer<"u",sm=class{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return XY&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new sm(e)}toString(){return XY?this.buffer.toString():(P3||(P3=new TextDecoder),P3.decode(this.buffer))}}});function eZ(){return F3||(F3=new TextDecoder("UTF-16LE")),F3}function Ffe(){return B3||(B3=new TextDecoder("UTF-16BE")),B3}function V3(){return j3||(j3=WE()?eZ():Ffe()),j3}function Bfe(r,e,t){let i=new Uint16Array(r.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?tZ(r,e,t):eZ().decode(i)}function tZ(r,e,t){let i=[],n=0;for(let o=0;o<t;o++){let s=QY(r,e);e+=2,i[n++]=String.fromCharCode(s)}return i.join("")}var F3,B3,j3,U3,Ya,bO,W3,z3,Zu=ue(()=>{Ye();At();X0();U3=typeof TextDecoder<"u";U3?(Ya=r=>new W3(r),bO=Bfe):(Ya=r=>new z3,bO=tZ);W3=class{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";let e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return V3().decode(e)}_flushBuffer(){let e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){let t=this._capacity-this._bufferLength;t<=1&&(t===0||ln(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){let t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}},z3=class{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}});function Wfe(r){let e=r.length;r=r.map(s=>[s[0].toLowerCase(),s[1].toLowerCase()]);let t=[];for(let s=0;s<e;s++)t[s]=s;let i=(s,a)=>{let[l,c]=s,[d,h]=a;return l===d||l===h||c===d||c===h},n=(s,a)=>{let l=Math.min(s,a),c=Math.max(s,a);for(let d=0;d<e;d++)t[d]===c&&(t[d]=l)};for(let s=0;s<e;s++){let a=r[s];for(let l=s+1;l<e;l++){let c=r[l];i(a,c)&&n(t[s],t[l])}}let o=[];for(let s=0;s<e;s++){let a=[],l=[];for(let c=0;c<e;c++)if(t[c]===s){let[d,h]=r[c];a.push(d),l.push(h)}a.length>0&&o.push({open:a,close:l})}return o}function iZ(r,e,t,i){for(let n=0,o=e.length;n<o;n++){if(n===t)continue;let s=e[n];for(let a of s.open)a.indexOf(r)>=0&&i.push(a);for(let a of s.close)a.indexOf(r)>=0&&i.push(a)}}function nZ(r,e){return r.length-e.length}function CO(r){if(r.length<=1)return r;let e=[],t=new Set;for(let i of r)t.has(i)||(e.push(i),t.add(i));return e}function zfe(r,e,t,i){let n=[];n=n.concat(r),n=n.concat(e);for(let o=0,s=n.length;o<s;o++)iZ(n[o],t,i,n);return n=CO(n),n.sort(nZ),n.reverse(),wO(n)}function Vfe(r,e,t,i){let n=[];n=n.concat(r),n=n.concat(e);for(let o=0,s=n.length;o<s;o++)iZ(n[o],t,i,n);return n=CO(n),n.sort(nZ),n.reverse(),wO(n.map(H3))}function Ufe(r){let e=[];for(let t of r){for(let i of t.open)e.push(i);for(let i of t.close)e.push(i)}return e=CO(e),wO(e)}function Hfe(r){let e=[];for(let t of r){for(let i of t.open)e.push(i);for(let i of t.close)e.push(i)}return e=CO(e),wO(e.map(H3))}function $fe(r){let e=/^[\w ]+$/.test(r);return r=_o(r),e?`\\b${r}\\b`:r}function wO(r){let e=`(${r.map($fe).join(")|(")})`;return oO(e,!0)}var Q0,vO,H3,Fs,yO=ue(()=>{Ye();Zu();Le();Q0=class{constructor(e,t,i,n,o,s){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=s,this._openSet=Q0._toSet(this.open),this._closeSet=Q0._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){let t=new Set;for(let i of e)t.add(i);return t}};vO=class{constructor(e,t){this._richEditBracketsBrand=void 0;let i=Wfe(t);this.brackets=i.map((n,o)=>new Q0(e,o,n.open,n.close,zfe(n.open,n.close,i,o),Vfe(n.open,n.close,i,o))),this.forwardRegex=Ufe(this.brackets),this.reversedRegex=Hfe(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let n of this.brackets){for(let o of n.open)this.textIsBracket[o]=n,this.textIsOpenBracket[o]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,o.length);for(let o of n.close)this.textIsBracket[o]=n,this.textIsOpenBracket[o]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,o.length)}}};H3=function(){function r(i){if(U3){let n=new Uint16Array(i.length),o=0;for(let s=i.length-1;s>=0;s--)n[o++]=i.charCodeAt(s);return V3().decode(n)}else{let n=[],o=0;for(let s=i.length-1;s>=0;s--)n[o++]=i.charAt(s);return n.join("")}}let e=null,t=null;return function(n){return e!==n&&(e=n,t=r(e)),t}}(),Fs=class{static _findPrevBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=i.length-(o.index||0),a=o[0].length,l=n+s;return new D(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,n,o){let a=H3(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(e,t,a,n)}static findNextBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=o.index||0,a=o[0].length;if(a===0)return null;let l=n+s;return new D(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,n,o){let s=i.substring(n,o);return this.findNextBracketInText(e,t,s,n)}}});var SO,oZ=ue(()=>{Ft();v_();yO();SO=class{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(let t of this._richEditBrackets.brackets)for(let i of t.close){let n=i.charAt(i.length-1);e.push(n)}return la(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;let n=t.findTokenIndexAtOffset(i-1);if(uc(t.getStandardTokenType(n)))return null;let o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,a=Fs.findPrevBracketInRange(o,1,s,0,s.length);if(!a)return null;let l=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;let d=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}}});function LO(r){return r.global&&(r.lastIndex=0),!0}var xO,rZ=ue(()=>{xO=class{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&LO(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&LO(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&LO(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&LO(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}});var Gu,sZ=ue(()=>{ut();Ye();om();Gu=class{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{let i=Gu._createOpenBracketRegExp(t[0]),n=Gu._createCloseBracketRegExp(t[1]);i&&n&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:n})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){let a=this._regExpRules[o];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:n},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&n.length>0)for(let o=0,s=this._brackets.length;o<s;o++){let a=this._brackets[o];if(a.openRegExp.test(i)&&a.closeRegExp.test(n))return{indentAction:wn.IndentOutdent}}if(e>=2&&i.length>0){for(let o=0,s=this._brackets.length;o<s;o++)if(this._brackets[o].openRegExp.test(i))return{indentAction:wn.Indent}}return null}static _createOpenBracketRegExp(e){let t=_o(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Gu._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=_o(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,Gu._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Pe(t),null}}}});function DO(r,e){let t=Object.create(null);for(let i in r)OS(t,i,r[i],e);return t}function OS(r,e,t,i){let n=e.split("."),o=n.pop(),s=r;for(let a=0;a<n.length;a++){let l=n[a],c=s[l];switch(typeof c){case"undefined":c=s[l]=Object.create(null);break;case"object":break;default:i(`Ignoring ${e} as ${n.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}s=c}if(typeof s=="object"&&s!==null)try{s[o]=t}catch{i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(s)}`)}else i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(s)}`)}function aZ(r,e){let t=e.split(".");lZ(r,t)}function lZ(r,e){let t=e.shift();if(e.length===0){delete r[t];return}if(Object.keys(r).indexOf(t)!==-1){let i=r[t];typeof i=="object"&&!Array.isArray(i)&&(lZ(i,e),Object.keys(i).length===0&&delete r[t])}}function $3(r,e,t){function i(s,a){let l=s;for(let c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}let n=e.split("."),o=i(r,n);return typeof o>"u"?t:o}function cZ(r){return r.replace(/[\[\]]/g,"")}var yt,to=ue(()=>{Xe();yt=We("configurationService")});var ei,Qo=ue(()=>{Xe();ei=We("languageService")});var ga,kO=ue(()=>{ga=class{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}});function Ot(r,e,t){e instanceof ga||(e=new ga(e,[],t)),dZ.push([r,e])}function K3(){return dZ}var dZ,Bs=ue(()=>{kO();dZ=[]});var q3,di,fr=ue(()=>{fO();ti();q3=class{constructor(){this.data=new Map}add(e,t){tm(zo(e)),tm(mo(t)),tm(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}},di=new q3});var Eo,am=ue(()=>{Eo=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})});function Kfe(r){return r.length>0&&r.charAt(r.length-1)==="#"?r.substring(0,r.length-1):r}var w_,Y3,qfe,IO=ue(()=>{Oe();fr();w_={JSONContribution:"base.contributions.json"};Y3=class{constructor(){this._onDidChangeSchema=new B,this.schemasById={}}registerSchema(e,t){this.schemasById[Kfe(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}},qfe=new Y3;di.add(w_.JSONContribution,qfe)});function t7(r){let e=[];if(J0.test(r)){let t=uZ.exec(r);for(;t?.length;){let i=t[1].trim();i&&e.push(i),t=uZ.exec(r)}}return la(e)}function Yfe(r){switch(Array.isArray(r)?r[0]:r){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}function Zfe(r,e){var t,i,n,o;return r.trim()?J0.test(r)?g("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",r):NO.getConfigurationProperties()[r]!==void 0?g("config.property.duplicate","Cannot register '{0}'. This property is already registered.",r):((t=e.policy)===null||t===void 0?void 0:t.name)&&NO.getPolicyConfigurations().get((i=e.policy)===null||i===void 0?void 0:i.name)!==void 0?g("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",r,(n=e.policy)===null||n===void 0?void 0:n.name,NO.getPolicyConfigurations().get((o=e.policy)===null||o===void 0?void 0:o.name)):null:g("config.property.empty","Cannot register an empty property")}var ps,Z3,G3,X3,Q3,J3,OO,NS,hZ,e7,fZ,uZ,y_,J0,NO,Xu=ue(()=>{Ft();Oe();ti();Ne();to();IO();fr();ps={Configuration:"base.contributions.configuration"},Z3={properties:{},patternProperties:{}},G3={properties:{},patternProperties:{}},X3={properties:{},patternProperties:{}},Q3={properties:{},patternProperties:{}},J3={properties:{},patternProperties:{}},OO={properties:{},patternProperties:{}},NS="vscode://schemas/settings/resourceLanguage",hZ=di.as(w_.JSONContribution),e7=class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new B,this._onDidUpdateConfiguration=new B,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:g("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},hZ.registerSchema(NS,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){let i=this.doRegisterConfigurations(e,t);hZ.registerSchema(NS,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){var t;let i=[],n=[];for(let{overrides:o,source:s}of e)for(let a in o)if(i.push(a),J0.test(a)){let l=this.configurationDefaultsOverrides.get(a),c=(t=l?.valuesSources)!==null&&t!==void 0?t:new Map;if(s)for(let f of Object.keys(o[a]))c.set(f,s);let d=Object.assign(Object.assign({},l?.value||{}),o[a]);this.configurationDefaultsOverrides.set(a,{source:s,value:d,valuesSources:c});let h=cZ(a),u={type:"object",default:d,description:g("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",h),$ref:NS,defaultDefaultValue:d,source:zo(s)?void 0:s,defaultValueSource:s};n.push(...t7(a)),this.configurationProperties[a]=u,this.defaultLanguageConfigurationOverridesNode.properties[a]=u}else{this.configurationDefaultsOverrides.set(a,{value:o[a],source:s});let l=this.configurationProperties[a];l&&(this.updatePropertyDefaultValue(a,l),this.updateSchema(a,l))}this.registerOverrideIdentifiers(n),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})}registerOverrideIdentifiers(e){for(let t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){let i=[];return e.forEach(n=>{i.push(...this.validateAndRegisterProperties(n,t,n.extensionInfo,n.restrictedProperties)),this.configurationContributors.push(n),this.registerJSONConfiguration(n)}),i}validateAndRegisterProperties(e,t=!0,i,n,o=3){var s;o=Tr(e.scope)?o:e.scope;let a=[],l=e.properties;if(l)for(let d in l){let h=l[d];if(t&&Zfe(d,h)){delete l[d];continue}if(h.source=i,h.defaultDefaultValue=l[d].default,this.updatePropertyDefaultValue(d,h),J0.test(d)?h.scope=void 0:(h.scope=Tr(h.scope)?o:h.scope,h.restricted=Tr(h.restricted)?!!n?.includes(d):h.restricted),l[d].hasOwnProperty("included")&&!l[d].included){this.excludedConfigurationProperties[d]=l[d],delete l[d];continue}else this.configurationProperties[d]=l[d],!((s=l[d].policy)===null||s===void 0)&&s.name&&this.policyConfigurations.set(l[d].policy.name,d);!l[d].deprecationMessage&&l[d].markdownDeprecationMessage&&(l[d].deprecationMessage=l[d].markdownDeprecationMessage),a.push(d)}let c=e.allOf;if(c)for(let d of c)a.push(...this.validateAndRegisterProperties(d,t,i,n,o));return a}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){let t=i=>{let n=i.properties;if(n)for(let s in n)this.updateSchema(s,n[s]);let o=i.allOf;o?.forEach(t)};t(e)}updateSchema(e,t){switch(Z3.properties[e]=t,t.scope){case 1:G3.properties[e]=t;break;case 2:X3.properties[e]=t;break;case 6:Q3.properties[e]=t;break;case 3:J3.properties[e]=t;break;case 4:OO.properties[e]=t;break;case 5:OO.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(let e of this.overrideIdentifiers.values()){let t=`[${e}]`,i={type:"object",description:g("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:g("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:NS};this.updatePropertyDefaultValue(t,i),Z3.properties[t]=i,G3.properties[t]=i,X3.properties[t]=i,Q3.properties[t]=i,J3.properties[t]=i,OO.properties[t]=i}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){let e={type:"object",description:g("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:g("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:NS};Z3.patternProperties[y_]=e,G3.patternProperties[y_]=e,X3.patternProperties[y_]=e,Q3.patternProperties[y_]=e,J3.patternProperties[y_]=e,OO.patternProperties[y_]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.configurationDefaultsOverrides.get(e),n=i?.value,o=i?.source;cr(n)&&(n=t.defaultDefaultValue,o=void 0),cr(n)&&(n=Yfe(t.type)),t.default=n,t.defaultValueSource=o}},fZ="\\[([^\\]]+)\\]",uZ=new RegExp(fZ,"g"),y_=`^(${fZ})+$`,J0=new RegExp(y_);NO=new e7;di.add(ps.Configuration,NO)});var Gfe,i7,lm,Io,Xfe,fc=ue(()=>{Ne();Oe();fr();am();Xu();Gfe={ModesRegistry:"editor.modesRegistry"},i7=class{constructor(){this._onDidChangeLanguages=new B,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}},lm=new i7;di.add(Gfe.ModesRegistry,lm);Io="plaintext",Xfe=".txt";lm.registerLanguage({id:Io,extensions:[Xfe],aliases:[g("plainText.alias","Plain Text"),"text"],mimetypes:[Eo.text]});di.as(ps.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])});function gZ(r){return r.filter(([e,t])=>e!==""&&t!=="")}var TO,PO,n7,o7,mZ=ue(()=>{b3();ut();TO=class{constructor(e,t){this.languageId=e;let i;t.colorizedBracketPairs?i=gZ(t.colorizedBracketPairs.map(s=>[s[0],s[1]])):t.brackets?i=gZ(t.brackets.map(s=>[s[0],s[1]]).filter(s=>!(s[0]==="<"&&s[1]===">"))):i=[];let n=new mS(s=>{let a=new Set;return{info:new n7(this,s,a),closing:a}}),o=new mS(s=>{let a=new Set;return{info:new o7(this,s,a),opening:a}});for(let[s,a]of i){let l=n.get(s),c=o.get(a);l.closing.add(c.info),c.opening.add(l.info)}this._openingBrackets=new Map([...n.cachedValues].map(([s,a])=>[s,a.info])),this._closingBrackets=new Map([...o.cachedValues].map(([s,a])=>[s,a.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}};PO=class{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}},n7=class extends PO{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}},o7=class extends PO{constructor(e,t,i){super(e,t),this.closedBrackets=i,this.isOpeningBracket=!1}closes(e){if(e.languageId===this.languageId&&e.config!==this.config)throw new M0("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(e)}getClosedBrackets(){return[...this.closedBrackets]}}});function Jfe(r,e,t,i){let n=e.getLanguageConfiguration(r);if(!n){if(!i.isRegisteredLanguageId(r))throw new Error(`Language id "${r}" is not configured nor known`);n=new S_(r,{})}let o=ege(n.languageId,t),s=bZ([n.underlyingConfig,o]);return new S_(n.languageId,s)}function ege(r,e){let t=e.getValue(s7.brackets,{overrideIdentifier:r}),i=e.getValue(s7.colorizedBracketPairs,{overrideIdentifier:r});return{brackets:_Z(t),colorizedBracketPairs:_Z(i)}}function _Z(r){if(!!Array.isArray(r))return r.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function RO(r,e,t){let i=r.getLineContent(e),n=ri(i);return n.length>t-1&&(n=n.substring(0,t-1)),n}function cm(r,e,t){r.tokenization.forceTokenization(e);let i=r.tokenization.getLineTokens(e),n=typeof t>"u"?r.getLineMaxColumn(e)-1:t-1;return rm(i,n)}function bZ(r){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let t of r)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}var Qfe,pZ,TS,ii,r7,s7,a7,AO,MO,l7,S_,io=ue(()=>{Oe();se();Ye();E0();om();v_();GY();oZ();rZ();sZ();yO();Xe();to();Qo();Bs();fc();mZ();Qfe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},pZ=function(r,e){return function(t,i){e(t,i,r)}},TS=class{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}},ii=We("languageConfigurationService"),r7=class extends ${constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new l7),this.onDidChangeEmitter=this._register(new B),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;let i=new Set(Object.values(s7));this._register(this.configurationService.onDidChangeConfiguration(n=>{let o=n.change.keys.some(a=>i.has(a)),s=n.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>a);if(o)this.configurations.clear(),this.onDidChangeEmitter.fire(new TS(void 0));else for(let a of s)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new TS(a)))})),this._register(this._registry.onDidChange(n=>{this.configurations.delete(n.languageId),this.onDidChangeEmitter.fire(new TS(n.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=Jfe(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};r7=Qfe([pZ(0,yt),pZ(1,ei)],r7);s7={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};a7=class{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){let i=new AO(e,t,++this._order);return this._entries.push(i),this._resolved=null,Ke(()=>{for(let n=0;n<this._entries.length;n++)if(this._entries[n]===i){this._entries.splice(n,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){let e=this._resolve();e&&(this._resolved=new S_(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(AO.cmp),bZ(this._entries.map(e=>e.configuration)))}};AO=class{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}},MO=class{constructor(e){this.languageId=e}},l7=class extends ${constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._register(this.register(Io,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let n=this._entries.get(e);n||(n=new a7(e),this._entries.set(e,n));let o=n.register(t,i);return this._onDidChange.fire(new MO(e)),Ke(()=>{o.dispose(),this._onDidChange.fire(new MO(e))})}getLanguageConfiguration(e){let t=this._entries.get(e);return t?.getResolvedConfiguration()||null}},S_=class{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Gu(this.underlyingConfig):null,this.comments=S_._handleComments(this.underlyingConfig),this.characterPair=new C_(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||iS,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new xO(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new TO(e,this.underlyingConfig)}getWordDefinition(){return zE(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new vO(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new SO(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}getAutoClosingPairs(){return new _O(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[n,o]=t.blockComment;i.blockCommentStartToken=n,i.blockCommentEndToken=o}return i}};Ot(ii,r7)});function FO(r,e){return new Qg([new ed(0,"",r)],e)}function eC(r,e){let t=new Uint32Array(2);return t[0]=0,t[1]=(r<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new $u(t,e===null?dm:e)}var dm,PS=ue(()=>{Un();dm=new class{clone(){return this}equals(r){return this===r}}});var si,_s=ue(()=>{Xe();si=We("modelService")});function WO(r){return!!r&&typeof r.then=="function"}function wi(r){let e=new qi,t=r(e.token),i=new Promise((n,o)=>{let s=e.token.onCancellationRequested(()=>{s.dispose(),e.dispose(),o(new _l)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),n(a)},a=>{s.dispose(),e.dispose(),o(a)})});return new class{cancel(){e.cancel()}then(n,o){return i.then(n,o)}catch(n){return this.then(void 0,n)}finally(n){return i.finally(n)}}}function iC(r,e,t){return new Promise((i,n)=>{let o=e.onCancellationRequested(()=>{o.dispose(),i(t)});r.then(i,n).finally(()=>o.dispose())})}function kl(r,e){return e?new Promise((t,i)=>{let n=setTimeout(()=>{o.dispose(),t()},r),o=e.onCancellationRequested(()=>{clearTimeout(n),o.dispose(),i(new _l)})}):wi(t=>kl(r,t))}function gc(r,e=0){let t=setTimeout(r,e);return Ke(()=>clearTimeout(t))}function zO(r,e=i=>!!i,t=null){let i=0,n=r.length,o=()=>{if(i>=n)return Promise.resolve(t);let s=r[i++];return Promise.resolve(s()).then(l=>e(l)?Promise.resolve(l):o())};return o()}function vZ(r){let e=new qi,t=r(e.token);return new d7(e,i=>Dl(this,void 0,void 0,function*(){var n,o;let s=e.token.onCancellationRequested(()=>{s.dispose(),e.dispose(),i.reject(new _l)});try{try{for(var a=AS(t),l;l=yield a.next(),!l.done;){let c=l.value;if(e.token.isCancellationRequested)return;i.emitOne(c)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(o=a.return)&&(yield o.call(a))}finally{if(n)throw n.error}}s.dispose(),e.dispose()}catch(c){s.dispose(),e.dispose(),i.reject(c)}}))}var Dl,AS,c7,tge,ige,h7,gr,BO,On,od,pt,L_,Za,tC,jO,cn,d7,ot=ue(()=>{Di();ut();Oe();se();At();Dl=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},AS=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=r[o]&&function(s){return new Promise(function(a,l){s=r[o](s),n(a,l,s.done,s.value)})}}function n(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}};c7=class{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){let t=()=>{this.queuedPromise=null;let i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(n=>{this.activePromise=null,t(n)},n=>{this.activePromise=null,i(n)})})}},tge=(r,e)=>{let t=!0,i=setTimeout(()=>{t=!1,e()},r);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},ige=r=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,r())}),{isTriggered:()=>e,dispose:()=>{e=!1}}},h7=Symbol("MicrotaskDelay"),gr=class{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((n,o)=>{this.doResolve=n,this.doReject=o}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){let n=this.task;return this.task=null,n()}}));let i=()=>{var n;this.deferred=null,(n=this.doResolve)===null||n===void 0||n.call(this,null)};return this.deferred=t===h7?ige(i):tge(t,i),this.completionPromise}isTriggered(){var e;return!!(!((e=this.deferred)===null||e===void 0)&&e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&((e=this.doReject)===null||e===void 0||e.call(this,new _l),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)===null||e===void 0||e.dispose(),this.deferred=null}dispose(){this.cancel()}},BO=class{constructor(e){this.delayer=new gr(e),this.throttler=new c7}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}dispose(){this.delayer.dispose()}};On=class{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},od=class{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}},pt=class{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;(e=this.runner)===null||e===void 0||e.call(this)}};(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?L_=r=>{jE(()=>{if(e)return;let t=Date.now()+15;r(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,t-Date.now())}}))});let e=!1;return{dispose(){e||(e=!0)}}}:L_=(r,e)=>{let t=requestIdleCallback(r,typeof e=="number"?{timeout:e}:void 0),i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(t))}}}})();Za=class{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=L_(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}},tC=class{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(e){return new Promise(t=>{this.completeCallback(e),this.resolved=!0,t()})}cancel(){new Promise(e=>{this.errorCallback(new _l),this.rejected=!0,e()})}};(function(r){function e(i){return Dl(this,void 0,void 0,function*(){let n,o=yield Promise.all(i.map(s=>s.then(a=>a,a=>{n||(n=a)})));if(typeof n<"u")throw n;return o})}r.settled=e;function t(i){return new Promise((n,o)=>Dl(this,void 0,void 0,function*(){try{yield i(n,o)}catch(s){o(s)}}))}r.withAsyncBody=t})(jO||(jO={}));cn=class{constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new B,queueMicrotask(()=>Dl(this,void 0,void 0,function*(){let t={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{yield Promise.resolve(e(t)),this.resolve()}catch(i){this.reject(i)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}}))}static fromArray(e){return new cn(t=>{t.emitMany(e)})}static fromPromise(e){return new cn(t=>Dl(this,void 0,void 0,function*(){t.emitMany(yield e)}))}static fromPromises(e){return new cn(t=>Dl(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>Dl(this,void 0,void 0,function*(){return t.emitOne(yield i)})))}))}static merge(e){return new cn(t=>Dl(this,void 0,void 0,function*(){yield Promise.all(e.map(i=>{var n,o;return Dl(this,void 0,void 0,function*(){var s,a;try{for(n=AS(i);o=yield n.next(),!o.done;){let l=o.value;t.emitOne(l)}}catch(l){s={error:l}}finally{try{o&&!o.done&&(a=n.return)&&(yield a.call(n))}finally{if(s)throw s.error}}})}))}))}[Symbol.asyncIterator](){let e=0;return{next:()=>Dl(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};yield Ie.toPromise(this._onStateChanged.event)}while(!0)})}}static map(e,t){return new cn(i=>Dl(this,void 0,void 0,function*(){var n,o;try{for(var s=AS(e),a;a=yield s.next(),!a.done;){let l=a.value;i.emitOne(t(l))}}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=s.return)&&(yield o.call(s))}finally{if(n)throw n.error}}}))}map(e){return cn.map(this,e)}static filter(e,t){return new cn(i=>Dl(this,void 0,void 0,function*(){var n,o;try{for(var s=AS(e),a;a=yield s.next(),!a.done;){let l=a.value;t(l)&&i.emitOne(l)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=s.return)&&(yield o.call(s))}finally{if(n)throw n.error}}}))}filter(e){return cn.filter(this,e)}static coalesce(e){return cn.filter(e,t=>!!t)}coalesce(){return cn.coalesce(this)}static toPromise(e){var t,i,n,o;return Dl(this,void 0,void 0,function*(){let s=[];try{for(t=AS(e);i=yield t.next(),!i.done;){let a=i.value;s.push(a)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(n)throw n.error}}return s})}toPromise(){return cn.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};cn.EMPTY=cn.fromArray([]);d7=class extends cn{constructor(e,t){super(t),this._source=e}cancel(){this._source.cancel()}}});function nC(r){return FS(r,0)}function FS(r,e){switch(typeof r){case"object":return r===null?Qu(349,e):Array.isArray(r)?lge(r,e):cge(r,e);case"string":return HO(r,e);case"boolean":return age(r,e);case"number":return Qu(r,e);case"undefined":return Qu(937,e);default:return Qu(617,e)}}function Qu(r,e){return(e<<5)-e+r|0}function age(r,e){return Qu(r?433:863,e)}function HO(r,e){e=Qu(149417,e);for(let t=0,i=r.length;t<i;t++)e=Qu(r.charCodeAt(t),e);return e}function lge(r,e){return e=Qu(104579,e),r.reduce((t,i)=>FS(i,t),e)}function cge(r,e){return e=Qu(181387,e),Object.keys(r).sort().reduce((t,i)=>(t=HO(i,t),FS(r[i],t)),e)}function v7(r,e,t=32){let i=t-e,n=~((1<<i)-1);return(r<<e|(n&r)>>>i)>>>0}function LZ(r,e=0,t=r.byteLength,i=0){for(let n=0;n<t;n++)r[e+n]=i}function dge(r,e,t="0"){for(;r.length<e;)r=t+r;return r}function RS(r,e=32){return r instanceof ArrayBuffer?Array.from(new Uint8Array(r)).map(t=>t.toString(16).padStart(2,"0")).join(""):dge((r>>>0).toString(16),e/4)}var D_,k_=ue(()=>{Ye();D_=class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){let t=e.length;if(t===0)return;let i=this._buff,n=this._buffLen,o=this._leftoverHighSurrogate,s,a;for(o!==0?(s=o,a=-1,o=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(ln(s))if(a+1<t){let c=e.charCodeAt(a+1);hh(c)?(a++,l=aO(s,c)):l=65533}else{o=s;break}else hh(s)&&(l=65533);if(n=this._push(i,n,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=n,this._leftoverHighSurrogate=o}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64+0],e[1]=e[64+1],e[2]=e[64+2]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),RS(this._h0)+RS(this._h1)+RS(this._h2)+RS(this._h3)+RS(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,LZ(this._buff,this._buffLen),this._buffLen>56&&(this._step(),LZ(this._buff));let e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){let e=D_._bigBlock32,t=this._buffDV;for(let h=0;h<64;h+=4)e.setUint32(h,t.getUint32(h,!1),!1);for(let h=64;h<320;h+=4)e.setUint32(h,v7(e.getUint32(h-12,!1)^e.getUint32(h-32,!1)^e.getUint32(h-56,!1)^e.getUint32(h-64,!1),1),!1);let i=this._h0,n=this._h1,o=this._h2,s=this._h3,a=this._h4,l,c,d;for(let h=0;h<80;h++)h<20?(l=n&o|~n&s,c=1518500249):h<40?(l=n^o^s,c=1859775393):h<60?(l=n&o|n&s|o&s,c=2400959708):(l=n^o^s,c=3395469782),d=v7(i,5)+l+a+c+e.getUint32(h*4,!1)&4294967295,a=s,s=o,o=v7(n,30),n=i,i=d;this._h0=this._h0+i&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}};D_._bigBlock32=new DataView(new ArrayBuffer(320))});function O_(r){return r<0?0:r>255?255:r|0}function N_(r){return r<0?0:r>4294967295?4294967295:r|0}var BS=ue(()=>{});var sd,ad,T_=ue(()=>{BS();sd=class{constructor(e){let t=O_(e);this._defaultValue=t,this._asciiMap=sd._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){let i=O_(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}},ad=class{constructor(){this._actual=new sd(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}}});function mge(r){let e={};return t=>(e.hasOwnProperty(t)||(e[t]=r(t)),e[t])}var D7,ns,sC=ue(()=>{T_();D7=class extends sd{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}};ns=mge(r=>new D7(r))});function _ge(r){if(!r||r.length===0)return!1;for(let e=0,t=r.length;e<t;e++){let i=r.charCodeAt(e);if(i===10)return!0;if(i===92){if(e++,e>=t)break;let n=r.charCodeAt(e);if(n===110||n===114||n===87)return!0}}return!1}function fm(r,e,t){if(!t)return new fh(r,null);let i=[];for(let n=0,o=e.length;n<o;n++)i[n]=e[n];return new fh(r,i)}function bge(r,e,t,i,n){if(i===0)return!0;let o=e.charCodeAt(i-1);if(r.get(o)!==0||o===13||o===10)return!0;if(n>0){let s=e.charCodeAt(i);if(r.get(s)!==0)return!0}return!1}function vge(r,e,t,i,n){if(i+n===t)return!0;let o=e.charCodeAt(i+n);if(r.get(o)!==0||o===13||o===10)return!0;if(n>0){let s=e.charCodeAt(i+n-1);if(r.get(s)!==0)return!0}return!1}function eN(r,e,t,i,n){return bge(r,e,t,i,n)&&vge(r,e,t,i,n)}var pge,ld,JO,P_,gh,WS=ue(()=>{Ye();sC();rt();Le();Rs();pge=999,ld=class{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=_ge(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=oO(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new mO(t,this.wordSeparators?ns(this.wordSeparators):null,i?this.searchString:null)}};JO=class{constructor(e){let t=[],i=0;for(let n=0,o=e.length;n<o;n++)e.charCodeAt(n)===10&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){let t=this._lineFeedsOffsets,i=0,n=t.length-1;if(n===-1||e<=t[0])return 0;for(;i<n;){let o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}},P_=class{static findMatches(e,t,i,n,o){let s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new gh(s.wordSeparators,s.regex),n,o):this._doFindMatchesLineByLine(e,i,s,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,s){let a,l=0;n?(l=n.findLineFeedCountBeforeOffset(o),a=t+o+l):a=t+o;let c;if(n){let f=n.findLineFeedCountBeforeOffset(o+s.length)-l;c=a+s.length+f}else c=a+s.length;let d=e.getPositionAt(a),h=e.getPositionAt(c);return new D(d.lineNumber,d.column,h.lineNumber,h.column)}static _doFindMatchesMultiline(e,t,i,n,o){let s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new JO(a):null,c=[],d=0,h;for(i.reset(0);h=i.next(a);)if(c[d++]=fm(this._getMultilineMatchRange(e,s,a,l,h.index,h[0]),h,n),d>=o)return c;return c}static _doFindMatchesLineByLine(e,t,i,n,o){let s=[],a=0;if(t.startLineNumber===t.endLineNumber){let c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,s,n,o),s}let l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,s,n,o);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<o;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,s,n,o);if(a<o){let c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,s,n,o)}return s}static _findMatchesInLine(e,t,i,n,o,s,a,l){let c=e.wordSeparators;if(!a&&e.simpleSearch){let u=e.simpleSearch,f=u.length,m=t.length,_=-f;for(;(_=t.indexOf(u,_+f))!==-1;)if((!c||eN(c,t,m,_,f))&&(s[o++]=new fh(new D(i,_+1+n,i,_+1+f+n),null),o>=l))return o;return o}let d=new gh(e.wordSeparators,e.regex),h;d.reset(0);do if(h=d.next(t),h&&(s[o++]=fm(new D(i,h.index+1+n,i,h.index+1+h[0].length+n),h,a),o>=l))return o;while(h);return o}static findNextMatch(e,t,i,n){let o=t.parseSearchRequest();if(!o)return null;let s=new gh(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,s,n):this._doFindNextMatchLineByLine(e,i,s,n)}static _doFindNextMatchMultiline(e,t,i,n){let o=new H(t.lineNumber,1),s=e.getOffsetAt(o),a=e.getLineCount(),l=e.getValueInRange(new D(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new JO(l):null;i.reset(t.column-1);let d=i.next(l);return d?fm(this._getMultilineMatchRange(e,s,l,c,d.index,d[0]),d,n):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new H(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){let o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),l=this._findFirstMatchInLine(i,a,s,t.column,n);if(l)return l;for(let c=1;c<=o;c++){let d=(s+c-1)%o,h=e.getLineContent(d+1),u=this._findFirstMatchInLine(i,h,d+1,1,n);if(u)return u}return null}static _findFirstMatchInLine(e,t,i,n,o){e.reset(n-1);let s=e.next(t);return s?fm(new D(i,s.index+1,i,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,i,n){let o=t.parseSearchRequest();if(!o)return null;let s=new gh(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,n):this._doFindPreviousMatchLineByLine(e,i,s,n)}static _doFindPreviousMatchMultiline(e,t,i,n){let o=this._doFindMatchesMultiline(e,new D(1,1,t.lineNumber,t.column),i,n,10*pge);if(o.length>0)return o[o.length-1];let s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new H(s,e.getLineMaxColumn(s)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){let o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,s,n);if(l)return l;for(let c=1;c<=o;c++){let d=(o+s-c-1)%o,h=e.getLineContent(d+1),u=this._findLastMatchInLine(i,h,d+1,n);if(u)return u}return null}static _findLastMatchInLine(e,t,i,n){let o=null,s;for(e.reset(0);s=e.next(t);)o=fm(new D(i,s.index+1,i,s.index+1+s[0].length),s,n);return o}};gh=class{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){let t=e.length,i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;let n=i.index,o=i[0].length;if(n===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){K0(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=n,this._prevMatchLength=o,!this._wordSeparators||eN(this._wordSeparators,e,t,n,o))return i}while(i);return null}}});var aC,iN,zS=ue(()=>{Xe();aC=We("textResourceConfigurationService"),iN=We("textResourcePropertiesService")});var Oo,mc,OZ,E7,nN,oN,pc=ue(()=>{Oe();se();Xe();Oo=We("logService");(function(r){r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warning=3]="Warning",r[r.Error=4]="Error",r[r.Critical=5]="Critical",r[r.Off=6]="Off"})(mc||(mc={}));OZ=mc.Info,E7=class extends ${constructor(){super(...arguments),this.level=OZ,this._onDidChangeLogLevel=this._register(new B)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}},nN=class extends E7{constructor(e=OZ){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=mc.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=mc.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=mc.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=mc.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}},oN=class extends ${constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}});var _e,oi=ue(()=>{Xe();_e=We("ILanguageFeaturesService")});var Uo,lC=ue(()=>{Uo=class{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){let t=this.getForeground(e),i="mtk"+t,n=this.getFontStyle(e);return n&1&&(i+=" mtki"),n&2&&(i+=" mtkb"),n&4&&(i+=" mtku"),n&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){let i=this.getForeground(e),n=this.getFontStyle(e),o=`color: ${t[i]};`;n&1&&(o+="font-style: italic;"),n&2&&(o+="font-weight: bold;");let s="";return n&4&&(s+=" underline"),n&8&&(s+=" line-through"),s&&(o+=`text-decoration:${s};`),o}static getPresentationFromMetadata(e){let t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:Boolean(i&1),bold:Boolean(i&2),underline:Boolean(i&4),strikethrough:Boolean(i&8)}}}});var tn,$S,mh=ue(()=>{lC();tn=class{constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}static createEmpty(e,t){let i=tn.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=e.length,n[1]=i,new tn(n,e,t)}equals(e){return e instanceof tn?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;let n=t<<1,o=n+(i<<1);for(let s=n;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){let t=this._tokens[(e<<1)+1],i=Uo.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){let t=this._tokens[(e<<1)+1];return Uo.getTokenType(t)}getForeground(e){let t=this._tokens[(e<<1)+1];return Uo.getForeground(t)}getClassName(e){let t=this._tokens[(e<<1)+1];return Uo.getClassNameFromMetadata(t)}getInlineStyle(e,t){let i=this._tokens[(e<<1)+1];return Uo.getInlineStyleFromMetadata(i,t)}getPresentation(e){let t=this._tokens[(e<<1)+1];return Uo.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return tn.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new $S(this,e,t,i)}static convertToEndOffset(e,t){let n=(e.length>>>1)-1;for(let o=0;o<n;o++)e[o<<1]=e[o+1<<1];e[n<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){let o=i+Math.floor((n-i)/2),s=e[o<<1];if(s===t)return o+1;s<t?i=o+1:s>t&&(n=o)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,n="",o=new Array,s=0;for(;;){let a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){n+=this._text.substring(s,a);let c=this._tokens[(t<<1)+1];o.push(n.length,c),t++,s=a}else if(l){if(l.offset>s){n+=this._text.substring(s,l.offset);let c=this._tokens[(t<<1)+1];o.push(n.length,c),s=l.offset}n+=l.text,o.push(n.length,l.tokenMetadata),i++}else break}return new tn(new Uint32Array(o),n,this._languageIdCodec)}};tn.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;$S=class{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,s=e.getCount();o<s&&!(e.getStartOffset(o)>=i);o++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof $S?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){let t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}});var Ho,aN,cC,lN,dC=ue(()=>{Ye();Ho=class{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){let i=e.length,n=t.length;if(i!==n)return!1;for(let o=0;o<i;o++)if(!Ho._equals(e[o],t[o]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;let n=t+1,o=i+1,s=i-t,a=[],l=0;for(let c of e)c.endColumn<=n||c.startColumn>=o||(a[l++]=new Ho(Math.max(1,c.startColumn-n+1),Math.min(s+1,c.endColumn-n+1),c.className,c.type));return a}static filter(e,t,i,n){if(e.length===0)return[];let o=[],s=0;for(let a=0,l=e.length;a<l;a++){let c=e[a],d=c.range;if(d.endLineNumber<t||d.startLineNumber>t||d.isEmpty()&&(c.type===0||c.type===3))continue;let h=d.startLineNumber===t?d.startColumn:i,u=d.endLineNumber===t?d.endColumn:n;o[s++]=new Ho(h,u,c.inlineClassName,c.type)}return o}static _typeCompare(e,t){let i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;let i=Ho._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}},aN=class{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}},cC=class{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let n=0;for(;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;i.push(new aN(t,this.stopOffsets[n],this.classNames.join(" "),cC._metadata(this.metadata))),t=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.metadata.splice(0,n+1),this.count-=n+1}return this.count>0&&t<e&&(i.push(new aN(t,e-1,this.classNames.join(" "),cC._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}},lN=class{static normalize(e,t){if(t.length===0)return[];let i=[],n=new cC,o=0;for(let s=0,a=t.length;s<a;s++){let l=t[s],c=l.startColumn,d=l.endColumn,h=l.className,u=l.type===1?2:l.type===2?4:0;if(c>1){let _=e.charCodeAt(c-2);ln(_)&&c--}if(d>1){let _=e.charCodeAt(d-2);ln(_)&&d--}let f=c-1,m=d-2;o=n.consumeLowerThan(f,o,i),n.count===0&&(o=f),n.insert(m,h,u)}return n.consumeLowerThan(1073741824,o,i),i}}});var co,AZ=ue(()=>{co=class{constructor(e,t,i,n){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=n,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}});function Ju(r,e){if(r.lineContent.length===0){if(r.lineDecorations.length>0){e.appendASCIIString("<span>");let t=0,i=0,n=0;for(let s of r.lineDecorations)(s.type===1||s.type===2)&&(e.appendASCIIString('<span class="'),e.appendASCIIString(s.className),e.appendASCIIString('"></span>'),s.type===1&&(n|=1,t++),s.type===2&&(n|=2,i++));e.appendASCIIString("</span>");let o=new _c(1,t+i);return o.setColumnInfo(1,t,0,0),new KS(o,!1,n)}return e.appendASCIIString("<span><span></span></span>"),new KS(new _c(0,0),!1,0)}return Ege(yge(r),e)}function uC(r){let e=Ya(1e4),t=Ju(r,e);return new A7(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}function yge(r){let e=r.lineContent,t,i;r.stopRenderingLineAfter!==-1&&r.stopRenderingLineAfter<e.length?(t=!0,i=r.stopRenderingLineAfter):(t=!1,i=e.length);let n=Sge(e,r.containsRTL,r.lineTokens,r.fauxIndentLength,i);r.renderControlCharacters&&!r.isBasicASCII&&(n=xge(e,n)),(r.renderWhitespace===4||r.renderWhitespace===1||r.renderWhitespace===2&&!!r.selectionsOnLine||r.renderWhitespace===3)&&(n=Dge(r,e,i,n));let o=0;if(r.lineDecorations.length>0){for(let s=0,a=r.lineDecorations.length;s<a;s++){let l=r.lineDecorations[s];l.type===3||l.type===1?o|=1:l.type===2&&(o|=2)}n=kge(e,i,n,r.lineDecorations)}return r.containsRTL||(n=Lge(e,n,!r.isBasicASCII||r.fontLigatures)),new M7(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,e,i,t,n,o,r.fauxIndentLength,r.tabSize,r.startVisibleColumn,r.containsRTL,r.spaceWidth,r.renderSpaceCharCode,r.renderWhitespace,r.renderControlCharacters)}function Sge(r,e,t,i,n){let o=[],s=0;i>0&&(o[s++]=new co(i,"",0,!1));let a=i;for(let l=0,c=t.getCount();l<c;l++){let d=t.getEndOffset(l);if(d<=i)continue;let h=t.getClassName(l);if(d>=n){let f=e?id(r.substring(a,n)):!1;o[s++]=new co(n,h,0,f);break}let u=e?id(r.substring(a,d)):!1;o[s++]=new co(d,h,0,u),a=d}return o}function Lge(r,e,t){let i=0,n=[],o=0;if(t)for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.endIndex;if(i+50<c){let d=l.type,h=l.metadata,u=l.containsRTL,f=-1,m=i;for(let _=i;_<c;_++)r.charCodeAt(_)===32&&(f=_),f!==-1&&_-m>=50&&(n[o++]=new co(f+1,d,h,u),m=f+1,f=-1);m!==c&&(n[o++]=new co(c,d,h,u))}else n[o++]=l;i=c}else for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.endIndex,d=c-i;if(d>50){let h=l.type,u=l.metadata,f=l.containsRTL,m=Math.ceil(d/50);for(let _=1;_<m;_++){let v=i+_*50;n[o++]=new co(v,h,u,f)}n[o++]=new co(c,h,u,f)}else n[o++]=l;i=c}return n}function MZ(r){return r<32?r!==9:r===127||r>=8234&&r<=8238||r>=8294&&r<=8297||r>=8206&&r<=8207||r===1564}function xge(r,e){let t=[],i=new co(0,"",0,!1),n=0;for(let o of e){let s=o.endIndex;for(;n<s;n++){let a=r.charCodeAt(n);MZ(a)&&(n>i.endIndex&&(i=new co(n,o.type,o.metadata,o.containsRTL),t.push(i)),i=new co(n+1,"mtkcontrol",o.metadata,!1),t.push(i))}n>i.endIndex&&(i=new co(s,o.type,o.metadata,o.containsRTL),t.push(i))}return t}function Dge(r,e,t,i){let n=r.continuesWithWrappedLine,o=r.fauxIndentLength,s=r.tabSize,a=r.startVisibleColumn,l=r.useMonospaceOptimizations,c=r.selectionsOnLine,d=r.renderWhitespace===1,h=r.renderWhitespace===3,u=r.renderSpaceWidth!==r.spaceWidth,f=[],m=0,_=0,v=i[_].type,w=i[_].containsRTL,y=i[_].endIndex,x=i.length,k=!1,N=En(e),M;N===-1?(k=!0,N=t,M=t):M=es(e);let I=!1,O=0,R=c&&c[O],K=a%s;for(let te=o;te<t;te++){let ie=e.charCodeAt(te);R&&te>=R.endOffset&&(O++,R=c&&c[O]);let xe;if(te<N||te>M)xe=!0;else if(ie===9)xe=!0;else if(ie===32)if(d)if(I)xe=!0;else{let Ae=te+1<t?e.charCodeAt(te+1):0;xe=Ae===32||Ae===9}else xe=!0;else xe=!1;if(xe&&c&&(xe=!!R&&R.startOffset<=te&&R.endOffset>te),xe&&h&&(xe=k||te>M),xe&&w&&te>=N&&te<=M&&(xe=!1),I){if(!xe||!l&&K>=s){if(u){let Ae=m>0?f[m-1].endIndex:o;for(let Re=Ae+1;Re<=te;Re++)f[m++]=new co(Re,"mtkw",1,!1)}else f[m++]=new co(te,"mtkw",1,!1);K=K%s}}else(te===y||xe&&te>o)&&(f[m++]=new co(te,v,0,w),K=K%s);for(ie===9?K=s:yl(ie)?K+=2:K++,I=xe;te===y&&(_++,_<x);)v=i[_].type,w=i[_].containsRTL,y=i[_].endIndex}let q=!1;if(I)if(n&&d){let te=t>0?e.charCodeAt(t-1):0,ie=t>1?e.charCodeAt(t-2):0;te===32&&ie!==32&&ie!==9||(q=!0)}else q=!0;if(q)if(u){let te=m>0?f[m-1].endIndex:o;for(let ie=te+1;ie<=t;ie++)f[m++]=new co(ie,"mtkw",1,!1)}else f[m++]=new co(t,"mtkw",1,!1);else f[m++]=new co(t,v,0,w);return f}function kge(r,e,t,i){i.sort(Ho.compare);let n=lN.normalize(r,i),o=n.length,s=0,a=[],l=0,c=0;for(let h=0,u=t.length;h<u;h++){let f=t[h],m=f.endIndex,_=f.type,v=f.metadata,w=f.containsRTL;for(;s<o&&n[s].startOffset<m;){let y=n[s];if(y.startOffset>c&&(c=y.startOffset,a[l++]=new co(c,_,v,w)),y.endOffset+1<=m)c=y.endOffset+1,a[l++]=new co(c,_+" "+y.className,v|y.metadata,w),s++;else{c=m,a[l++]=new co(c,_+" "+y.className,v|y.metadata,w);break}}m>c&&(c=m,a[l++]=new co(c,_,v,w))}let d=t[t.length-1].endIndex;if(s<o&&n[s].startOffset===d)for(;s<o&&n[s].startOffset===d;){let h=n[s];a[l++]=new co(c,h.className,h.metadata,!1),s++}return a}function Ege(r,e){let t=r.fontIsMonospace,i=r.canUseHalfwidthRightwardsArrow,n=r.containsForeignElements,o=r.lineContent,s=r.len,a=r.isOverflowing,l=r.parts,c=r.fauxIndentLength,d=r.tabSize,h=r.startVisibleColumn,u=r.containsRTL,f=r.spaceWidth,m=r.renderSpaceCharCode,_=r.renderWhitespace,v=r.renderControlCharacters,w=new _c(s+1,l.length),y=!1,x=0,k=h,N=0,M=0,I=0;u?e.appendASCIIString('<span dir="ltr">'):e.appendASCIIString("<span>");for(let O=0,R=l.length;O<R;O++){let K=l[O],q=K.endIndex,te=K.type,ie=K.containsRTL,xe=_!==0&&K.isWhitespace(),Ae=xe&&!t&&(te==="mtkw"||!n),Re=x===q&&K.isPseudoAfter();if(N=0,e.appendASCIIString("<span "),ie&&e.appendASCIIString('style="unicode-bidi:isolate" '),e.appendASCIIString('class="'),e.appendASCIIString(Ae?"mtkz":te),e.appendASCII(34),xe){let Ve=0;{let nt=x,Dt=k;for(;nt<q;nt++){let Ei=(o.charCodeAt(nt)===9?d-Dt%d:1)|0;Ve+=Ei,nt>=c&&(Dt+=Ei)}}for(Ae&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(f*Ve)),e.appendASCIIString('px"')),e.appendASCII(62);x<q;x++){w.setColumnInfo(x+1,O-I,N,M),I=0;let nt=o.charCodeAt(x),Dt,Si;if(nt===9){Dt=d-k%d|0,Si=Dt,!i||Si>1?e.write1(8594):e.write1(65515);for(let Ei=2;Ei<=Si;Ei++)e.write1(160)}else Dt=2,Si=1,e.write1(m),e.write1(8204);N+=Dt,M+=Si,x>=c&&(k+=Si)}}else for(e.appendASCII(62);x<q;x++){w.setColumnInfo(x+1,O-I,N,M),I=0;let Ve=o.charCodeAt(x),nt=1,Dt=1;switch(Ve){case 9:nt=d-k%d,Dt=nt;for(let Si=1;Si<=nt;Si++)e.write1(160);break;case 32:e.write1(160);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:v?e.write1(9216):e.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.write1(65533);break;default:yl(Ve)&&Dt++,v&&Ve<32?e.write1(9216+Ve):v&&Ve===127?e.write1(9249):v&&MZ(Ve)?(e.appendASCIIString("[U+"),e.appendASCIIString(Ige(Ve)),e.appendASCIIString("]"),nt=8,Dt=nt):e.write1(Ve)}N+=nt,M+=Dt,x>=c&&(k+=Dt)}Re?I++:I=0,x>=s&&!y&&K.isPseudoAfter()&&(y=!0,w.setColumnInfo(x+1,O,N,M)),e.appendASCIIString("</span>")}return y||w.setColumnInfo(s+1,l.length-1,N,M),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new KS(w,u,n)}function Ige(r){return r.toString(16).toUpperCase().padStart(4,"0")}var cN,js,hC,_c,KS,A7,M7,F_=ue(()=>{Ye();Zu();dC();AZ();cN=class{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}},js=class{constructor(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_,v,w,y,x){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(Ho.compare),this.tabSize=d,this.startVisibleColumn=h,this.spaceWidth=u,this.stopRenderingLineAfter=_,this.renderWhitespace=v==="all"?4:v==="boundary"?1:v==="selection"?2:v==="trailing"?3:0,this.renderControlCharacters=w,this.fontLigatures=y,this.selectionsOnLine=x&&x.sort((M,I)=>M.startOffset<I.startOffset?-1:1);let k=Math.abs(m-u),N=Math.abs(f-u);k<N?(this.renderSpaceWidth=m,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=f,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&Ho.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}},hC=class{constructor(e,t){this.partIndex=e,this.charIndex=t}},_c=class{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}setColumnInfo(e,t,i,n){let o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._horizontalOffset[e-1]=n}getHorizontalOffset(e){return this._horizontalOffset.length===0?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){let t=this.charOffsetToPartData(e-1),i=_c.getPartIndex(t),n=_c.getCharIndex(t);return new hC(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;let n=(e<<16|i<<0)>>>0,o=0,s=this.length-1;for(;o+1<s;){let _=o+s>>>1,v=this._data[_];if(v===n)return _;v>n?s=_:o=_}if(o===s)return o;let a=this._data[o],l=this._data[s];if(a===n)return o;if(l===n)return s;let c=_c.getPartIndex(a),d=_c.getCharIndex(a),h=_c.getPartIndex(l),u;c!==h?u=t:u=_c.getCharIndex(l);let f=i-d,m=u-i;return f<=m?o:s}},KS=class{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}};A7=class{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}};M7=class{constructor(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.parts=s,this.containsForeignElements=a,this.fauxIndentLength=l,this.tabSize=c,this.startVisibleColumn=d,this.containsRTL=h,this.spaceWidth=u,this.renderSpaceCharCode=f,this.renderWhitespace=m,this.renderControlCharacters=_}}});var _C,uN=ue(()=>{ur();At();_C={clipboard:{writeText:Ns||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Ns||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>Ns||LS()?0:navigator.keyboard||fa?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}});function ZS(r,e){if(r===0)return null;let t=(r&65535)>>>0,i=(r&4294901760)>>>16;return i!==0?new U_([V7(t,e),V7(i,e)]):new U_([V7(t,e)])}function V7(r,e){let t=!!(r&2048),i=!!(r&256),n=e===2?i:t,o=!!(r&1024),s=!!(r&512),a=e===2?t:i,l=r&255;return new El(n,o,s,a,l)}var El,U_,fN,gN,H_=ue(()=>{ut();El=class{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new U_([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},U_=class{constructor(e){if(e.length===0)throw gs("parts");this.parts=e}},fN=class{constructor(e,t,i,n,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=s}},gN=class{}});function Fge(r){if(r.charCode){let t=String.fromCharCode(r.charCode).toUpperCase();return Hu.fromString(t)}let e=r.keyCode;if(e===3)return 7;if(ao){if(e===59)return 80;if(e===107)return 81;if(e===109)return 83;if(at&&e===224)return 57}else if(cc){if(e===91)return 57;if(at&&e===93)return 57;if(!at&&e===92)return 57}return h3[e]||0}var Bge,jge,Wge,zge,Gt,bs=ue(()=>{ur();bl();H_();At();Bge=at?256:2048,jge=512,Wge=1024,zge=at?2048:256,Gt=class{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=Fge(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=Bge),this.altKey&&(t|=jge),this.shiftKey&&(t|=Wge),this.metaKey&&(t|=zge),t|=e,t}_computeRuntimeKeybinding(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new El(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}});function Vge(r){if(!r.parent||r.parent===r)return null;try{let e=r.location,t=r.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return UZ=!0,null}catch{return UZ=!0,null}return r.parent}var UZ,GS,mN,HZ=ue(()=>{UZ=!1,GS=null;mN=class{static getSameOriginWindowChain(){if(!GS){GS=[];let e=window,t;do t=Vge(e),t?GS.push({window:e,iframeElement:e.frameElement||null}):GS.push({window:e,iframeElement:null}),e=t;while(e)}return GS.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0,o=this.getSameOriginWindowChain();for(let s of o){if(i+=s.window.scrollY,n+=s.window.scrollX,s.window===t||!s.iframeElement)break;let a=s.iframeElement.getBoundingClientRect();i+=a.top,n+=a.left}return{top:i,left:n}}}});var Rr,bc,vc=ue(()=>{ur();HZ();At();Rr=class{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=mN.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},bc=class{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let n=e,o=e;if(typeof n.wheelDeltaY<"u")this.deltaY=n.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS<"u"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(e.type==="wheel"){let s=e;s.deltaMode===s.DOM_DELTA_LINE?ao&&!at?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof n.wheelDeltaX<"u")fa&&Ji?this.deltaX=-(n.wheelDeltaX/120):this.deltaX=n.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS<"u"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let s=e;s.deltaMode===s.DOM_DELTA_LINE?ao&&!at?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}});function Uge(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}function dd(r){return function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return bN(r,e,i)}}function Qge(r){return function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return q7(r,t)}}function Ni(r,e){$Z&&$Z(r,null);for(var t=e.length;t--;){var i=e[t];if(typeof i=="string"){var n=K_(i);n!==i&&($ge(e)||(e[t]=n),i=n)}r[i]=!0}return r}function $_(r){var e=Yge(null),t=void 0;for(t in r)bN(Hge,r,[t])&&(e[t]=r[t]);return e}function pN(r,e){for(;r!==null;){var t=qge(r,e);if(t){if(t.get)return dd(t.get);if(typeof t.value=="function")return dd(t.value)}r=Kge(r)}function i(n){return console.warn("fallback value for",n),null}return i}function vh(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}function eG(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lme(),e=function(ce){return eG(ce)};if(e.version="2.3.1",e.removed=[],!r||!r.document||r.document.nodeType!==9)return e.isSupported=!1,e;var t=r.document,i=r.document,n=r.DocumentFragment,o=r.HTMLTemplateElement,s=r.Node,a=r.Element,l=r.NodeFilter,c=r.NamedNodeMap,d=c===void 0?r.NamedNodeMap||r.MozNamedAttrMap:c,h=r.Text,u=r.Comment,f=r.DOMParser,m=r.trustedTypes,_=a.prototype,v=pN(_,"cloneNode"),w=pN(_,"nextSibling"),y=pN(_,"childNodes"),x=pN(_,"parentNode");if(typeof o=="function"){var k=i.createElement("template");k.content&&k.content.ownerDocument&&(i=k.content.ownerDocument)}var N=cme(m,t),M=N&&ku?N.createHTML(""):"",I=i,O=I.implementation,R=I.createNodeIterator,K=I.createDocumentFragment,q=I.getElementsByTagName,te=t.importNode,ie={};try{ie=$_(i).documentMode?i.documentMode:{}}catch{}var xe={};e.isSupported=typeof x=="function"&&O&&typeof O.createHTMLDocument<"u"&&ie!==9;var Ae=tme,Re=ime,Ve=nme,nt=ome,Dt=sme,Si=ame,Ei=rme,Be=null,He=Ni({},[].concat(vh(ZZ),vh(U7),vh(H7),vh($7),vh(GZ))),fi=null,rn=Ni({},[].concat(vh(XZ),vh(K7),vh(QZ),vh(_N))),G=null,Dr=null,qn=!0,ls=!0,Zr=!1,Et=!1,Ma=!1,cs=!1,Xl=!1,qe=!1,qc=!1,Du=!0,ku=!1,Yp=!0,de=!0,re=!1,ae={},j=null,V=Ni({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Q=null,Y=Ni({},["audio","video","img","source","image","track"]),fe=null,De=Ni({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml",jt=Ut,Bi=!1,pi=null,ht=i.createElement("form"),so=function(ce){pi&&pi===ce||((!ce||(typeof ce>"u"?"undefined":QS(ce))!=="object")&&(ce={}),ce=$_(ce),Be="ALLOWED_TAGS"in ce?Ni({},ce.ALLOWED_TAGS):He,fi="ALLOWED_ATTR"in ce?Ni({},ce.ALLOWED_ATTR):rn,fe="ADD_URI_SAFE_ATTR"in ce?Ni($_(De),ce.ADD_URI_SAFE_ATTR):De,Q="ADD_DATA_URI_TAGS"in ce?Ni($_(Y),ce.ADD_DATA_URI_TAGS):Y,j="FORBID_CONTENTS"in ce?Ni({},ce.FORBID_CONTENTS):V,G="FORBID_TAGS"in ce?Ni({},ce.FORBID_TAGS):{},Dr="FORBID_ATTR"in ce?Ni({},ce.FORBID_ATTR):{},ae="USE_PROFILES"in ce?ce.USE_PROFILES:!1,qn=ce.ALLOW_ARIA_ATTR!==!1,ls=ce.ALLOW_DATA_ATTR!==!1,Zr=ce.ALLOW_UNKNOWN_PROTOCOLS||!1,Et=ce.SAFE_FOR_TEMPLATES||!1,Ma=ce.WHOLE_DOCUMENT||!1,qe=ce.RETURN_DOM||!1,qc=ce.RETURN_DOM_FRAGMENT||!1,Du=ce.RETURN_DOM_IMPORT!==!1,ku=ce.RETURN_TRUSTED_TYPE||!1,Xl=ce.FORCE_BODY||!1,Yp=ce.SANITIZE_DOM!==!1,de=ce.KEEP_CONTENT!==!1,re=ce.IN_PLACE||!1,Ei=ce.ALLOWED_URI_REGEXP||Ei,jt=ce.NAMESPACE||Ut,Et&&(ls=!1),qc&&(qe=!0),ae&&(Be=Ni({},[].concat(vh(GZ))),fi=[],ae.html===!0&&(Ni(Be,ZZ),Ni(fi,XZ)),ae.svg===!0&&(Ni(Be,U7),Ni(fi,K7),Ni(fi,_N)),ae.svgFilters===!0&&(Ni(Be,H7),Ni(fi,K7),Ni(fi,_N)),ae.mathMl===!0&&(Ni(Be,$7),Ni(fi,QZ),Ni(fi,_N))),ce.ADD_TAGS&&(Be===He&&(Be=$_(Be)),Ni(Be,ce.ADD_TAGS)),ce.ADD_ATTR&&(fi===rn&&(fi=$_(fi)),Ni(fi,ce.ADD_ATTR)),ce.ADD_URI_SAFE_ATTR&&Ni(fe,ce.ADD_URI_SAFE_ATTR),ce.FORBID_CONTENTS&&(j===V&&(j=$_(j)),Ni(j,ce.FORBID_CONTENTS)),de&&(Be["#text"]=!0),Ma&&Ni(Be,["html","head","body"]),Be.table&&(Ni(Be,["tbody"]),delete G.tbody),pa&&pa(ce),pi=ce)},zn=Ni({},["mi","mo","mn","ms","mtext"]),ta=Ni({},["foreignobject","desc","title","annotation-xml"]),An=Ni({},U7);Ni(An,H7),Ni(An,Jge);var So=Ni({},$7);Ni(So,eme);var Qd=function(ce){var Ue=x(ce);(!Ue||!Ue.tagName)&&(Ue={namespaceURI:Ut,tagName:"template"});var It=K_(ce.tagName),Hi=K_(Ue.tagName);if(ce.namespaceURI===Qe)return Ue.namespaceURI===Ut?It==="svg":Ue.namespaceURI===dt?It==="svg"&&(Hi==="annotation-xml"||zn[Hi]):Boolean(An[It]);if(ce.namespaceURI===dt)return Ue.namespaceURI===Ut?It==="math":Ue.namespaceURI===Qe?It==="math"&&ta[Hi]:Boolean(So[It]);if(ce.namespaceURI===Ut){if(Ue.namespaceURI===Qe&&!ta[Hi]||Ue.namespaceURI===dt&&!zn[Hi])return!1;var sr=Ni({},["title","style","font","a","script"]);return!So[It]&&(sr[It]||!An[It])}return!1},ia=function(ce){XS(e.removed,{element:ce});try{ce.parentNode.removeChild(ce)}catch{try{ce.outerHTML=M}catch{ce.remove()}}},fl=function(ce,Ue){try{XS(e.removed,{attribute:Ue.getAttributeNode(ce),from:Ue})}catch{XS(e.removed,{attribute:null,from:Ue})}if(Ue.removeAttribute(ce),ce==="is"&&!fi[ce])if(qe||qc)try{ia(Ue)}catch{}else try{Ue.setAttribute(ce,"")}catch{}},Mn=function(ce){var Ue=void 0,It=void 0;if(Xl)ce="<remove></remove>"+ce;else{var Hi=qZ(ce,/^[\r\n\t ]+/);It=Hi&&Hi[0]}var sr=N?N.createHTML(ce):ce;if(jt===Ut)try{Ue=new f().parseFromString(sr,"text/html")}catch{}if(!Ue||!Ue.documentElement){Ue=O.createDocument(jt,"template",null);try{Ue.documentElement.innerHTML=Bi?"":sr}catch{}}var Er=Ue.body||Ue.documentElement;return ce&&It&&Er.insertBefore(i.createTextNode(It),Er.childNodes[0]||null),jt===Ut?q.call(Ue,Ma?"html":"body")[0]:Ma?Ue.documentElement:Er},kr=function(ce){return R.call(ce.ownerDocument||ce,ce,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},na=function(ce){return ce instanceof h||ce instanceof u?!1:typeof ce.nodeName!="string"||typeof ce.textContent!="string"||typeof ce.removeChild!="function"||!(ce.attributes instanceof d)||typeof ce.removeAttribute!="function"||typeof ce.setAttribute!="function"||typeof ce.namespaceURI!="string"||typeof ce.insertBefore!="function"},Jd=function(ce){return(typeof s>"u"?"undefined":QS(s))==="object"?ce instanceof s:ce&&(typeof ce>"u"?"undefined":QS(ce))==="object"&&typeof ce.nodeType=="number"&&typeof ce.nodeName=="string"},Wt=function(ce,Ue,It){!xe[ce]||Zge(xe[ce],function(Hi){Hi.call(e,Ue,It,pi)})},Yn=function(ce){var Ue=void 0;if(Wt("beforeSanitizeElements",ce,null),na(ce)||qZ(ce.nodeName,/[\u0080-\uFFFF]/))return ia(ce),!0;var It=K_(ce.nodeName);if(Wt("uponSanitizeElement",ce,{tagName:It,allowedTags:Be}),!Jd(ce.firstElementChild)&&(!Jd(ce.content)||!Jd(ce.content.firstElementChild))&&tf(/<[/\w]/g,ce.innerHTML)&&tf(/<[/\w]/g,ce.textContent)||It==="select"&&tf(/<template/i,ce.innerHTML))return ia(ce),!0;if(!Be[It]||G[It]){if(de&&!j[It]){var Hi=x(ce)||ce.parentNode,sr=y(ce)||ce.childNodes;if(sr&&Hi)for(var Er=sr.length,Ir=Er-1;Ir>=0;--Ir)Hi.insertBefore(v(sr[Ir],!0),w(ce))}return ia(ce),!0}return ce instanceof a&&!Qd(ce)||(It==="noscript"||It==="noembed")&&tf(/<\/no(script|embed)/i,ce.innerHTML)?(ia(ce),!0):(Et&&ce.nodeType===3&&(Ue=ce.textContent,Ue=pm(Ue,Ae," "),Ue=pm(Ue,Re," "),ce.textContent!==Ue&&(XS(e.removed,{element:ce.cloneNode()}),ce.textContent=Ue)),Wt("afterSanitizeElements",ce,null),!1)},Eu=function(ce,Ue,It){if(Yp&&(Ue==="id"||Ue==="name")&&(It in i||It in ht))return!1;if(!(ls&&!Dr[Ue]&&tf(Ve,Ue))){if(!(qn&&tf(nt,Ue))){if(!fi[Ue]||Dr[Ue])return!1;if(!fe[Ue]){if(!tf(Ei,pm(It,Si,""))){if(!((Ue==="src"||Ue==="xlink:href"||Ue==="href")&&ce!=="script"&&Gge(It,"data:")===0&&Q[ce])){if(!(Zr&&!tf(Dt,pm(It,Si,"")))){if(It)return!1}}}}}}return!0},vg=function(ce){var Ue=void 0,It=void 0,Hi=void 0,sr=void 0;Wt("beforeSanitizeAttributes",ce,null);var Er=ce.attributes;if(!!Er){var Ir={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fi};for(sr=Er.length;sr--;){Ue=Er[sr];var eh=Ue,Cg=eh.name,n0=eh.namespaceURI;if(It=Xge(Ue.value),Hi=K_(Cg),Ir.attrName=Hi,Ir.attrValue=It,Ir.keepAttr=!0,Ir.forceKeepAttr=void 0,Wt("uponSanitizeAttribute",ce,Ir),It=Ir.attrValue,!Ir.forceKeepAttr&&(fl(Cg,ce),!!Ir.keepAttr)){if(tf(/\/>/i,It)){fl(Cg,ce);continue}Et&&(It=pm(It,Ae," "),It=pm(It,Re," "));var aE=ce.nodeName.toLowerCase();if(!!Eu(aE,Hi,It))try{n0?ce.setAttributeNS(n0,Cg,It):ce.setAttribute(Cg,It),KZ(e.removed)}catch{}}}Wt("afterSanitizeAttributes",ce,null)}},p4=function zt(ce){var Ue=void 0,It=kr(ce);for(Wt("beforeSanitizeShadowDOM",ce,null);Ue=It.nextNode();)Wt("uponSanitizeShadowNode",Ue,null),!Yn(Ue)&&(Ue.content instanceof n&&zt(Ue.content),vg(Ue));Wt("afterSanitizeShadowDOM",ce,null)};return e.sanitize=function(zt,ce){var Ue=void 0,It=void 0,Hi=void 0,sr=void 0,Er=void 0;if(Bi=!zt,Bi&&(zt="<!-->"),typeof zt!="string"&&!Jd(zt)){if(typeof zt.toString!="function")throw YZ("toString is not a function");if(zt=zt.toString(),typeof zt!="string")throw YZ("dirty is not a string, aborting")}if(!e.isSupported){if(QS(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof zt=="string")return r.toStaticHTML(zt);if(Jd(zt))return r.toStaticHTML(zt.outerHTML)}return zt}if(cs||so(ce),e.removed=[],typeof zt=="string"&&(re=!1),!re)if(zt instanceof s)Ue=Mn("<!---->"),It=Ue.ownerDocument.importNode(zt,!0),It.nodeType===1&&It.nodeName==="BODY"||It.nodeName==="HTML"?Ue=It:Ue.appendChild(It);else{if(!qe&&!Et&&!Ma&&zt.indexOf("<")===-1)return N&&ku?N.createHTML(zt):zt;if(Ue=Mn(zt),!Ue)return qe?null:M}Ue&&Xl&&ia(Ue.firstChild);for(var Ir=kr(re?zt:Ue);Hi=Ir.nextNode();)Hi.nodeType===3&&Hi===sr||Yn(Hi)||(Hi.content instanceof n&&p4(Hi.content),vg(Hi),sr=Hi);if(sr=null,re)return zt;if(qe){if(qc)for(Er=K.call(Ue.ownerDocument);Ue.firstChild;)Er.appendChild(Ue.firstChild);else Er=Ue;return Du&&(Er=te.call(t,Er,!0)),Er}var eh=Ma?Ue.outerHTML:Ue.innerHTML;return Et&&(eh=pm(eh,Ae," "),eh=pm(eh,Re," ")),N&&ku?N.createHTML(eh):eh},e.setConfig=function(zt){so(zt),cs=!0},e.clearConfig=function(){pi=null,cs=!1},e.isValidAttribute=function(zt,ce,Ue){pi||so({});var It=K_(zt),Hi=K_(ce);return Eu(It,Hi,Ue)},e.addHook=function(zt,ce){typeof ce=="function"&&(xe[zt]=xe[zt]||[],XS(xe[zt],ce))},e.removeHook=function(zt){xe[zt]&&KZ(xe[zt])},e.removeHooks=function(zt){xe[zt]&&(xe[zt]=[])},e.removeAllHooks=function(){xe={}},e}var Hge,$Z,$ge,Kge,qge,pa,nf,Yge,JZ,bN,q7,Zge,KZ,XS,K_,qZ,pm,Gge,Xge,tf,YZ,ZZ,U7,H7,Jge,$7,eme,GZ,XZ,K7,QZ,_N,tme,ime,nme,ome,rme,sme,ame,QS,lme,cme,Ch,L5e,x5e,tG,D5e,k5e,E5e,vN,CN,I5e,O5e,Y7=ue(()=>{Hge=Object.hasOwnProperty,$Z=Object.setPrototypeOf,$ge=Object.isFrozen,Kge=Object.getPrototypeOf,qge=Object.getOwnPropertyDescriptor,pa=Object.freeze,nf=Object.seal,Yge=Object.create,JZ=typeof Reflect<"u"&&Reflect,bN=JZ.apply,q7=JZ.construct;bN||(bN=function(e,t,i){return e.apply(t,i)});pa||(pa=function(e){return e});nf||(nf=function(e){return e});q7||(q7=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(Uge(t))))});Zge=dd(Array.prototype.forEach),KZ=dd(Array.prototype.pop),XS=dd(Array.prototype.push),K_=dd(String.prototype.toLowerCase),qZ=dd(String.prototype.match),pm=dd(String.prototype.replace),Gge=dd(String.prototype.indexOf),Xge=dd(String.prototype.trim),tf=dd(RegExp.prototype.test),YZ=Qge(TypeError);ZZ=pa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U7=pa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H7=pa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Jge=pa(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$7=pa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),eme=pa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),GZ=pa(["#text"]),XZ=pa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),K7=pa(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QZ=pa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_N=pa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tme=nf(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ime=nf(/<%[\s\S]*|[\s\S]*%>/gm),nme=nf(/^data-[\-\w.\u00B7-\uFFFF]/),ome=nf(/^aria-[\-\w]+$/),rme=nf(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sme=nf(/^(?:\w+script|data):/i),ame=nf(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),QS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};lme=function(){return typeof window>"u"?null:window},cme=function(e,t){if((typeof e>"u"?"undefined":QS(e))!=="object"||typeof e.createPolicy!="function")return null;var i=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(i=t.currentScript.getAttribute(n));var o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};Ch=eG(),L5e=Ch.version,x5e=Ch.isSupported,tG=Ch.sanitize,D5e=Ch.setConfig,k5e=Ch.clearConfig,E5e=Ch.isValidAttribute,vN=Ch.addHook,CN=Ch.removeHook,I5e=Ch.removeHooks,O5e=Ch.removeAllHooks});var lt,dme,Z7,G7,q_,wN,Ws=ue(()=>{At();vi();(function(r){r.inMemory="inmemory",r.vscode="vscode",r.internal="private",r.walkThrough="walkThrough",r.walkThroughSnippet="walkThroughSnippet",r.http="http",r.https="https",r.file="file",r.mailto="mailto",r.untitled="untitled",r.data="data",r.command="command",r.vscodeRemote="vscode-remote",r.vscodeRemoteResource="vscode-remote-resource",r.vscodeUserData="vscode-userdata",r.vscodeCustomEditor="vscode-custom-editor",r.vscodeNotebook="vscode-notebook",r.vscodeNotebookCell="vscode-notebook-cell",r.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",r.vscodeNotebookCellOutput="vscode-notebook-cell-output",r.vscodeInteractive="vscode-interactive",r.vscodeInteractiveInput="vscode-interactive-input",r.vscodeSettings="vscode-settings",r.vscodeWorkspaceTrust="vscode-workspace-trust",r.vscodeTerminal="vscode-terminal",r.webviewPanel="webview-panel",r.vscodeWebview="vscode-webview",r.extension="extension",r.vscodeFileResource="vscode-file",r.tmp="tmp",r.vsls="vsls",r.vscodeSourceControl="vscode-scm"})(lt||(lt={}));dme="tkn",Z7=class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${lt.vscodeRemoteResource}`}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);let t=e.authority,i=this._hosts[t];i&&i.indexOf(":")!==-1&&(i=`[${i}]`);let n=this._ports[t],o=this._connectionTokens[t],s=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(s+=`&${dme}=${encodeURIComponent(o)}`),Ee.from({scheme:ja?this._preferredWebSchema:lt.vscodeRemoteResource,authority:`${i}:${n}`,path:this._remoteResourcesPath,query:s})}},G7=new Z7,q_=class{asBrowserUri(e,t){let i=this.toUri(e,t);return i.scheme===lt.vscodeRemote?G7.rewrite(i):i.scheme===lt.file&&(Ns||Xq&&Qi.origin===`${lt.vscodeFileResource}://${q_.FALLBACK_AUTHORITY}`)?i.with({scheme:lt.vscodeFileResource,authority:i.authority||q_.FALLBACK_AUTHORITY,query:null,fragment:null}):i}toUri(e,t){return Ee.isUri(e)?e:Ee.parse(t.toUrl(e))}};q_.FALLBACK_AUTHORITY="vscode-app";wN=new q_});function Yi(r){for(;r.firstChild;)r.firstChild.remove()}function vC(r){var e;return(e=r?.isConnected)!==null&&e!==void 0?e:!1}function ne(r,e,t,i){return new yN(r,e,t,i)}function nG(r){return function(e){return r(new Rr(e))}}function hme(r){return function(e){return r(new Gt(e))}}function ume(r,e,t){return ne(r,sa&&_C.pointerEvents?ye.POINTER_DOWN:ye.MOUSE_DOWN,e,t)}function Cc(r,e,t){let i=null,n=l=>a.fire(l),o=()=>{i||(i=new yN(r,e,n,t))},s=()=>{i&&(i.dispose(),i=null)},a=new B({onFirstListenerAdd:o,onLastListenerRemove:s});return a}function fme(r){if(!X7){let e=t=>setTimeout(()=>t(new Date().getTime()),0);X7=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}return X7.call(self,r)}function tL(r){return document.defaultView.getComputedStyle(r,null)}function _m(r){if(r!==document.body)return new gi(r.clientWidth,r.clientHeight);if(sa&&window.visualViewport)return new gi(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new gi(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new gi(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new gi(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}function LN(r){let e=r.offsetParent,t=r.offsetTop,i=r.offsetLeft;for(;(r=r.parentNode)!==null&&r!==document.body&&r!==document.documentElement;){t-=r.scrollTop;let n=lG(r)?null:tL(r);n&&(i-=n.direction!=="rtl"?r.scrollLeft:-r.scrollLeft),r===e&&(i+=Nn.getBorderLeftWidth(r),t+=Nn.getBorderTopWidth(r),t+=r.offsetTop,i+=r.offsetLeft,e=r.offsetParent)}return{left:i,top:t}}function rG(r,e,t){typeof e=="number"&&(r.style.width=`${e}px`),typeof t=="number"&&(r.style.height=`${t}px`)}function dn(r){let e=r.getBoundingClientRect();return{left:e.left+hd.scrollX,top:e.top+hd.scrollY,width:e.width,height:e.height}}function sG(r){let e=r,t=1;do{let i=tL(e).zoom;i!=null&&i!=="1"&&(t*=i),e=e.parentElement}while(e!==null&&e!==document.documentElement);return t}function _a(r){let e=Nn.getMarginLeft(r)+Nn.getMarginRight(r);return r.offsetWidth+e}function xN(r){let e=Nn.getBorderLeftWidth(r)+Nn.getBorderRightWidth(r),t=Nn.getPaddingLeft(r)+Nn.getPaddingRight(r);return r.offsetWidth-e-t}function aG(r){let e=Nn.getBorderTopWidth(r)+Nn.getBorderBottomWidth(r),t=Nn.getPaddingTop(r)+Nn.getPaddingBottom(r);return r.offsetHeight-e-t}function iL(r){let e=Nn.getMarginTop(r)+Nn.getMarginBottom(r);return r.offsetHeight+e}function wc(r,e){for(;r;){if(r===e)return!0;r=r.parentNode}return!1}function e8(r,e,t){for(;r&&r.nodeType===r.ELEMENT_NODE;){if(r.classList.contains(e))return r;if(t){if(typeof t=="string"){if(r.classList.contains(t))return null}else if(r===t)return null}r=r.parentNode}return null}function DN(r,e,t){return!!e8(r,e,t)}function lG(r){return r&&!!r.host&&!!r.mode}function of(r){return!!ud(r)}function ud(r){for(;r.parentNode;){if(r===document.body)return null;r=r.parentNode}return lG(r)?r:null}function bm(){let r=document.activeElement;for(;r?.shadowRoot;)r=r.shadowRoot.activeElement;return r}function No(r=document.getElementsByTagName("head")[0]){let e=document.createElement("style");return e.type="text/css",e.media="screen",r.appendChild(e),e}function cG(){return Q7||(Q7=No()),Q7}function gme(r){var e,t;return!((e=r?.sheet)===null||e===void 0)&&e.rules?r.sheet.rules:!((t=r?.sheet)===null||t===void 0)&&t.cssRules?r.sheet.cssRules:[]}function nL(r,e,t=cG()){!t||!e||t.sheet.insertRule(r+"{"+e+"}",0)}function t8(r,e=cG()){if(!e)return;let t=gme(e),i=[];for(let n=0;n<t.length;n++)t[n].selectorText.indexOf(r)!==-1&&i.push(n);for(let n=i.length-1;n>=0;n--)e.sheet.deleteRule(i[n])}function kN(r){return typeof HTMLElement=="object"?r instanceof HTMLElement:r&&typeof r=="object"&&r.nodeType===1&&typeof r.nodeName=="string"}function dG(r){let e=[];for(let t=0;r&&r.nodeType===r.ELEMENT_NODE;t++)e[t]=r.scrollTop,r=r.parentNode;return e}function hG(r,e){for(let t=0;r&&r.nodeType===r.ELEMENT_NODE;t++)r.scrollTop!==e[t]&&(r.scrollTop=e[t]),r=r.parentNode}function Ol(r){return new bC(r)}function oe(r,...e){if(r.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function uG(r,e){return r.insertBefore(e,r.firstChild),e}function yc(r,...e){r.innerText="",oe(r,...e)}function fG(r,e,t,...i){let n=mme.exec(e);if(!n)throw new Error("Bad use of emmet");t=Object.assign({},t||{});let o=n[1]||"div",s;return r!==eL.HTML?s=document.createElementNS(r,o):s=document.createElement(o),n[3]&&(s.id=n[3]),n[4]&&(s.className=n[4].replace(/\./g," ").trim()),Object.keys(t).forEach(a=>{let l=t[a];typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...i),s}function he(r,e,...t){return fG(eL.HTML,r,e,...t)}function Jo(...r){for(let e of r)e.style.display="",e.removeAttribute("aria-hidden")}function $o(...r){for(let e of r)e.style.display="none",e.setAttribute("aria-hidden","true")}function gG(r){return Array.prototype.slice.call(document.getElementsByTagName(r),0)}function i8(r){let e=window.devicePixelRatio*r;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function EN(r){window.open(r,"_blank","noopener")}function mG(r){let e=()=>{r(),t=zs(e)},t=zs(e);return Ke(()=>t.dispose())}function wh(r){return r?`url('${wN.asBrowserUri(r).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function n8(r){return`'${r.replace(/'/g,"%27")}'`}function pG(r,e=!1){let t=document.createElement("a");return vN("afterSanitizeAttributes",i=>{for(let n of["href","src"])if(i.hasAttribute(n)){let o=i.getAttribute(n);if(n==="href"&&o.startsWith("#"))continue;if(t.href=o,!r.includes(t.protocol.replace(/:$/,""))){if(e&&n==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(n)}}}),Ke(()=>{CN("afterSanitizeAttributes")})}var yN,Ti,oG,X7,J7,zs,JS,Nn,gi,hd,Q7,ye,Xt,bC,mme,eL,Il,SN,Fe=ue(()=>{ur();uN();bs();vc();ut();Oe();Y7();se();Ws();At();yN=class{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};Ti=function(e,t,i,n){let o=i;return t==="click"||t==="mousedown"?o=nG(i):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=hme(i)),ne(e,t,o,n)},oG=function(e,t,i){let n=nG(t);return ume(e,n,i)};X7=null;JS=class{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Pe(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let r=[],e=null,t=!1,i=!1,n=()=>{for(t=!1,e=r,r=[],i=!0;e.length>0;)e.sort(JS.sort),e.shift().execute();i=!1};zs=(o,s=0)=>{let a=new JS(o,s);return r.push(a),t||(t=!0,fme(n)),a},J7=(o,s)=>{if(i){let a=new JS(o,s);return e.push(a),a}else return zs(o,s)}})();Nn=class{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let n=tL(e),o="0";return n&&(n.getPropertyValue?o=n.getPropertyValue(t):o=n.getAttribute(i)),Nn.convertToPixels(e,o)}static getBorderLeftWidth(e){return Nn.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return Nn.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return Nn.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return Nn.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return Nn.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return Nn.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return Nn.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return Nn.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return Nn.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return Nn.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return Nn.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return Nn.getDimension(e,"margin-bottom","marginBottom")}},gi=class{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new gi(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof gi?e:new gi(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};gi.None=new gi(0,0);hd=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};Q7=null;ye={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:cc?"webkitAnimationStart":"animationstart",ANIMATION_END:cc?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:cc?"webkitAnimationIteration":"animationiteration"},Xt={stop:function(r,e){r.preventDefault?r.preventDefault():r.returnValue=!1,e&&(r.stopPropagation?r.stopPropagation():r.cancelBubble=!0)}};bC=class extends ${constructor(e){super(),this._onDidFocus=this._register(new B),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new B),this.onDidBlur=this._onDidBlur.event;let t=bC.hasFocusWithin(e),i=!1,n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{bC.hasFocusWithin(e)!==t&&(t?o():n())},this._register(ne(e,ye.FOCUS,n,!0)),this._register(ne(e,ye.BLUR,o,!0)),this._register(ne(e,ye.FOCUS_IN,()=>this._refreshStateHandler())),this._register(ne(e,ye.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(e){let t=ud(e),i=t?t.activeElement:document.activeElement;return wc(i,e)}};mme=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;(function(r){r.HTML="http://www.w3.org/1999/xhtml",r.SVG="http://www.w3.org/2000/svg"})(eL||(eL={}));he.SVG=function(r,e,...t){return fG(eL.SVG,r,e,...t)};G7.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");Il=class extends B{constructor(){super(),this._subscriptions=new J,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(ne(window,"keydown",e=>{if(e.defaultPrevented)return;let t=new Gt(e);if(!(t.keyCode===6&&e.repeat)){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(t.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(ne(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(ne(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(ne(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(ne(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(ne(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Il.instance||(Il.instance=new Il),Il.instance}dispose(){super.dispose(),this._subscriptions.dispose()}},SN=class extends ${constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(ne(this.element,ye.DRAG_ENTER,e=>{this.counter++,this.dragStartTime=e.timeStamp,this.callbacks.onDragEnter(e)})),this._register(ne(this.element,ye.DRAG_OVER,e=>{var t,i;e.preventDefault(),(i=(t=this.callbacks).onDragOver)===null||i===void 0||i.call(t,e,e.timeStamp-this.dragStartTime)})),this._register(ne(this.element,ye.DRAG_LEAVE,e=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(e))})),this._register(ne(this.element,ye.DRAG_END,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(e)})),this._register(ne(this.element,ye.DROP,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(e)}))}}});var _G=ue(()=>{});function vG(r){Y_=document.createElement("div"),Y_.className="monaco-aria-container";let e=()=>{let i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),Y_.appendChild(i),i};IN=e(),o8=e();let t=()=>{let i=document.createElement("div");return i.className="monaco-status",i.setAttribute("role","complementary"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),Y_.appendChild(i),i};ON=t(),r8=t(),r.appendChild(Y_)}function Tn(r){!Y_||(IN.textContent!==r?(Yi(o8),NN(IN,r)):(Yi(IN),NN(o8,r)))}function Z_(r){!Y_||(at?Tn(r):ON.textContent!==r?(Yi(r8),NN(ON,r)):(Yi(ON),NN(r8,r)))}function NN(r,e){Yi(r),e.length>bG&&(e=e.substr(0,bG)),r.textContent=e,r.style.visibility="hidden",r.style.visibility="visible"}var bG,Y_,IN,o8,ON,r8,Vs=ue(()=>{Fe();At();_G();bG=2e4});var Fn,Ga=ue(()=>{Xe();Fn=We("textModelService")});function a8(r){var e,t;return{id:r.id,label:r.label,class:void 0,enabled:(e=r.enabled)!==null&&e!==void 0?e:!0,checked:(t=r.checked)!==null&&t!==void 0?t:!1,run:()=>oL(this,void 0,void 0,function*(){return r.run()}),tooltip:r.label,dispose:()=>{}}}var oL,Xn,Nl,Bn,fd,G_,Fr=ue(()=>{Oe();se();Ne();oL=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Xn=class extends ${constructor(e,t="",i="",n=!0,o){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return oL(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(e))})}},Nl=class extends ${constructor(){super(...arguments),this._onBeforeRun=this._register(new B),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new B),this.onDidRun=this._onDidRun.event}run(e,t){return oL(this,void 0,void 0,function*(){if(!e.enabled)return;this._onBeforeRun.fire({action:e});let i;try{yield this.runAction(e,t)}catch(n){i=n}this._onDidRun.fire({action:e,error:i})})}runAction(e,t){return oL(this,void 0,void 0,function*(){yield e.run(t)})}},Bn=class extends Xn{constructor(e){super(Bn.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}};Bn.ID="vs.actions.separator";fd=class{constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=n,this._actions=i}get actions(){return this._actions}dispose(){}run(){return oL(this,void 0,void 0,function*(){})}},G_=class extends Xn{constructor(){super(G_.ID,g("submenu.empty","(empty)"),void 0,!1)}};G_.ID="vs.actions.empty"});var yi,gt,hn=ue(()=>{Oe();aa();se();Xc();ti();Xe();yi=We("commandService"),gt=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new B,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(r,e){if(!r)throw new Error("invalid command");if(typeof r=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:r,handler:e})}if(r.description){let s=[];for(let l of r.description.args)s.push(l.constraint);let a=r.handler;r.handler=function(l,...c){return hY(c,s),a(l,...c)}}let{id:t}=r,i=this._commands.get(t);i||(i=new Rn,this._commands.set(t,i));let n=i.unshift(r),o=Ke(()=>{n();let s=this._commands.get(t);s?.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),o}registerCommandAlias(r,e){return gt.registerCommand(r,(t,...i)=>t.get(yi).executeCommand(e,...i))}getCommand(r){let e=this._commands.get(r);if(!(!e||e.isEmpty()))return wt.first(e)}getCommands(){let r=new Map;for(let e of this._commands.keys()){let t=this.getCommand(e);t&&r.set(e,t)}return r}};gt.registerCommand("noop",()=>{})});function CG(r,e){let t=r?r.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function wC(r,e){return r.cmp(e)}function PN(r,e){if(typeof r=="string"){let t=parseFloat(r);isNaN(t)||(r=t)}return typeof r=="string"||typeof r=="number"?e(r):Us.INSTANCE}function wG(r){let e=null;for(let t=0,i=r.length;t<i;t++){let n=r[t].substituteConstants();if(r[t]!==n&&e===null){e=[];for(let o=0;o<t;o++)e[o]=r[o]}e!==null&&(e[t]=n)}return e===null?r:e}function SG(r,e){return r<e?-1:r>e?1:0}function X_(r,e,t,i){return r<t?-1:r>t?1:e<i?-1:e>i?1:0}function l8(r,e){if(e.type===6&&r.type!==9&&r.type!==6){for(let n of e.expr)if(r.equals(n))return!0}let t=r.negate(),i=TN(t).concat(TN(e));i.sort(wC);for(let n=0;n<i.length;n++){let s=i[n].negate();for(let a=n+1;a<i.length;a++){let l=i[a];if(s.equals(l))return!0}}return!1}function TN(r){return r.type===9?r.expr:[r]}var Br,pme,Se,Us,ba,Sh,vm,yC,SC,LC,rf,xC,DC,kC,EC,IC,rL,yh,gd,Ce,Te,yG,St=ue(()=>{At();Ye();Xe();Br=new Map;Br.set("false",!1);Br.set("true",!0);Br.set("isMac",at);Br.set("isLinux",$i);Br.set("isWindows",Ji);Br.set("isWeb",ja);Br.set("isMacNative",at&&!ja);Br.set("isEdge",tY);Br.set("isFirefox",Jq);Br.set("isChrome",_5);Br.set("isSafari",eY);pme=Object.prototype.hasOwnProperty,Se=class{static has(e){return Sh.create(e)}static equals(e,t){return vm.create(e,t)}static regex(e,t){return IC.create(e,t)}static not(e){return rf.create(e)}static and(...e){return yh.create(e,null)}static or(...e){return gd.create(e,null,!0)}static deserialize(e,t=!1){if(!!e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return gd.create(i.map(n=>this._deserializeAndExpression(n,t)),null,!0)}static _deserializeAndExpression(e,t){let i=e.split("&&");return yh.create(i.map(n=>this._deserializeOne(n,t)),null)}static _deserializeOne(e,t){if(e=e.trim(),e.indexOf("!=")>=0){let i=e.split("!=");return LC.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return vm.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return IC.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" not in ")>=0){let i=e.split(" not in ");return SC.create(i[0].trim(),i[1].trim())}if(e.indexOf(" in ")>=0){let i=e.split(" in ");return yC.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){let i=e.split(">=");return DC.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){let i=e.split(">");return xC.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){let i=e.split("<=");return EC.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){let i=e.split("<");return kC.create(i[0].trim(),i[1].trim())}return/^\!\s*/.test(e)?rf.create(e.substr(1).trim()):Sh.create(e)}static _deserializeValue(e,t){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(nO(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),n=e.lastIndexOf("/");if(i===n||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let o=e.slice(i+1,n),s=e[n+1]==="i"?"i":"";try{return new RegExp(o,s)}catch(a){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${a}`);return console.warn(`bad regexp-value '${e}', parse error: ${a}`),null}}};Us=class{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return ba.INSTANCE}};Us.INSTANCE=new Us;ba=class{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Us.INSTANCE}};ba.INSTANCE=new ba;Sh=class{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){let i=Br.get(e);return typeof i=="boolean"?i?ba.INSTANCE:Us.INSTANCE:new Sh(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:SG(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=Br.get(this.key);return typeof e=="boolean"?e?ba.INSTANCE:Us.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=rf.create(this.key,this)),this.negated}},vm=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}static create(e,t,i=null){if(typeof t=="boolean")return t?Sh.create(e,i):rf.create(e,i);let n=Br.get(e);return typeof n=="boolean"?t===(n?"true":"false")?ba.INSTANCE:Us.INSTANCE:new vm(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:X_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=Br.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?ba.INSTANCE:Us.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=LC.create(this.key,this.value,this)),this.negated}},yC=class{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new yC(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:X_(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?pme.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=SC.create(this.key,this.valueKey)),this.negated}},SC=class{constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=yC.create(e,t)}static create(e,t){return new SC(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}},LC=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}static create(e,t,i=null){if(typeof t=="boolean")return t?rf.create(e,i):Sh.create(e,i);let n=Br.get(e);return typeof n=="boolean"?t===(n?"true":"false")?Us.INSTANCE:ba.INSTANCE:new LC(e,t,i)}cmp(e){return e.type!==this.type?this.type-e.type:X_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){let e=Br.get(this.key);if(typeof e=="boolean"){let t=e?"true":"false";return this.value===t?Us.INSTANCE:ba.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=vm.create(this.key,this.value,this)),this.negated}},rf=class{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){let i=Br.get(e);return typeof i=="boolean"?i?Us.INSTANCE:ba.INSTANCE:new rf(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:SG(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){let e=Br.get(this.key);return typeof e=="boolean"?e?Us.INSTANCE:ba.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Sh.create(this.key,this)),this.negated}};xC=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}static create(e,t,i=null){return PN(t,n=>new xC(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:X_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=EC.create(this.key,this.value,this)),this.negated}},DC=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}static create(e,t,i=null){return PN(t,n=>new DC(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:X_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=kC.create(this.key,this.value,this)),this.negated}},kC=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}static create(e,t,i=null){return PN(t,n=>new kC(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:X_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=DC.create(this.key,this.value,this)),this.negated}},EC=class{constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}static create(e,t,i=null){return PN(t,n=>new EC(e,n,i))}cmp(e){return e.type!==this.type?this.type-e.type:X_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=xC.create(this.key,this.value,this)),this.negated}},IC=class{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new IC(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=rL.create(this)),this.negated}},rL=class{constructor(e){this._actual=e,this.type=8}static create(e){return new rL(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}};yh=class{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return yh._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let n=wC(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=wG(this.expr);return e===this.expr?this:yh.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){let i=[],n=!1;for(let o of e)if(!!o){if(o.type===1){n=!0;continue}if(o.type===0)return Us.INSTANCE;if(o.type===6){i.push(...o.expr);continue}i.push(o)}if(i.length===0&&n)return ba.INSTANCE;if(i.length!==0){if(i.length===1)return i[0];i.sort(wC);for(let o=1;o<i.length;o++)i[o-1].equals(i[o])&&(i.splice(o,1),o--);if(i.length===1)return i[0];for(;i.length>1;){let o=i[i.length-1];if(o.type!==9)break;i.pop();let s=i.pop(),a=i.length===0,l=gd.create(o.expr.map(c=>yh.create([c,s],null)),null,a);l&&(i.push(l),i.sort(wC))}return i.length===1?i[0]:new yh(i,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=gd.create(e,this,!0)}return this.negated}},gd=class{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,i){return gd._normalizeArr(e,t,i)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){let n=wC(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=wG(this.expr);return e===this.expr?this:gd.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],o=!1;if(e){for(let s=0,a=e.length;s<a;s++){let l=e[s];if(!!l){if(l.type===0){o=!0;continue}if(l.type===1)return ba.INSTANCE;if(l.type===9){n=n.concat(l.expr);continue}n.push(l)}}if(n.length===0&&o)return Us.INSTANCE;n.sort(wC)}if(n.length!==0){if(n.length===1)return n[0];for(let s=1;s<n.length;s++)n[s-1].equals(n[s])&&(n.splice(s,1),s--);if(n.length===1)return n[0];if(i){for(let s=0;s<n.length;s++)for(let a=s+1;a<n.length;a++)l8(n[s],n[a])&&(n.splice(a,1),a--);if(n.length===1)return n[0]}return new gd(n,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),i=e.shift(),n=[];for(let s of TN(t))for(let a of TN(i))n.push(yh.create([s,a],null));let o=e.length===0;e.unshift(gd.create(n,null,o))}this.negated=e[0]}return this.negated}},Ce=class extends Sh{constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?Ce._info.push(Object.assign(Object.assign({},i),{key:e})):i!==!0&&Ce._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}static all(){return Ce._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return vm.create(this.key,e)}};Ce._info=[];Te=We("contextKeyService"),yG="setContext"});function Qn(r){return r===va.HIGH_CONTRAST_DARK||r===va.HIGH_CONTRAST_LIGHT}function sL(r){return r===va.DARK||r===va.HIGH_CONTRAST_DARK}var va,Tl=ue(()=>{(function(r){r.DARK="dark",r.LIGHT="light",r.HIGH_CONTRAST_DARK="hcDark",r.HIGH_CONTRAST_LIGHT="hcLight"})(va||(va={}))});function un(r){return{id:r}}function Q_(r){switch(r){case va.DARK:return"vs-dark";case va.HIGH_CONTRAST_DARK:return"hc-black";case va.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}function Lt(r){return LG.onColorThemeChange(r)}var Tt,c8,Vt,h8,d8,LG,AN,Ct=ue(()=>{bn();Oe();se();Xe();fr();Tl();Tt=We("themeService");(function(r){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}r.isThemeColor=e})(c8||(c8={}));(function(r){function e(c){return c&&typeof c=="object"&&typeof c.id=="string"&&(typeof c.color>"u"||c8.isThemeColor(c.color))}r.isThemeIcon=e;let t=new RegExp(`^\\$\\((${po.iconNameExpression}(?:${po.iconModifierExpression})?)\\)$`);function i(c){let d=t.exec(c);if(!d)return;let[,h]=d;return{id:h}}r.fromString=i;function n(c){return{id:c}}r.fromId=n;function o(c,d){let h=c.id,u=h.lastIndexOf("~");return u!==-1&&(h=h.substring(0,u)),d&&(h=`${h}~${d}`),{id:h}}r.modify=o;function s(c){let d=c.id.lastIndexOf("~");if(d!==-1)return c.id.substring(d+1)}r.getModifier=s;function a(c,d){var h,u;return c.id===d.id&&((h=c.color)===null||h===void 0?void 0:h.id)===((u=d.color)===null||u===void 0?void 0:u.id)}r.isEqual=a;function l(c,d){return{id:c.id,color:d?un(d):void 0}}r.asThemeIcon=l,r.asClassNameArray=po.asClassNameArray,r.asClassName=po.asClassName,r.asCSSSelector=po.asCSSSelector})(Vt||(Vt={}));h8={ThemingContribution:"base.contributions.theming"},d8=class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new B}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Ke(()=>{let t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}},LG=new d8;di.add(h8.ThemingContribution,LG);AN=class extends ${constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}});function wm(r){return r.command!==void 0}var _me,xG,z,Xa,jr,Cm,Sc,er=ue(()=>{Fr();bn();Oe();aa();se();Xc();hn();St();Xe();Ct();_me=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xG=function(r,e){return function(t,i){e(t,i,r)}};z=class{constructor(e){if(z._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);z._instances.set(e,this),this.id=e}};z._instances=new Map;z.CommandPalette=new z("CommandPalette");z.DebugBreakpointsContext=new z("DebugBreakpointsContext");z.DebugCallStackContext=new z("DebugCallStackContext");z.DebugConsoleContext=new z("DebugConsoleContext");z.DebugVariablesContext=new z("DebugVariablesContext");z.DebugWatchContext=new z("DebugWatchContext");z.DebugToolBar=new z("DebugToolBar");z.DebugToolBarStop=new z("DebugToolBarStop");z.EditorContext=new z("EditorContext");z.SimpleEditorContext=new z("SimpleEditorContext");z.EditorContextCopy=new z("EditorContextCopy");z.EditorContextPeek=new z("EditorContextPeek");z.EditorContextShare=new z("EditorContextShare");z.EditorTitle=new z("EditorTitle");z.EditorTitleRun=new z("EditorTitleRun");z.EditorTitleContext=new z("EditorTitleContext");z.EmptyEditorGroup=new z("EmptyEditorGroup");z.EmptyEditorGroupContext=new z("EmptyEditorGroupContext");z.ExplorerContext=new z("ExplorerContext");z.ExtensionContext=new z("ExtensionContext");z.GlobalActivity=new z("GlobalActivity");z.CommandCenter=new z("CommandCenter");z.LayoutControlMenuSubmenu=new z("LayoutControlMenuSubmenu");z.LayoutControlMenu=new z("LayoutControlMenu");z.MenubarMainMenu=new z("MenubarMainMenu");z.MenubarAppearanceMenu=new z("MenubarAppearanceMenu");z.MenubarDebugMenu=new z("MenubarDebugMenu");z.MenubarEditMenu=new z("MenubarEditMenu");z.MenubarCopy=new z("MenubarCopy");z.MenubarFileMenu=new z("MenubarFileMenu");z.MenubarGoMenu=new z("MenubarGoMenu");z.MenubarHelpMenu=new z("MenubarHelpMenu");z.MenubarLayoutMenu=new z("MenubarLayoutMenu");z.MenubarNewBreakpointMenu=new z("MenubarNewBreakpointMenu");z.MenubarPanelAlignmentMenu=new z("MenubarPanelAlignmentMenu");z.MenubarPanelPositionMenu=new z("MenubarPanelPositionMenu");z.MenubarPreferencesMenu=new z("MenubarPreferencesMenu");z.MenubarRecentMenu=new z("MenubarRecentMenu");z.MenubarSelectionMenu=new z("MenubarSelectionMenu");z.MenubarShare=new z("MenubarShare");z.MenubarSwitchEditorMenu=new z("MenubarSwitchEditorMenu");z.MenubarSwitchGroupMenu=new z("MenubarSwitchGroupMenu");z.MenubarTerminalMenu=new z("MenubarTerminalMenu");z.MenubarViewMenu=new z("MenubarViewMenu");z.MenubarHomeMenu=new z("MenubarHomeMenu");z.OpenEditorsContext=new z("OpenEditorsContext");z.ProblemsPanelContext=new z("ProblemsPanelContext");z.SCMChangeContext=new z("SCMChangeContext");z.SCMResourceContext=new z("SCMResourceContext");z.SCMResourceFolderContext=new z("SCMResourceFolderContext");z.SCMResourceGroupContext=new z("SCMResourceGroupContext");z.SCMSourceControl=new z("SCMSourceControl");z.SCMTitle=new z("SCMTitle");z.SearchContext=new z("SearchContext");z.StatusBarWindowIndicatorMenu=new z("StatusBarWindowIndicatorMenu");z.StatusBarRemoteIndicatorMenu=new z("StatusBarRemoteIndicatorMenu");z.TestItem=new z("TestItem");z.TestItemGutter=new z("TestItemGutter");z.TestPeekElement=new z("TestPeekElement");z.TestPeekTitle=new z("TestPeekTitle");z.TouchBarContext=new z("TouchBarContext");z.TitleBarContext=new z("TitleBarContext");z.TitleBarTitleContext=new z("TitleBarTitleContext");z.TunnelContext=new z("TunnelContext");z.TunnelPrivacy=new z("TunnelPrivacy");z.TunnelProtocol=new z("TunnelProtocol");z.TunnelPortInline=new z("TunnelInline");z.TunnelTitle=new z("TunnelTitle");z.TunnelLocalAddressInline=new z("TunnelLocalAddressInline");z.TunnelOriginInline=new z("TunnelOriginInline");z.ViewItemContext=new z("ViewItemContext");z.ViewContainerTitle=new z("ViewContainerTitle");z.ViewContainerTitleContext=new z("ViewContainerTitleContext");z.ViewTitle=new z("ViewTitle");z.ViewTitleContext=new z("ViewTitleContext");z.CommentThreadTitle=new z("CommentThreadTitle");z.CommentThreadActions=new z("CommentThreadActions");z.CommentTitle=new z("CommentTitle");z.CommentActions=new z("CommentActions");z.InteractiveToolbar=new z("InteractiveToolbar");z.InteractiveCellTitle=new z("InteractiveCellTitle");z.InteractiveCellDelete=new z("InteractiveCellDelete");z.InteractiveCellExecute=new z("InteractiveCellExecute");z.InteractiveInputExecute=new z("InteractiveInputExecute");z.NotebookToolbar=new z("NotebookToolbar");z.NotebookCellTitle=new z("NotebookCellTitle");z.NotebookCellDelete=new z("NotebookCellDelete");z.NotebookCellInsert=new z("NotebookCellInsert");z.NotebookCellBetween=new z("NotebookCellBetween");z.NotebookCellListTop=new z("NotebookCellTop");z.NotebookCellExecute=new z("NotebookCellExecute");z.NotebookCellExecutePrimary=new z("NotebookCellExecutePrimary");z.NotebookDiffCellInputTitle=new z("NotebookDiffCellInputTitle");z.NotebookDiffCellMetadataTitle=new z("NotebookDiffCellMetadataTitle");z.NotebookDiffCellOutputsTitle=new z("NotebookDiffCellOutputsTitle");z.NotebookOutputToolbar=new z("NotebookOutputToolbar");z.NotebookEditorLayoutConfigure=new z("NotebookEditorLayoutConfigure");z.NotebookKernelSource=new z("NotebookKernelSource");z.BulkEditTitle=new z("BulkEditTitle");z.BulkEditContext=new z("BulkEditContext");z.TimelineItemContext=new z("TimelineItemContext");z.TimelineTitle=new z("TimelineTitle");z.TimelineTitleContext=new z("TimelineTitleContext");z.TimelineFilterSubMenu=new z("TimelineFilterSubMenu");z.AccountsContext=new z("AccountsContext");z.PanelTitle=new z("PanelTitle");z.AuxiliaryBarTitle=new z("AuxiliaryBarTitle");z.TerminalInstanceContext=new z("TerminalInstanceContext");z.TerminalEditorInstanceContext=new z("TerminalEditorInstanceContext");z.TerminalNewDropdownContext=new z("TerminalNewDropdownContext");z.TerminalTabContext=new z("TerminalTabContext");z.TerminalTabEmptyAreaContext=new z("TerminalTabEmptyAreaContext");z.TerminalInlineTabContext=new z("TerminalInlineTabContext");z.WebviewContext=new z("WebviewContext");z.InlineCompletionsActions=new z("InlineCompletionsActions");z.NewFile=new z("NewFile");z.MergeToolbar=new z("MergeToolbar");z.MergeInput1Toolbar=new z("MergeToolbar1Toolbar");z.MergeInput2Toolbar=new z("MergeToolbar2Toolbar");Xa=We("menuService"),jr=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new B,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:r=>r===z.CommandPalette}}addCommand(r){return this.addCommands(wt.single(r))}addCommands(r){for(let e of r)this._commands.set(e.id,e);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),Ke(()=>{let e=!1;for(let t of r)e=this._commands.delete(t.id)||e;e&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(r){return this._commands.get(r)}getCommands(){let r=new Map;return this._commands.forEach((e,t)=>r.set(t,e)),r}appendMenuItem(r,e){return this.appendMenuItems(wt.single({id:r,item:e}))}appendMenuItems(r){let e=new Set,t=new Rn;for(let{id:i,item:n}of r){let o=this._menuItems.get(i);o||(o=new Rn,this._menuItems.set(i,o)),t.push(o.push(n)),e.add(i)}return this._onDidChangeMenu.fire(e),Ke(()=>{if(t.size>0){for(let i of t)i();this._onDidChangeMenu.fire(e),t.clear()}})}getMenuItems(r){let e;return this._menuItems.has(r)?e=[...this._menuItems.get(r)]:e=[],r===z.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(r){let e=new Set;for(let t of r)wm(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||r.push({command:t})})}},Cm=class extends fd{constructor(e,t,i,n){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=i,this._options=n}get actions(){let e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(let[,n]of i)n.length>0&&(e.push(...n),e.push(new Bn));return e.length&&e.pop(),e}},Sc=class DG{constructor(e,t,i,n,o,s){var a,l;if(this.hideActions=n,this._commandService=s,this.id=e.id,this.label=i?.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value,this.tooltip=(l=typeof e.tooltip=="string"?e.tooltip:(a=e.tooltip)===null||a===void 0?void 0:a.value)!==null&&l!==void 0?l:"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0,e.toggled){let c=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(c.condition),this.checked&&c.tooltip&&(this.tooltip=typeof c.tooltip=="string"?c.tooltip:c.tooltip.value),c.title&&(this.label=typeof c.title=="string"?c.title:c.title.value)}this.item=e,this.alt=t?new DG(t,void 0,i,n,o,s):void 0,this._options=i,Vt.isThemeIcon(e.icon)&&(this.class=po.asClassName(e.icon))}dispose(){}run(...e){var t,i;let n=[];return!((t=this._options)===null||t===void 0)&&t.arg&&(n=[...n,this._options.arg]),!((i=this._options)===null||i===void 0)&&i.shouldForwardArgs&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};Sc=_me([xG(4,Te),xG(5,yi)],Sc)});function vme(r,e){return r.weight1!==e.weight1?r.weight1-e.weight1:r.command<e.command?-1:r.command>e.command?1:r.weight2-e.weight2}var OC,Ko,bme,ym=ue(()=>{H_();At();hn();fr();OC=class{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Nr===1){if(e&&e.win)return e.win}else if(Nr===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){let t=OC.bindToCurrentPlatform(e);if(t&&t.primary){let i=ZS(t.primary,Nr);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,n=t.secondary.length;i<n;i++){let o=t.secondary[i],s=ZS(o,Nr);s&&this._registerDefaultKeybinding(s,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),gt.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||e>=31&&e<=56?!0:e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&OC._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,o,s){Nr===1&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:s,weight1:n,weight2:o,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(vme)),this._cachedMergedKeybindings.slice(0)}},Ko=new OC,bme={EditorModes:"platform.keybindingsRegistry"};di.add(bme.EditorModes,Ko)});var Hs,Sm=ue(()=>{Xe();Hs=We("telemetryService")});function wa(r,e){gt.registerCommand(r,function(t,...i){let n=t.get(je),[o,s]=i;$t(Ee.isUri(o)),$t(H.isIPosition(s));let a=t.get(si).getModel(o);if(a){let l=H.lift(s);return n.invokeFunction(e,a,l,...i.slice(2))}return t.get(Fn).createModelReference(o).then(l=>new Promise((c,d)=>{try{let h=n.invokeFunction(e,l.object.textEditorModel,H.lift(s),i.slice(2));c(h)}catch(h){d(h)}}).finally(()=>{l.dispose()}))})}function me(r){return Ca.INSTANCE.registerEditorCommand(r),r}function le(r){let e=new r;return Ca.INSTANCE.registerEditorAction(e),e}function u8(r){return Ca.INSTANCE.registerEditorAction(r),r}function RN(r){Ca.INSTANCE.registerEditorAction(r)}function Ze(r,e){Ca.INSTANCE.registerEditorContribution(r,e)}function lL(r){return r.register(),r}var J_,sf,MN,zi,we,aL,Lh,Cme,Ca,f8,g8,kG,xt=ue(()=>{Ne();vi();lo();rt();_s();Ga();er();hn();St();Xe();ym();fr();Sm();ti();pc();J_=class{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(let t of e){let i=t.kbExpr;this.precondition&&(i?i=Se.and(i,this.precondition):i=this.precondition);let n={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};Ko.registerKeybindingRule(n)}}gt.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){jr.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}},sf=class extends J_{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort((n,o)=>o.priority-n.priority),{dispose:()=>{for(let n=0;n<this._implementations.length;n++)if(this._implementations[n].implementation===i){this._implementations.splice(n,1);return}}}}runCommand(e,t){let i=e.get(Oo);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(let n of this._implementations){let o=n.implementation(e,t);if(o)return i.trace(`Command '${this.id}' was handled by '${n.name}'.`),typeof o=="boolean"?void 0:o}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}},MN=class extends J_{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}},zi=class extends J_{static bindToContribution(e){return class extends zi{constructor(i){super(i),this._callback=i.handler}runEditorCommand(i,n,o){let s=e(n);s&&this._callback(s,o)}}}runCommand(e,t){let i=e.get(kt),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(!!n)return n.invokeWithinContext(o=>{if(!!o.get(Te).contextMatchesRules(Va(this.precondition)))return this.runEditorCommand(o,n,t)})}},we=class extends zi{constructor(e){super(we.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function i(n){return n.menuId||(n.menuId=z.EditorContext),n.title||(n.title=e.label),n.when=Se.and(e.precondition,n.when),n}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(Hs).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}},aL=class extends we{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((i,n)=>n[0]-i[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===t){this._implementations.splice(i,1);return}}}}run(e,t,i){for(let n of this._implementations){let o=n[1](e,t,i);if(o)return typeof o=="boolean"?void 0:o}}};(function(r){function e(s){return Ca.INSTANCE.getEditorCommand(s)}r.getEditorCommand=e;function t(){return Ca.INSTANCE.getEditorActions()}r.getEditorActions=t;function i(){return Ca.INSTANCE.getEditorContributions()}r.getEditorContributions=i;function n(s){return Ca.INSTANCE.getEditorContributions().filter(a=>s.indexOf(a.id)>=0)}r.getSomeEditorContributions=n;function o(){return Ca.INSTANCE.getDiffEditorContributions()}r.getDiffEditorContributions=o})(Lh||(Lh={}));Cme={EditorCommonContributions:"editor.contributions"},Ca=class{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}};Ca.INSTANCE=new Ca;di.add(Cme.EditorCommonContributions,Ca.INSTANCE);f8=lL(new sf({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:z.MenubarEditMenu,group:"1_do",title:g({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:z.CommandPalette,group:"",title:g("undo","Undo"),order:1}]}));lL(new MN(f8,{id:"default:undo",precondition:void 0}));g8=lL(new sf({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:z.MenubarEditMenu,group:"1_do",title:g({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:z.CommandPalette,group:"",title:g("redo","Redo"),order:1}]}));lL(new MN(g8,{id:"default:redo",precondition:void 0}));kG=lL(new sf({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:z.MenubarSelectionMenu,group:"1_basic",title:g({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:z.CommandPalette,group:"",title:g("selectAll","Select All"),order:1}]}))});function Lm(r,e){let t=Math.pow(10,e);return Math.round(r*t)/t}var Mt,Al,Ml,Z,ho=ue(()=>{Mt=class{constructor(e,t,i,n=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=Lm(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}},Al=class{constructor(e,t,i,n){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Lm(Math.max(Math.min(1,t),0),3),this.l=Lm(Math.max(Math.min(1,i),0),3),this.a=Lm(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,s=Math.max(t,i,n),a=Math.min(t,i,n),l=0,c=0,d=(a+s)/2,h=s-a;if(h>0){switch(c=Math.min(d<=.5?h/(2*d):h/(2-2*d),1),s){case t:l=(i-n)/h+(i<n?6:0);break;case i:l=(n-t)/h+2;break;case n:l=(t-i)/h+4;break}l*=60,l=Math.round(l)}return new Al(l,c,d,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){let t=e.h/360,{s:i,l:n,a:o}=e,s,a,l;if(i===0)s=a=l=n;else{let c=n<.5?n*(1+i):n+i-n*i,d=2*n-c;s=Al._hue2rgb(d,c,t+1/3),a=Al._hue2rgb(d,c,t),l=Al._hue2rgb(d,c,t-1/3)}return new Mt(Math.round(s*255),Math.round(a*255),Math.round(l*255),o)}},Ml=class{constructor(e,t,i,n){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Lm(Math.max(Math.min(1,t),0),3),this.v=Lm(Math.max(Math.min(1,i),0),3),this.a=Lm(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){let t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),s=Math.min(t,i,n),a=o-s,l=o===0?0:a/o,c;return a===0?c=0:o===t?c=((i-n)/a%6+6)%6:o===i?c=(n-t)/a+2:c=(t-i)/a+4,new Ml(Math.round(c*60),l,o,e.a)}static toRGBA(e){let{h:t,s:i,v:n,a:o}=e,s=n*i,a=s*(1-Math.abs(t/60%2-1)),l=n-s,[c,d,h]=[0,0,0];return t<60?(c=s,d=a):t<120?(c=a,d=s):t<180?(d=s,h=a):t<240?(d=a,h=s):t<300?(c=a,h=s):t<=360&&(c=s,h=a),c=Math.round((c+l)*255),d=Math.round((d+l)*255),h=Math.round((h+l)*255),new Mt(c,d,h,o)}},Z=class{constructor(e){if(e)if(e instanceof Mt)this.rgba=e;else if(e instanceof Al)this._hsla=e,this.rgba=Al.toRGBA(e);else if(e instanceof Ml)this._hsva=e,this.rgba=Ml.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(e){return Z.Format.CSS.parseHex(e)||Z.red}get hsla(){return this._hsla?this._hsla:Al.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Ml.fromRGBA(this.rgba)}equals(e){return!!e&&Mt.equals(this.rgba,e.rgba)&&Al.equals(this.hsla,e.hsla)&&Ml.equals(this.hsva,e.hsva)}getRelativeLuminance(){let e=Z._relativeLuminanceForComponent(this.rgba.r),t=Z._relativeLuminanceForComponent(this.rgba.g),i=Z._relativeLuminanceForComponent(this.rgba.b),n=.2126*e+.7152*t+.0722*i;return Lm(n,4)}static _relativeLuminanceForComponent(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){let t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new Z(new Al(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new Z(new Al(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){let{r:t,g:i,b:n,a:o}=this.rgba;return new Z(new Mt(t,i,n,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new Z(new Mt(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=Z.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;let n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;let n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(n-o)/n,e.darken(i)}};Z.white=new Z(new Mt(255,255,255,1));Z.black=new Z(new Mt(0,0,0,1));Z.red=new Z(new Mt(255,0,0,1));Z.blue=new Z(new Mt(0,0,255,1));Z.green=new Z(new Mt(0,255,0,1));Z.cyan=new Z(new Mt(0,255,255,1));Z.lightgrey=new Z(new Mt(211,211,211,1));Z.transparent=new Z(new Mt(0,0,0,0));(function(r){let e;(function(t){let i;(function(n){function o(_){return _.rgba.a===1?`rgb(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b})`:r.Format.CSS.formatRGBA(_)}n.formatRGB=o;function s(_){return`rgba(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b}, ${+_.rgba.a.toFixed(2)})`}n.formatRGBA=s;function a(_){return _.hsla.a===1?`hsl(${_.hsla.h}, ${(_.hsla.s*100).toFixed(2)}%, ${(_.hsla.l*100).toFixed(2)}%)`:r.Format.CSS.formatHSLA(_)}n.formatHSL=a;function l(_){return`hsla(${_.hsla.h}, ${(_.hsla.s*100).toFixed(2)}%, ${(_.hsla.l*100).toFixed(2)}%, ${_.hsla.a.toFixed(2)})`}n.formatHSLA=l;function c(_){let v=_.toString(16);return v.length!==2?"0"+v:v}function d(_){return`#${c(_.rgba.r)}${c(_.rgba.g)}${c(_.rgba.b)}`}n.formatHex=d;function h(_,v=!1){return v&&_.rgba.a===1?r.Format.CSS.formatHex(_):`#${c(_.rgba.r)}${c(_.rgba.g)}${c(_.rgba.b)}${c(Math.round(_.rgba.a*255))}`}n.formatHexA=h;function u(_){return _.isOpaque()?r.Format.CSS.formatHex(_):r.Format.CSS.formatRGBA(_)}n.format=u;function f(_){let v=_.length;if(v===0||_.charCodeAt(0)!==35)return null;if(v===7){let w=16*m(_.charCodeAt(1))+m(_.charCodeAt(2)),y=16*m(_.charCodeAt(3))+m(_.charCodeAt(4)),x=16*m(_.charCodeAt(5))+m(_.charCodeAt(6));return new r(new Mt(w,y,x,1))}if(v===9){let w=16*m(_.charCodeAt(1))+m(_.charCodeAt(2)),y=16*m(_.charCodeAt(3))+m(_.charCodeAt(4)),x=16*m(_.charCodeAt(5))+m(_.charCodeAt(6)),k=16*m(_.charCodeAt(7))+m(_.charCodeAt(8));return new r(new Mt(w,y,x,k/255))}if(v===4){let w=m(_.charCodeAt(1)),y=m(_.charCodeAt(2)),x=m(_.charCodeAt(3));return new r(new Mt(16*w+w,16*y+y,16*x+x))}if(v===5){let w=m(_.charCodeAt(1)),y=m(_.charCodeAt(2)),x=m(_.charCodeAt(3)),k=m(_.charCodeAt(4));return new r(new Mt(16*w+w,16*y+y,16*x+x,(16*k+k)/255))}return null}n.parseHex=f;function m(_){switch(_){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(i=t.CSS||(t.CSS={}))})(e=r.Format||(r.Format={}))})(Z||(Z={}))});function UN(r){return`--vscode-${r.replace(/\./g,"-")}`}function Ime(r){return r===null||typeof r.hcLight>"u"&&(r.hcDark===null||typeof r.hcDark=="string"?r.hcLight=r.hcDark:r.hcLight=r.light),r}function W(r,e,t,i,n){return HN.registerColor(r,Ime(e),t,i,n)}function Ome(r,e){var t,i,n;switch(r.op){case 0:return(t=kh(r.value,e))===null||t===void 0?void 0:t.darken(r.factor);case 1:return(i=kh(r.value,e))===null||i===void 0?void 0:i.lighten(r.factor);case 2:return(n=kh(r.value,e))===null||n===void 0?void 0:n.transparent(r.factor);case 3:for(let o of r.values){let s=kh(o,e);if(s)return s}return;case 5:return kh(e.defines(r.if)?r.then:r.else,e);case 4:{let o=kh(r.value,e);if(!o)return;let s=kh(r.background,e);return s?o.isDarkerThan(s)?Z.getLighterColor(o,s,r.factor).transparent(r.transparency):Z.getDarkerColor(o,s,r.factor).transparent(r.transparency):o.transparent(r.factor*r.transparency)}default:throw Bg(r)}}function db(r,e){return{op:0,value:r,factor:e}}function Cd(r,e){return{op:1,value:r,factor:e}}function ze(r,e){return{op:2,value:r,factor:e}}function zC(...r){return{op:3,values:r}}function Nme(r,e,t){return{op:5,if:r,then:e,else:t}}function MG(r,e,t,i){return{op:4,value:r,background:e,factor:t,transparency:i}}function kh(r,e){if(r!==null){if(typeof r=="string")return r[0]==="#"?Z.fromHex(r):e.getColor(r);if(r instanceof Z)return r;if(typeof r=="object")return Ome(r,e)}}var v8,b8,HN,be,R7e,FG,F7e,dL,Qa,Nt,Pi,B7e,j7e,Em,Im,W7e,z7e,V7e,$N,ya,Om,Nm,Tm,nb,U7e,ob,rb,H7e,VC,UC,HC,$C,KC,qC,YC,ZC,GC,af,$7e,tb,BN,K7e,q7e,Y7e,AC,Z7e,jN,BG,G7e,X7e,OG,Q7e,xm,Dm,kc,Eh,Ih,Oh,jG,WG,Lc,KN,zG,Cs,lf,VG,pr,sb,UG,HG,J7e,Hn,Wr,e8e,t8e,jn,xc,pd,$G,C8,KG,qG,YG,ZG,GG,XG,QG,JG,_d,eX,hL,uL,tX,iX,bd,nX,oX,km,rX,i8e,n8e,sX,cf,qN,YN,aX,XC,Nh,Th,lX,cX,dX,hX,uX,fX,WN,zN,w8,y8,gX,mX,pX,_X,bX,vX,CX,wX,yX,SX,LX,xX,DX,kX,Ph,vd,MC,EX,IX,OX,NX,TX,PX,AX,MX,Ja,fL,o8e,r8e,s8e,RX,FX,BX,jX,a8e,l8e,WX,zX,VX,c8e,NG,ab,lb,cb,UX,HX,$X,KX,qX,YX,ZX,VN,d8e,h8e,u8e,f8e,g8e,m8e,p8e,_8e,b8e,v8e,C8e,GX,TG,PG,AG,Dc,jC,RC,w8e,FC,y8e,BC,S8e,WC,L8e,x8e,D8e,ZN,GN,ib,QC,S8,XX,QX,JX,eQ,tQ,iQ,nQ,oQ,rQ,sQ,k8e,E8e,I8e,O8e,N8e,T8e,P8e,A8e,aQ,lQ,RG,Ai=ue(()=>{ot();ho();Oe();ti();Ne();IO();fr();v8={ColorContribution:"base.contributions.colors"},b8=class{constructor(){this._onDidChangeSchema=new B,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){let s={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=s;let a={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(a.deprecationMessage=o),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){let i=this.colorsById[e];if(i&&i.defaults){let n=i.defaults[t.type];return kh(n,t)}}getColorSchema(){return this.colorSchema}toString(){let e=(t,i)=>{let n=t.indexOf(".")===-1?0:1,o=i.indexOf(".")===-1?0:1;return n!==o?n-o:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}},HN=new b8;di.add(v8.ColorContribution,HN);be=W("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},g("foreground","Overall foreground color. This color is only used if not overridden by a component.")),R7e=W("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},g("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),FG=W("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},g("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),F7e=W("descriptionForeground",{light:"#717171",dark:ze(be,.7),hcDark:ze(be,.7),hcLight:ze(be,.7)},g("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),dL=W("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},g("iconForeground","The default color for icons in the workbench.")),Qa=W("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},g("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Nt=W("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},g("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Pi=W("contrastActiveBorder",{light:null,dark:null,hcDark:Qa,hcLight:Qa},g("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),B7e=W("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},g("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),j7e=W("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:Z.black,hcLight:"#292929"},g("textSeparatorForeground","Color for text separators.")),Em=W("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},g("textLinkForeground","Foreground color for links in text.")),Im=W("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},g("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),W7e=W("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},g("textPreformatForeground","Foreground color for preformatted text segments.")),z7e=W("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},g("textBlockQuoteBackground","Background color for block quotes in text.")),V7e=W("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:Z.white,hcLight:"#292929"},g("textBlockQuoteBorder","Border color for block quotes in text.")),$N=W("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:Z.black,hcLight:"#F2F2F2"},g("textCodeBlockBackground","Background color for code blocks in text.")),ya=W("widget.shadow",{dark:ze(Z.black,.36),light:ze(Z.black,.16),hcDark:null,hcLight:null},g("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Om=W("input.background",{dark:"#3C3C3C",light:Z.white,hcDark:Z.black,hcLight:Z.white},g("inputBoxBackground","Input box background.")),Nm=W("input.foreground",{dark:be,light:be,hcDark:be,hcLight:be},g("inputBoxForeground","Input box foreground.")),Tm=W("input.border",{dark:null,light:null,hcDark:Nt,hcLight:Nt},g("inputBoxBorder","Input box border.")),nb=W("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:Nt,hcLight:Nt},g("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),U7e=W("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},g("inputOption.hoverBackground","Background color of activated options in input fields.")),ob=W("inputOption.activeBackground",{dark:ze(Qa,.4),light:ze(Qa,.2),hcDark:Z.transparent,hcLight:Z.transparent},g("inputOption.activeBackground","Background hover color of options in input fields.")),rb=W("inputOption.activeForeground",{dark:Z.white,light:Z.black,hcDark:null,hcLight:be},g("inputOption.activeForeground","Foreground color of activated options in input fields.")),H7e=W("input.placeholderForeground",{light:ze(be,.5),dark:ze(be,.5),hcDark:ze(be,.7),hcLight:ze(be,.7)},g("inputPlaceholderForeground","Input box foreground color for placeholder text.")),VC=W("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:Z.black,hcLight:Z.white},g("inputValidationInfoBackground","Input validation background color for information severity.")),UC=W("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:be},g("inputValidationInfoForeground","Input validation foreground color for information severity.")),HC=W("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Nt,hcLight:Nt},g("inputValidationInfoBorder","Input validation border color for information severity.")),$C=W("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:Z.black,hcLight:Z.white},g("inputValidationWarningBackground","Input validation background color for warning severity.")),KC=W("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:be},g("inputValidationWarningForeground","Input validation foreground color for warning severity.")),qC=W("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Nt,hcLight:Nt},g("inputValidationWarningBorder","Input validation border color for warning severity.")),YC=W("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:Z.black,hcLight:Z.white},g("inputValidationErrorBackground","Input validation background color for error severity.")),ZC=W("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:be},g("inputValidationErrorForeground","Input validation foreground color for error severity.")),GC=W("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Nt,hcLight:Nt},g("inputValidationErrorBorder","Input validation border color for error severity.")),af=W("dropdown.background",{dark:"#3C3C3C",light:Z.white,hcDark:Z.black,hcLight:Z.white},g("dropdownBackground","Dropdown background.")),$7e=W("dropdown.listBackground",{dark:null,light:null,hcDark:Z.black,hcLight:Z.white},g("dropdownListBackground","Dropdown list background.")),tb=W("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:Z.white,hcLight:be},g("dropdownForeground","Dropdown foreground.")),BN=W("dropdown.border",{dark:af,light:"#CECECE",hcDark:Nt,hcLight:Nt},g("dropdownBorder","Dropdown border.")),K7e=W("checkbox.background",{dark:af,light:af,hcDark:af,hcLight:af},g("checkbox.background","Background color of checkbox widget.")),q7e=W("checkbox.foreground",{dark:tb,light:tb,hcDark:tb,hcLight:tb},g("checkbox.foreground","Foreground color of checkbox widget.")),Y7e=W("checkbox.border",{dark:BN,light:BN,hcDark:BN,hcLight:BN},g("checkbox.border","Border color of checkbox widget.")),AC=W("button.foreground",{dark:Z.white,light:Z.white,hcDark:Z.white,hcLight:Z.white},g("buttonForeground","Button foreground color.")),Z7e=W("button.separator",{dark:ze(AC,.4),light:ze(AC,.4),hcDark:ze(AC,.4),hcLight:ze(AC,.4)},g("buttonSeparator","Button separator color.")),jN=W("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},g("buttonBackground","Button background color.")),BG=W("button.hoverBackground",{dark:Cd(jN,.2),light:db(jN,.2),hcDark:null,hcLight:null},g("buttonHoverBackground","Button background color when hovering.")),G7e=W("button.border",{dark:Nt,light:Nt,hcDark:Nt,hcLight:Nt},g("buttonBorder","Button border color.")),X7e=W("button.secondaryForeground",{dark:Z.white,light:Z.white,hcDark:Z.white,hcLight:be},g("buttonSecondaryForeground","Secondary button foreground color.")),OG=W("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:Z.white},g("buttonSecondaryBackground","Secondary button background color.")),Q7e=W("button.secondaryHoverBackground",{dark:Cd(OG,.2),light:db(OG,.2),hcDark:null,hcLight:null},g("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),xm=W("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:Z.black,hcLight:"#0F4A85"},g("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Dm=W("badge.foreground",{dark:Z.white,light:"#333",hcDark:Z.white,hcLight:Z.white},g("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),kc=W("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},g("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Eh=W("scrollbarSlider.background",{dark:Z.fromHex("#797979").transparent(.4),light:Z.fromHex("#646464").transparent(.4),hcDark:ze(Nt,.6),hcLight:ze(Nt,.4)},g("scrollbarSliderBackground","Scrollbar slider background color.")),Ih=W("scrollbarSlider.hoverBackground",{dark:Z.fromHex("#646464").transparent(.7),light:Z.fromHex("#646464").transparent(.7),hcDark:ze(Nt,.8),hcLight:ze(Nt,.8)},g("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Oh=W("scrollbarSlider.activeBackground",{dark:Z.fromHex("#BFBFBF").transparent(.4),light:Z.fromHex("#000000").transparent(.6),hcDark:Nt,hcLight:Nt},g("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),jG=W("progressBar.background",{dark:Z.fromHex("#0E70C0"),light:Z.fromHex("#0E70C0"),hcDark:Nt,hcLight:Nt},g("progressBarBackground","Background color of the progress bar that can show for long running operations.")),WG=W("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},g("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Lc=W("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},g("editorError.foreground","Foreground color of error squigglies in the editor.")),KN=W("editorError.border",{dark:null,light:null,hcDark:Z.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},g("errorBorder","Border color of error boxes in the editor.")),zG=W("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},g("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Cs=W("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},g("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),lf=W("editorWarning.border",{dark:null,light:null,hcDark:Z.fromHex("#FFCC00").transparent(.8),hcLight:"#"},g("warningBorder","Border color of warning boxes in the editor.")),VG=W("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},g("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),pr=W("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},g("editorInfo.foreground","Foreground color of info squigglies in the editor.")),sb=W("editorInfo.border",{dark:null,light:null,hcDark:Z.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},g("infoBorder","Border color of info boxes in the editor.")),UG=W("editorHint.foreground",{dark:Z.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},g("editorHint.foreground","Foreground color of hint squigglies in the editor.")),HG=W("editorHint.border",{dark:null,light:null,hcDark:Z.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},g("hintBorder","Border color of hint boxes in the editor.")),J7e=W("sash.hoverBorder",{dark:Qa,light:Qa,hcDark:Qa,hcLight:Qa},g("sashActiveBorder","Border color of active sashes.")),Hn=W("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:Z.black,hcLight:Z.white},g("editorBackground","Editor background color.")),Wr=W("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:Z.white,hcLight:be},g("editorForeground","Editor default foreground color.")),e8e=W("editorStickyScroll.background",{light:Hn,dark:Hn,hcDark:Hn,hcLight:Hn},g("editorStickyScrollBackground","Sticky scroll background color for the editor")),t8e=W("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:Z.fromHex("#0F4A85").transparent(.1)},g("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),jn=W("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:Z.white},g("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),xc=W("editorWidget.foreground",{dark:be,light:be,hcDark:be,hcLight:be},g("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),pd=W("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Nt,hcLight:Nt},g("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),$G=W("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},g("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),C8=W("quickInput.background",{dark:jn,light:jn,hcDark:jn,hcLight:jn},g("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),KG=W("quickInput.foreground",{dark:xc,light:xc,hcDark:xc,hcLight:xc},g("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),qG=W("quickInputTitle.background",{dark:new Z(new Mt(255,255,255,.105)),light:new Z(new Mt(0,0,0,.06)),hcDark:"#000000",hcLight:Z.white},g("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),YG=W("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:Z.white,hcLight:"#0F4A85"},g("pickerGroupForeground","Quick picker color for grouping labels.")),ZG=W("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:Z.white,hcLight:"#0F4A85"},g("pickerGroupBorder","Quick picker color for grouping borders.")),GG=W("keybindingLabel.background",{dark:new Z(new Mt(128,128,128,.17)),light:new Z(new Mt(221,221,221,.4)),hcDark:Z.transparent,hcLight:Z.transparent},g("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),XG=W("keybindingLabel.foreground",{dark:Z.fromHex("#CCCCCC"),light:Z.fromHex("#555555"),hcDark:Z.white,hcLight:be},g("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),QG=W("keybindingLabel.border",{dark:new Z(new Mt(51,51,51,.6)),light:new Z(new Mt(204,204,204,.4)),hcDark:new Z(new Mt(111,195,223)),hcLight:Nt},g("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),JG=W("keybindingLabel.bottomBorder",{dark:new Z(new Mt(68,68,68,.6)),light:new Z(new Mt(187,187,187,.4)),hcDark:new Z(new Mt(111,195,223)),hcLight:be},g("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),_d=W("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},g("editorSelectionBackground","Color of the editor selection.")),eX=W("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:Z.white},g("editorSelectionForeground","Color of the selected text for high contrast.")),hL=W("editor.inactiveSelectionBackground",{light:ze(_d,.5),dark:ze(_d,.5),hcDark:ze(_d,.7),hcLight:ze(_d,.5)},g("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),uL=W("editor.selectionHighlightBackground",{light:MG(_d,Hn,.3,.6),dark:MG(_d,Hn,.3,.6),hcDark:null,hcLight:null},g("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),tX=W("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Pi,hcLight:Pi},g("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),iX=W("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},g("editorFindMatch","Color of the current search match.")),bd=W("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},g("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),nX=W("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},g("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),oX=W("editor.findMatchBorder",{light:null,dark:null,hcDark:Pi,hcLight:Pi},g("editorFindMatchBorder","Border color of the current search match.")),km=W("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Pi,hcLight:Pi},g("findMatchHighlightBorder","Border color of the other search matches.")),rX=W("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:ze(Pi,.4),hcLight:ze(Pi,.4)},g("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),i8e=W("searchEditor.findMatchBackground",{light:ze(bd,.66),dark:ze(bd,.66),hcDark:bd,hcLight:bd},g("searchEditor.queryMatch","Color of the Search Editor query matches.")),n8e=W("searchEditor.findMatchBorder",{light:ze(km,.66),dark:ze(km,.66),hcDark:km,hcLight:km},g("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),sX=W("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},g("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),cf=W("editorHoverWidget.background",{light:jn,dark:jn,hcDark:jn,hcLight:jn},g("hoverBackground","Background color of the editor hover.")),qN=W("editorHoverWidget.foreground",{light:xc,dark:xc,hcDark:xc,hcLight:xc},g("hoverForeground","Foreground color of the editor hover.")),YN=W("editorHoverWidget.border",{light:pd,dark:pd,hcDark:pd,hcLight:pd},g("hoverBorder","Border color of the editor hover.")),aX=W("editorHoverWidget.statusBarBackground",{dark:Cd(cf,.2),light:db(cf,.05),hcDark:jn,hcLight:jn},g("statusBarBackground","Background color of the editor hover status bar.")),XC=W("editorLink.activeForeground",{dark:"#4E94CE",light:Z.blue,hcDark:Z.cyan,hcLight:"#292929"},g("activeLinkForeground","Color of active links.")),Nh=W("editorInlayHint.foreground",{dark:ze(Dm,.8),light:ze(Dm,.8),hcDark:Dm,hcLight:Dm},g("editorInlayHintForeground","Foreground color of inline hints")),Th=W("editorInlayHint.background",{dark:ze(xm,.6),light:ze(xm,.3),hcDark:xm,hcLight:xm},g("editorInlayHintBackground","Background color of inline hints")),lX=W("editorInlayHint.typeForeground",{dark:Nh,light:Nh,hcDark:Nh,hcLight:Nh},g("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),cX=W("editorInlayHint.typeBackground",{dark:Th,light:Th,hcDark:Th,hcLight:Th},g("editorInlayHintBackgroundTypes","Background color of inline hints for types")),dX=W("editorInlayHint.parameterForeground",{dark:Nh,light:Nh,hcDark:Nh,hcLight:Nh},g("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),hX=W("editorInlayHint.parameterBackground",{dark:Th,light:Th,hcDark:Th,hcLight:Th},g("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),uX=W("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},g("editorLightBulbForeground","The color used for the lightbulb actions icon.")),fX=W("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},g("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),WN=new Z(new Mt(155,185,85,.2)),zN=new Z(new Mt(255,0,0,.2)),w8=W("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},g("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),y8=W("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},g("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),gX=W("diffEditor.insertedLineBackground",{dark:WN,light:WN,hcDark:null,hcLight:null},g("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),mX=W("diffEditor.removedLineBackground",{dark:zN,light:zN,hcDark:null,hcLight:null},g("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),pX=W("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},g("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),_X=W("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},g("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),bX=W("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},g("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),vX=W("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},g("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),CX=W("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},g("diffEditorInsertedOutline","Outline color for the text that got inserted.")),wX=W("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},g("diffEditorRemovedOutline","Outline color for text that got removed.")),yX=W("diffEditor.border",{dark:null,light:null,hcDark:Nt,hcLight:Nt},g("diffEditorBorder","Border color between the two text editors.")),SX=W("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},g("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),LX=W("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},g("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),xX=W("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},g("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),DX=W("list.focusOutline",{dark:Qa,light:Qa,hcDark:Pi,hcLight:Pi},g("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),kX=W("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},g("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Ph=W("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:Z.fromHex("#0F4A85").transparent(.1)},g("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),vd=W("list.activeSelectionForeground",{dark:Z.white,light:Z.white,hcDark:null,hcLight:null},g("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),MC=W("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},g("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),EX=W("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:Z.fromHex("#0F4A85").transparent(.1)},g("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),IX=W("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},g("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),OX=W("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},g("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),NX=W("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},g("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),TX=W("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},g("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),PX=W("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:Z.fromHex("#0F4A85").transparent(.1)},g("listHoverBackground","List/Tree background when hovering over items using the mouse.")),AX=W("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},g("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),MX=W("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},g("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Ja=W("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:Qa,hcLight:Qa},g("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),fL=W("list.focusHighlightForeground",{dark:Ja,light:Nme(Ph,Ja,"#BBE7FF"),hcDark:Ja,hcLight:Ja},g("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),o8e=W("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},g("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),r8e=W("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},g("listErrorForeground","Foreground color of list items containing errors.")),s8e=W("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},g("listWarningForeground","Foreground color of list items containing warnings.")),RX=W("listFilterWidget.background",{light:db(jn,0),dark:Cd(jn,0),hcDark:jn,hcLight:jn},g("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),FX=W("listFilterWidget.outline",{dark:Z.transparent,light:Z.transparent,hcDark:"#f38518",hcLight:"#007ACC"},g("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),BX=W("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Nt,hcLight:Nt},g("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),jX=W("listFilterWidget.shadow",{dark:ya,light:ya,hcDark:ya,hcLight:ya},g("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),a8e=W("list.filterMatchBackground",{dark:bd,light:bd,hcDark:null,hcLight:null},g("listFilterMatchHighlight","Background color of the filtered match.")),l8e=W("list.filterMatchBorder",{dark:km,light:km,hcDark:Nt,hcLight:Pi},g("listFilterMatchHighlightBorder","Border color of the filtered match.")),WX=W("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},g("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),zX=W("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},g("tableColumnsBorder","Table border color between columns.")),VX=W("tree.tableOddRowsBackground",{dark:ze(be,.04),light:ze(be,.04),hcDark:null,hcLight:null},g("tableOddRowsBackgroundColor","Background color for odd table rows.")),c8e=W("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},g("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),NG=W("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,g("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),ab=W("quickInputList.focusForeground",{dark:vd,light:vd,hcDark:vd,hcLight:vd},g("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),lb=W("quickInputList.focusIconForeground",{dark:MC,light:MC,hcDark:MC,hcLight:MC},g("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),cb=W("quickInputList.focusBackground",{dark:zC(NG,Ph),light:zC(NG,Ph),hcDark:null,hcLight:null},g("quickInput.listFocusBackground","Quick picker background color for the focused item.")),UX=W("menu.border",{dark:null,light:null,hcDark:Nt,hcLight:Nt},g("menuBorder","Border color of menus.")),HX=W("menu.foreground",{dark:tb,light:be,hcDark:tb,hcLight:tb},g("menuForeground","Foreground color of menu items.")),$X=W("menu.background",{dark:af,light:af,hcDark:af,hcLight:af},g("menuBackground","Background color of menu items.")),KX=W("menu.selectionForeground",{dark:vd,light:vd,hcDark:vd,hcLight:vd},g("menuSelectionForeground","Foreground color of the selected menu item in menus.")),qX=W("menu.selectionBackground",{dark:Ph,light:Ph,hcDark:Ph,hcLight:Ph},g("menuSelectionBackground","Background color of the selected menu item in menus.")),YX=W("menu.selectionBorder",{dark:null,light:null,hcDark:Pi,hcLight:Pi},g("menuSelectionBorder","Border color of the selected menu item in menus.")),ZX=W("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Nt,hcLight:Nt},g("menuSeparatorBackground","Color of a separator menu item in menus.")),VN=W("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},g("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),d8e=W("toolbar.hoverOutline",{dark:null,light:null,hcDark:Pi,hcLight:Pi},g("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),h8e=W("toolbar.activeBackground",{dark:Cd(VN,.1),light:db(VN,.1),hcDark:null,hcLight:null},g("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),u8e=W("editor.snippetTabstopHighlightBackground",{dark:new Z(new Mt(124,124,124,.3)),light:new Z(new Mt(10,50,100,.2)),hcDark:new Z(new Mt(124,124,124,.3)),hcLight:new Z(new Mt(10,50,100,.2))},g("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),f8e=W("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},g("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),g8e=W("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},g("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),m8e=W("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new Z(new Mt(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},g("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),p8e=W("breadcrumb.foreground",{light:ze(be,.8),dark:ze(be,.8),hcDark:ze(be,.8),hcLight:ze(be,.8)},g("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),_8e=W("breadcrumb.background",{light:Hn,dark:Hn,hcDark:Hn,hcLight:Hn},g("breadcrumbsBackground","Background color of breadcrumb items.")),b8e=W("breadcrumb.focusForeground",{light:db(be,.2),dark:Cd(be,.1),hcDark:Cd(be,.1),hcLight:Cd(be,.1)},g("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),v8e=W("breadcrumb.activeSelectionForeground",{light:db(be,.2),dark:Cd(be,.1),hcDark:Cd(be,.1),hcLight:Cd(be,.1)},g("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),C8e=W("breadcrumbPicker.background",{light:jn,dark:jn,hcDark:jn,hcLight:jn},g("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),GX=.5,TG=Z.fromHex("#40C8AE").transparent(GX),PG=Z.fromHex("#40A6FF").transparent(GX),AG=Z.fromHex("#606060").transparent(.4),Dc=.4,jC=1,RC=W("merge.currentHeaderBackground",{dark:TG,light:TG,hcDark:null,hcLight:null},g("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),w8e=W("merge.currentContentBackground",{dark:ze(RC,Dc),light:ze(RC,Dc),hcDark:ze(RC,Dc),hcLight:ze(RC,Dc)},g("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),FC=W("merge.incomingHeaderBackground",{dark:PG,light:PG,hcDark:null,hcLight:null},g("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),y8e=W("merge.incomingContentBackground",{dark:ze(FC,Dc),light:ze(FC,Dc),hcDark:ze(FC,Dc),hcLight:ze(FC,Dc)},g("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),BC=W("merge.commonHeaderBackground",{dark:AG,light:AG,hcDark:null,hcLight:null},g("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),S8e=W("merge.commonContentBackground",{dark:ze(BC,Dc),light:ze(BC,Dc),hcDark:ze(BC,Dc),hcLight:ze(BC,Dc)},g("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),WC=W("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},g("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),L8e=W("editorOverviewRuler.currentContentForeground",{dark:ze(RC,jC),light:ze(RC,jC),hcDark:WC,hcLight:WC},g("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),x8e=W("editorOverviewRuler.incomingContentForeground",{dark:ze(FC,jC),light:ze(FC,jC),hcDark:WC,hcLight:WC},g("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),D8e=W("editorOverviewRuler.commonContentForeground",{dark:ze(BC,jC),light:ze(BC,jC),hcDark:WC,hcLight:WC},g("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),ZN=W("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},g("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),GN=W("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},g("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ib=W("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},g("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),QC=W("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},g("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),S8=W("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},g("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),XX=W("minimap.errorHighlight",{dark:new Z(new Mt(255,18,18,.7)),light:new Z(new Mt(255,18,18,.7)),hcDark:new Z(new Mt(255,50,50,1)),hcLight:"#B5200D"},g("minimapError","Minimap marker color for errors.")),QX=W("minimap.warningHighlight",{dark:Cs,light:Cs,hcDark:lf,hcLight:lf},g("overviewRuleWarning","Minimap marker color for warnings.")),JX=W("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},g("minimapBackground","Minimap background color.")),eQ=W("minimap.foregroundOpacity",{dark:Z.fromHex("#000f"),light:Z.fromHex("#000f"),hcDark:Z.fromHex("#000f"),hcLight:Z.fromHex("#000f")},g("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),tQ=W("minimapSlider.background",{light:ze(Eh,.5),dark:ze(Eh,.5),hcDark:ze(Eh,.5),hcLight:ze(Eh,.5)},g("minimapSliderBackground","Minimap slider background color.")),iQ=W("minimapSlider.hoverBackground",{light:ze(Ih,.5),dark:ze(Ih,.5),hcDark:ze(Ih,.5),hcLight:ze(Ih,.5)},g("minimapSliderHoverBackground","Minimap slider background color when hovering.")),nQ=W("minimapSlider.activeBackground",{light:ze(Oh,.5),dark:ze(Oh,.5),hcDark:ze(Oh,.5),hcLight:ze(Oh,.5)},g("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),oQ=W("problemsErrorIcon.foreground",{dark:Lc,light:Lc,hcDark:Lc,hcLight:Lc},g("problemsErrorIconForeground","The color used for the problems error icon.")),rQ=W("problemsWarningIcon.foreground",{dark:Cs,light:Cs,hcDark:Cs,hcLight:Cs},g("problemsWarningIconForeground","The color used for the problems warning icon.")),sQ=W("problemsInfoIcon.foreground",{dark:pr,light:pr,hcDark:pr,hcLight:pr},g("problemsInfoIconForeground","The color used for the problems info icon.")),k8e=W("charts.foreground",{dark:be,light:be,hcDark:be,hcLight:be},g("chartsForeground","The foreground color used in charts.")),E8e=W("charts.lines",{dark:ze(be,.5),light:ze(be,.5),hcDark:ze(be,.5),hcLight:ze(be,.5)},g("chartsLines","The color used for horizontal lines in charts.")),I8e=W("charts.red",{dark:Lc,light:Lc,hcDark:Lc,hcLight:Lc},g("chartsRed","The red color used in chart visualizations.")),O8e=W("charts.blue",{dark:pr,light:pr,hcDark:pr,hcLight:pr},g("chartsBlue","The blue color used in chart visualizations.")),N8e=W("charts.yellow",{dark:Cs,light:Cs,hcDark:Cs,hcLight:Cs},g("chartsYellow","The yellow color used in chart visualizations.")),T8e=W("charts.orange",{dark:ib,light:ib,hcDark:ib,hcLight:ib},g("chartsOrange","The orange color used in chart visualizations.")),P8e=W("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},g("chartsGreen","The green color used in chart visualizations.")),A8e=W("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},g("chartsPurple","The purple color used in chart visualizations."));aQ="vscode://schemas/workbench-colors",lQ=di.as(w_.JSONContribution);lQ.registerSchema(aQ,HN.getColorSchema());RG=new pt(()=>lQ.notifySchemaChanged(aQ),200);HN.onDidChangeSchema(()=>{RG.isScheduled()||RG.schedule()})});var Mi,Oc=ue(()=>{Ye();Mi=class{static _nextVisibleColumn(e,t,i){return e===9?Mi.nextRenderTabStop(t,i):yl(e)||wS(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){let n=Math.min(t-1,e.length),o=e.substring(0,n),s=new __(o),a=0;for(;!s.eol();){let l=K0(o,n,s.offset);s.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;let n=e.length,o=new __(e),s=0,a=1;for(;!o.eol();){let l=K0(e,n,o.offset);o.nextGraphemeLength();let c=this._nextVisibleColumn(l,s,i),d=o.offset+1;if(c>=t){let h=t-s;return c-t<h?d:a}s=c,a=d}return n+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}});var F8,B8,Bme,jme,Wme,zme,uT,hQ,mf,ub,fb,fT,dT,uQ,fQ,XBe,gQ,gT,mQ,pQ,Vme,_Q,bQ,vQ,CQ,wQ,hT,QBe,yQ,SQ,LQ,mT,pT,_T,bT,vT,CT,xQ,DQ,kQ,EQ,IQ,OQ,NQ,TQ,PQ,AQ,MQ,RQ,FQ,JBe,e9e,La=ue(()=>{Ne();ho();Ai();Ct();Tl();F8=W("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},g("lineHighlight","Background color for the highlight of line at the cursor position.")),B8=W("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:Nt},g("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),Bme=W("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},g("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),jme=W("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:Pi,hcLight:Pi},g("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),Wme=W("editor.symbolHighlightBackground",{dark:bd,light:bd,hcDark:null,hcLight:null},g("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),zme=W("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:Pi,hcLight:Pi},g("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),uT=W("editorCursor.foreground",{dark:"#AEAFAD",light:Z.black,hcDark:Z.white,hcLight:"#0F4A85"},g("caret","Color of the editor cursor.")),hQ=W("editorCursor.background",null,g("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),mf=W("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},g("editorWhitespaces","Color of whitespace characters in the editor.")),ub=W("editorIndentGuide.background",{dark:mf,light:mf,hcDark:mf,hcLight:mf},g("editorIndentGuides","Color of the editor indentation guides.")),fb=W("editorIndentGuide.activeBackground",{dark:mf,light:mf,hcDark:mf,hcLight:mf},g("editorActiveIndentGuide","Color of the active editor indentation guides.")),fT=W("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:Z.white,hcLight:"#292929"},g("editorLineNumbers","Color of editor line numbers.")),dT=W("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:Pi,hcLight:Pi},g("editorActiveLineNumber","Color of editor active line number"),!1,g("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),uQ=W("editorLineNumber.activeForeground",{dark:dT,light:dT,hcDark:dT,hcLight:dT},g("editorActiveLineNumber","Color of editor active line number")),fQ=W("editorRuler.foreground",{dark:"#5A5A5A",light:Z.lightgrey,hcDark:Z.white,hcLight:"#292929"},g("editorRuler","Color of the editor rulers.")),XBe=W("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},g("editorCodeLensForeground","Foreground color of editor CodeLens")),gQ=W("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},g("editorBracketMatchBackground","Background color behind matching brackets")),gT=W("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:Nt,hcLight:Nt},g("editorBracketMatchBorder","Color for matching brackets boxes")),mQ=W("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},g("editorOverviewRulerBorder","Color of the overview ruler border.")),pQ=W("editorOverviewRuler.background",null,g("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),Vme=W("editorGutter.background",{dark:Hn,light:Hn,hcDark:Hn,hcLight:Hn},g("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),_Q=W("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:Z.fromHex("#fff").transparent(.8),hcLight:Nt},g("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),bQ=W("editorUnnecessaryCode.opacity",{dark:Z.fromHex("#000a"),light:Z.fromHex("#0007"),hcDark:null,hcLight:null},g("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),vQ=W("editorGhostText.border",{dark:null,light:null,hcDark:Z.fromHex("#fff").transparent(.8),hcLight:Z.fromHex("#292929").transparent(.8)},g("editorGhostTextBorder","Border color of ghost text in the editor.")),CQ=W("editorGhostText.foreground",{dark:Z.fromHex("#ffffff56"),light:Z.fromHex("#0007"),hcDark:null,hcLight:null},g("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),wQ=W("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},g("editorGhostTextBackground","Background color of the ghost text in the editor.")),hT=new Z(new Mt(0,122,204,.6)),QBe=W("editorOverviewRuler.rangeHighlightForeground",{dark:hT,light:hT,hcDark:hT,hcLight:hT},g("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),yQ=W("editorOverviewRuler.errorForeground",{dark:new Z(new Mt(255,18,18,.7)),light:new Z(new Mt(255,18,18,.7)),hcDark:new Z(new Mt(255,50,50,1)),hcLight:"#B5200D"},g("overviewRuleError","Overview ruler marker color for errors.")),SQ=W("editorOverviewRuler.warningForeground",{dark:Cs,light:Cs,hcDark:lf,hcLight:lf},g("overviewRuleWarning","Overview ruler marker color for warnings.")),LQ=W("editorOverviewRuler.infoForeground",{dark:pr,light:pr,hcDark:sb,hcLight:sb},g("overviewRuleInfo","Overview ruler marker color for infos.")),mT=W("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},g("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),pT=W("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},g("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),_T=W("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},g("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),bT=W("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),vT=W("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),CT=W("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),xQ=W("editorBracketHighlight.unexpectedBracket.foreground",{dark:new Z(new Mt(255,18,18,.8)),light:new Z(new Mt(255,18,18,.8)),hcDark:new Z(new Mt(255,50,50,1)),hcLight:""},g("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),DQ=W("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),kQ=W("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),EQ=W("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),IQ=W("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),OQ=W("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),NQ=W("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),TQ=W("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),PQ=W("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),AQ=W("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),MQ=W("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),RQ=W("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),FQ=W("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},g("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),JBe=W("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},g("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),e9e=W("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},g("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));Lt((r,e)=>{let t=r.getColor(Hn);t&&e.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${t}; }`);let i=r.getColor(F8),n=i&&!i.isTransparent()?i:t;n&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${n}; }`);let o=r.getColor(Wr);o&&e.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${o}; }`);let s=r.getColor(Vme);s&&e.addRule(`.monaco-editor .margin { background-color: ${s}; }`);let a=r.getColor(Bme);a&&e.addRule(`.monaco-editor .rangeHighlight { background-color: ${a}; }`);let l=r.getColor(jme);l&&e.addRule(`.monaco-editor .rangeHighlight { border: 1px ${Qn(r.type)?"dotted":"solid"} ${l}; }`);let c=r.getColor(Wme);c&&e.addRule(`.monaco-editor .symbolHighlight { background-color: ${c}; }`);let d=r.getColor(zme);d&&e.addRule(`.monaco-editor .symbolHighlight { border: 1px ${Qn(r.type)?"dotted":"solid"} ${d}; }`);let h=r.getColor(mf);h&&(e.addRule(`.monaco-editor .mtkw { color: ${h} !important; }`),e.addRule(`.monaco-editor .mtkz { color: ${h} !important; }`))})});function Hme(r,e,t){let i=0;for(let o=0;o<r.length;o++)r.charAt(o)==="	"?i=Mi.nextIndentTabStop(i,e):i++;let n="";if(!t){let o=Math.floor(i/e);i=i%e;for(let s=0;s<o;s++)n+="	"}for(let o=0;o<i;o++)n+=" ";return n}function gb(r,e,t){let i=En(r);return i===-1&&(i=r.length),Hme(r.substring(0,i),e,t)+r.substring(i)}var yT=ue(()=>{Ye();Oc()});var F,Ui=ue(()=>{Ne();St();(function(r){r.editorSimpleInput=new Ce("editorSimpleInput",!1,!0),r.editorTextFocus=new Ce("editorTextFocus",!1,g("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),r.focus=new Ce("editorFocus",!1,g("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),r.textInputFocus=new Ce("textInputFocus",!1,g("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),r.readOnly=new Ce("editorReadonly",!1,g("editorReadonly","Whether the editor is read only")),r.inDiffEditor=new Ce("inDiffEditor",!1,g("inDiffEditor","Whether the context is a diff editor")),r.columnSelection=new Ce("editorColumnSelection",!1,g("editorColumnSelection","Whether `editor.columnSelection` is enabled")),r.writable=r.readOnly.toNegated(),r.hasNonEmptySelection=new Ce("editorHasSelection",!1,g("editorHasSelection","Whether the editor has text selected")),r.hasOnlyEmptySelection=r.hasNonEmptySelection.toNegated(),r.hasMultipleSelections=new Ce("editorHasMultipleSelections",!1,g("editorHasMultipleSelections","Whether the editor has multiple selections")),r.hasSingleSelection=r.hasMultipleSelections.toNegated(),r.tabMovesFocus=new Ce("editorTabMovesFocus",!1,g("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),r.tabDoesNotMoveFocus=r.tabMovesFocus.toNegated(),r.isInWalkThroughSnippet=new Ce("isInEmbeddedEditor",!1,!0),r.canUndo=new Ce("canUndo",!1,!0),r.canRedo=new Ce("canRedo",!1,!0),r.hoverVisible=new Ce("editorHoverVisible",!1,g("editorHoverVisible","Whether the editor hover is visible")),r.inCompositeEditor=new Ce("inCompositeEditor",void 0,g("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),r.notInCompositeEditor=r.inCompositeEditor.toNegated(),r.languageId=new Ce("editorLangId","",g("editorLangId","The language identifier of the editor")),r.hasCompletionItemProvider=new Ce("editorHasCompletionItemProvider",!1,g("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),r.hasCodeActionsProvider=new Ce("editorHasCodeActionsProvider",!1,g("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),r.hasCodeLensProvider=new Ce("editorHasCodeLensProvider",!1,g("editorHasCodeLensProvider","Whether the editor has a code lens provider")),r.hasDefinitionProvider=new Ce("editorHasDefinitionProvider",!1,g("editorHasDefinitionProvider","Whether the editor has a definition provider")),r.hasDeclarationProvider=new Ce("editorHasDeclarationProvider",!1,g("editorHasDeclarationProvider","Whether the editor has a declaration provider")),r.hasImplementationProvider=new Ce("editorHasImplementationProvider",!1,g("editorHasImplementationProvider","Whether the editor has an implementation provider")),r.hasTypeDefinitionProvider=new Ce("editorHasTypeDefinitionProvider",!1,g("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),r.hasHoverProvider=new Ce("editorHasHoverProvider",!1,g("editorHasHoverProvider","Whether the editor has a hover provider")),r.hasDocumentHighlightProvider=new Ce("editorHasDocumentHighlightProvider",!1,g("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),r.hasDocumentSymbolProvider=new Ce("editorHasDocumentSymbolProvider",!1,g("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),r.hasReferenceProvider=new Ce("editorHasReferenceProvider",!1,g("editorHasReferenceProvider","Whether the editor has a reference provider")),r.hasRenameProvider=new Ce("editorHasRenameProvider",!1,g("editorHasRenameProvider","Whether the editor has a rename provider")),r.hasSignatureHelpProvider=new Ce("editorHasSignatureHelpProvider",!1,g("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),r.hasInlayHintsProvider=new Ce("editorHasInlayHintsProvider",!1,g("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),r.hasDocumentFormattingProvider=new Ce("editorHasDocumentFormattingProvider",!1,g("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),r.hasDocumentSelectionFormattingProvider=new Ce("editorHasDocumentSelectionFormattingProvider",!1,g("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),r.hasMultipleDocumentFormattingProvider=new Ce("editorHasMultipleDocumentFormattingProvider",!1,g("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),r.hasMultipleDocumentSelectionFormattingProvider=new Ce("editorHasMultipleDocumentSelectionFormattingProvider",!1,g("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(F||(F={}))});var hw,X8=ue(()=>{se();hw=class extends ${constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}});function Lb(r,e){let t=0,i=0,n=r.length;for(;i<n;){let o=r.charCodeAt(i);if(o===32)t++;else if(o===9)t=t-t%e+e;else break;i++}return i===n?-1:t}var YT=ue(()=>{});var vf,Pc,Cf,ZT=ue(()=>{(function(r){r[r.Disabled=0]="Disabled",r[r.EnabledForActive=1]="EnabledForActive",r[r.Enabled=2]="Enabled"})(vf||(vf={}));Pc=class{constructor(e,t,i,n,o,s){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=n,this.forWrappedLinesAfterColumn=o,this.forWrappedLinesBeforeOrAtColumn=s,e!==-1==(t!==-1))throw new Error}},Cf=class{constructor(e,t){this.top=e,this.endColumn=t}}});var GT,OL,Q8=ue(()=>{Ft();Ye();Oc();Le();X8();YT();ZT();GT=class extends hw{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return Lb(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();let n=this.textModel.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");let o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=Boolean(o&&o.offSide),a=-2,l=-1,c=-2,d=-1,h=I=>{if(a!==-1&&(a===-2||a>I-1)){a=-1,l=-1;for(let O=I-2;O>=0;O--){let R=this._computeIndentLevel(O);if(R>=0){a=O,l=R;break}}}if(c===-2){c=-1,d=-1;for(let O=I;O<n;O++){let R=this._computeIndentLevel(O);if(R>=0){c=O,d=R;break}}}},u=-2,f=-1,m=-2,_=-1,v=I=>{if(u===-2){u=-1,f=-1;for(let O=I-2;O>=0;O--){let R=this._computeIndentLevel(O);if(R>=0){u=O,f=R;break}}}if(m!==-1&&(m===-2||m<I-1)){m=-1,_=-1;for(let O=I;O<n;O++){let R=this._computeIndentLevel(O);if(R>=0){m=O,_=R;break}}}},w=0,y=!0,x=0,k=!0,N=0,M=0;for(let I=0;y||k;I++){let O=e-I,R=e+I;I>1&&(O<1||O<t)&&(y=!1),I>1&&(R>n||R>i)&&(k=!1),I>5e4&&(y=!1,k=!1);let K=-1;if(y&&O>=1){let te=this._computeIndentLevel(O-1);te>=0?(c=O-1,d=te,K=Math.ceil(te/this.textModel.getOptions().indentSize)):(h(O),K=this._getIndentLevelForWhitespaceLine(s,l,d))}let q=-1;if(k&&R<=n){let te=this._computeIndentLevel(R-1);te>=0?(u=R-1,f=te,q=Math.ceil(te/this.textModel.getOptions().indentSize)):(v(R),q=this._getIndentLevelForWhitespaceLine(s,f,_))}if(I===0){M=K;continue}if(I===1){if(R<=n&&q>=0&&M+1===q){y=!1,w=R,x=R,N=q;continue}if(O>=1&&K>=0&&K-1===M){k=!1,w=O,x=O,N=K;continue}if(w=e,x=e,N=M,N===0)return{startLineNumber:w,endLineNumber:x,indent:N}}y&&(K>=N?w=O:y=!1),k&&(q>=N?x=R:k=!1)}return{startLineNumber:w,endLineNumber:x,indent:N}}getLinesBracketGuides(e,t,i,n){var o;let s=[];for(let u=e;u<=t;u++)s.push([]);let a=!0,l=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D(e,1,t,this.textModel.getLineMaxColumn(t))),c;if(i&&l.length>0){let u=(e<=i.lineNumber&&i.lineNumber<=t?l:this.textModel.bracketPairs.getBracketPairsInRange(D.fromPositions(i))).filter(f=>D.strictContainsPosition(f.range,i));c=(o=nS(u,f=>a||f.range.startLineNumber!==f.range.endLineNumber))===null||o===void 0?void 0:o.range}let d=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,h=new OL;for(let u of l){if(!u.closingBracketRange)continue;let f=c&&u.range.equalsRange(c);if(!f&&!n.includeInactive)continue;let m=h.getInlineClassName(u.nestingLevel,u.nestingLevelOfEqualBracketType,d)+(n.highlightActive&&f?" "+h.activeClassName:""),_=u.openingBracketRange.getStartPosition(),v=u.closingBracketRange.getStartPosition(),w=n.horizontalGuides===vf.Enabled||n.horizontalGuides===vf.EnabledForActive&&f;if(u.range.startLineNumber===u.range.endLineNumber){a&&w&&s[u.range.startLineNumber-e].push(new Pc(-1,u.openingBracketRange.getEndPosition().column,m,new Cf(!1,v.column),-1,-1));continue}let y=this.getVisibleColumnFromPosition(v),x=this.getVisibleColumnFromPosition(u.openingBracketRange.getStartPosition()),k=Math.min(x,y,u.minVisibleColumnIndentation+1),N=!1;En(this.textModel.getLineContent(u.closingBracketRange.startLineNumber))<u.closingBracketRange.startColumn-1&&(N=!0);let O=Math.max(_.lineNumber,e),R=Math.min(v.lineNumber,t),K=N?1:0;for(let q=O;q<R+K;q++)s[q-e].push(new Pc(k,-1,m,null,q===_.lineNumber?_.column:-1,q===v.lineNumber?v.column:-1));w&&(_.lineNumber>=e&&x>k&&s[_.lineNumber-e].push(new Pc(k,-1,m,new Cf(!1,_.column),-1,-1)),v.lineNumber<=t&&y>k&&s[v.lineNumber-e].push(new Pc(k,-1,m,new Cf(!N,v.column),-1,-1)))}for(let u of s)u.sort((f,m)=>f.visibleColumn-m.visibleColumn);return s}getVisibleColumnFromPosition(e){return Mi.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();let i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");let n=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=Boolean(o&&o.offSide),a=new Array(t-e+1),l=-2,c=-1,d=-2,h=-1;for(let u=e;u<=t;u++){let f=u-e,m=this._computeIndentLevel(u-1);if(m>=0){l=u-1,c=m,a[f]=Math.ceil(m/n.indentSize);continue}if(l===-2){l=-1,c=-1;for(let _=u-2;_>=0;_--){let v=this._computeIndentLevel(_);if(v>=0){l=_,c=v;break}}}if(d!==-1&&(d===-2||d<u-1)){d=-1,h=-1;for(let _=u;_<i;_++){let v=this._computeIndentLevel(_);if(v>=0){d=_,h=v;break}}}a[f]=this._getIndentLevelForWhitespaceLine(s,c,h)}return a}_getIndentLevelForWhitespaceLine(e,t,i){let n=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/n.indentSize):t===i||e?Math.ceil(i/n.indentSize):1+Math.floor(i/n.indentSize)}},OL=class{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}});var vP,os,ML,CP,wP,yP,yf,gw,xd,$m=ue(()=>{vP=class{constructor(){this.changeType=1}},os=class{constructor(e,t,i,n,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=o}static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",n=0;for(let o of t)i+=e.substring(n,o.column-1),n=o.column-1,i+=o.options.content;return i+=e.substring(n),i}static fromDecorations(e){let t=[];for(let i of e)i.options.before&&i.options.before.content.length>0&&t.push(new os(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new os(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,n)=>i.lineNumber===n.lineNumber?i.column===n.column?i.order-n.order:i.column-n.column:i.lineNumber-n.lineNumber),t}},ML=class{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}},CP=class{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}},wP=class{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}},yP=class{constructor(){this.changeType=5}},yf=class{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){let i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new yf(i,n,o,s)}},gw=class{constructor(e){this.changes=e}},xd=class{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){let t=yf.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=xd._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new xd(t,i)}static _mergeChangeEvents(e,t){let i=[].concat(e.changes).concat(t.changes),n=t.eol,o=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush;return{changes:i,eol:n,versionId:o,isUndoing:s,isRedoing:a,isFlush:l}}}});function Ac(r){let e=0,t=0,i=0,n=0;for(let o=0,s=r.length;o<s;o++){let a=r.charCodeAt(o);a===13?(e===0&&(t=o),e++,o+1<s&&r.charCodeAt(o+1)===10?(n|=2,o++):n|=3,i=o+1):a===10&&(n|=1,e===0&&(t=o),e++,i=o+1)}return e===0&&(t=r.length),[e,t,r.length-i,n]}var ww=ue(()=>{});var Mb,dB,$P,GQ=ue(()=>{Mb=class{constructor(e,t,i,n){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=n}},dB=class{constructor(e,t,i,n,o,s){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=n,this.nestingLevelOfEqualBracketType=o,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}},$P=class extends dB{constructor(e,t,i,n,o,s,a){super(e,t,i,n,o,s),this.minVisibleColumnIndentation=a}}});function XQ(r,e,t,i){return r!==t?Ln(t-r,i):Ln(0,i-e)}function QQ(r){return r===0}function Ln(r,e){return r*nl+e}function Dd(r){let e=r,t=Math.floor(e/nl),i=e-t*nl;return new FL(t,i)}function JQ(r){return Math.floor(r/nl)}function nn(r,e){return e<nl?r+e:r-r%nl+e}function eJ(r,e){let t=r,i=e;if(i-t<=0)return ys;let o=Math.floor(t/nl),s=Math.floor(i/nl),a=i-s*nl;if(o===s){let l=t-o*nl;return Ln(0,a-l)}else return Ln(s-o,a)}function Lf(r,e){return r<e}function Wh(r,e){return r<=e}function yw(r,e){return r>=e}function Rb(r){return Ln(r.lineNumber-1,r.column-1)}function zh(r,e){let t=r,i=Math.floor(t/nl),n=t-i*nl,o=e,s=Math.floor(o/nl),a=o-s*nl;return new D(i+1,n+1,s+1,a+1)}function tJ(r){let e=Mr(r);return Ln(e.length-1,e[e.length-1].length)}var FL,ys,nl,xf=ue(()=>{Ye();Le();FL=class{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}};FL.zero=new FL(0,0);ys=0;nl=Math.pow(2,26)});var BL,KP,jL,hB=ue(()=>{xf();BL=class{constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}},KP=class{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(i=>jL.from(i))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);let t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):this.documentLength;return eJ(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?Ln(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):Ln(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){let t=Dd(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?Ln(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):Ln(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){let t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(Wh(i,e)){this.nextEditIdx++;let n=Dd(i),o=Dd(this.translateOldToCur(t.endOffsetBeforeObj)),s=n.lineCount-o.lineCount;this.deltaOldToNewLineCount+=s;let a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=n.columnCount-o.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}},jL=class{constructor(e,t,i){this.endOffsetBeforeObj=Dd(t),this.endOffsetAfterObj=Dd(nn(e,i)),this.offsetObj=Dd(e)}static from(e){return new jL(e.startOffset,e.endOffset,e.newLength)}}});var qP,xn,uB,Sw,Fb=ue(()=>{qP=new Array,xn=class{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&t.length===0){let i=xn.cache[e];return i||(i=new xn(e,t),xn.cache[e]=i),i}return new xn(e,t)}static getEmpty(){return this.empty}add(e,t){let i=t.getKey(e),n=i>>5;if(n===0){let s=1<<i|this.items;return s===this.items?this:xn.create(s,this.additionalItems)}n--;let o=this.additionalItems.slice(0);for(;o.length<n;)o.push(0);return o[n]|=1<<(i&31),xn.create(this.items,o)}merge(e){let t=this.items|e.items;if(this.additionalItems===qP&&e.additionalItems===qP)return t===this.items?this:t===e.items?e:xn.create(t,qP);let i=new Array;for(let n=0;n<Math.max(this.additionalItems.length,e.additionalItems.length);n++){let o=this.additionalItems[n]||0,s=e.additionalItems[n]||0;i.push(o|s)}return xn.create(t,i)}intersects(e){if((this.items&e.items)!==0)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if((this.additionalItems[t]&e.additionalItems[t])!==0)return!0;return!1}};xn.cache=new Array(129);xn.empty=xn.create(0,qP);uB={getKey(r){return r}},Sw=class{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}});var WL,qm,ol,Bb,fB,Lw,gB,hpe,zL,Df,jb,YP,VL=ue(()=>{Oc();xf();Fb();WL=class{constructor(e){this._length=e}get length(){return this._length}},qm=class extends WL{constructor(e,t,i,n,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=n,this.missingOpeningBracketIds=o}static create(e,t,i){let n=e.length;return t&&(n=nn(n,t.length)),i&&(n=nn(n,i.length)),new qm(n,e,t,i,t?t.missingOpeningBracketIds:xn.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){let e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new qm(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(nn(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}},ol=class extends WL{constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}static create23(e,t,i,n=!1){let o=e.length,s=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=nn(o,t.length),s=s.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=nn(o,i.length),s=s.merge(i.missingOpeningBracketIds)}return n?new fB(o,e.listHeight+1,e,t,i,s):new Bb(o,e.listHeight+1,e,t,i,s)}static getEmpty(){return new gB(ys,0,[],xn.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();let e=this.childrenLength;if(e===0)return;let t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;let t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t=this,i;for(;t.kind===4&&(i=t.childrenLength)>0;)t=t.getChild(i-1);return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();let e=this.childrenLength,t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let n=1;n<e;n++){let o=this.getChild(n);t=nn(t,o.length),i=i.merge(o.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,n=e;for(let o=0;o<this.childrenLength;o++){let s=this.getChild(o);s&&(i=Math.min(i,s.computeMinIndentation(n,t)),n=nn(n,s.length))}return this.cachedMinIndentation=i,i}},Bb=class extends ol{constructor(e,t,i,n,o,s){super(e,t,s),this._item1=i,this._item2=n,this._item3=o}get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new Bb(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();let e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}},fB=class extends Bb{toMutable(){return new Bb(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},Lw=class extends ol{constructor(e,t,i,n){super(e,t,n),this._children=i}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){let e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new Lw(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();let e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();let e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}},gB=class extends Lw{toMutable(){return new Lw(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}},hpe=[],zL=class extends WL{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return hpe}deepClone(){return this}},Df=class extends zL{get kind(){return 0}get missingOpeningBracketIds(){return xn.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){let i=Dd(e),n=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,o=JQ(nn(e,this.length))+1,s=Number.MAX_SAFE_INTEGER;for(let a=n;a<=o;a++){let l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;let d=Mi.visibleColumnFromColumn(c,l,t.getOptions().tabSize);s=Math.min(s,d)}return s}},jb=class extends zL{constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}static create(e,t,i){return new jb(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return xn.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}},YP=class extends zL{constructor(e,t){super(t),this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}});var kd,xw,mB,ZP,GP=ue(()=>{ut();lC();VL();xf();Fb();kd=class{constructor(e,t,i,n,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=n,this.astNode=o}},xw=class{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new mB(this.textModel,this.bracketTokens),this._offset=ys,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return Ln(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=nn(this._offset,e);let t=Dd(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=nn(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}},mB=class{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){let o=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=o.length,o}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));let e=this.lineIdx,t=this.lineCharOffset,i=0;for(;;){let o=this.lineTokens,s=o.getCount(),a=null;if(this.lineTokenOffset<s){let l=o.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&l===o.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;let c=Uo.getTokenType(l)===0,d=Uo.containsBalancedBrackets(l),h=o.getEndOffset(this.lineTokenOffset);if(d&&c&&this.lineCharOffset<h){let u=o.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,h),m=this.bracketTokens.getSingleLanguageBracketTokens(u),_=m.regExpGlobal;if(_){_.lastIndex=0;let v=_.exec(f);v&&(a=m.getToken(v[0]),a&&(this.lineCharOffset+=v.index))}}if(i+=h-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=h}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}let n=XQ(e,t,this.lineIdx,this.lineCharOffset);return new kd(n,0,-1,xn.getEmpty(),new Df(n))}},ZP=class{constructor(e,t){this.text=e,this._offset=ys,this.idx=0;let i=t.getRegExpStr(),n=i?new RegExp(i+`|
`,"gi"):null,o=[],s,a=0,l=0,c=0,d=0,h=new Array;for(let m=0;m<60;m++)h.push(new kd(Ln(0,m),0,-1,xn.getEmpty(),new Df(Ln(0,m))));let u=new Array;for(let m=0;m<60;m++)u.push(new kd(Ln(1,m),0,-1,xn.getEmpty(),new Df(Ln(1,m))));if(n)for(n.lastIndex=0;(s=n.exec(e))!==null;){let m=s.index,_=s[0];if(_===`
`)a++,l=m+1;else{if(c!==m){let v;if(d===a){let w=m-c;if(w<h.length)v=h[w];else{let y=Ln(0,w);v=new kd(y,0,-1,xn.getEmpty(),new Df(y))}}else{let w=a-d,y=m-l;if(w===1&&y<u.length)v=u[y];else{let x=Ln(w,y);v=new kd(x,0,-1,xn.getEmpty(),new Df(x))}}o.push(v)}o.push(t.getToken(_)),c=m+_.length,d=a}}let f=e.length;if(c!==f){let m=d===a?Ln(0,f-c):Ln(a-d,f-l);o.push(new kd(m,0,-1,xn.getEmpty(),new Df(m)))}this.length=Ln(a,f-l),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new eI}}});function fpe(r){let e=_o(r);return/^[\w ]+/.test(r)&&(e=`\\b${e}`),/[\w ]+$/.test(r)&&(e=`${e}\\b`),e}var UL,Dw,pB=ue(()=>{Ye();VL();xf();Fb();GP();UL=class{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function i(o){return t.getKey(`${o.languageId}:::${o.bracketText}`)}let n=new Map;for(let o of e.bracketsNew.openingBrackets){let s=Ln(0,o.bracketText.length),a=i(o),l=xn.getEmpty().add(a,uB);n.set(o.bracketText,new kd(s,1,a,l,jb.create(s,o,l)))}for(let o of e.bracketsNew.closingBrackets){let s=Ln(0,o.bracketText.length),a=xn.getEmpty(),l=o.getClosedBrackets();for(let c of l)a=a.add(i(c),uB);n.set(o.bracketText,new kd(s,2,i(l[0]),a,jb.create(s,o,a)))}return new UL(n)}getRegExpStr(){if(this.isEmpty)return null;{let e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>fpe(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){let e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(let[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}};Dw=class{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=UL.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}});function nJ(r){if(r.length===0)return null;if(r.length===1)return r[0];let e=0;function t(){if(e>=r.length)return null;let s=e,a=r[s].listHeight;for(e++;e<r.length&&r[e].listHeight===a;)e++;return e-s>=2?bB(s===0&&e===r.length?r:r.slice(s,e),!1):r[s]}let i=t(),n=t();if(!n)return i;for(let s=t();s;s=t())iJ(i,n)<=iJ(n,s)?(i=_B(i,n),n=s):n=_B(n,s);return _B(i,n)}function bB(r,e=!1){if(r.length===0)return null;if(r.length===1)return r[0];let t=r.length;for(;t>3;){let i=t>>1;for(let n=0;n<i;n++){let o=n<<1;r[n]=ol.create23(r[o],r[o+1],o+3===t?r[o+2]:null,e)}t=i}return ol.create23(r[0],r[1],t>=3?r[2]:null,e)}function iJ(r,e){return Math.abs(r.listHeight-e.listHeight)}function _B(r,e){return r.listHeight===e.listHeight?ol.create23(r,e,null,!1):r.listHeight>e.listHeight?gpe(r,e):mpe(e,r)}function gpe(r,e){r=r.toMutable();let t=r,i=new Array,n;for(;;){if(e.listHeight===t.listHeight){n=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){let s=i[o];n?s.childrenLength>=3?n=ol.create23(s.unappendChild(),n,null,!1):(s.appendChildOfSameHeight(n),n=void 0):s.handleChildrenChanged()}return n?ol.create23(r,n,null,!1):r}function mpe(r,e){r=r.toMutable();let t=r,i=new Array;for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let n=e;for(let o=i.length-1;o>=0;o--){let s=i[o];n?s.childrenLength>=3?n=ol.create23(n,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(n),n=void 0):s.handleChildrenChanged()}return n?ol.create23(n,r,null,!1):r}var oJ=ue(()=>{VL()});function vB(r,e=-1){for(;;){if(e++,e>=r.childrenLength)return-1;if(r.getChild(e))return e}}function HL(r){return r.length>0?r[r.length-1]:void 0}var XP,rJ=ue(()=>{xf();XP=class{constructor(e){this.lastOffset=ys,this.nextNodes=[e],this.offsets=[ys],this.idxs=[]}readLongestNodeAt(e,t){if(Lf(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){let i=HL(this.nextNodes);if(!i)return;let n=HL(this.offsets);if(Lf(e,n))return;if(Lf(n,e))if(nn(n,i.length)<=e)this.nextNodeAfterCurrent();else{let o=vB(i);o!==-1?(this.nextNodes.push(i.getChild(o)),this.offsets.push(n),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{let o=vB(i);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(o)),this.offsets.push(n),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){let e=HL(this.offsets),t=HL(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;let i=HL(this.nextNodes),n=vB(i,this.idxs[this.idxs.length-1]);if(n!==-1){this.nextNodes.push(i.getChild(n)),this.offsets.push(nn(e,t.length)),this.idxs[this.idxs.length-1]=n;break}else this.idxs.pop()}}}});function $L(r,e,t,i){return new CB(r,e,t,i).parseDocument()}var CB,wB=ue(()=>{VL();hB();Fb();xf();oJ();rJ();CB=class{constructor(e,t,i,n){if(this.tokenizer=e,this.createImmutableLists=n,this._itemsConstructed=0,this._itemsFromCache=0,i&&n)throw new Error("Not supported");this.oldNodeReader=i?new XP(i):void 0,this.positionMapper=new KP(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(xn.getEmpty());return e||(e=ol.getEmpty()),e}parseList(e){let t=new Array;for(;;){let n=this.tokenizer.peek();if(!n||n.kind===2&&n.bracketIds.intersects(e))break;let o=this.parseChild(e);o.kind===4&&o.childrenLength===0||t.push(o)}return this.oldNodeReader?nJ(t):bB(t,this.createImmutableLists)}parseChild(e){if(this.oldNodeReader){let i=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!QQ(i)){let n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),o=>Lf(o.length,i)?o.canBeReused(e):!1);if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}this._itemsConstructed++;let t=this.tokenizer.read();switch(t.kind){case 2:return new YP(t.bracketIds,t.length);case 0:return t.astNode;case 1:{let i=e.merge(t.bracketIds),n=this.parseList(i),o=this.tokenizer.peek();return o&&o.kind===2&&(o.bracketId===t.bracketId||o.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),qm.create(t.astNode,n,o.astNode)):qm.create(t.astNode,n,null)}default:throw new Error("unexpected")}}}});function sJ(r,e,t,i){if(r.kind===4||r.kind===2){let n=[];for(let o of r.children)t=nn(e,o.length),n.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let o=n.length-1;o>=0;o--){let{nodeOffsetStart:s,nodeOffsetEnd:a}=n[o];if(Lf(s,i)){let l=sJ(r.children[o],s,a,i);if(l)return l}}return null}else{if(r.kind===3)return null;if(r.kind===1){let n=zh(e,t);return{bracketInfo:r.bracketInfo,range:n}}}return null}function aJ(r,e,t,i){if(r.kind===4||r.kind===2){for(let n of r.children){if(t=nn(e,n.length),Lf(i,t)){let o=aJ(n,e,t,i);if(o)return o}e=t}return null}else{if(r.kind===3)return null;if(r.kind===1){let n=zh(e,t);return{bracketInfo:r.bracketInfo,range:n}}}return null}function yB(r,e,t,i,n,o,s,a){if(!(s>200)){if(r.kind===4)for(let l of r.children)t=nn(e,l.length),Wh(e,n)&&yw(t,i)&&yB(l,e,t,i,n,o,s,a),e=t;else if(r.kind===2){let l=0;if(a){let c=a.get(r.openingBracket.text);c===void 0&&(c=0),l=c,c++,a.set(r.openingBracket.text,c)}{let c=r.openingBracket;if(t=nn(e,c.length),Wh(e,n)&&yw(t,i)){let d=zh(e,t);o.push(new Mb(d,s,l,!r.closingBracket))}e=t}if(r.child){let c=r.child;t=nn(e,c.length),Wh(e,n)&&yw(t,i)&&yB(c,e,t,i,n,o,s+1,a),e=t}if(r.closingBracket){let c=r.closingBracket;if(t=nn(e,c.length),Wh(e,n)&&yw(t,i)){let d=zh(e,t);o.push(new Mb(d,s,l,!1))}e=t}a?.set(r.openingBracket.text,l)}else if(r.kind===3){let l=zh(e,t);o.push(new Mb(l,s-1,0,!0))}else if(r.kind===1){let l=zh(e,t);o.push(new Mb(l,s-1,0,!1))}}}function LB(r,e,t,i,n,o,s,a){var l;if(!(s>200))if(r.kind===2){let c=0;if(a){let u=a.get(r.openingBracket.text);u===void 0&&(u=0),c=u,u++,a.set(r.openingBracket.text,u)}let d=nn(e,r.openingBracket.length),h=-1;if(o.includeMinIndentation&&(h=r.computeMinIndentation(e,o.textModel)),o.result.push(new $P(zh(e,t),zh(e,d),r.closingBracket?zh(nn(d,((l=r.child)===null||l===void 0?void 0:l.length)||ys),t):void 0,s,c,r,h)),e=d,r.child){let u=r.child;t=nn(e,u.length),Wh(e,n)&&yw(t,i)&&LB(u,e,t,i,n,o,s+1,a)}a?.set(r.openingBracket.text,c)}else{let c=e;for(let d of r.children){let h=c;c=nn(c,d.length),Wh(h,n)&&Wh(i,c)&&LB(d,h,c,i,n,o,s,a)}}}var QP,SB,lJ=ue(()=>{Oe();se();Le();GQ();hB();pB();xf();wB();Fb();GP();QP=class extends ${constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new B,this.denseKeyProvider=new Sw,this.brackets=new Dw(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,e.tokenization.backgroundTokenizationState===0){let i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),n=new ZP(this.textModel.getValue(),i);this.initialAstWithoutTokens=$L(n,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):e.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){let e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){let t=e.map(i=>new BL(Ln(i.fromLineNumber-1,0),Ln(i.toLineNumber,0),Ln(i.toLineNumber-i.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){let t=e.changes.map(i=>{let n=D.lift(i.range);return new BL(Rb(n.getStartPosition()),Rb(n.getEndPosition()),tJ(i.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,i){let o=t,s=new xw(this.textModel,this.brackets);return $L(s,e,o,i)}getBracketsInRange(e){let t=Ln(e.startLineNumber-1,e.startColumn-1),i=Ln(e.endLineNumber-1,e.endColumn-1),n=new Array,o=this.initialAstWithoutTokens||this.astWithTokens;return yB(o,ys,o.length,t,i,n,0,new Map),n}getBracketPairsInRange(e,t){let i=new Array,n=Rb(e.getStartPosition()),o=Rb(e.getEndPosition()),s=this.initialAstWithoutTokens||this.astWithTokens,a=new SB(i,t,this.textModel);return LB(s,ys,s.length,n,o,a,0,new Map),i}getFirstBracketAfter(e){let t=this.initialAstWithoutTokens||this.astWithTokens;return aJ(t,ys,t.length,Rb(e))}getFirstBracketBefore(e){let t=this.initialAstWithoutTokens||this.astWithTokens;return sJ(t,ys,t.length,Rb(e))}};SB=class{constructor(e,t,i){this.result=e,this.includeMinIndentation=t,this.textModel=i}}});function ppe(r,e){return{object:r,dispose:()=>e?.dispose()}}function xB(r){if(typeof r>"u")return()=>!0;{let e=Date.now();return()=>Date.now()-e<=r}}function JP(r){return r instanceof Ed?null:r}var eA,Ed,cJ=ue(()=>{Oe();se();Le();lJ();v_();yO();Ft();eA=class extends ${constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new Cn),this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(i=>{var n;(!i.languageId||((n=this.bracketPairsTree.value)===null||n===void 0?void 0:n.object.didLanguageChange(i.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)===null||e===void 0||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){let e=new J;this.bracketPairsTree.value=ppe(e.add(new QP(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketsInRange(e))||[]}findMatchingBracketUp(e,t,i){let n=this.textModel.validatePosition(t),o=this.textModel.getLanguageIdAtPosition(n.lineNumber,n.column);if(this.canBuildAST){let s=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getClosingBracketInfo(e);if(!s)return null;let a=nS(this.getBracketPairsInRange(D.fromPositions(t,t))||[],l=>s.closes(l.openingBracketInfo));return a?a.openingBracketRange:null}else{let s=e.toLowerCase(),a=this.languageConfigurationService.getLanguageConfiguration(o).brackets;if(!a)return null;let l=a.textIsBracket[s];return l?JP(this._findMatchingBracketUp(l,n,xB(i))):null}}matchBracket(e,t){if(this.canBuildAST){let i=qE(this.getBracketPairsInRange(D.fromPositions(e,e)).filter(n=>n.closingBracketRange!==void 0&&(n.openingBracketRange.containsPosition(e)||n.closingBracketRange.containsPosition(e))),Fg(n=>n.openingBracketRange.containsPosition(e)?n.openingBracketRange:n.closingBracketRange,D.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{let i=xB(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,n){let o=t.getCount(),s=t.getLanguageId(n),a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=n-1;c>=0;c--){let d=t.getEndOffset(c);if(d<=a)break;if(uc(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){a=d;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=n+1;c<o;c++){let d=t.getStartOffset(c);if(d>=l)break;if(uc(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){l=d;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e,t){let i=e.lineNumber,n=this.textModel.tokenization.getLineTokens(i),o=this.textModel.getLineContent(i),s=n.findTokenIndexAtOffset(e.column-1);if(s<0)return null;let a=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(s)).brackets;if(a&&!uc(n.getStandardTokenType(s))){let{searchStartOffset:l,searchEndOffset:c}=this._establishBracketSearchOffsets(e,n,a,s),d=null;for(;;){let h=Fs.findNextBracketInRange(a.forwardRegex,i,o,l,c);if(!h)break;if(h.startColumn<=e.column&&e.column<=h.endColumn){let u=o.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),f=this._matchFoundBracket(h,a.textIsBracket[u],a.textIsOpenBracket[u],t);if(f){if(f instanceof Ed)return null;d=f}}l=h.endColumn-1}if(d)return d}if(s>0&&n.getStartOffset(s)===e.column-1){let l=s-1,c=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId(l)).brackets;if(c&&!uc(n.getStandardTokenType(l))){let{searchStartOffset:d,searchEndOffset:h}=this._establishBracketSearchOffsets(e,n,c,l),u=Fs.findPrevBracketInRange(c.reversedRegex,i,o,d,h);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn){let f=o.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),m=this._matchFoundBracket(u,c.textIsBracket[f],c.textIsOpenBracket[f],t);if(m)return m instanceof Ed?null:m}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;let o=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return o?o instanceof Ed?o:[e,o]:null}_findMatchingBracketUp(e,t,i){let n=e.languageId,o=e.reversedRegex,s=-1,a=0,l=(c,d,h,u)=>{for(;;){if(i&&++a%100===0&&!i())return Ed.INSTANCE;let f=Fs.findPrevBracketInRange(o,c,d,h,u);if(!f)break;let m=d.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(m)?s++:e.isClose(m)&&s--,s===0)return f;u=f.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){let d=this.textModel.tokenization.getLineTokens(c),h=d.getCount(),u=this.textModel.getLineContent(c),f=h-1,m=u.length,_=u.length;c===t.lineNumber&&(f=d.findTokenIndexAtOffset(t.column-1),m=t.column-1,_=t.column-1);let v=!0;for(;f>=0;f--){let w=d.getLanguageId(f)===n&&!uc(d.getStandardTokenType(f));if(w)v?m=d.getStartOffset(f):(m=d.getStartOffset(f),_=d.getEndOffset(f));else if(v&&m!==_){let y=l(c,u,m,_);if(y)return y}v=w}if(v&&m!==_){let w=l(c,u,m,_);if(w)return w}}return null}_findMatchingBracketDown(e,t,i){let n=e.languageId,o=e.forwardRegex,s=1,a=0,l=(d,h,u,f)=>{for(;;){if(i&&++a%100===0&&!i())return Ed.INSTANCE;let m=Fs.findNextBracketInRange(o,d,h,u,f);if(!m)break;let _=h.substring(m.startColumn-1,m.endColumn-1).toLowerCase();if(e.isOpen(_)?s++:e.isClose(_)&&s--,s===0)return m;u=m.endColumn-1}return null},c=this.textModel.getLineCount();for(let d=t.lineNumber;d<=c;d++){let h=this.textModel.tokenization.getLineTokens(d),u=h.getCount(),f=this.textModel.getLineContent(d),m=0,_=0,v=0;d===t.lineNumber&&(m=h.findTokenIndexAtOffset(t.column-1),_=t.column-1,v=t.column-1);let w=!0;for(;m<u;m++){let y=h.getLanguageId(m)===n&&!uc(h.getStandardTokenType(m));if(y)w||(_=h.getStartOffset(m)),v=h.getEndOffset(m);else if(w&&_!==v){let x=l(d,f,_,v);if(x)return x}w=y}if(w&&_!==v){let y=l(d,f,_,v);if(y)return y}}return null}findPrevBracket(e){var t;let i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketBefore(i))||null;let n=null,o=null,s=null;for(let a=i.lineNumber;a>=1;a--){let l=this.textModel.tokenization.getLineTokens(a),c=l.getCount(),d=this.textModel.getLineContent(a),h=c-1,u=d.length,f=d.length;if(a===i.lineNumber){h=l.findTokenIndexAtOffset(i.column-1),u=i.column-1,f=i.column-1;let _=l.getLanguageId(h);n!==_&&(n=_,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets,s=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew)}let m=!0;for(;h>=0;h--){let _=l.getLanguageId(h);if(n!==_){if(o&&s&&m&&u!==f){let w=Fs.findPrevBracketInRange(o.reversedRegex,a,d,u,f);if(w)return this._toFoundBracket(s,w);m=!1}n=_,o=this.languageConfigurationService.getLanguageConfiguration(n).brackets,s=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}let v=!!o&&!uc(l.getStandardTokenType(h));if(v)m?u=l.getStartOffset(h):(u=l.getStartOffset(h),f=l.getEndOffset(h));else if(s&&o&&m&&u!==f){let w=Fs.findPrevBracketInRange(o.reversedRegex,a,d,u,f);if(w)return this._toFoundBracket(s,w)}m=v}if(s&&o&&m&&u!==f){let _=Fs.findPrevBracketInRange(o.reversedRegex,a,d,u,f);if(_)return this._toFoundBracket(s,_)}}return null}findNextBracket(e){var t;let i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketAfter(i))||null;let n=this.textModel.getLineCount(),o=null,s=null,a=null;for(let l=i.lineNumber;l<=n;l++){let c=this.textModel.tokenization.getLineTokens(l),d=c.getCount(),h=this.textModel.getLineContent(l),u=0,f=0,m=0;if(l===i.lineNumber){u=c.findTokenIndexAtOffset(i.column-1),f=i.column-1,m=i.column-1;let v=c.getLanguageId(u);o!==v&&(o=v,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let _=!0;for(;u<d;u++){let v=c.getLanguageId(u);if(o!==v){if(a&&s&&_&&f!==m){let y=Fs.findNextBracketInRange(s.forwardRegex,l,h,f,m);if(y)return this._toFoundBracket(a,y);_=!1}o=v,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}let w=!!s&&!uc(c.getStandardTokenType(u));if(w)_||(f=c.getStartOffset(u)),m=c.getEndOffset(u);else if(a&&s&&_&&f!==m){let y=Fs.findNextBracketInRange(s.forwardRegex,l,h,f,m);if(y)return this._toFoundBracket(a,y)}_=w}if(a&&s&&_&&f!==m){let v=Fs.findNextBracketInRange(s.forwardRegex,l,h,f,m);if(v)return this._toFoundBracket(a,v)}}return null}findEnclosingBrackets(e,t){let i=this.textModel.validatePosition(e);if(this.canBuildAST){let f=D.fromPositions(i),m=nS(this.getBracketPairsInRange(D.fromPositions(i,i)),_=>_.closingBracketRange!==void 0&&_.range.strictContainsRange(f));return m?[m.openingBracketRange,m.closingBracketRange]:null}let n=xB(t),o=this.textModel.getLineCount(),s=new Map,a=[],l=(f,m)=>{if(!s.has(f)){let _=[];for(let v=0,w=m?m.brackets.length:0;v<w;v++)_[v]=0;s.set(f,_)}a=s.get(f)},c=0,d=(f,m,_,v,w)=>{for(;;){if(n&&++c%100===0&&!n())return Ed.INSTANCE;let y=Fs.findNextBracketInRange(f.forwardRegex,m,_,v,w);if(!y)break;let x=_.substring(y.startColumn-1,y.endColumn-1).toLowerCase(),k=f.textIsBracket[x];if(k&&(k.isOpen(x)?a[k.index]++:k.isClose(x)&&a[k.index]--,a[k.index]===-1))return this._matchFoundBracket(y,k,!1,n);v=y.endColumn-1}return null},h=null,u=null;for(let f=i.lineNumber;f<=o;f++){let m=this.textModel.tokenization.getLineTokens(f),_=m.getCount(),v=this.textModel.getLineContent(f),w=0,y=0,x=0;if(f===i.lineNumber){w=m.findTokenIndexAtOffset(i.column-1),y=i.column-1,x=i.column-1;let N=m.getLanguageId(w);h!==N&&(h=N,u=this.languageConfigurationService.getLanguageConfiguration(h).brackets,l(h,u))}let k=!0;for(;w<_;w++){let N=m.getLanguageId(w);if(h!==N){if(u&&k&&y!==x){let I=d(u,f,v,y,x);if(I)return JP(I);k=!1}h=N,u=this.languageConfigurationService.getLanguageConfiguration(h).brackets,l(h,u)}let M=!!u&&!uc(m.getStandardTokenType(w));if(M)k||(y=m.getStartOffset(w)),x=m.getEndOffset(w);else if(u&&k&&y!==x){let I=d(u,f,v,y,x);if(I)return JP(I)}k=M}if(u&&k&&y!==x){let N=d(u,f,v,y,x);if(N)return JP(N)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();let n=e.getBracketInfo(i);return n?{range:t,bracketInfo:n}:null}};Ed=class{constructor(){this._searchCanceledBrand=void 0}};Ed.INSTANCE=new Ed});var tA,iA,dJ=ue(()=>{Oe();se();Le();La();Ct();tA=class extends ${constructor(e){super(),this.textModel=e,this.colorProvider=new iA,this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i){if(t===void 0)return[];if(!this.colorizationOptions.enabled)return[];let n=new Array,o=this.textModel.bracketPairs.getBracketsInRange(e);for(let s of o)n.push({id:`bracket${s.range.toString()}-${s.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(s,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:s.range});return n}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new D(1,1,this.textModel.getLineCount(),1),e,t):[]}},iA=class{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}};Lt((r,e)=>{let t=[mT,pT,_T,bT,vT,CT],i=new iA;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${r.getColor(xQ)}; }`);let n=t.map(o=>r.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){let s=n[o%n.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${s}; }`)}})});function nA(r){return r.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}function hJ(r,e){return r===null||r.length===0?e:new Mc(r,e).compress()}var vo,Mc,DB=ue(()=>{X0();Zu();vo=class{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${nA(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${nA(this.oldText)}")`:`(replace@${this.oldPosition} "${nA(this.oldText)}" with "${nA(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){let n=t.length;xl(e,n,i),i+=4;for(let o=0;o<n;o++)JY(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){let i=Ll(e,t);return t+=4,bO(e,t,i)}writeSize(){return 4+4+vo._writeStringSize(this.oldText)+vo._writeStringSize(this.newText)}write(e,t){return xl(e,this.oldPosition,t),t+=4,xl(e,this.newPosition,t),t+=4,t=vo._writeString(e,this.oldText,t),t=vo._writeString(e,this.newText,t),t}static read(e,t,i){let n=Ll(e,t);t+=4;let o=Ll(e,t);t+=4;let s=vo._readString(e,t);t+=vo._writeStringSize(s);let a=vo._readString(e,t);return t+=vo._writeStringSize(a),i.push(new vo(n,s,o,a)),t}};Mc=class{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(n),n=this._getCurr(++t);continue}if(n===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){let[c,d]=Mc._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(c),n=d;continue}if(i.newPosition<n.oldPosition){let[c,d]=Mc._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(c),i=d;continue}let a,l;if(n.oldEnd===i.newEnd)a=i,l=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){let[c,d]=Mc._splitPrev(i,n.oldLength);a=c,l=n,i=d,n=this._getCurr(++t)}else{let[c,d]=Mc._splitCurr(n,i.newLength);a=i,l=c,i=this._getPrev(++e),n=d}this._result[this._resultLen++]=new vo(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}let o=Mc._merge(this._result);return Mc._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=Mc._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Mc._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new vo(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new vo(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){let i=e.newText.substr(0,t),n=e.newText.substr(t);return[new vo(e.oldPosition,e.oldText,e.newPosition,i),new vo(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){let i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new vo(e.oldPosition,i,e.newPosition,e.newText),new vo(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;let t=[],i=0,n=e[0];for(let o=1;o<e.length;o++){let s=e[o];n.oldEnd===s.oldPosition?n=new vo(n.oldPosition,n.oldText+s.oldText,n.newPosition,n.newText+s.newText):(t[i++]=n,n=s)}return t[i++]=n,t}static _removeNoOps(e){if(e.length===0)return e;let t=[],i=0;for(let n=0;n<e.length;n++){let o=e[n];o.oldText!==o.newText&&(t[i++]=o)}return t}}});function Ym(r){return r===47||r===92}function kB(r){return r.replace(/[\\/]/g,kn.sep)}function uJ(r){return r.indexOf("/")===-1&&(r=kB(r)),/^[a-zA-Z]:(\/|$)/.test(r)&&(r="/"+r),r}function EB(r,e=kn.sep){if(!r)return"";let t=r.length,i=r.charCodeAt(0);if(Ym(i)){if(Ym(r.charCodeAt(1))&&!Ym(r.charCodeAt(2))){let o=3,s=o;for(;o<t&&!Ym(r.charCodeAt(o));o++);if(s!==o&&!Ym(r.charCodeAt(o+1))){for(o+=1;o<t;o++)if(Ym(r.charCodeAt(o)))return r.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(fJ(i)&&r.charCodeAt(1)===58)return Ym(r.charCodeAt(2))?r.slice(0,2)+e:r.slice(0,2);let n=r.indexOf("://");if(n!==-1){for(n+=3;n<t;n++)if(Ym(r.charCodeAt(n)))return r.slice(0,n+1)}return""}function KL(r,e,t,i=lh){if(r===e)return!0;if(!r||!e||e.length>r.length)return!1;if(t){if(!$0(r,e))return!1;if(e.length===r.length)return!0;let o=e.length;return e.charAt(e.length-1)===i&&o--,r.charAt(o)===i}return e.charAt(e.length-1)!==i&&(e+=i),r.indexOf(e)===0}function fJ(r){return r>=65&&r<=90||r>=97&&r<=122}function gJ(r,e=Ji){return e?fJ(r.charCodeAt(0))&&r.charCodeAt(1)===58:!1}var oA=ue(()=>{Gg();At();Ye()});function Id(r){return fS(r,!0)}var qL,Zi,KKe,qKe,rA,YKe,ZKe,_J,ir,bJ,Zm,vJ,CJ,wJ,IB,GKe,mJ,pJ,XKe,QKe,Vh,Vr=ue(()=>{oA();Ws();Gg();At();Ye();vi();qL=class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:Jg(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===lt.file)return KL(Id(e),Id(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(mJ(e.authority,t.authority))return KL(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return Ee.joinPath(e,...t)}basenameOrAuthority(e){return ir(e)||e.authority}basename(e){return kn.basename(e.path)}extname(e){return kn.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===lt.file?t=Ee.file(gI(Id(e))).path:(t=kn.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===lt.file?t=Ee.file(fI(Id(e))).path:t=kn.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!mJ(e.authority,t.authority))return;if(e.scheme===lt.file){let o=xY(Id(e),Id(t));return Ji?kB(o):o}let i=e.path||"/",n=t.path||"/";if(this._ignorePathCasing(e)){let o=0;for(let s=Math.min(i.length,n.length);o<s&&!(i.charCodeAt(o)!==n.charCodeAt(o)&&i.charAt(o).toLowerCase()!==n.charAt(o).toLowerCase());o++);i=n.substr(0,o)+i.substr(o)}return kn.relative(i,n)}resolvePath(e,t){if(e.scheme===lt.file){let i=Ee.file(LY(Id(e),t));return e.with({authority:i.authority,path:i.path})}return t=uJ(t),e.with({path:kn.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&Ku(e,t)}hasTrailingPathSeparator(e,t=lh){if(e.scheme===lt.file){let i=Id(e);return i.length>EB(i).length&&i[i.length-1]===t}else{let i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=lh){return pJ(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=lh){let i=!1;if(e.scheme===lt.file){let n=Id(e);i=n!==void 0&&n.length===EB(n).length&&n[n.length-1]===t}else{t="/";let n=e.path;i=n.length===1&&n.charCodeAt(n.length-1)===47}return!i&&!pJ(e,t)?e.with({path:e.path+"/"}):e}},Zi=new qL(()=>!1),KKe=new qL(r=>r.scheme===lt.file?!$i:!0),qKe=new qL(r=>!0),rA=Zi.isEqual.bind(Zi),YKe=Zi.isEqualOrParent.bind(Zi),ZKe=Zi.getComparisonKey.bind(Zi),_J=Zi.basenameOrAuthority.bind(Zi),ir=Zi.basename.bind(Zi),bJ=Zi.extname.bind(Zi),Zm=Zi.dirname.bind(Zi),vJ=Zi.joinPath.bind(Zi),CJ=Zi.normalizePath.bind(Zi),wJ=Zi.relativePath.bind(Zi),IB=Zi.resolvePath.bind(Zi),GKe=Zi.isAbsolutePath.bind(Zi),mJ=Zi.isEqualAuthority.bind(Zi),pJ=Zi.hasTrailingPathSeparator.bind(Zi),XKe=Zi.removeTrailingPathSeparator.bind(Zi),QKe=Zi.addTrailingPathSeparator.bind(Zi);(function(r){r.META_DATA_LABEL="label",r.META_DATA_DESCRIPTION="description",r.META_DATA_SIZE="size",r.META_DATA_MIME="mime";function e(t){let i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(s=>{let[a,l]=s.split(":");a&&l&&i.set(a,l)});let o=t.path.substring(0,t.path.indexOf(";"));return o&&i.set(r.META_DATA_MIME,o),i}r.parseMetaData=e})(Vh||(Vh={}))});function kw(r){return r.toString()}function NB(r){return r.getEOL()===`
`?0:1}function Uh(r){return r?r instanceof sA||r instanceof OB:!1}var Co,sA,OB,Ew,TB=ue(()=>{Ne();ut();Ci();vi();DB();X0();Vr();Co=class{constructor(e,t,i,n,o,s,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=s,this.changes=a}static create(e,t){let i=e.getAlternativeVersionId(),n=NB(e);return new Co(i,i,n,n,t,t,[])}append(e,t,i,n,o){t.length>0&&(this.changes=hJ(this.changes,t)),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(xl(e,t?t.length:0,i),i+=4,t)for(let n of t)xl(e,n.selectionStartLineNumber,i),i+=4,xl(e,n.selectionStartColumn,i),i+=4,xl(e,n.positionLineNumber,i),i+=4,xl(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){let n=Ll(e,t);t+=4;for(let o=0;o<n;o++){let s=Ll(e,t);t+=4;let a=Ll(e,t);t+=4;let l=Ll(e,t);t+=4;let c=Ll(e,t);t+=4,i.push(new ge(s,a,l,c))}return t}serialize(){let e=10+Co._writeSelectionsSize(this.beforeCursorState)+Co._writeSelectionsSize(this.afterCursorState)+4;for(let n of this.changes)e+=n.writeSize();let t=new Uint8Array(e),i=0;xl(t,this.beforeVersionId,i),i+=4,xl(t,this.afterVersionId,i),i+=4,M3(t,this.beforeEOL,i),i+=1,M3(t,this.afterEOL,i),i+=1,i=Co._writeSelections(t,this.beforeCursorState,i),i=Co._writeSelections(t,this.afterCursorState,i),xl(t,this.changes.length,i),i+=4;for(let n of this.changes)i=n.write(t,i);return t.buffer}static deserialize(e){let t=new Uint8Array(e),i=0,n=Ll(t,i);i+=4;let o=Ll(t,i);i+=4;let s=A3(t,i);i+=1;let a=A3(t,i);i+=1;let l=[];i=Co._readSelections(t,i,l);let c=[];i=Co._readSelections(t,i,c);let d=Ll(t,i);i+=4;let h=[];for(let u=0;u<d;u++)i=vo.read(t,i,h);return new Co(n,o,s,a,l,c,h)}},sA=class{constructor(e,t,i,n){this.label=e,this.code=t,this.model=i,this._data=Co.create(i,n)}get type(){return 0}get resource(){return Ee.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof Co?this._data:Co.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(Ee.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Co}append(e,t,i,n,o){this._data instanceof Co&&this._data.append(e,t,i,n,o)}close(){this._data instanceof Co&&(this._data=this._data.serialize())}open(){this._data instanceof Co||(this._data=Co.deserialize(this._data))}undo(){if(Ee.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Co&&(this._data=this._data.serialize());let e=Co.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Ee.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Co&&(this._data=this._data.serialize());let e=Co.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof Co&&(this._data=this._data.serialize()),this._data.byteLength+168}},OB=class{constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(let n of this._editStackElementsArr){let o=kw(n.resource);this._editStackElementsMap.set(o,n)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){let t=kw(e);return this._editStackElementsMap.has(t)}setModel(e){let t=kw(Ee.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;let t=kw(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,n,o){let s=kw(e.uri);this._editStackElementsMap.get(s).append(e,t,i,n,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let e of this._editStackElementsArr)e.undo()}redo(){for(let e of this._editStackElementsArr)e.redo()}heapSize(e){let t=kw(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(let t of this._editStackElementsArr)e.push(`${ir(t.resource)}: ${t}`);return`{${e.join(", ")}}`}};Ew=class{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);Uh(e)&&e.close()}popStackElement(){let e=this._undoRedoService.getLastElement(this._model.uri);Uh(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){let t=this._undoRedoService.getLastElement(this._model.uri);if(Uh(t)&&t.canAppend(this._model))return t;let i=new sA(g("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){let t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],NB(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){let n=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0),s=Ew._computeCursorState(i,o),a=o.map((l,c)=>({index:c,textChange:l.textChange}));return a.sort((l,c)=>l.textChange.oldPosition===c.textChange.oldPosition?l.index-c.index:l.textChange.oldPosition-c.textChange.oldPosition),n.append(this._model,a.map(l=>l.textChange),NB(this._model),this._model.getAlternativeVersionId(),s),s}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return Pe(i),null}}}});function vpe(r,e,t,i,n){n.spacesDiff=0,n.looksLikeAlignment=!1;let o;for(o=0;o<e&&o<i;o++){let u=r.charCodeAt(o),f=t.charCodeAt(o);if(u!==f)break}let s=0,a=0;for(let u=o;u<e;u++)r.charCodeAt(u)===32?s++:a++;let l=0,c=0;for(let u=o;u<i;u++)t.charCodeAt(u)===32?l++:c++;if(s>0&&a>0||l>0&&c>0)return;let d=Math.abs(a-c),h=Math.abs(s-l);if(d===0){n.spacesDiff=h,h>0&&0<=l-1&&l-1<r.length&&l<t.length&&t.charCodeAt(l)!==32&&r.charCodeAt(l-1)===32&&r.charCodeAt(r.length-1)===44&&(n.looksLikeAlignment=!0);return}if(h%d===0){n.spacesDiff=h/d;return}}function AB(r,e,t){let i=Math.min(r.getLineCount(),1e4),n=0,o=0,s="",a=0,l=[2,4,6,8,3,5,7],c=8,d=[0,0,0,0,0,0,0,0,0],h=new PB;for(let m=1;m<=i;m++){let _=r.getLineLength(m),v=r.getLineContent(m),w=_<=65536,y=!1,x=0,k=0,N=0;for(let I=0,O=_;I<O;I++){let R=w?v.charCodeAt(I):r.getLineCharCode(m,I);if(R===9)N++;else if(R===32)k++;else{y=!0,x=I;break}}if(!y||(N>0?n++:k>1&&o++,vpe(s,a,v,x,h),h.looksLikeAlignment&&!(t&&e===h.spacesDiff)))continue;let M=h.spacesDiff;M<=c&&d[M]++,s=v,a=x}let u=t;n!==o&&(u=n<o);let f=e;if(u){let m=u?0:.1*i;l.forEach(_=>{let v=d[_];v>m&&(m=v,f=_)}),f===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(f=2)}return{insertSpaces:u,tabSize:f}}var PB,yJ=ue(()=>{PB=class{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}});function Ks(r){return(r.metadata&1)>>>0}function on(r,e){r.metadata=r.metadata&254|e<<0}function br(r){return(r.metadata&2)>>>1===1}function Gi(r,e){r.metadata=r.metadata&253|(e?1:0)<<1}function EJ(r){return(r.metadata&4)>>>2===1}function SJ(r,e){r.metadata=r.metadata&251|(e?1:0)<<2}function Cpe(r){return(r.metadata&24)>>>3}function LJ(r,e){r.metadata=r.metadata&231|e<<3}function wpe(r){return(r.metadata&32)>>>5===1}function xJ(r,e){r.metadata=r.metadata&223|(e?1:0)<<5}function ype(r){let e=r.root,t=0;for(;e!==Bt;){if(e.left!==Bt&&!br(e.left)){e=e.left;continue}if(e.right!==Bt&&!br(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,kf(e),Gi(e,!0),Gi(e.left,!1),Gi(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}Gi(r.root,!1)}function Iw(r,e,t,i){return r<t?!0:r>t||i===1?!1:i===2?!0:e}function Spe(r,e,t,i,n){let o=Cpe(r),s=o===0||o===2,a=o===1||o===2,l=t-e,c=i,d=Math.min(l,c),h=r.start,u=!1,f=r.end,m=!1;e<=h&&f<=t&&wpe(r)&&(r.start=e,u=!0,r.end=e,m=!0);{let v=n?1:l>0?2:0;!u&&Iw(h,s,e,v)&&(u=!0),!m&&Iw(f,a,e,v)&&(m=!0)}if(d>0&&!n){let v=l>c?2:0;!u&&Iw(h,s,e+d,v)&&(u=!0),!m&&Iw(f,a,e+d,v)&&(m=!0)}{let v=n?1:0;!u&&Iw(h,s,t,v)&&(r.start=e+c,u=!0),!m&&Iw(f,a,t,v)&&(r.end=e+c,m=!0)}let _=c-l;u||(r.start=Math.max(0,h+_)),m||(r.end=Math.max(0,f+_)),r.start>r.end&&(r.end=r.start)}function Lpe(r,e,t){let i=r.root,n=0,o=0,s=0,a=0,l=[],c=0;for(;i!==Bt;){if(br(i)){Gi(i.left,!1),Gi(i.right,!1),i===i.parent.right&&(n-=i.parent.delta),i=i.parent;continue}if(!br(i.left)){if(o=n+i.maxEnd,o<e){Gi(i,!0);continue}if(i.left!==Bt){i=i.left;continue}}if(s=n+i.start,s>t){Gi(i,!0);continue}if(a=n+i.end,a>=e&&(i.setCachedOffsets(s,a,0),l[c++]=i),Gi(i,!0),i.right!==Bt&&!br(i.right)){n+=i.delta,i=i.right;continue}}return Gi(r.root,!1),l}function xpe(r,e,t,i){let n=r.root,o=0,s=0,a=0,l=i-(t-e);for(;n!==Bt;){if(br(n)){Gi(n.left,!1),Gi(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),kf(n),n=n.parent;continue}if(!br(n.left)){if(s=o+n.maxEnd,s<e){Gi(n,!0);continue}if(n.left!==Bt){n=n.left;continue}}if(a=o+n.start,a>t){n.start+=l,n.end+=l,n.delta+=l,(n.delta<-1073741824||n.delta>1073741824)&&(r.requestNormalizeDelta=!0),Gi(n,!0);continue}if(Gi(n,!0),n.right!==Bt&&!br(n.right)){o+=n.delta,n=n.right;continue}}Gi(r.root,!1)}function Dpe(r,e){let t=r.root,i=[],n=0;for(;t!==Bt;){if(br(t)){Gi(t.left,!1),Gi(t.right,!1),t=t.parent;continue}if(t.left!==Bt&&!br(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[n++]=t),Gi(t,!0),t.right!==Bt&&!br(t.right)){t=t.right;continue}}return Gi(r.root,!1),i}function kpe(r){let e=r.root,t=[],i=0;for(;e!==Bt;){if(br(e)){Gi(e.left,!1),Gi(e.right,!1),e=e.parent;continue}if(e.left!==Bt&&!br(e.left)){e=e.left;continue}if(e.right!==Bt&&!br(e.right)){e=e.right;continue}t[i++]=e,Gi(e,!0)}return Gi(r.root,!1),t}function Epe(r,e,t,i){let n=r.root,o=0,s=0,a=0,l=[],c=0;for(;n!==Bt;){if(br(n)){Gi(n.left,!1),Gi(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;continue}if(n.left!==Bt&&!br(n.left)){n=n.left;continue}s=o+n.start,a=o+n.end,n.setCachedOffsets(s,a,i);let d=!0;if(e&&n.ownerId&&n.ownerId!==e&&(d=!1),t&&EJ(n)&&(d=!1),d&&(l[c++]=n),Gi(n,!0),n.right!==Bt&&!br(n.right)){o+=n.delta,n=n.right;continue}}return Gi(r.root,!1),l}function Ipe(r,e,t,i,n,o){let s=r.root,a=0,l=0,c=0,d=0,h=[],u=0;for(;s!==Bt;){if(br(s)){Gi(s.left,!1),Gi(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;continue}if(!br(s.left)){if(l=a+s.maxEnd,l<e){Gi(s,!0);continue}if(s.left!==Bt){s=s.left;continue}}if(c=a+s.start,c>t){Gi(s,!0);continue}if(d=a+s.end,d>=e){s.setCachedOffsets(c,d,o);let f=!0;i&&s.ownerId&&s.ownerId!==i&&(f=!1),n&&EJ(s)&&(f=!1),f&&(h[u++]=s)}if(Gi(s,!0),s.right!==Bt&&!br(s.right)){a+=s.delta,s=s.right;continue}}return Gi(r.root,!1),h}function DJ(r,e){if(r.root===Bt)return e.parent=Bt,e.left=Bt,e.right=Bt,on(e,0),r.root=e,r.root;Ope(r,e),Gm(e.parent);let t=e;for(;t!==r.root&&Ks(t.parent)===1;)if(t.parent===t.parent.parent.left){let i=t.parent.parent.right;Ks(i)===1?(on(t.parent,0),on(i,0),on(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,YL(r,t)),on(t.parent,0),on(t.parent.parent,1),ZL(r,t.parent.parent))}else{let i=t.parent.parent.left;Ks(i)===1?(on(t.parent,0),on(i,0),on(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,ZL(r,t)),on(t.parent,0),on(t.parent.parent,1),YL(r,t.parent.parent))}return on(r.root,0),e}function Ope(r,e){let t=0,i=r.root,n=e.start,o=e.end;for(;;)if(Tpe(n,o,i.start+t,i.end+t)<0)if(i.left===Bt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===Bt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=Bt,e.right=Bt,on(e,1)}function kJ(r,e){let t,i;if(e.left===Bt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(r.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Bt?(t=e.left,i=e):(i=Npe(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(r.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(r.requestNormalizeDelta=!0)),i===r.root){r.root=t,on(t,0),e.detach(),MB(),kf(t),r.root.parent=Bt;return}let n=Ks(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,on(i,Ks(e)),e===r.root?r.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Bt&&(i.left.parent=i),i.right!==Bt&&(i.right.parent=i)),e.detach(),n){Gm(t.parent),i!==e&&(Gm(i),Gm(i.parent)),MB();return}Gm(t),Gm(t.parent),i!==e&&(Gm(i),Gm(i.parent));let o;for(;t!==r.root&&Ks(t)===0;)t===t.parent.left?(o=t.parent.right,Ks(o)===1&&(on(o,0),on(t.parent,1),YL(r,t.parent),o=t.parent.right),Ks(o.left)===0&&Ks(o.right)===0?(on(o,1),t=t.parent):(Ks(o.right)===0&&(on(o.left,0),on(o,1),ZL(r,o),o=t.parent.right),on(o,Ks(t.parent)),on(t.parent,0),on(o.right,0),YL(r,t.parent),t=r.root)):(o=t.parent.left,Ks(o)===1&&(on(o,0),on(t.parent,1),ZL(r,t.parent),o=t.parent.left),Ks(o.left)===0&&Ks(o.right)===0?(on(o,1),t=t.parent):(Ks(o.left)===0&&(on(o.right,0),on(o,1),YL(r,o),o=t.parent.left),on(o,Ks(t.parent)),on(t.parent,0),on(o.left,0),ZL(r,t.parent),t=r.root));on(t,0),MB()}function Npe(r){for(;r.left!==Bt;)r=r.left;return r}function MB(){Bt.parent=Bt,Bt.delta=0,Bt.start=0,Bt.end=0}function YL(r,e){let t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(r.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Bt&&(t.left.parent=e),t.parent=e.parent,e.parent===Bt?r.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,kf(e),kf(t)}function ZL(r,e){let t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(r.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Bt&&(t.right.parent=e),t.parent=e.parent,e.parent===Bt?r.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,kf(e),kf(t)}function IJ(r){let e=r.end;if(r.left!==Bt){let t=r.left.maxEnd;t>e&&(e=t)}if(r.right!==Bt){let t=r.right.maxEnd+r.delta;t>e&&(e=t)}return e}function kf(r){r.maxEnd=IJ(r)}function Gm(r){for(;r!==Bt;){let e=IJ(r);if(r.maxEnd===e)return;r.maxEnd=e,r=r.parent}}function Tpe(r,e,t,i){return r===t?e-i:r-t}var XL,Bt,Ow,OJ=ue(()=>{XL=class{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,on(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,SJ(this,!1),LJ(this,1),xJ(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Gi(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;let t=this.options.className;SJ(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),LJ(this,this.options.stickiness),xJ(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}},Bt=new XL(null,0,0);Bt.parent=Bt;Bt.left=Bt;Bt.right=Bt;on(Bt,0);Ow=class{constructor(){this.root=Bt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o){return this.root===Bt?[]:Ipe(this,e,t,i,n,o)}search(e,t,i){return this.root===Bt?[]:Epe(this,e,t,i)}collectNodesFromOwner(e){return Dpe(this,e)}collectNodesPostOrder(){return kpe(this)}insert(e){DJ(this,e),this._normalizeDeltaIfNecessary()}delete(e){kJ(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){let i=e,n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;let o=i.start+n,s=i.end+n;i.setCachedOffsets(o,s,t)}acceptReplace(e,t,i,n){let o=Lpe(this,e,e+t);for(let s=0,a=o.length;s<a;s++){let l=o[s];kJ(this,l)}this._normalizeDeltaIfNecessary(),xpe(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,a=o.length;s<a;s++){let l=o[s];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,Spe(l,e,e+t,i,n),l.maxEnd=l.end,DJ(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,ype(this))}}});function aA(r){for(;r.left!==bt;)r=r.left;return r}function FB(r){for(;r.right!==bt;)r=r.right;return r}function BB(r){return r===bt?0:r.size_left+r.piece.length+BB(r.right)}function jB(r){return r===bt?0:r.lf_left+r.piece.lineFeedCnt+jB(r.right)}function RB(){bt.parent=bt}function JL(r,e){let t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==bt&&(t.left.parent=e),t.parent=e.parent,e.parent===bt?r.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function ex(r,e){let t=e.left;e.left=t.right,t.right!==bt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===bt?r.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function tx(r,e){let t,i;if(e.left===bt?(i=e,t=i.right):e.right===bt?(i=e,t=i.left):(i=aA(e.right),t=i.right),i===r.root){r.root=t,t.color=0,e.detach(),RB(),r.root.parent=bt;return}let n=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,QL(r,t)):(i.parent===e?t.parent=i:t.parent=i.parent,QL(r,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===r.root?r.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==bt&&(i.left.parent=i),i.right!==bt&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,QL(r,i)),e.detach(),t.parent.left===t){let s=BB(t),a=jB(t);if(s!==t.parent.size_left||a!==t.parent.lf_left){let l=s-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=s,t.parent.lf_left=a,Hh(r,t.parent,l,c)}}if(QL(r,t.parent),n){RB();return}let o;for(;t!==r.root&&t.color===0;)t===t.parent.left?(o=t.parent.right,o.color===1&&(o.color=0,t.parent.color=1,JL(r,t.parent),o=t.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.right.color===0&&(o.left.color=0,o.color=1,ex(r,o),o=t.parent.right),o.color=t.parent.color,t.parent.color=0,o.right.color=0,JL(r,t.parent),t=r.root)):(o=t.parent.left,o.color===1&&(o.color=0,t.parent.color=1,ex(r,t.parent),o=t.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.left.color===0&&(o.right.color=0,o.color=1,JL(r,o),o=t.parent.left),o.color=t.parent.color,t.parent.color=0,o.left.color=0,ex(r,t.parent),t=r.root));t.color=0,RB()}function WB(r,e){for(QL(r,e);e!==r.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){let t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,JL(r,e)),e.parent.color=0,e.parent.parent.color=1,ex(r,e.parent.parent))}else{let t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,ex(r,e)),e.parent.color=0,e.parent.parent.color=1,JL(r,e.parent.parent))}r.root.color=0}function Hh(r,e,t,i){for(;e!==r.root&&e!==bt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function QL(r,e){let t=0,i=0;if(e!==r.root){for(;e!==r.root&&e===e.parent.right;)e=e.parent;if(e!==r.root)for(e=e.parent,t=BB(e.left)-e.size_left,i=jB(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==r.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}var Nw,bt,NJ=ue(()=>{Nw=class{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==bt)return aA(this.right);let e=this;for(;e.parent!==bt&&e.parent.left!==e;)e=e.parent;return e.parent===bt?bt:e.parent}prev(){if(this.left!==bt)return FB(this.left);let e=this;for(;e.parent!==bt&&e.parent.right!==e;)e=e.parent;return e.parent===bt?bt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}},bt=new Nw(null,0);bt.parent=bt;bt.left=bt;bt.right=bt;bt.color=0});function TJ(r){let e;return r[r.length-1]<65536?e=new Uint16Array(r.length):e=new Uint32Array(r.length),e.set(r,0),e}function $h(r,e=!0){let t=[0],i=1;for(let n=0,o=r.length;n<o;n++){let s=r.charCodeAt(n);s===13?n+1<o&&r.charCodeAt(n+1)===10?(t[i++]=n+2,n++):t[i++]=n+1:s===10&&(t[i++]=n+1)}return e?TJ(t):t}function PJ(r,e){r.length=0,r[0]=0;let t=1,i=0,n=0,o=0,s=!0;for(let l=0,c=e.length;l<c;l++){let d=e.charCodeAt(l);d===13?l+1<c&&e.charCodeAt(l+1)===10?(o++,r[t++]=l+2,l++):(i++,r[t++]=l+1):d===10?(n++,r[t++]=l+1):s&&d!==9&&(d<32||d>126)&&(s=!1)}let a=new zB(TJ(r),i,n,o,s);return r.length=0,a}var Ef,zB,Ss,Kh,VB,UB,lA,HB=ue(()=>{rt();Le();Rs();NJ();WS();Ef=65535;zB=class{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}};Ss=class{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}},Kh=class{constructor(e,t){this.buffer=e,this.lineStarts=t}},VB=class{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==bt&&e.iterate(e.root,i=>(i!==bt&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}},UB=class{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let n=0;n<i.length;n++){let o=i[n];if(o.node.parent===null||o.nodeStartOffset>=e){i[n]=null,t=!0;continue}}if(t){let n=[];for(let o of i)o!==null&&n.push(o);this._cache=n}}},lA=class{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Kh("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=bt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=$h(e[o].buffer));let a=new Ss(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),n=this.rbInsertRight(n,a)}this._searchCache=new UB(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=Ef,i=t-Math.floor(t/3),n=i*2,o="",s=0,a=[];if(this.iterate(this.root,l=>{let c=this.getNodeContent(l),d=c.length;if(s<=i||s+d<n)return o+=c,s+=d,!0;let h=o.replace(/\r\n|\r|\n/g,e);return a.push(new Kh(h,$h(h))),o=c,s=d,!0}),s>0){let l=o.replace(/\r\n|\r|\n/g,e);a.push(new Kh(l,$h(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new VB(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==bt;)if(n.left!==bt&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e)return i+=n.size_left,i+=this.getAccumulatedValue(n,e-n.lf_left-2)+t-1;e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0,n=e;for(;t!==bt;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){let o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,o.index===0){let s=this.getOffsetAt(i+1,1),a=n-s;return new H(i+1,a+1)}return new H(i+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===bt){let o=this.getOffsetAt(i+1,1),s=n-e-o;return new H(i+1,s+1)}else t=t.right;return new H(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,n);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){let a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),s=n.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==bt;){let a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=a.substring(l,l+t.remainder);break}else s+=a.substr(l,i.piece.length);i=i.next()}return s}getLinesContent(){let e=[],t=0,i="",n=!1;return this.iterate(this.root,o=>{if(o===bt)return!0;let s=o.piece,a=s.length;if(a===0)return!0;let l=this._buffers[s.bufferIndex].buffer,c=this._buffers[s.bufferIndex].lineStarts,d=s.start.line,h=s.end.line,u=c[d]+s.start.column;if(n&&(l.charCodeAt(u)===10&&(u++,a--),e[t++]=i,i="",n=!1,a===0))return!0;if(d===h)return!this._EOLNormalized&&l.charCodeAt(u+a-1)===13?(n=!0,i+=l.substr(u,a-1)):i+=l.substr(u,a),!0;i+=this._EOLNormalized?l.substring(u,Math.max(u,c[d+1]-this._EOLLength)):l.substring(u,c[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let f=d+1;f<h;f++)i=this._EOLNormalized?l.substring(c[f],c[f+1]-this._EOLLength):l.substring(c[f],c[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[h]+s.end.column-1)===13?(n=!0,s.end.column===0?t--:i=l.substr(c[h],s.end.column-1)):i=l.substr(c[h],s.end.column),!0}),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}else{let t=this._buffers[e.node.piece.bufferIndex],n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(n)}}getLineCharCode(e,t){let i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,o,s,a,l,c,d,h){let u=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),m=this.offsetInBuffer(e.piece.bufferIndex,o),_=this.offsetInBuffer(e.piece.bufferIndex,s),v,w={line:0,column:0},y,x;t._wordSeparators?(y=u.buffer.substring(m,_),x=k=>k+m,t.reset(0)):(y=u.buffer,x=k=>k,t.reset(m));do if(v=t.next(y),v){if(x(v.index)>=_)return d;this.positionInBuffer(e,x(v.index)-f,w);let k=this.getLineFeedCnt(e.piece.bufferIndex,o,w),N=w.line===o.line?w.column-o.column+n:w.column+1,M=N+v[0].length;if(h[d++]=fm(new D(i+k,N,i+k,M),v,l),x(v.index)+v[0].length>=_||d>=c)return d}while(v);return d}findMatchesLineByLine(e,t,i,n){let o=[],s=0,a=new gh(t.wordSeparators,t.regex),l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];let c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let d=this.positionInBuffer(l.node,l.remainder),h=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,d,h,t,i,n,s,o),o;let u=e.startLineNumber,f=l.node;for(;f!==c.node;){let _=this.getLineFeedCnt(f.piece.bufferIndex,d,f.piece.end);if(_>=1){let w=this._buffers[f.piece.bufferIndex].lineStarts,y=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),x=w[d.line+_],k=u===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(f,a,u,k,d,this.positionInBuffer(f,x-y),t,i,n,s,o),s>=n)return o;u+=_}let v=u===e.startLineNumber?e.startColumn-1:0;if(u===e.endLineNumber){let w=this.getLineContent(u).substring(v,e.endColumn-1);return s=this._findMatchesInLine(t,a,w,e.endLineNumber,v,s,o,i,n),o}if(s=this._findMatchesInLine(t,a,this.getLineContent(u).substr(v),u,v,s,o,i,n),s>=n)return o;u++,l=this.nodeAt2(u,1),f=l.node,d=this.positionInBuffer(l.node,l.remainder)}if(u===e.endLineNumber){let _=u===e.startLineNumber?e.startColumn-1:0,v=this.getLineContent(u).substring(_,e.endColumn-1);return s=this._findMatchesInLine(t,a,v,e.endLineNumber,_,s,o,i,n),o}let m=u===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(c.node,a,u,m,d,h,t,i,n,s,o),o}_findMatchesInLine(e,t,i,n,o,s,a,l,c){let d=e.wordSeparators;if(!l&&e.simpleSearch){let u=e.simpleSearch,f=u.length,m=i.length,_=-f;for(;(_=i.indexOf(u,_+f))!==-1;)if((!d||eN(d,i,m,_,f))&&(a[s++]=new fh(new D(n,_+1+o,n,_+1+f+o),null),s>=c))return s;return s}let h;t.reset(0);do if(h=t.next(i),h&&(a[s++]=fm(new D(n,h.index+1+o,n,h.index+1+h[0].length+o),h,l),s>=c))return s;while(h);return s}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==bt){let{node:n,remainder:o,nodeStartOffset:s}=this.nodeAt(e),a=n.piece,l=a.bufferIndex,c=this.positionInBuffer(n,o);if(n.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e&&t.length<Ef){this.appendToNode(n,t),this.computeBufferMetadata();return}if(s===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(s+n.piece.length>e){let d=[],h=new Ss(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(n,o)===10){let _={line:h.start.line+1,column:0};h=new Ss(h.bufferIndex,_,h.end,this.getLineFeedCnt(h.bufferIndex,_,h.end),h.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(n,o-1)===13){let _=this.positionInBuffer(n,o-1);this.deleteNodeTail(n,_),t="\r"+t,n.piece.length===0&&d.push(n)}else this.deleteNodeTail(n,c);else this.deleteNodeTail(n,c);let u=this.createNewPieces(t);h.length>0&&this.rbInsertRight(n,h);let f=n;for(let m=0;m<u.length;m++)f=this.rbInsertRight(f,u[m]);this.deleteNodes(d)}else this.insertContentToNodeRight(t,n)}else{let n=this.createNewPieces(t),o=this.rbInsertLeft(null,n[0]);for(let s=1;s<n.length;s++)o=this.rbInsertRight(o,n[s])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===bt)return;let i=this.nodeAt(e),n=this.nodeAt(e+t),o=i.node,s=n.node;if(o===s){let u=this.positionInBuffer(o,i.remainder),f=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){let m=o.next();tx(this,o),this.validateCRLFWithPrevNode(m),this.computeBufferMetadata();return}this.deleteNodeHead(o,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(i.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,u),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,u,f),this.computeBufferMetadata();return}let a=[],l=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,l),this._searchCache.validate(e),o.piece.length===0&&a.push(o);let c=this.positionInBuffer(s,n.remainder);this.deleteNodeHead(s,c),s.piece.length===0&&a.push(s);let d=o.next();for(let u=d;u!==bt&&u!==s;u=u.next())a.push(u);let h=o.piece.length===0?o.prev():o;this.deleteNodes(a),this.validateCRLFWithNextNode(h),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let s=t.piece,a={line:s.start.line+1,column:0},l=new Ss(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),s.length-1);t.piece=l,e+=`
`,Hh(this,t,-1,-1),t.piece.length===0&&i.push(t)}let n=this.createNewPieces(e),o=this.rbInsertLeft(t,n[n.length-1]);for(let s=n.length-2;s>=0;s--)o=this.rbInsertLeft(o,n[s]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);let i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]),o=n;for(let s=1;s<i.length;s++)o=this.rbInsertRight(o,i[s]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){let n=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,l=s[n.start.line]+n.start.column+t,c=n.start.line,d=n.end.line,h=0,u=0,f=0;for(;c<=d&&(h=c+(d-c)/2|0,f=s[h],h!==d);)if(u=s[h+1],l<f)d=h-1;else if(l>=u)c=h+1;else break;return i?(i.line=h,i.column=l-f,null):{line:h,column:l-f}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;let n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;let o=n[i.line+1],s=n[i.line]+i.column;if(o>s+1)return i.line-t.line;let a=s-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)tx(this,e[t])}createNewPieces(e){if(e.length>Ef){let d=[];for(;e.length>Ef;){let u=e.charCodeAt(Ef-1),f;u===13||u>=55296&&u<=56319?(f=e.substring(0,Ef-1),e=e.substring(Ef-1)):(f=e.substring(0,Ef),e=e.substring(Ef));let m=$h(f);d.push(new Ss(this._buffers.length,{line:0,column:0},{line:m.length-1,column:f.length-m[m.length-1]},m.length-1,f.length)),this._buffers.push(new Kh(f,m))}let h=$h(e);return d.push(new Ss(this._buffers.length,{line:0,column:0},{line:h.length-1,column:e.length-h[h.length-1]},h.length-1,e.length)),this._buffers.push(new Kh(e,h)),d}let t=this._buffers[0].buffer.length,i=$h(e,!1),n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let d=0;d<i.length;d++)i[d]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let d=0;d<i.length;d++)i[d]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}let o=this._buffers[0].buffer.length,s=this._buffers[0].lineStarts.length-1,a=o-this._buffers[0].lineStarts[s],l={line:s,column:a},c=new Ss(0,n,l,this.getLineFeedCnt(0,n,l),o-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,n="",o=this._searchCache.get2(e);if(o){i=o.node;let s=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt===e)n=a.substring(l+s,l+i.piece.length);else{let c=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return a.substring(l+s,l+c-t)}}else{let s=0,a=e;for(;i!==bt;)if(i.left!==bt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){let l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),d=this._buffers[i.piece.bufferIndex].buffer,h=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return s+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:s,nodeStartLineNumber:a-(e-1-i.lf_left)}),d.substring(h+l,h+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){let l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=c.substring(d+l,d+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,s+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==bt;){let s=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=s.substring(l,l+a-t),n}else{let a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=s.substr(a,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==bt;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){let i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){let s=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(s!==o)return{index:s,remainder:0}}return{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;let i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){let i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),s=t,a=this.offsetInBuffer(i.bufferIndex,s),l=this.getLineFeedCnt(i.bufferIndex,i.start,s),c=l-n,d=a-o,h=i.length+d;e.piece=new Ss(i.bufferIndex,i.start,s,l,h),Hh(this,e,d,c)}deleteNodeHead(e,t){let i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),s=t,a=this.getLineFeedCnt(i.bufferIndex,s,i.end),l=this.offsetInBuffer(i.bufferIndex,s),c=a-n,d=o-l,h=i.length+d;e.piece=new Ss(i.bufferIndex,s,i.end,a,h),Hh(this,e,d,c)}shrinkNode(e,t,i){let n=e.piece,o=n.start,s=n.end,a=n.length,l=n.lineFeedCnt,c=t,d=this.getLineFeedCnt(n.bufferIndex,n.start,c),h=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new Ss(n.bufferIndex,n.start,c,d,h),Hh(this,e,h-a,d-l);let u=new Ss(n.bufferIndex,i,s,this.getLineFeedCnt(n.bufferIndex,i,s),this.offsetInBuffer(n.bufferIndex,s)-this.offsetInBuffer(n.bufferIndex,i)),f=this.rbInsertRight(e,u);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);let i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;let o=$h(t,!1);for(let f=0;f<o.length;f++)o[f]+=n;if(i){let f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));let s=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[s],l={line:s,column:a},c=e.piece.length+t.length,d=e.piece.lineFeedCnt,h=this.getLineFeedCnt(0,e.piece.start,l),u=h-d;e.piece=new Ss(e.piece.bufferIndex,e.piece.start,l,h,c),this._lastChangeBufferPos=l,Hh(this,e,t.length,u)}nodeAt(e){let t=this.root,i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==bt;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){n+=t.size_left;let o={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==bt;)if(i.left!==bt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,s),nodeStartOffset:n}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:n};t-=i.piece.length-o;break}else e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==bt;){if(i.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(i,0),s=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,o),nodeStartOffset:s}}else if(i.piece.length>=t-1){let o=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:o}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===bt||e.piece.lineFeedCnt===0)return!1;let t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,o=i[n]+t.start.column;return n===i.length-1||i[n+1]>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===bt||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let i=[],n=this._buffers[e.piece.bufferIndex].lineStarts,o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:n[e.piece.end.line]-n[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};let s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Ss(e.piece.bufferIndex,e.piece.start,o,a,s),Hh(this,e,-1,-1),e.piece.length===0&&i.push(e);let l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new Ss(t.piece.bufferIndex,l,t.piece.end,d,c),Hh(this,t,-1,-1),t.piece.length===0&&i.push(t);let h=this.createNewPieces(`\r
`);this.rbInsertRight(e,h[0]);for(let u=0;u<i.length;u++)tx(this,i[u])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)tx(this,i);else{let n=i.piece,o={line:n.start.line+1,column:0},s=n.length-1,a=this.getLineFeedCnt(n.bufferIndex,o,n.end);i.piece=new Ss(n.bufferIndex,o,n.end,a,s),Hh(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===bt)return t(bt);let i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===bt)return"";let t=this._buffers[e.piece.bufferIndex],i=e.piece,n=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(n,o)}getPieceContent(e){let t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){let i=new Nw(t,1);if(i.left=bt,i.right=bt,i.parent=bt,i.size_left=0,i.lf_left=0,this.root===bt)this.root=i,i.color=0;else if(e.right===bt)e.right=i,i.parent=e;else{let o=aA(e.right);o.left=i,i.parent=o}return WB(this,i),i}rbInsertLeft(e,t){let i=new Nw(t,1);if(i.left=bt,i.right=bt,i.parent=bt,i.size_left=0,i.lf_left=0,this.root===bt)this.root=i,i.color=0;else if(e.left===bt)e.left=i,i.parent=e;else{let n=FB(e.left);n.right=i,i.parent=n}return WB(this,i),i}}});var qh,$B=ue(()=>{Oe();Ye();Le();Rs();HB();ww();DB();se();qh=class extends ${constructor(e,t,i,n,o,s,a){super(),this._onDidChangeContent=this._register(new B),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._pieceTree=new lA(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let i=e+t,n=this.getPositionAt(e),o=this.getPositionAt(i);return new D(n.lineNumber,n.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";let i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0,n=e.startLineNumber,o=e.endLineNumber;for(let s=n;s<=o;s++){let a=this.getLineContent(s),l=s===n?e.startColumn-1:0,c=s===o?e.endColumn-1:a.length;for(let d=l;d<c;d++)ln(a.charCodeAt(d))?(i=i+1,d=d+1):i=i+1}return i+=this._getEndOfLine(t).length*(o-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){let t=En(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){let t=es(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,a=!0,l=[];for(let _=0;_<e.length;_++){let v=e[_];a&&v._isTracked&&(a=!1);let w=v.range;if(v.text){let M=!0;s||(M=!em(v.text),s=M),!n&&M&&(n=id(v.text)),!o&&M&&(o=lO(v.text))}let y="",x=0,k=0,N=0;if(v.text){let M;[x,k,N,M]=Ac(v.text);let I=this.getEOL();M===0||M===(I===`\r
`?2:1)?y=v.text:y=v.text.replace(/\r\n|\r|\n/g,I)}l[_]={sortIndex:_,identifier:v.identifier||null,range:w,rangeOffset:this.getOffsetAt(w.startLineNumber,w.startColumn),rangeLength:this.getValueLengthInRange(w),text:y,eolCount:x,firstLineLength:k,lastLineLength:N,forceMoveMarkers:Boolean(v.forceMoveMarkers),isAutoWhitespaceEdit:v.isAutoWhitespaceEdit||!1}}l.sort(qh._sortOpsAscending);let c=!1;for(let _=0,v=l.length-1;_<v;_++){let w=l[_].range.getEndPosition(),y=l[_+1].range.getStartPosition();if(y.isBeforeOrEqual(w)){if(y.isBefore(w))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));let d=i||t?qh._getInverseEditRanges(l):[],h=[];if(t)for(let _=0;_<l.length;_++){let v=l[_],w=d[_];if(v.isAutoWhitespaceEdit&&v.range.isEmpty())for(let y=w.startLineNumber;y<=w.endLineNumber;y++){let x="";y===w.startLineNumber&&(x=this.getLineContent(v.range.startLineNumber),En(x)!==-1)||h.push({lineNumber:y,oldContent:x})}}let u=null;if(i){let _=0;u=[];for(let v=0;v<l.length;v++){let w=l[v],y=d[v],x=this.getValueInRange(w.range),k=w.rangeOffset+_;_+=w.text.length-x.length,u[v]={sortIndex:w.sortIndex,identifier:w.identifier,range:y,text:x,textChange:new vo(w.rangeOffset,x,k,w.text)}}c||u.sort((v,w)=>v.sortIndex-w.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;let f=this._doApplyEdits(l),m=null;if(t&&h.length>0){h.sort((_,v)=>v.lineNumber-_.lineNumber),m=[];for(let _=0,v=h.length;_<v;_++){let w=h[_].lineNumber;if(_>0&&h[_-1].lineNumber===w)continue;let y=h[_].oldContent,x=this.getLineContent(w);x.length===0||x===y||En(x)!==-1||m.push(w)}}return this._onDidChangeContent.fire(),new pO(u,f,m)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1,i=e[0].range,n=e[e.length-1].range,o=new D(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn),s=i.startLineNumber,a=i.startColumn,l=[];for(let f=0,m=e.length;f<m;f++){let _=e[f],v=_.range;t=t||_.forceMoveMarkers,l.push(this.getValueInRange(new D(s,a,v.startLineNumber,v.startColumn))),_.text.length>0&&l.push(_.text),s=v.endLineNumber,a=v.endColumn}let c=l.join(""),[d,h,u]=Ac(c);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:c,eolCount:d,firstLineLength:h,lastLineLength:u,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(qh._sortOpsDescending);let t=[];for(let i=0;i<e.length;i++){let n=e[i],o=n.range.startLineNumber,s=n.range.startColumn,a=n.range.endLineNumber,l=n.range.endColumn;if(o===a&&s===l&&n.text.length===0)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);let c=new D(o,s,a,l);t.push({range:c,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){let t=[],i=0,n=0,o=null;for(let s=0,a=e.length;s<a;s++){let l=e[s],c,d;o?o.range.endLineNumber===l.range.startLineNumber?(c=i,d=n+(l.range.startColumn-o.range.endColumn)):(c=i+(l.range.startLineNumber-o.range.endLineNumber),d=l.range.startColumn):(c=l.range.startLineNumber,d=l.range.startColumn);let h;if(l.text.length>0){let u=l.eolCount+1;u===1?h=new D(c,d,c,d+l.firstLineLength):h=new D(c,d,c+u-1,l.lastLineLength+1)}else h=new D(c,d,c,d);i=h.endLineNumber,n=h.endColumn,t.push(h),o=l}return t}static _sortOpsAscending(e,t){let i=D.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){let i=D.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}});var KB,ix,AJ=ue(()=>{Ye();HB();$B();KB=class{constructor(e,t,i,n,o,s,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=s,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){let t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){let t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,s=i.length;o<s;o++){let a=i[o].buffer.replace(/\r\n|\r|\n/g,t),l=$h(a);i[o]=new Kh(a,l)}let n=new qh(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}},ix=class{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&q0(e)&&(this.BOM=UY,e=e.substr(1));let t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){let t=PJ(this._tmpLineStarts,e);this.chunks.push(new Kh(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=id(e)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=lO(e))}finish(e=!0){return this._finish(),new KB(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=$h(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}});var cA,MJ=ue(()=>{cA=class{constructor(e,t){this._startLineNumber=e,this._tokens=t}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}});var Tw,RJ=ue(()=>{MJ();Tw=class{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){let i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new cA(e,[t]))}finalize(){return this._tokens}}});function Ppe(r,e){if(r.isTooLargeForTokenization())return[null,null];let t=ki.get(e.getLanguageId());if(!t)return[null,null];let i;try{i=t.getInitialState()}catch(n){return Pe(n),[null,null]}return[t,i]}function nx(r,e,t,i,n,o){let s=null;if(t)try{s=t.tokenizeEncoded(i,n,o.clone())}catch(a){Pe(a)}return s||(s=eC(r.encodeLanguageId(e),o)),tn.convertToEndOffset(s.tokens,i.length),s}var dA,qB,hA,FJ=ue(()=>{Ft();ut();mh();Un();PS();se();Ha();ww();RJ();ot();At();dA=class{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;let i=[];for(let n=0;n<t;n++)i[n]=this._default;this._store=Rg(this._store,e,i)}},qB=class{constructor(e,t){this.tokenizationSupport=e,this.initialState=t,this._lineBeginState=new dA(null),this._lineNeedsTokenization=new dA(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(e){this._lineNeedsTokenization.set(e,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,e)}getBeginState(e){return this._lineBeginState.get(e)}setEndState(e,t,i){if(this._lineNeedsTokenization.set(t,!1),this._firstLineNeedsTokenization=t+1,t===e-1)return;let n=this._lineBeginState.get(t+1);if(n===null||!i.equals(n)){this._lineBeginState.set(t+1,i),this.markMustBeTokenized(t+1);return}let o=t+1;for(;o<e&&!this._lineNeedsTokenization.get(o);)o++;this._firstLineNeedsTokenization=o}applyEdits(e,t){this.markMustBeTokenized(e.startLineNumber-1),this._lineBeginState.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineNeedsTokenization.delete(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineBeginState.insert(e.startLineNumber,t),this._lineNeedsTokenization.insert(e.startLineNumber,t)}},hA=class extends ${constructor(e,t,i){super(),this._textModel=e,this._tokenizationPart=t,this._languageIdCodec=i,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(ki.onDidChange(n=>{let o=this._textModel.getLanguageId();n.changedLanguages.indexOf(o)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(e){if(e.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let t=0,i=e.changes.length;t<i;t++){let n=e.changes[t],[o]=Ac(n.text);this._tokenizationStateStore.applyEdits(n.range,o)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(e){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){let[e,t]=Ppe(this._textModel,this._tokenizationPart);e&&t?this._tokenizationStateStore=new qB(e,t):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,L_(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){let t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?jE(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){let e=this._textModel.getLineCount(),t=new Tw,i=_n.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(t.finalize(),this._isTokenizationComplete())}tokenizeViewport(e,t){let i=new Tw;this._tokenizeViewport(i,e,t),this._tokenizationPart.setTokens(i.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(e){let t=new Tw;this._updateTokensUntilLine(t,e),this._tokenizationPart.setTokens(t.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(e,t){if(!this._tokenizationStateStore)return 0;this.forceTokenization(e.lineNumber);let i=this._tokenizationStateStore.getBeginState(e.lineNumber-1);if(!i)return 0;let n=this._textModel.getLanguageId(),o=this._textModel.getLineContent(e.lineNumber),s=o.substring(0,e.column-1)+t+o.substring(e.column-1),a=nx(this._languageIdCodec,n,this._tokenizationStateStore.tokenizationSupport,s,!0,i),l=new tn(a.tokens,s,this._languageIdCodec);if(l.getCount()===0)return 0;let c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}tokenizeLineWithEdit(e,t,i){let n=e.lineNumber,o=e.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(n);let s=this._tokenizationStateStore.getBeginState(n-1);if(!s)return null;let a=this._textModel.getLineContent(n),l=a.substring(0,o-1)+i+a.substring(o-1+t),c=this._textModel.getLanguageIdAtPosition(n,0),d=nx(this._languageIdCodec,c,this._tokenizationStateStore.tokenizationSupport,l,!0,s);return new tn(d.tokens,l,this._languageIdCodec)}isCheapToTokenize(e){if(!this._tokenizationStateStore)return!0;let t=this._tokenizationStateStore.invalidLineStartIndex+1;return e>t?!1:e<t||this._textModel.getLineLength(e)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(e){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;let t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationStateStore)return;let i=this._textModel.getLanguageId(),n=this._textModel.getLineCount(),o=t-1;for(let s=this._tokenizationStateStore.invalidLineStartIndex;s<=o;s++){let a=this._textModel.getLineContent(s+1),l=this._tokenizationStateStore.getBeginState(s),c=nx(this._languageIdCodec,i,this._tokenizationStateStore.tokenizationSupport,a,!0,l);e.add(s+1,c.tokens),this._tokenizationStateStore.setEndState(n,s,c.endState),s=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationStateStore||i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(e,i);return}let n=this._textModel.getLineFirstNonWhitespaceColumn(t),o=[],s=null;for(let c=t-1;n>1&&c>=1;c--){let d=this._textModel.getLineFirstNonWhitespaceColumn(c);if(d!==0&&d<n&&(o.push(this._textModel.getLineContent(c)),n=d,s=this._tokenizationStateStore.getBeginState(c-1),s))break}s||(s=this._tokenizationStateStore.initialState);let a=this._textModel.getLanguageId(),l=s;for(let c=o.length-1;c>=0;c--)l=nx(this._languageIdCodec,a,this._tokenizationStateStore.tokenizationSupport,o[c],!1,l).endState;for(let c=t;c<=i;c++){let d=this._textModel.getLineContent(c),h=nx(this._languageIdCodec,a,this._tokenizationStateStore.tokenizationSupport,d,!0,l);e.add(c,h.tokens),this._tokenizationStateStore.markMustBeTokenized(c-1),l=h.endState}}}});function Zh(r){return r instanceof Uint32Array?r:new Uint32Array(r)}var Yh,Rl,BJ=ue(()=>{mh();Yh=new Uint32Array(0).buffer,Rl=class{static deleteBeginning(e,t){return e===null||e===Yh?e:Rl.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===Yh)return e;let i=Zh(e),n=i[i.length-2];return Rl.delete(e,t,n)}static delete(e,t,i){if(e===null||e===Yh||t===i)return e;let n=Zh(e),o=n.length>>>1;if(t===0&&n[n.length-2]===i)return Yh;let s=tn.findIndexInTokensArray(n,t),a=s>0?n[s-1<<1]:0,l=n[s<<1];if(i<l){let f=i-t;for(let m=s;m<o;m++)n[m<<1]-=f;return e}let c,d;a!==t?(n[s<<1]=t,c=s+1<<1,d=t):(c=s<<1,d=a);let h=i-t;for(let f=s+1;f<o;f++){let m=n[f<<1]-h;m>d&&(n[c++]=m,n[c++]=n[(f<<1)+1],d=m)}if(c===n.length)return e;let u=new Uint32Array(c);return u.set(n.subarray(0,c),0),u.buffer}static append(e,t){if(t===Yh)return e;if(e===Yh)return t;if(e===null)return e;if(t===null)return null;let i=Zh(e),n=Zh(t),o=n.length>>>1,s=new Uint32Array(i.length+n.length);s.set(i,0);let a=i.length,l=i[i.length-2];for(let c=0;c<o;c++)s[a++]=n[c<<1]+l,s[a++]=n[(c<<1)+1];return s.buffer}static insert(e,t,i){if(e===null||e===Yh)return e;let n=Zh(e),o=n.length>>>1,s=tn.findIndexInTokensArray(n,t);s>0&&n[s-1<<1]===t&&s--;for(let a=s;a<o;a++)n[a<<1]+=i;return e}}});function jJ(r){return(r<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}var Wb,WJ=ue(()=>{Ft();rt();BJ();mh();lC();Wb=class{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),n!==null&&n!==Yh)return new tn(Zh(n),i,this._languageIdCodec);let o=new Uint32Array(2);return o[0]=i.length,o[1]=jJ(this._languageIdCodec.encodeLanguageId(e)),new tn(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){let n=i?Zh(i):null;if(t===0){let o=!1;if(n&&n.length>1&&(o=Uo.getLanguageId(n[1])!==e),!o)return Yh}if(!n||n.length===0){let o=new Uint32Array(2);return o[0]=t,o[1]=jJ(e),o.buffer}return n[n.length-2]=t,n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;let i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=Rg(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,o){let s=Wb._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,n);this._ensureLine(t);let a=this._lineTokens[t];return this._lineTokens[t]=s,o?!Wb._equals(a,s):!1}static _equals(e,t){if(!e||!t)return!e&&!t;let i=Zh(e),n=Zh(t);if(i.length!==n.length)return!1;for(let o=0,s=i.length;o<s;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new H(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){let t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=Rl.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=Rl.deleteEnding(this._lineTokens[t],e.startColumn-1);let i=e.endLineNumber-1,n=null;i<this._len&&(n=Rl.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=Rl.append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;let n=e.lineNumber-1;if(!(n>=this._len)){if(t===0){this._lineTokens[n]=Rl.insert(this._lineTokens[n],e.column-1,i);return}this._lineTokens[n]=Rl.deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=Rl.insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)}}}});var Pw,zJ=ue(()=>{Ft();mh();Pw=class{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){let o=t[0].getRange(),s=t[t.length-1].getRange();if(!o||!s)return e;i=e.plusRange(o).plusRange(s)}let n=null;for(let o=0,s=this._pieces.length;o<s;o++){let a=this._pieces[o];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){n=n||{index:o};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(o,1),o--,s--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){n=n||{index:o};continue}let[l,c]=a.split(i);if(l.isEmpty()){n=n||{index:o};continue}c.isEmpty()||(this._pieces.splice(o,1,l,c),o++,s++,n=n||{index:o})}return n=n||{index:this._pieces.length},t.length>0&&(this._pieces=Rg(this._pieces,n.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;let i=this._pieces;if(i.length===0)return t;let n=Pw._findFirstPieceWithLine(i,e),o=i[n].getLineTokens(e);if(!o)return t;let s=t.getCount(),a=o.getCount(),l=0,c=[],d=0,h=0,u=(f,m)=>{f!==h&&(h=f,c[d++]=f,c[d++]=m)};for(let f=0;f<a;f++){let m=o.getStartCharacter(f),_=o.getEndCharacter(f),v=o.getMetadata(f),w=((v&1?2048:0)|(v&2?4096:0)|(v&4?8192:0)|(v&8?16384:0)|(v&16?16744448:0)|(v&32?4278190080:0))>>>0,y=~w>>>0;for(;l<s&&t.getEndOffset(l)<=m;)u(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<s&&t.getStartOffset(l)<m&&u(m,t.getMetadata(l));l<s&&t.getEndOffset(l)<_;)u(t.getEndOffset(l),t.getMetadata(l)&y|v&w),l++;if(l<s)u(_,t.getMetadata(l)&y|v&w),t.getEndOffset(l)===_&&l++;else{let x=Math.min(Math.max(0,l-1),s-1);u(_,t.getMetadata(x)&y|v&w)}}for(;l<s;)u(t.getEndOffset(l),t.getMetadata(l)),l++;return new tn(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else if(e[o].startLineNumber>t)n=o-1;else{for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}}return i}acceptEdit(e,t,i,n,o){for(let s of this._pieces)s.acceptEdit(e,t,i,n,o)}}});var zb,VJ=ue(()=>{Oe();rt();E0();X8();FJ();WJ();zJ();zb=class extends hw{constructor(e,t,i,n,o){super(),this._languageService=e,this._languageConfigurationService=t,this._textModel=i,this.bracketPairsTextModelPart=n,this._languageId=o,this._onDidChangeLanguage=this._register(new B),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new B),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new B),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new B),this._tokens=new Wb(this._languageService.languageIdCodec),this._semanticTokens=new Pw(this._languageService.languageIdCodec),this._tokenization=new hA(i,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(s=>{s.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(e,t,i,n,o){this._tokens.acceptEdit(e,i,n),this._semanticTokens.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(e){this._tokenization.handleDidChangeContent(e)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(this._backgroundTokenizationState===2)return;let t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(e,t=!1){if(e.length!==0){let i=[];for(let n=0,o=e.length;n<o;n++){let s=e[n],a=0,l=0,c=!1;for(let d=s.startLineNumber;d<=s.endLineNumber;d++)c?(this._tokens.setTokens(this._languageId,d-1,this._textModel.getLineLength(d),s.getLineTokens(d),!1),l=d):this._tokens.setTokens(this._languageId,d-1,this._textModel.getLineLength(d),s.getLineTokens(d),!0)&&(c=!0,a=d,l=d);c&&i.push({fromLineNumber:a,toLineNumber:l})}i.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:i})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;let i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._textModel.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){let t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._languageId,e-1,t);return this._semanticTokens.addSparseTokens(e,i)}getTokenTypeIfInsertingCharacter(e,t,i){let n=this._textModel.validatePosition(new H(e,t));return this._tokenization.getTokenTypeIfInsertingCharacter(n,i)}tokenizeLineWithEdit(e,t,i){let n=this._textModel.validatePosition(e);return this._tokenization.tokenizeLineWithEdit(n,t,i)}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(e){this.assertNotDisposed();let t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),n=this._getLineTokens(t.lineNumber),o=n.findTokenIndexAtOffset(t.column-1),[s,a]=zb._findLanguageBoundaries(n,o),l=Ag(t.column,this.getLanguageConfiguration(n.getLanguageId(o)).getWordDefinition(),i.substring(s,a),s);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(o>0&&s===t.column-1){let[c,d]=zb._findLanguageBoundaries(n,o-1),h=Ag(t.column,this.getLanguageConfiguration(n.getLanguageId(o-1)).getWordDefinition(),i.substring(c,d),c);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn)return h}return null}static _findLanguageBoundaries(e,t){let i=e.getLanguageId(t),n=0;for(let s=t;s>=0&&e.getLanguageId(s)===i;s--)n=e.getStartOffset(s);let o=e.getLineContent().length;for(let s=t,a=e.getCount();s<a&&e.getLanguageId(s)===i;s++)o=e.getEndOffset(s);return[n,o]}getWordUntilPosition(e){let t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){let i=this._textModel.validatePosition(new H(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}setLanguageId(e){if(this._languageId===e)return;let t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this.bracketPairsTextModelPart.handleDidChangeLanguage(t),this._tokenization.handleDidChangeLanguage(t),this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}}});var Xm,ox,If,Fl,rx=ue(()=>{Xe();Xm=We("undoRedoService"),ox=class{constructor(e,t){this.resource=e,this.elements=t}},If=class{constructor(){this.id=If._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};If._ID=0;If.None=new If;Fl=class{constructor(){this.id=Fl._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};Fl._ID=0;Fl.None=new Fl});function Mpe(r){let e=new ix;return e.acceptChunk(r),e.finish()}function Rpe(r){let e=new ix,t;for(;typeof(t=r.read())=="string";)e.acceptChunk(t);return e.finish()}function UJ(r,e){let t;return typeof r=="string"?t=Mpe(r):YY(r)?t=Rpe(r):t=r,t.create(e)}function jpe(r){let e=0;for(let t of r)if(t===" "||t==="	")e++;else break;return e}function ZB(r){return!!(r.options.overviewRuler&&r.options.overviewRuler.color)}function GB(r){return!!r.options.after||!!r.options.before}function Of(r){return r.replace(/[^a-z0-9\-_]/gi," ")}function $J(r){return r instanceof Ge?r:Ge.createDynamic(r)}var Ape,YB,uA,Fpe,Bpe,XB,sx,Od,fA,gA,QB,JB,Nd,Ge,HJ,e9,t9,Ao=ue(()=>{Ft();ho();ut();Oe();se();Ye();vi();ww();yT();rt();Le();Ci();sS();Qo();io();Rs();cJ();dJ();TB();Q8();yJ();OJ();$B();AJ();WS();VJ();$m();rx();Ape=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},YB=function(r,e){return function(t,i){e(t,i,r)}};uA=0,Fpe=999,Bpe=1e4,XB=class{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;do{let n=this._source.read();if(n===null)return this._eos=!0,t===0?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=64*1024)return e.join("")}while(!0)}},sx=()=>{throw new Error("Invalid change accessor")},Od=class ax extends ${constructor(e,t,i,n=null,o,s,a){super(),this._undoRedoService=o,this._languageService=s,this._languageConfigurationService=a,this._onWillDispose=this._register(new B),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new e9(u=>this.handleBeforeFireDecorationsChangedEvent(u))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new B),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new B),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new B),this._eventEmitter=this._register(new t9),this._deltaDecorationCallCnt=0,uA++,this.id="$model"+uA,this.isForSimpleWidget=i.isForSimpleWidget,typeof n>"u"||n===null?this._associatedResource=Ee.parse("inmemory://model/"+uA):this._associatedResource=n,this._attachedEditorCount=0;let{textBuffer:l,disposable:c}=UJ(e,i.defaultEOL);this._buffer=l,this._bufferDisposable=c,this._options=ax.resolveOptions(this._buffer,i),this._bracketPairs=this._register(new eA(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new GT(this,this._languageConfigurationService)),this._decorationProvider=this._register(new tA(this)),this._tokenizationTextModelPart=new zb(this._languageService,this._languageConfigurationService,this,this._bracketPairs,t);let d=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new D(1,1,d,this._buffer.getLineLength(d)+1),0);i.largeFileOptimizations?this._isTooLargeForTokenization=h>ax.LARGE_FILE_SIZE_THRESHOLD||d>ax.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=h>ax.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=cO(uA),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new fA,this._commandManager=new Ew(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(e,t){if(t.detectIndentation){let i=AB(e,t.tabSize,t.insertSpaces);return new nm({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new nm({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return ms(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;let e=new qh([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=$.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new xd(e,t)))}setValue(e){if(this._assertNotDisposed(),e===null)return;let{textBuffer:t,disposable:i}=UJ(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,n,o,s,a){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:s,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();let i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new fA,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new yf([new vP],this._versionId,!1,!1),this._createContentChanged2(new D(1,1,o,s),0,n,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();let t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;let i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new yf([new yP],this._versionId,!1,!1),this._createContentChanged2(new D(1,1,o,s),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){let e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){let o=t[i],s=o.range,a=o.cachedAbsoluteStart-o.start,l=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),c=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);o.cachedAbsoluteStart=l,o.cachedAbsoluteEnd=c,o.cachedVersionId=e,o.start=l-a,o.end=c-a,kf(o)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0,i=this._buffer.getLineCount();for(let n=1;n<=i;n++){let o=this._buffer.getLineLength(n);o>=Bpe?t+=o:e+=o}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,i=typeof e.indentSize<"u"?e.indentSize:this._options.indentSize,n=typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,o=typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s=typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new nm({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:s});if(this._options.equals(a))return;let l=this._options.createChangeEvent(a);this._options=a,this._bracketPairs.handleDidChangeOptions(l),this._decorationProvider.handleDidChangeOptions(l),this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();let i=AB(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),gb(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){let t=this.findMatches(C3.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();let i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new XB(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();let i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){let t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn,o=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),s=Math.floor(typeof n=="number"&&!isNaN(n)?n:1);if(o<1)o=1,s=1;else if(o>t)o=t,s=this.getLineMaxColumn(o);else if(s<=1)s=1;else{let h=this.getLineMaxColumn(o);s>=h&&(s=h)}let a=e.endLineNumber,l=e.endColumn,c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),d=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,d=1;else if(c>t)c=t,d=this.getLineMaxColumn(c);else if(d<=1)d=1;else{let h=this.getLineMaxColumn(c);d>=h&&(d=h)}return i===o&&n===s&&a===c&&l===d&&e instanceof D&&!(e instanceof ge)?e:new D(o,s,c,d)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;let n=this._buffer.getLineCount();if(e>n)return!1;if(t===1)return!0;let o=this.getLineMaxColumn(e);if(t>o)return!1;if(i===1){let s=this._buffer.getLineCharCode(e,t-2);if(ln(s))return!1}return!0}_validatePosition(e,t,i){let n=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=this._buffer.getLineCount();if(n<1)return new H(1,1);if(n>s)return new H(s,this.getLineMaxColumn(s));if(o<=1)return new H(n,1);let a=this.getLineMaxColumn(n);if(o>=a)return new H(n,a);if(i===1){let l=this._buffer.getLineCharCode(n,o-2);if(ln(l))return new H(n,o-1)}return new H(n,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof H&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,n,0)||!this._isValidPosition(o,s,0))return!1;if(t===1){let a=n>1?this._buffer.getLineCharCode(i,n-2):0,l=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,c=ln(a),d=ln(l);return!c&&!d}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof D&&!(e instanceof ge)&&this._isValidRange(e,1))return e;let i=this._validatePosition(e.startLineNumber,e.startColumn,0),n=this._validatePosition(e.endLineNumber,e.endColumn,0),o=i.lineNumber,s=i.column,a=n.lineNumber,l=n.column;{let c=s>1?this._buffer.getLineCharCode(o,s-2):0,d=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,h=ln(c),u=ln(d);return!h&&!u?new D(o,s,a,l):o===a&&s===l?new D(o,s-1,a,l-1):h&&u?new D(o,s-1,a,l+1):h?new D(o,s-1,a,l):new D(o,s,a,l+1)}return new D(o,s,a,l)}modifyPosition(e,t){this._assertNotDisposed();let i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();let e=this.getLineCount();return new D(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,s,a=Fpe){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(h=>D.isIRange(h))&&(l=t.map(h=>this.validateRange(h)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((h,u)=>h.startLineNumber-u.startLineNumber||h.startColumn-u.startColumn);let c=[];c.push(l.reduce((h,u)=>D.areIntersecting(h,u)?h.plusRange(u):(c.push(h),u)));let d;if(!i&&e.indexOf(`
`)<0){let u=new ld(e,i,n,o).parseSearchRequest();if(!u)return[];d=f=>this.findMatchesLineByLine(f,u,s,a)}else d=h=>P_.findMatches(this,new ld(e,i,n,o),h,s,a);return c.map(d).reduce((h,u)=>h.concat(u),[])}findNextMatch(e,t,i,n,o,s){this._assertNotDisposed();let a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){let c=new ld(e,i,n,o).parseSearchRequest();if(!c)return null;let d=this.getLineCount(),h=new D(a.lineNumber,a.column,d,this.getLineMaxColumn(d)),u=this.findMatchesLineByLine(h,c,s,1);return P_.findNextMatch(this,new ld(e,i,n,o),a,s),u.length>0||(h=new D(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),u=this.findMatchesLineByLine(h,c,s,1),u.length>0)?u[0]:null}return P_.findNextMatch(this,new ld(e,i,n,o),a,s)}findPreviousMatch(e,t,i,n,o,s){this._assertNotDisposed();let a=this.validatePosition(t);return P_.findPreviousMatch(this,new ld(e,i,n,o),a,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof Z0?e:new Z0(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let n=t.map(s=>({range:this.validateRange(s.range),text:s.text})),o=!0;if(e)for(let s=0,a=e.length;s<a;s++){let l=e[s],c=!1;for(let d=0,h=n.length;d<h;d++){let u=n[d].range,f=u.startLineNumber>l.endLineNumber,m=l.startLineNumber>u.endLineNumber;if(!f&&!m){c=!0;break}}if(!c){o=!1;break}}if(o)for(let s=0,a=this._trimAutoWhitespaceLines.length;s<a;s++){let l=this._trimAutoWhitespaceLines[s],c=this.getLineMaxColumn(l),d=!0;for(let h=0,u=n.length;h<u;h++){let f=n[h].range,m=n[h].text;if(!(l<f.startLineNumber||l>f.endLineNumber)&&!(l===f.startLineNumber&&f.startColumn===c&&f.isEmpty()&&m&&m.length>0&&m.charAt(0)===`
`)&&!(l===f.startLineNumber&&f.startColumn===1&&f.isEmpty()&&m&&m.length>0&&m.charAt(m.length-1)===`
`)){d=!1;break}}if(d){let h=new D(l,1,l,c);t.push(new Z0(null,h,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){let o=e.map(s=>{let a=this.getPositionAt(s.newPosition),l=this.getPositionAt(s.newEnd);return{range:new D(a.lineNumber,a.column,l.lineNumber,l.column),text:s.oldText}});this._applyUndoRedoEdits(o,t,!0,!1,i,n)}_applyRedo(e,t,i,n){let o=e.map(s=>{let a=this.getPositionAt(s.oldPosition),l=this.getPositionAt(s.oldEnd);return{range:new D(a.lineNumber,a.column,l.lineNumber,l.column),text:s.newText}});this._applyUndoRedoEdits(o,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();let i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){let i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),s=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,s.length!==0){for(let c=0,d=s.length;c<d;c++){let h=s[c],[u,f,m]=Ac(h.text);this._tokenizationTextModelPart.acceptEdit(h.range,h.text,u,f,m),this._decorationsTree.acceptReplace(h.rangeOffset,h.rangeLength,h.text.length,h.forceMoveMarkers)}let a=[];this._increaseVersionId();let l=i;for(let c=0,d=s.length;c<d;c++){let h=s[c],[u]=Ac(h.text);this._onDidChangeDecorations.fire();let f=h.range.startLineNumber,m=h.range.endLineNumber,_=m-f,v=u,w=Math.min(_,v),y=v-_,x=o-l-y+f,k=x,N=x+v,M=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new H(k,1)),this.getOffsetAt(new H(N,this.getLineMaxColumn(N))),0),I=os.fromDecorations(M),O=new Qc(I);for(let R=w;R>=0;R--){let K=f+R,q=x+R;O.takeFromEndWhile(ie=>ie.lineNumber>q);let te=O.takeFromEndWhile(ie=>ie.lineNumber===q);a.push(new ML(K,this.getLineContent(q),te))}if(w<_){let R=f+w;a.push(new CP(R+1,m))}if(w<v){let R=new Qc(I),K=f+w,q=v-w,te=o-l-q+K+1,ie=[],xe=[];for(let Ae=0;Ae<q;Ae++){let Re=te+Ae;xe[Ae]=this.getLineContent(Re),R.takeWhile(Ve=>Ve.lineNumber<Re),ie[Ae]=R.takeWhile(Ve=>Ve.lineNumber===Re)}a.push(new wP(K+1,f+v,xe,ie))}l+=y}this._emitContentChangedEvent(new yf(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return n.reverseEdits===null?void 0:n.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;let i=Array.from(e).map(n=>new ML(n,this.getLineContent(n),this._getInjectedTextInLine(n)));this._onDidChangeInjectedText.fire(new gw(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(o,s)=>this._deltaDecorationsImpl(e,[],[{range:o,options:s}])[0],changeDecoration:(o,s)=>{this._changeDecorationImpl(o,s)},changeDecorationOptions:(o,s)=>{this._changeDecorationOptionsImpl(o,$J(s))},removeDecoration:o=>{this._deltaDecorationsImpl(e,[o],[])},deltaDecorations:(o,s)=>o.length===0&&s.length===0?[]:this._deltaDecorationsImpl(e,o,s)},n=null;try{n=t(i)}catch(o){Pe(o)}return i.addDecoration=sx,i.changeDecoration=sx,i.changeDecorationOptions=sx,i.removeDecoration=sx,i.deltaDecorations=sx,n}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),Pe(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){let n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:HJ[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;let o=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,a,o),n.setOptions(HJ[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;let t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,n=t.length;i<n;i++){let o=t[i];this._decorationsTree.delete(o),delete this._decorations[o.id]}}getDecorationOptions(e){let t=this._decorations[e];return t?t.options:null}getDecorationRange(e){let t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1){let o=this.getLineCount(),s=Math.min(o,Math.max(1,e)),a=Math.min(o,Math.max(1,t)),l=this.getLineMaxColumn(a),c=new D(s,1,a,l),d=this._getDecorationsInRange(c,i,n);return C5(d,this._decorationProvider.getDecorationsInRange(c,i,n)),d}getDecorationsInRange(e,t=0,i=!1){let n=this.validateRange(e),o=this._getDecorationsInRange(n,t,i);return C5(o,this._decorationProvider.getDecorationsInRange(n,t,i)),o}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){let t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),n=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return os.fromDecorations(n).filter(o=>o.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}_getDecorationsInRange(e,t,i){let n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,n,o,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){let i=this._decorations[e];if(!i)return;if(i.options.after){let a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){let a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}let n=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),s=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(e,t){let i=this._decorations[e];if(!i)return;let n=!!(i.options.overviewRuler&&i.options.overviewRuler.color),o=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){let s=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber)}if(i.options.before||t.before){let s=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)}n!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){let n=this.getVersionId(),o=t.length,s=0,a=i.length,l=0,c=new Array(a);for(;s<o||l<a;){let d=null;if(s<o){do d=this._decorations[t[s++]];while(!d&&s<o);if(d){if(d.options.after){let h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber)}if(d.options.before){let h=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber)}this._decorationsTree.delete(d),this._onDidChangeDecorations.checkAffectedAndFire(d.options)}}if(l<a){if(!d){let v=++this._lastDecorationId,w=`${this._instanceId};${v}`;d=new XL(w,0,0),this._decorations[w]=d}let h=i[l],u=this._validateRangeRelaxedNoAllocations(h.range),f=$J(h.options),m=this._buffer.getOffsetAt(u.startLineNumber,u.startColumn),_=this._buffer.getOffsetAt(u.endLineNumber,u.endColumn);d.ownerId=e,d.reset(n,m,_,u),d.setOptions(f),d.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.endLineNumber),d.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(u.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(f),this._decorationsTree.insert(d),c[l]=d.id,l++}else d&&delete this._decorations[d.id]}return c}getLanguageId(){return this.tokenization.getLanguageId()}setMode(e){this.tokenization.setLanguageId(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return jpe(this.getLineContent(e))+1}};Od.MODEL_SYNC_LIMIT=50*1024*1024;Od.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;Od.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;Od.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Do.tabSize,indentSize:Do.indentSize,insertSpaces:Do.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Do.trimAutoWhitespace,largeFileOptimizations:Do.largeFileOptimizations,bracketPairColorizationOptions:Do.bracketPairColorizationOptions};Od=Ape([YB(4,Xm),YB(5,ei),YB(6,ii)],Od);fA=class{constructor(){this._decorationsTree0=new Ow,this._decorationsTree1=new Ow,this._injectedTextDecorationsTree=new Ow}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(let i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,o){let s=e.getVersionId(),a=this._intervalSearch(t,i,n,o,s);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,i,n,o){let s=this._decorationsTree0.intervalSearch(e,t,i,n,o),a=this._decorationsTree1.intervalSearch(e,t,i,n,o),l=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,o);return s.concat(a).concat(l)}getInjectedTextInInterval(e,t,i,n){let o=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,o);return this._ensureNodesHaveRanges(e,s).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){let i=e.getVersionId(),n=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,n).filter(o=>o.options.showIfCollapsed||!o.range.isEmpty())}getAll(e,t,i,n){let o=e.getVersionId(),s=this._search(t,i,n,o);return this._ensureNodesHaveRanges(e,s)}_search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{let o=this._decorationsTree0.search(e,t,n),s=this._decorationsTree1.search(e,t,n),a=this._injectedTextDecorationsTree.search(e,t,n);return o.concat(s).concat(a)}}collectNodesFromOwner(e){let t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),n=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(n)}collectNodesPostOrder(){let e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){GB(e)?this._injectedTextDecorationsTree.insert(e):ZB(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){GB(e)?this._injectedTextDecorationsTree.delete(e):ZB(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){let i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){GB(e)?this._injectedTextDecorationsTree.resolveNode(e,t):ZB(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}};gA=class{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}},QB=class extends gA{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:ts.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}},JB=class extends gA{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?Z.fromHex(e):t.getColor(e.id)}},Nd=class{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}static from(e){return e instanceof Nd?e:new Nd(e)}},Ge=class{constructor(e){var t,i;this.description=e.description,this.blockClassName=e.blockClassName?Of(e.blockClassName):null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Of(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new QB(e.overviewRuler):null,this.minimap=e.minimap?new JB(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?Of(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Of(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Of(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Of(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Of(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Of(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Of(e.afterContentClassName):null,this.after=e.after?Nd.from(e.after):null,this.before=e.before?Nd.from(e.before):null,this.hideInCommentTokens=(t=e.hideInCommentTokens)!==null&&t!==void 0?t:!1,this.hideInStringTokens=(i=e.hideInStringTokens)!==null&&i!==void 0?i:!1}static register(e){return new Ge(e)}static createDynamic(e){return new Ge(e)}};Ge.EMPTY=Ge.register({description:"empty"});HJ=[Ge.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Ge.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Ge.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Ge.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];e9=class extends ${constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new B),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);let t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(t)}(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!!(e.minimap&&e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(e.overviewRuler&&e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}},t9=class extends ${constructor(){super(),this._fastEmitter=this._register(new B),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new B),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;let t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}});var nee,oee,L9,x9,D9,k9,Vw,Td,E9,uo,I9,qs,xa=ue(()=>{Ye();L9=class{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){let t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}},x9=class{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?sO(e,this._value,0,e.length,this._from,this._to):H0(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}},D9=class{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){let i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){let t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?sO(e,this._value,0,e.length,this._from,this._to):H0(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}},k9=class{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D9(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return bS(e,this._value.scheme);if(this._states[this._stateIdx]===2)return bS(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return Jg(e,this._value.query);if(this._states[this._stateIdx]===5)return Jg(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}},Vw=class{constructor(){this.height=1}rotateLeft(){let e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){let e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return(t=(e=this.left)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}get heightRight(){var e,t;return(t=(e=this.right)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}},Td=class{constructor(e){this._iter=e}static forUris(e=()=>!1,t=()=>!1){return new Td(new k9(e,t))}static forStrings(){return new Td(new L9)}static forConfigKeys(){return new Td(new x9)}clear(){this._root=void 0}set(e,t){let i=this._iter.reset(e),n;this._root||(this._root=new Vw,this._root.segment=i.value());let o=[];for(n=this._root;;){let a=i.cmp(n.segment);if(a>0)n.left||(n.left=new Vw,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(a<0)n.right||(n.right=new Vw,n.right.segment=i.value()),o.push([1,n]),n=n.right;else if(i.hasNext())i.next(),n.mid||(n.mid=new Vw,n.mid.segment=i.value()),o.push([0,n]),n=n.mid;else break}let s=n.value;n.value=t,n.key=e;for(let a=o.length-1;a>=0;a--){let l=o[a][1];l.updateHeight();let c=l.balanceFactor();if(c<-1||c>1){let d=o[a][0],h=o[a+1][0];if(d===1&&h===1)o[a][1]=l.rotateLeft();else if(d===-1&&h===-1)o[a][1]=l.rotateRight();else if(d===1&&h===-1)l.right=o[a+1][1]=o[a+1][1].rotateRight(),o[a][1]=l.rotateLeft();else if(d===-1&&h===1)l.left=o[a+1][1]=o[a+1][1].rotateLeft(),o[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}return s}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){let t=this._iter.reset(e),i=this._root;for(;i;){let n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){let t=this._getNode(e);return!(t?.value===void 0&&t?.mid===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;let n=this._iter.reset(e),o=[],s=this._root;for(;s;){let a=n.cmp(s.segment);if(a>0)o.push([-1,s]),s=s.left;else if(a<0)o.push([1,s]),s=s.right;else if(n.hasNext())n.next(),o.push([0,s]),s=s.mid;else break}if(!!s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){let a=this._min(s.right),{key:l,value:c,segment:d}=a;this._delete(a.key,!1),s.key=l,s.value=c,s.segment=d}else{let a=(i=s.left)!==null&&i!==void 0?i:s.right;if(o.length>0){let[l,c]=o[o.length-1];switch(l){case-1:c.left=a;break;case 0:c.mid=a;break;case 1:c.right=a;break}}else this._root=a}for(let a=o.length-1;a>=0;a--){let l=o[a][1];l.updateHeight();let c=l.balanceFactor();if(c>1?(l.right.balanceFactor()>=0||(l.right=l.right.rotateRight()),o[a][1]=l.rotateLeft()):c<-1&&(l.left.balanceFactor()<=0||(l.left=l.left.rotateLeft()),o[a][1]=l.rotateRight()),a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){let t=this._iter.reset(e),i=this._root,n;for(;i;){let o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),n=i.value||n,i=i.mid;else break}return i&&i.value||n}findSuperstr(e){let t=this._iter.reset(e),i=this._root;for(;i;){let n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(let[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){let t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){!e||(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}},E9=class{constructor(e,t){this.uri=e,this.value=t}},uo=class{constructor(e,t){this[nee]="ResourceMap",e instanceof uo?(this.map=new Map(e.map),this.toKey=t??uo.defaultToKey):(this.map=new Map,this.toKey=e??uo.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new E9(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))===null||t===void 0?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(let[i,n]of this.map)e(n.value,n.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(nee=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}};uo.defaultToKey=r=>r.toString();I9=class{constructor(){this[oee]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){let i=this._map.get(e);if(!!i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,i!==0&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let i=this._state,n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){let e=this,t=this._state,i=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let o={value:i.key,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}values(){let e=this,t=this._state,i=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let o={value:i.value,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}entries(){let e=this,t=this._state,i=this._head,n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let o={value:[i.key,i.value],done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}[(oee=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;let i=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(i.previous=n,n.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;let i=e.next,n=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=n,n.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(let[t,i]of e)this.set(t,i)}},qs=class extends I9{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}});var W_e,or,Mf=ue(()=>{Xe();W_e="editorWorkerService",or=We(W_e)});var WA,EQe,jl,Da,Rc=ue(()=>{Xe();WA=We("progressService"),EQe=Object.freeze({total(){},worked(){},done(){}}),jl=class{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}};jl.None=Object.freeze({report(){}});Da=We("editorProgressService")});function vr(r,e,t){return Math.min(Math.max(r,e),t)}var Lx,tM,Yw=ue(()=>{Lx=class{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}},tM=class{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){let t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}});function xx(r,e){return Ee.isUri(r)?Ku(r.scheme,e):$0(r,e+":")}function e6(r,...e){return e.some(t=>xx(r,t))}function iM(r){let e,t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(r.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},r=r.with({fragment:""})),{selection:e,uri:r}}var jee,wo,Wee,Ds=ue(()=>{se();Ye();vi();Xe();jee=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},wo=We("openerService"),Wee=Object.freeze({_serviceBrand:void 0,registerOpener(){return $.None},registerValidator(){return $.None},registerExternalUriResolver(){return $.None},setDefaultExternalOpener(){},registerExternalOpener(){return $.None},open(){return jee(this,void 0,void 0,function*(){return!1})},resolveExternalUri(r){return jee(this,void 0,void 0,function*(){return{resolved:r,dispose(){}}})}})});var J_e,ebe,Mo,nM,t6,i6,Bc=ue(()=>{k_();xa();Yw();Bs();Xe();pc();Ds();J_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ebe=function(r,e){return function(t,i){e(t,i,r)}},Mo=We("ILanguageFeatureDebounceService");(function(r){let e=new WeakMap,t=0;function i(n){let o=e.get(n);return o===void 0&&(o=++t,e.set(n,o)),o}r.of=i})(nM||(nM={}));t6=class{constructor(e,t,i,n,o,s){this._logService=e,this._name=t,this._registry=i,this._default=n,this._min=o,this._max=s,this._cache=new qs(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>FS(nM.of(i),t),0)}get(e){let t=this._key(e),i=this._cache.get(t);return i?vr(i.value,this._min,this._max):this.default()}update(e,t){let i=this._key(e),n=this._cache.get(i);n||(n=new tM(6),this._cache.set(i,n));let o=vr(n.update(t),this._min,this._max);return xx(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${o}ms`),o}_overall(){let e=new Lx;for(let[,t]of this._cache)e.update(t.value);return e.value}default(){let e=this._overall()|0||this._default;return vr(e,this._min,this._max)}},i6=class{constructor(e){this._logService=e,this._data=new Map}for(e,t,i){var n,o,s;let a=(n=i?.min)!==null&&n!==void 0?n:50,l=(o=i?.max)!==null&&o!==void 0?o:Math.pow(a,2),c=(s=i?.key)!==null&&s!==void 0?s:void 0,d=`${nM.of(e)},${a}${c?","+c:""}`,h=this._data.get(d);return h||(h=new t6(this._logService,t,e,this._overallAverage()|0||a*1.5,a,l),this._data.set(d,h)),h}_overallAverage(){let e=new Lx;for(let t of this._data.values())e.update(t.default());return e.value}};i6=J_e([ebe(0,Oo)],i6);Ot(Mo,i6,!0)});var li,Wl=ue(()=>{Le();li=class{static insert(e,t){return{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}});var dp,Qw,kM,wte=ue(()=>{rt();Le();ww();dp=class{constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(e,t){return new dp(e,new Qw(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){let e=this._tokens.getRange();return e&&new D(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){let t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){let t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[n,o,s]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new dp(this._startLineNumber,n),new dp(this._startLineNumber+s,o)]}applyEdit(e,t){let[i,n,o]=Ac(t);this.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,o){this._acceptDeleteRange(e),this._acceptInsertText(new H(e.startLineNumber,e.startColumn),t,i,n,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;let t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0){let o=i-t;this._startLineNumber-=o;return}let n=this._tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1){this._startLineNumber=0,this._tokens.clear();return}if(t<0){let o=-t;this._startLineNumber-=o,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,o){if(t===0&&i===0)return;let s=e.lineNumber-this._startLineNumber;if(s<0){this._startLineNumber+=t;return}let a=this._tokens.getMaxDeltaLine();s>=a+1||this._tokens.acceptInsertText(s,e.column-1,t,i,n,o)}},Qw=class{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){let e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){let e=this._getTokenCount();if(e===0)return null;let t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new D(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){let n=t+Math.floor((i-t)/2),o=this._getDeltaLine(n);if(o<e)t=n+1;else if(o>e)i=n-1;else{let s=n;for(;s>t&&this._getDeltaLine(s-1)===e;)s--;let a=n;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new kM(this._tokens.subarray(4*s,4*a+4))}}return this._getDeltaLine(t)===e?new kM(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){let o=this._tokens,s=this._tokenCount,a=0,l=!1,c=0;for(let d=0;d<s;d++){let h=4*d,u=o[h],f=o[h+1],m=o[h+2],_=o[h+3];if((u>e||u===e&&m>=t)&&(u<i||u===i&&f<=n))l=!0;else{if(a===0&&(c=u),l){let v=4*a;o[v]=u-c,o[v+1]=f,o[v+2]=m,o[v+3]=_}a++}}return this._tokenCount=a,c}split(e,t,i,n){let o=this._tokens,s=this._tokenCount,a=[],l=[],c=a,d=0,h=0;for(let u=0;u<s;u++){let f=4*u,m=o[f],_=o[f+1],v=o[f+2],w=o[f+3];if(m>e||m===e&&v>=t){if(m<i||m===i&&_<=n)continue;c!==l&&(c=l,d=0,h=m)}c[d++]=m-h,c[d++]=_,c[d++]=v,c[d++]=w}return[new Qw(new Uint32Array(a)),new Qw(new Uint32Array(l)),h]}acceptDeleteRange(e,t,i,n,o){let s=this._tokens,a=this._tokenCount,l=n-t,c=0,d=!1;for(let h=0;h<a;h++){let u=4*h,f=s[u],m=s[u+1],_=s[u+2],v=s[u+3];if(f<t||f===t&&_<=i){c++;continue}else if(f===t&&m<i)f===n&&_>o?_-=o-i:_=i;else if(f===t&&m===i)if(f===n&&_>o)_-=o-i;else{d=!0;continue}else if(f<n||f===n&&m<o)if(f===n&&_>o)f===t?(m=i,_=m+(_-o)):(m=0,_=m+(_-o));else{d=!0;continue}else if(f>n){if(l===0&&!d){c=a;break}f-=l}else if(f===n&&m>=o)e&&f===0&&(m+=e,_+=e),f-=l,m-=o-i,_-=o-i;else throw new Error("Not possible!");let w=4*c;s[w]=f,s[w+1]=m,s[w+2]=_,s[w+3]=v,c++}this._tokenCount=c}acceptInsertText(e,t,i,n,o,s){let a=i===0&&n===1&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),l=this._tokens,c=this._tokenCount;for(let d=0;d<c;d++){let h=4*d,u=l[h],f=l[h+1],m=l[h+2];if(!(u<e||u===e&&m<t)){if(u===e&&m===t)if(a)m+=1;else continue;else if(u===e&&f<t&&t<m)i===0?m+=n:m=t;else{if(u===e&&f===t&&a)continue;if(u===e)if(u+=i,i===0)f+=n,m+=n;else{let _=m-f;f=o+(f-t),m=f+_}else u+=i}l[h]=u,l[h+1]=f,l[h+2]=m}}}},kM=class{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}});function IM(r,e,t){let i=r.data,n=r.data.length/5|0,o=Math.max(Math.ceil(n/1024),400),s=[],a=0,l=1,c=0;for(;a<n;){let d=a,h=Math.min(d+o,n);if(h<n){let y=h;for(;y-1>d&&i[5*y]===0;)y--;if(y-1===d){let x=h;for(;x+1<n&&i[5*x]===0;)x++;h=x}else h=y}let u=new Uint32Array((h-d)*4),f=0,m=0,_=0,v=0;for(;a<h;){let y=5*a,x=i[y],k=i[y+1],N=l+x|0,M=x===0?c+k|0:k,I=i[y+2],O=M+I|0,R=i[y+3],K=i[y+4];if(O<=M)e.warnInvalidLengthSemanticTokens(N,M+1);else if(_===N&&v>M)e.warnOverlappingSemanticTokens(N,M+1);else{let q=e.getMetadata(R,K,t);q!==2147483647&&(m===0&&(m=N),u[f]=N-m,u[f+1]=M,u[f+2]=O,u[f+3]=q,f+=4,_=N,v=O)}l=N,c=M,a++}f!==u.length&&(u=u.subarray(0,f));let w=dp.create(m,u);s.push(w)}return s}var Nbe,b6,EM,v6,Rd,C6=ue(()=>{lC();Ct();pc();wte();Qo();Nbe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},b6=function(r,e){return function(t,i){e(t,i,r)}},EM=class{constructor(e,t,i,n){this._legend=e,this._themeService=t,this._languageService=i,this._logService=n,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new Rd}getMetadata(e,t,i){let n=this._languageService.languageIdCodec.encodeLanguageId(i),o=this._hashTable.get(e,t,n),s;if(o)s=o.metadata,this._logService.getLevel()===mc.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${Uo.getForeground(s)}, fontStyle ${Uo.getFontStyle(s).toString(2)}`);else{let a=this._legend.tokenTypes[e],l=[];if(a){let c=t;for(let h=0;c>0&&h<this._legend.tokenModifiers.length;h++)c&1&&l.push(this._legend.tokenModifiers[h]),c=c>>1;c>0&&this._logService.getLevel()===mc.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));let d=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);typeof d>"u"?s=2147483647:(s=0,typeof d.italic<"u"&&(s|=(d.italic?1:0)<<11|1),typeof d.bold<"u"&&(s|=(d.bold?2:0)<<11|2),typeof d.underline<"u"&&(s|=(d.underline?4:0)<<11|4),typeof d.strikethrough<"u"&&(s|=(d.strikethrough?8:0)<<11|8),d.foreground&&(s|=d.foreground<<15|16),s===0&&(s=2147483647))}else this._logService.getLevel()===mc.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,a="not-in-legend";this._hashTable.add(e,t,n,s),this._logService.getLevel()===mc.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${l.join(" ")}): foreground ${Uo.getForeground(s)}, fontStyle ${Uo.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,i,n,o){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${n} is outside the previous data (length ${o}).`))}};EM=Nbe([b6(1,Tt),b6(2,ei),b6(3,Oo)],EM);v6=class{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}},Rd=class{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=Rd._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Rd._SIZES.length?2/3*this._currentLength:0),this._elements=[],Rd._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){let n=this._hashFunc(e,t,i),o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){let o=this._elements;this._currentLengthIndex++,this._currentLength=Rd._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<Rd._SIZES.length?2/3*this._currentLength:0),this._elements=[],Rd._nullOutEntries(this._elements,this._currentLength);for(let s of o){let a=s;for(;a;){let l=a.next;a.next=null,this._add(a),a=l}}}this._add(new v6(e,t,i,n))}_add(e){let t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}};Rd._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]});function Tbe(r){for(let e=0,t=r.length;e<t;e+=4){let i=r[e+0],n=r[e+1],o=r[e+2],s=r[e+3];r[e+0]=s,r[e+1]=o,r[e+2]=n,r[e+3]=i}}function Pbe(r){let e=new Uint8Array(r.buffer,r.byteOffset,r.length*4);return WE()||Tbe(e),sm.wrap(e)}function w6(r){let e=new Uint32Array(Abe(r)),t=0;if(e[t++]=r.id,r.type==="full")e[t++]=1,e[t++]=r.data.length,e.set(r.data,t),t+=r.data.length;else{e[t++]=2,e[t++]=r.deltas.length;for(let i of r.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return Pbe(e)}function Abe(r){let e=0;if(e+=1+1,r.type==="full")e+=1+r.data.length;else{e+=1,e+=(1+1+1)*r.deltas.length;for(let t of r.deltas)t.data&&(e+=t.data.length)}return e}var yte=ue(()=>{X0();At()});function Rx(r){return r&&!!r.data}function L6(r){return r&&Array.isArray(r.edits)}function x6(r,e){return r.has(e)}function Mbe(r,e){let t=r.orderedGroups(e);return t.length>0?t[0]:[]}function D6(r,e,t,i,n){return hp(this,void 0,void 0,function*(){let o=Mbe(r,e),s=yield Promise.all(o.map(a=>hp(this,void 0,void 0,function*(){let l,c=null;try{l=yield a.provideDocumentSemanticTokens(e,a===t?i:null,n)}catch(d){c=d,l=null}return(!l||!Rx(l)&&!L6(l))&&(l=null),new y6(a,l,c)})));for(let a of s){if(a.error)throw a.error;if(a.tokens)return a}return s.length>0?s[0]:null})}function Rbe(r,e){let t=r.orderedGroups(e);return t.length>0?t[0]:null}function Ste(r,e){return r.has(e)}function Lte(r,e){let t=r.orderedGroups(e);return t.length>0?t[0]:[]}function OM(r,e,t,i){return hp(this,void 0,void 0,function*(){let n=Lte(r,e),o=yield Promise.all(n.map(s=>hp(this,void 0,void 0,function*(){let a;try{a=yield s.provideDocumentRangeSemanticTokens(e,t,i)}catch(l){Oi(l),a=null}return(!a||!Rx(a))&&(a=null),new S6(s,a)})));for(let s of o)if(s.tokens)return s;return o.length>0?o[0]:null})}var hp,y6,S6,k6=ue(()=>{Di();ut();vi();_s();hn();ti();yte();Le();oi();hp=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};y6=class{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}};S6=class{constructor(e,t){this.provider=e,this.tokens=t}};gt.registerCommand("_provideDocumentSemanticTokensLegend",(r,...e)=>hp(void 0,void 0,void 0,function*(){let[t]=e;$t(t instanceof Ee);let i=r.get(si).getModel(t);if(!i)return;let{documentSemanticTokensProvider:n}=r.get(_e),o=Rbe(n,i);return o?o[0].getLegend():r.get(yi).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)}));gt.registerCommand("_provideDocumentSemanticTokens",(r,...e)=>hp(void 0,void 0,void 0,function*(){let[t]=e;$t(t instanceof Ee);let i=r.get(si).getModel(t);if(!i)return;let{documentSemanticTokensProvider:n}=r.get(_e);if(!x6(n,i))return r.get(yi).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());let o=yield D6(n,i,null,null,Je.None);if(!o)return;let{provider:s,tokens:a}=o;if(!a||!Rx(a))return;let l=w6({id:0,type:"full",data:a.data});return a.resultId&&s.releaseDocumentSemanticTokens(a.resultId),l}));gt.registerCommand("_provideDocumentRangeSemanticTokensLegend",(r,...e)=>hp(void 0,void 0,void 0,function*(){let[t,i]=e;$t(t instanceof Ee);let n=r.get(si).getModel(t);if(!n)return;let{documentRangeSemanticTokensProvider:o}=r.get(_e),s=Lte(o,n);if(s.length===0)return;if(s.length===1)return s[0].getLegend();if(!i||!D.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();let a=yield OM(o,n,D.lift(i),Je.None);if(!!a)return a.provider.getLegend()}));gt.registerCommand("_provideDocumentRangeSemanticTokens",(r,...e)=>hp(void 0,void 0,void 0,function*(){let[t,i]=e;$t(t instanceof Ee),$t(D.isIRange(i));let n=r.get(si).getModel(t);if(!n)return;let{documentRangeSemanticTokensProvider:o}=r.get(_e),s=yield OM(o,n,D.lift(i),Je.None);if(!(!s||!s.tokens))return w6({id:0,type:"full",data:s.tokens.data})}))});function up(r){return r.toString()}function xte(r){let e=new D_,t=r.createSnapshot(),i;for(;i=t.read();)e.update(i);return e.digest()}function NM(r,e,t){var i;let n=(i=t.getValue(TM,{overrideIdentifier:r.getLanguageId(),resource:r.uri}))===null||i===void 0?void 0:i.enabled;return typeof n=="boolean"?n:e.getColorTheme().semanticHighlighting}var P6,ks,E6,Fbe,I6,Bx,TM,O6,N6,T6,jx,A6=ue(()=>{Oe();se();At();ut();Ao();sS();fc();Qo();_s();zS();to();ot();Di();Ct();pc();rx();k_();TB();Ws();C6();k6();hr();io();Bc();Ha();oi();P6=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ks=function(r,e){return function(t,i){e(t,i,r)}};E6=class{constructor(e,t,i){this._modelEventListeners=new J,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(n=>i(e,n)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageId)),this.model.setMode(e.languageId)}},Fbe=$i||at?1:2,I6=class{constructor(e,t,i,n,o,s,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=o,this.sha1=s,this.versionId=a,this.alternativeVersionId=l}},Bx=class Fx extends ${constructor(e,t,i,n,o,s,a,l,c){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=n,this._undoRedoService=o,this._languageService=s,this._languageConfigurationService=a,this._languageFeatureDebounceService=l,this._onModelAdded=this._register(new B),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new B),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new B),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new N6(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new O6(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,c))}static _readModelOptions(e,t){var i;let n=Do.tabSize;if(e.editor&&typeof e.editor.tabSize<"u"){let f=parseInt(e.editor.tabSize,10);isNaN(f)||(n=f),n<1&&(n=1)}let o=n;if(e.editor&&typeof e.editor.indentSize<"u"&&e.editor.indentSize!=="tabSize"){let f=parseInt(e.editor.indentSize,10);isNaN(f)||(o=f),o<1&&(o=1)}let s=Do.insertSpaces;e.editor&&typeof e.editor.insertSpaces<"u"&&(s=e.editor.insertSpaces==="false"?!1:Boolean(e.editor.insertSpaces));let a=Fbe,l=e.eol;l===`\r
`?a=2:l===`
`&&(a=1);let c=Do.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace<"u"&&(c=e.editor.trimAutoWhitespace==="false"?!1:Boolean(e.editor.trimAutoWhitespace));let d=Do.detectIndentation;e.editor&&typeof e.editor.detectIndentation<"u"&&(d=e.editor.detectIndentation==="false"?!1:Boolean(e.editor.detectIndentation));let h=Do.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations<"u"&&(h=e.editor.largeFileOptimizations==="false"?!1:Boolean(e.editor.largeFileOptimizations));let u=Do.bracketPairColorizationOptions;return((i=e.editor)===null||i===void 0?void 0:i.bracketPairColorization)&&typeof e.editor.bracketPairColorization=="object"&&(u={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:n,indentSize:o,insertSpaces:s,detectIndentation:d,defaultEOL:a,trimAutoWhitespace:c,largeFileOptimizations:h,bracketPairColorizationOptions:u}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);let i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:Nr===3||Nr===2?`
`:`\r
`}_shouldRestoreUndoStack(){let e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){let n=this._modelCreationOptionsByLanguageAndResource[e+t];if(!n){let o=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:t}),s=this._getEOL(t,e);n=Fx._readModelOptions({editor:o,eol:s},i),this._modelCreationOptionsByLanguageAndResource[e+t]=n}return n}_updateModelOptions(){let e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);let t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){let o=t[i],s=this._models[o],a=s.model.getLanguageId(),l=s.model.uri,c=e[a+l],d=this.getCreationOptions(a,l,s.model.isForSimpleWidget);Fx._setModelOptionsForModel(s.model,d,c)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&dr(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(up(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){let t=this._disposedModels.get(up(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(up(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){let t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,n)=>i.time-n.time);t.length>0&&this._disposedModelsHeapSize>e;){let i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){let o=this.getCreationOptions(t,i,n),s=new Od(e,t,o,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has(up(i))){let c=this._removeDisposedModel(i),d=this._undoRedoService.getElements(i),h=xte(s)===c.sha1;if(h||c.sharesUndoRedoStack){for(let u of d.past)Uh(u)&&u.matchesResource(i)&&u.setModel(s);for(let u of d.future)Uh(u)&&u.matchesResource(i)&&u.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,u=>Uh(u)&&u.matchesResource(i)),h&&(s._overwriteVersionId(c.versionId),s._overwriteAlternativeVersionId(c.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}let a=up(s.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");let l=new E6(s,c=>this._onWillDispose(c),(c,d)=>this._onDidChangeLanguage(c,d));return this._models[a]=l,l}createModel(e,t,i,n=!1){let o;return t?(o=this._createModelData(e,t.languageId,i,n),this.setMode(o.model,t)):o=this._createModelData(e,Io,i,n),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(!t)return;let i=this._models[up(e.uri)];!i||i.setLanguage(t)}getModels(){let e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){let o=t[i];e.push(this._models[o].model)}return e}getModel(e){let t=up(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===lt.file||e.scheme===lt.vscodeRemote||e.scheme===lt.vscodeUserData||e.scheme===lt.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){let t=up(e.uri),i=this._models[t],n=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString(),o=!1,s=0;if(n||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){let l=this._undoRedoService.getElements(e.uri);if(l.past.length>0||l.future.length>0){for(let c of l.past)Uh(c)&&c.matchesResource(e.uri)&&(o=!0,s+=c.heapSize(e.uri),c.setModel(e.uri));for(let c of l.future)Uh(c)&&c.matchesResource(e.uri)&&(o=!0,s+=c.heapSize(e.uri),c.setModel(e.uri))}}let a=Fx.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(o)if(!n&&s>a){let l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}else this._ensureDisposedModelsHeapSize(a-s),this._undoRedoService.setElementsValidFlag(e.uri,!1,l=>Uh(l)&&l.matchesResource(e.uri)),this._insertDisposedModel(new I6(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),n,s,xte(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!n){let l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){let i=t.oldLanguage,n=e.getLanguageId(),o=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),s=this.getCreationOptions(n,e.uri,e.isForSimpleWidget);Fx._setModelOptionsForModel(e,s,o),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}};Bx.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;Bx=P6([ks(0,yt),ks(1,iN),ks(2,Tt),ks(3,Oo),ks(4,Xm),ks(5,ei),ks(6,ii),ks(7,Mo),ks(8,_e)],Bx);TM="editor.semanticHighlighting";O6=class extends ${constructor(e,t,i,n,o,s){super(),this._watchers=Object.create(null),this._semanticStyling=e;let a=d=>{this._watchers[d.uri.toString()]=new jx(d,this._semanticStyling,i,o,s)},l=(d,h)=>{h.dispose(),delete this._watchers[d.uri.toString()]},c=()=>{for(let d of t.getModels()){let h=this._watchers[d.uri.toString()];NM(d,i,n)?h||a(d):h&&l(d,h)}};this._register(t.onModelAdded(d=>{NM(d,i,n)&&a(d)})),this._register(t.onModelRemoved(d=>{let h=this._watchers[d.uri.toString()];h&&l(d,h)})),this._register(n.onDidChangeConfiguration(d=>{d.affectsConfiguration(TM)&&c()})),this._register(i.onDidColorThemeChange(c))}dispose(){for(let e of Object.values(this._watchers))e.dispose();super.dispose()}};O6=P6([ks(1,si),ks(2,Tt),ks(3,yt),ks(4,Mo),ks(5,_e)],O6);N6=class extends ${constructor(e,t,i){super(),this._themeService=e,this._languageService=t,this._logService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new EM(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}},T6=class{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}},jx=class Qb extends ${constructor(e,t,i,n,o){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=t,this._provider=o.documentSemanticTokensProvider,this._debounceInformation=n.for(this._provider,"DocumentSemanticTokens",{min:Qb.REQUEST_MIN_DELAY,max:Qb.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new pt(()=>this._fetchDocumentSemanticTokensNow(),Qb.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));let s=()=>{ft(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(let a of this._provider.all(e))typeof a.onDidChange=="function"&&this._documentProvidersChangeListeners.push(a.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};s(),this._register(this._provider.onDidChange(()=>{s(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(a=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!x6(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}let e=new qi,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,n=D6(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e;let o=[],s=this._model.onDidChangeContent(l=>{o.push(l)}),a=new _n(!1);n.then(l=>{if(this._debounceInformation.update(this._model,a.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),!l)this._setDocumentSemanticTokens(null,null,null,o);else{let{provider:c,tokens:d}=l,h=this._semanticStyling.get(c);this._setDocumentSemanticTokens(c,d||null,h,o)}},l=>{l&&(Ps(l)||typeof l.message=="string"&&l.message.indexOf("busy")!==-1)||Pe(l),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),o.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,n,o){o=Math.min(o,i.length-n,e.length-t);for(let s=0;s<o;s++)i[n+s]=e[t+s]}_setDocumentSemanticTokens(e,t,i,n){let o=this._currentDocumentResponse,s=()=>{n.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.tokenization.setSemanticTokens(null,!1);return}if(!t){this._model.tokenization.setSemanticTokens(null,!0),s();return}if(L6(t)){if(!o){this._model.tokenization.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:o.data};else{let a=0;for(let u of t.edits)a+=(u.data?u.data.length:0)-u.deleteCount;let l=o.data,c=new Uint32Array(l.length+a),d=l.length,h=c.length;for(let u=t.edits.length-1;u>=0;u--){let f=t.edits[u];if(f.start>l.length){i.warnInvalidEditStart(o.resultId,t.resultId,u,f.start,l.length),this._model.tokenization.setSemanticTokens(null,!0);return}let m=d-(f.start+f.deleteCount);m>0&&(Qb._copy(l,d-m,c,h-m,m),h-=m),f.data&&(Qb._copy(f.data,0,c,h-f.data.length,f.data.length),h-=f.data.length),d=f.start}d>0&&Qb._copy(l,0,c,0,d),t={resultId:t.resultId,data:c}}}if(Rx(t)){this._currentDocumentResponse=new T6(e,t.resultId,t.data);let a=IM(t,i,this._model.getLanguageId());if(n.length>0)for(let l of n)for(let c of a)for(let d of l.changes)c.applyEdit(d.range,d.text);this._model.tokenization.setSemanticTokens(a,!0)}else this._model.tokenization.setSemanticTokens(null,!0);s()}};jx.REQUEST_MIN_DELAY=300;jx.REQUEST_MAX_DELAY=2e3;jx=P6([ks(2,Tt),ks(3,Mo),ks(4,_e)],jx)});var IW,Die,jR,kie=ue(()=>{xt();St();Di();Xc();Xe();Bs();Ne();IW=We("IEditorCancelService"),Die=new Ce("cancellableOperation",!1,g("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Ot(IW,class{constructor(){this._tokens=new WeakMap}add(r,e){let t=this._tokens.get(r);t||(t=r.invokeWithinContext(n=>{let o=Die.bindTo(n.get(Te)),s=new Rn;return{key:o,tokens:s}}),this._tokens.set(r,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(r){let e=this._tokens.get(r);if(!e)return;let t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},!0);jR=class extends qi{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext(i=>i.get(IW).add(e,this))}dispose(){this._unregister(),super.dispose()}};me(new class extends zi{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:Die})}runEditorCommand(r,e){r.get(IW).cancel(e)}})});var Zf,al,vv,Gf=ue(()=>{Ye();Le();Di();se();kie();Zf=class{constructor(e,t){if(this.flags=t,(this.flags&1)!==0){let i=e.getModel();this.modelVersionId=i?td("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=e.getPosition():this.position=null,(this.flags&2)!==0?this.selection=e.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof Zf))return!1;let t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new Zf(e,this.flags))}},al=class extends jR{constructor(e,t,i,n){super(e,n),this._listener=new J,t&4&&this._listener.add(e.onDidChangeCursorPosition(o=>{(!i||!D.containsPosition(i,o.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(o=>{(!i||!D.containsRange(i,o.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(o=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(o=>this.cancel())),this._listener.add(e.onDidChangeModelContent(o=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}},vv=class extends qi{constructor(e,t){super(t),this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}});function cu(r){return r&&typeof r.getEditorType=="function"?r.getEditorType()===im.ICodeEditor:!1}var OW=ue(()=>{ES()});var du,NW=ue(()=>{Wl();Le();du=class{static _handleEolEdits(e,t){let i,n=[];for(let o of t)typeof o.eol=="number"&&(i=o.eol),o.range&&typeof o.text=="string"&&n.push(o);return typeof i=="number"&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;let i=e.getModel(),n=i.validateRange(t.range);return i.getFullModelRange().equalsRange(n)}static execute(e,t,i){i&&e.pushUndoStop();let n=du._handleEolEdits(e,t);n.length===1&&du._isFullModelReplaceEdit(e,n[0])?e.executeEdits("formatEditsCommand",n.map(o=>li.replace(D.lift(o.range),o.text))):e.executeEdits("formatEditsCommand",n.map(o=>li.replaceMove(D.lift(o.range),o.text))),i&&e.pushUndoStop()}}});var D1,Eie=ue(()=>{D1=class{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}});function WR(r){if(r=r.filter(n=>n.range),!r.length)return;let{range:e}=r[0];for(let n=1;n<r.length;n++)e=D.plusRange(e,r[n].range);let{startLineNumber:t,endLineNumber:i}=e;t===i?r.length===1?Tn(g("hint11","Made 1 formatting edit on line {0}",t)):Tn(g("hintn1","Made {0} formatting edits on line {1}",r.length,t)):r.length===1?Tn(g("hint1n","Made 1 formatting edit between lines {0} and {1}",t,i)):Tn(g("hintnn","Made {0} formatting edits between lines {1} and {2}",r.length,t,i))}function Iie(r,e,t){let i=[],n=new Set,o=r.ordered(t);for(let a of o)i.push(a),a.extensionId&&n.add(D1.toKey(a.extensionId));let s=e.ordered(t);for(let a of s){if(a.extensionId){if(n.has(D1.toKey(a.extensionId)))continue;n.add(D1.toKey(a.extensionId))}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits(l,c,d){return a.provideDocumentRangeFormattingEdits(l,l.getFullModelRange(),c,d)}})}return i}function TW(r,e,t,i,n,o){return Vd(this,void 0,void 0,function*(){let s=r.get(je),{documentRangeFormattingEditProvider:a}=r.get(_e),l=cu(e)?e.getModel():e,c=a.ordered(l),d=yield hu.select(c,l,i);d&&(n.report(d),yield s.invokeFunction(gCe,d,e,t,o))})}function gCe(r,e,t,i,n){return Vd(this,void 0,void 0,function*(){let o=r.get(or),s,a;cu(t)?(s=t.getModel(),a=new al(t,5,void 0,n)):(s=t,a=new vv(t,n));let l=[],c=0;for(let m of O0(i).sort(D.compareRangesUsingStarts))c>0&&D.areIntersectingOrTouching(l[c-1],m)?l[c-1]=D.fromPositions(l[c-1].getStartPosition(),m.getEndPosition()):c=l.push(m);let d=m=>Vd(this,void 0,void 0,function*(){return(yield e.provideDocumentRangeFormattingEdits(s,m,s.getFormattingOptions(),a.token))||[]}),h=(m,_)=>{if(!m.length||!_.length)return!1;let v=m.reduce((w,y)=>D.plusRange(w,y.range),m[0].range);if(!_.some(w=>D.intersectRanges(v,w.range)))return!1;for(let w of m)for(let y of _)if(D.intersectRanges(w.range,y.range))return!0;return!1},u=[],f=[];try{for(let m of l){if(a.token.isCancellationRequested)return!0;f.push(yield d(m))}for(let m=0;m<l.length;++m)for(let _=m+1;_<l.length;++_){if(a.token.isCancellationRequested)return!0;if(h(f[m],f[_])){let v=D.plusRange(l[m],l[_]),w=yield d(v);l.splice(_,1),l.splice(m,1),l.push(v),f.splice(_,1),f.splice(m,1),f.push(w),m=0,_=0}}for(let m of f){if(a.token.isCancellationRequested)return!0;let _=yield o.computeMoreMinimalEdits(s.uri,m);_&&u.push(..._)}}finally{a.dispose()}if(u.length===0)return!1;if(cu(t))du.execute(t,u,!0),WR(u),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{let[{range:m}]=u,_=new ge(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn);s.pushEditOperations([_],u.map(v=>({text:v.text,range:D.lift(v.range),forceMoveMarkers:!0})),v=>{for(let{range:w}of v)if(D.areIntersectingOrTouching(w,_))return[new ge(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn)];return null})}return!0})}function Oie(r,e,t,i,n){return Vd(this,void 0,void 0,function*(){let o=r.get(je),s=r.get(_e),a=cu(e)?e.getModel():e,l=Iie(s.documentFormattingEditProvider,s.documentRangeFormattingEditProvider,a),c=yield hu.select(l,a,t);c&&(i.report(c),yield o.invokeFunction(mCe,c,e,t,n))})}function mCe(r,e,t,i,n){return Vd(this,void 0,void 0,function*(){let o=r.get(or),s,a;cu(t)?(s=t.getModel(),a=new al(t,5,void 0,n)):(s=t,a=new vv(t,n));let l;try{let c=yield e.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token);if(l=yield o.computeMoreMinimalEdits(s.uri,c),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||l.length===0)return!1;if(cu(t))du.execute(t,l,i!==2),i!==2&&(WR(l),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1));else{let[{range:c}]=l,d=new ge(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn);s.pushEditOperations([d],l.map(h=>({text:h.text,range:D.lift(h.range),forceMoveMarkers:!0})),h=>{for(let{range:u}of h)if(D.areIntersectingOrTouching(u,d))return[new ge(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)];return null})}return!0})}function pCe(r,e,t,i,n,o){return Vd(this,void 0,void 0,function*(){let s=e.documentRangeFormattingEditProvider.ordered(t);for(let a of s){let l=yield Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,n,o)).catch(Oi);if(an(l))return yield r.computeMoreMinimalEdits(t.uri,l)}})}function _Ce(r,e,t,i,n){return Vd(this,void 0,void 0,function*(){let o=Iie(e.documentFormattingEditProvider,e.documentRangeFormattingEditProvider,t);for(let s of o){let a=yield Promise.resolve(s.provideDocumentFormattingEdits(t,i,n)).catch(Oi);if(an(a))return yield r.computeMoreMinimalEdits(t.uri,a)}})}function PW(r,e,t,i,n,o,s){let a=e.onTypeFormattingEditProvider.ordered(t);return a.length===0||a[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,n,o,s)).catch(Oi).then(l=>r.computeMoreMinimalEdits(t.uri,l))}var Vd,hu,AW=ue(()=>{Vs();Ft();Di();ut();aa();Xc();ti();vi();Gf();OW();rt();Le();Ci();Mf();Ga();NW();Ne();hn();Eie();Xe();oi();Vd=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};hu=class{static setFormatterSelector(e){return{dispose:hu._selectors.unshift(e)}}static select(e,t,i){return Vd(this,void 0,void 0,function*(){if(e.length===0)return;let n=wt.first(hu._selectors);if(n)return yield n(e,t,i)})}};hu._selectors=new Rn;gt.registerCommand("_executeFormatRangeProvider",function(r,...e){return Vd(this,void 0,void 0,function*(){let[t,i,n]=e;$t(Ee.isUri(t)),$t(D.isIRange(i));let o=r.get(Fn),s=r.get(or),a=r.get(_e),l=yield o.createModelReference(t);try{return pCe(s,a,l.object.textEditorModel,D.lift(i),n,Je.None)}finally{l.dispose()}})});gt.registerCommand("_executeFormatDocumentProvider",function(r,...e){return Vd(this,void 0,void 0,function*(){let[t,i]=e;$t(Ee.isUri(t));let n=r.get(Fn),o=r.get(or),s=r.get(_e),a=yield n.createModelReference(t);try{return _Ce(o,s,a.object.textEditorModel,i,Je.None)}finally{a.dispose()}})});gt.registerCommand("_executeFormatOnTypeProvider",function(r,...e){return Vd(this,void 0,void 0,function*(){let[t,i,n,o]=e;$t(Ee.isUri(t)),$t(H.isIPosition(i)),$t(typeof n=="string");let s=r.get(Fn),a=r.get(or),l=r.get(_e),c=yield s.createModelReference(t);try{return PW(a,l,c.object.textEditorModel,H.lift(i),n,o,Je.None)}finally{c.dispose()}})})});var Coe=a0(Mv=>{Ft();Di();ut();bl();se();xt();lo();T_();Le();Ui();Mf();oi();AW();NW();Ne();hn();St();Xe();Rc();var voe=Mv&&Mv.__decorate||function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},pF=Mv&&Mv.__param||function(r,e){return function(t,i){e(t,i,r)}},LU=Mv&&Mv.__awaiter||function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},kk=class{constructor(e,t,i){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._disposables=new J,this._sessionDisposables=new J,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(n=>{n.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;let e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let i=new ad;for(let n of t.autoFormatTriggerCharacters)i.add(n.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(n=>{let o=n.charCodeAt(n.length-1);i.has(o)&&this._trigger(String.fromCharCode(o))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;let t=this._editor.getModel(),i=this._editor.getPosition(),n=new qi,o=this._editor.onDidChangeModelContent(s=>{if(s.isFlush){n.cancel(),o.dispose();return}for(let a=0,l=s.changes.length;a<l;a++)if(s.changes[a].range.endLineNumber<=i.lineNumber){n.cancel(),o.dispose();return}});PW(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),n.token).then(s=>{n.token.isCancellationRequested||an(s)&&(du.execute(this._editor,s,!0),WR(s))}).finally(()=>{o.dispose()})}};kk.ID="editor.contrib.autoFormat";kk=voe([pF(1,_e),pF(2,or)],kk);var Ek=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new J,this._callOnModel=new J,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e))))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(TW,this.editor,e,2,jl.None,Je.None).catch(Pe)}};Ek.ID="editor.contrib.formatOnPaste";Ek=voe([pF(1,_e),pF(2,je)],Ek);var yU=class extends we{constructor(){super({id:"editor.action.formatDocument",label:g("formatDocument.label","Format Document"),alias:"Format Document",precondition:Se.and(F.notInCompositeEditor,F.writable,F.hasDocumentFormattingProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return LU(this,void 0,void 0,function*(){if(t.hasModel()){let i=e.get(je);yield e.get(Da).showWhile(i.invokeFunction(Oie,t,1,jl.None,Je.None),250)}})}},SU=class extends we{constructor(){super({id:"editor.action.formatSelection",label:g("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Se.and(F.writable,F.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2084),weight:100},contextMenuOpts:{when:F.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return LU(this,void 0,void 0,function*(){if(!t.hasModel())return;let i=e.get(je),n=t.getModel(),o=t.getSelections().map(a=>a.isEmpty()?new D(a.startLineNumber,1,a.startLineNumber,n.getLineMaxColumn(a.startLineNumber)):a);yield e.get(Da).showWhile(i.invokeFunction(TW,t,o,1,jl.None,Je.None),250)})}};Ze(kk.ID,kk);Ze(Ek.ID,Ek);le(yU);le(SU);gt.registerCommand("editor.action.format",r=>LU(void 0,void 0,void 0,function*(){let e=r.get(kt).getFocusedCodeEditor();if(!e||!e.hasModel())return;let t=r.get(yi);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}))});var W1e,xU,z1e,Ap,Rv,DU,$c,EU,kU,IU=ue(()=>{Ft();Di();ut();aa();xa();rt();Le();Bc();Xe();Bs();_s();se();oi();W1e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xU=function(r,e){return function(t,i){e(t,i,r)}},z1e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Ap=class{remove(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let o=0;t.children.get(n)!==void 0;o++)n=`${i}_${o}`;return n}static empty(e){return e.children.size===0}},Rv=class extends Ap{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}},DU=class extends Ap{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}},$c=class extends Ap{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t,i){let n=new qi(i),o=new $c(t.uri),s=e.ordered(t),a=s.map((c,d)=>{var h;let u=Ap.findId(`provider_${d}`,o),f=new DU(u,o,(h=c.displayName)!==null&&h!==void 0?h:"Unknown Outline Provider",d);return Promise.resolve(c.provideDocumentSymbols(t,n.token)).then(m=>{for(let _ of m||[])$c._makeOutlineElement(_,f);return f},m=>(Oi(m),f)).then(m=>{Ap.empty(m)?m.remove():o._groups.set(u,m)})}),l=e.onDidChange(()=>{let c=e.ordered(t);go(c,s)||n.cancel()});return Promise.all(a).then(()=>n.token.isCancellationRequested&&!i.isCancellationRequested?$c.create(e,t,i):o._compact()).finally(()=>{l.dispose()})}static _makeOutlineElement(e,t){let i=Ap.findId(e,t),n=new Rv(i,t,e);if(e.children)for(let o of e.children)$c._makeOutlineElement(o,n);t.children.set(n.id,n)}_compact(){let e=0;for(let[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{let t=wt.first(this._groups.values());for(let[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){let e=[];for(let t of this.children.values())t instanceof Rv?e.push(t.symbol):e.push(...wt.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>D.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){let e=this.getTopLevelSymbols(),t=[];return $c._flattenDocumentSymbols(t,e,""),t.sort((i,n)=>H.compare(D.getStartPosition(i.range),D.getStartPosition(n.range))||H.compare(D.getEndPosition(n.range),D.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(let n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&$c._flattenDocumentSymbols(e,n.children,n.name)}},EU=We("IOutlineModelService"),kU=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new J,this._cache=new qs(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(n=>{this._cache.delete(n.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return z1e(this,void 0,void 0,function*(){let i=this._languageFeaturesService.documentSymbolProvider,n=i.ordered(e),o=this._cache.get(e.id);if(!o||o.versionId!==e.getVersionId()||!go(o.provider,n)){let a=new qi;o={versionId:e.getVersionId(),provider:n,promiseCnt:0,source:a,promise:$c.create(i,e,a.token),model:void 0},this._cache.set(e.id,o);let l=Date.now();o.promise.then(c=>{o.model=c,this._debounceInformation.update(e,Date.now()-l)}).catch(c=>{this._cache.delete(e.id)})}if(o.model)return o.model;o.promiseCnt+=1;let s=t.onCancellationRequested(()=>{--o.promiseCnt===0&&(o.source.cancel(),this._cache.delete(e.id))});try{return yield o.promise}finally{s.dispose()}})}};kU=W1e([xU(0,_e),xU(1,Mo),xU(2,si)],kU);Ot(EU,kU,!0)});var woe=a0(OU=>{Di();ti();vi();Ga();IU();hn();var V1e=OU&&OU.__awaiter||function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};gt.registerCommand("_executeDocumentSymbolProvider",function(r,...e){return V1e(this,void 0,void 0,function*(){let[t]=e;$t(Ee.isUri(t));let i=r.get(EU),o=yield r.get(Fn).createModelReference(t);try{return(yield i.getOrCreate(o.object.textEditorModel,Je.None)).getTopLevelSymbols()}finally{o.dispose()}})})});var HF,Yoe=ue(()=>{Ci();HF=class{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new ge(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new ge(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}});var Zoe=a0(Uk=>{ot();ut();Gf();xt();Le();Ci();Ui();Ao();Mf();La();Ne();Ct();Yoe();var gSe=Uk&&Uk.__decorate||function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},mSe=Uk&&Uk.__param||function(r,e){return function(t,i){e(t,i,r)}},Bp=class uH{constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}static get(e){return e.getContribution(uH.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();let i=this.editor.getSelection(),n=this.editor.getModel();if(!n||!i)return;let o=i;if(o.startLineNumber!==o.endLineNumber)return;let s=new Zf(this.editor,5),a=n.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=wi(l=>this.editorWorkerService.navigateValueSet(a,o,t)),this.currentRequest.then(l=>{if(!l||!l.range||!l.value||!s.validate(this.editor))return;let c=D.lift(l.range),d=l.range,h=l.value.length-(o.endColumn-o.startColumn);d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.startColumn+l.value.length},h>1&&(o=new ge(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn+h-1));let u=new HF(c,o,l.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,u),this.editor.pushUndoStop(),this.decorations.set([{range:d,options:uH.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=kl(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(Pe)}).catch(Pe)):Promise.resolve(void 0)}};Bp.ID="editor.contrib.inPlaceReplaceController";Bp.DECORATION=Ge.register({description:"in-place-replace",className:"valueSetReplacement"});Bp=gSe([mSe(1,or)],Bp);var fH=class extends we{constructor(){super({id:"editor.action.inPlaceReplace.up",label:g("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:3154,weight:100}})}run(e,t){let i=Bp.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}},gH=class extends we{constructor(){super({id:"editor.action.inPlaceReplace.down",label:g("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:3156,weight:100}})}run(e,t){let i=Bp.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}};Ze(Bp.ID,Bp);le(fH);le(gH);Lt((r,e)=>{let t=r.getColor(gT);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)})});var hre=a0(Xv=>{se();xt();oi();IU();Di();Fe();Zu();F_();dC();ot();rt();var jSe=Xv&&Xv.__decorate||function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},WSe=Xv&&Xv.__param||function(r,e){return function(t,i){e(t,i,r)}},cre=Xv&&Xv.__awaiter||function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},l$,Yk=class extends ${constructor(e,t){super(),this._sessionStore=new J,this._ranges=[],this._rangesVersionId=0,this._editor=e,this._languageFeaturesService=t,this.stickyScrollWidget=new c$(this._editor),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new pt(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(this._editor.getOption(34).stickyScroll.enabled===!1){this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),this._sessionStore.clear();return}else this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(t=>this._onTokensChange(t))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(e){let t=this.stickyScrollWidget.getCurrentLines();for(let i of t)for(let n of e.ranges)if(i>=n.fromLineNumber&&i<=n.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._update(!1)}_update(e=!1){var t,i;return cre(this,void 0,void 0,function*(){e&&((t=this._cts)===null||t===void 0||t.dispose(!0),this._cts=new qi,yield this._updateOutlineModel(this._cts.token));let n=(i=this._editor._getViewModel())===null||i===void 0?void 0:i.getHiddenAreas();if(n)for(let o of n)this._ranges=this._ranges.filter(s=>!(s[0]>=o.startLineNumber&&s[1]<=o.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(e,t){if(e?.children.size){let i=!1;for(let n of e?.children.values()){let o=n.symbol.kind;(o===4||o===8||o===11||o===10||o===5||o===1)&&(i=!0,this._findLineRanges(n,t+1))}i||this._addOutlineRanges(e,t)}else this._addOutlineRanges(e,t)}_addOutlineRanges(e,t){let i=0,n=0;for(;e;){let o=e.symbol.kind;if((o===4||o===8||o===11||o===10||o===5||o===1)&&(i=e?.symbol.range.startLineNumber,n=e?.symbol.range.endLineNumber,this._ranges.push([i,n,t]),t--),e.parent instanceof Rv)e=e.parent;else break}}_updateOutlineModel(e){return cre(this,void 0,void 0,function*(){if(this._editor.hasModel()){let t=this._editor.getModel(),i=t.getVersionId(),n=yield $c.create(this._languageFeaturesService.documentSymbolProvider,t,e);if(e.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=i;for(let o of n.children.values()){if(o instanceof Rv){let a=o.symbol.kind;a===4||a===8||a===11||a===10||a===5||a===1?this._findLineRanges(o,1):this._findLineRanges(o,0)}this._ranges=this._ranges.sort(function(a,l){return a[0]!==l[0]?a[0]-l[0]:a[1]!==l[1]?l[1]-a[1]:a[2]-l[2]});let s=[];for(let[a,l]of this._ranges.entries()){let[c,d,h]=l;s[0]===c&&s[1]===d?this._ranges.splice(a,1):s=l}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;let e=this._editor.getOption(61),t=this._editor.getModel();if(this._rangesVersionId!==t.getVersionId())return;let i=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();let n=new Set;for(let[o,s]of this._ranges.entries()){let[a,l,c]=s;if(l-a>0&&t.getLineContent(a)!==""){let d=(c-1)*e,h=c*e,u=this._editor.getBottomForLineNumber(a)-i,f=this._editor.getTopForLineNumber(l)-i,m=this._editor.getBottomForLineNumber(l)-i;if(n.has(a))this._ranges.splice(o,1);else if(d>=f-1&&d<m-2){n.add(a),this.stickyScrollWidget.pushCodeLine(new i4(a,c,this._editor,-1,m-h));break}else h>u&&h<m-1&&(n.add(a),this.stickyScrollWidget.pushCodeLine(new i4(a,c,this._editor,0,0)))}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};Yk.ID="store.contrib.stickyScrollController";Yk=jSe([WSe(1,_e)],Yk);var dre=(l$=window.trustedTypes)===null||l$===void 0?void 0:l$.createPolicy("stickyScrollViewLayer",{createHTML:r=>r}),i4=class{constructor(e,t,i,n,o){this._lineNumber=e,this._depth=t,this._editor=i,this._zIndex=n,this._relativePosition=o,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){let e=document.createElement("div"),t=this._editor._getViewModel(),i=t.coordinatesConverter.convertModelPositionToViewPosition(new H(this._lineNumber,1)).lineNumber,n=t.getViewLineRenderingData(i),o;try{o=Ho.filter(n.inlineDecorations,i,n.minColumn,n.maxColumn)}catch{o=[]}let s=new js(!0,!0,n.content,n.continuesWithWrappedLine,n.isBasicASCII,n.containsRTL,0,n.tokens,o,n.tabSize,n.startVisibleColumn,1,1,1,100,"none",!0,!0,null),a=Ya(400);Ju(s,a);let l;dre?l=dre.createHTML(a.build()):l=a.build();let c=document.createElement("span");c.style.backgroundColor="var(--vscode-editorStickyScroll-background)",c.style.overflow="hidden",c.style.whiteSpace="nowrap",c.style.display="inline-block",c.style.lineHeight=this._editor.getOption(61).toString()+"px",c.innerHTML=l;let d=document.createElement("span");d.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",d.style.backgroundColor="var(--vscode-editorStickyScroll-background)",d.style.color="var(--vscode-editorLineNumber-foreground)",d.style.display="inline-block",d.style.lineHeight=this._editor.getOption(61).toString()+"px";let h=document.createElement("span");return h.innerText=this._lineNumber.toString(),h.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",h.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",h.style.backgroundColor="var(--vscode-editorStickyScroll-background)",h.style.textAlign="right",h.style.float="left",h.style.lineHeight=this._editor.getOption(61).toString()+"px",d.appendChild(h),e.onclick=u=>{u.stopPropagation(),u.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},e.onmouseover=u=>{h.style.background="var(--vscode-editorStickyScrollHover-background)",c.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",d.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",e.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",h.style.cursor="pointer",c.style.cursor="pointer",e.style.cursor="pointer",d.style.cursor="pointer"},e.onmouseleave=u=>{h.style.background="var(--vscode-editorStickyScroll-background)",c.style.backgroundColor="var(--vscode-editorStickyScroll-background)",d.style.backgroundColor="var(--vscode-editorStickyScroll-background)",e.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(c),this._editor.applyFontInfo(h),e.appendChild(d),e.appendChild(c),e.style.zIndex=this._zIndex.toString(),e.style.backgroundColor="var(--vscode-editorStickyScroll-background)",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.width="100%",e.style.lineHeight=this._editor.getOption(61).toString()+"px",e.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(e.style.position="relative",e.style.top=this._relativePosition+"px",e.style.width="100%"),e}},c$=class{constructor(e){this._editor=e,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){let e=[];for(let t of this.arrayOfCodeLines)e.push(t.lineNumber);return e}pushCodeLine(e){this.arrayOfCodeLines.push(e)}updateRootNode(){let e=0;for(let t of this.arrayOfCodeLines)e+=t.effectiveLineHeight,this.rootDomNode.appendChild(t.getDomNode());this.rootDomNode.style.height=e.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,Yi(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}};Ze(Yk.ID,Yk)});var Cre=a0(Jk=>{ot();se();xt();k6();_s();A6();C6();to();Ct();Bc();Ha();oi();var nLe=Jk&&Jk.__decorate||function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Xk=Jk&&Jk.__param||function(r,e){return function(t,i){e(t,i,r)}},Qk=class extends ${constructor(e,t,i,n,o,s){super(),this._modelService=t,this._themeService=i,this._configurationService=n,this._editor=e,this._provider=s.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new pt(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];let a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(TM)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()}))}_cancelAll(){for(let e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!NM(e,this._themeService,this._configurationService)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}if(!Ste(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}let t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){let i=e.getVersionId(),n=wi(s=>Promise.resolve(OM(this._provider,e,t,s))),o=new _n(!1);return n.then(s=>{if(this._debounceInformation.update(e,o.elapsed()),!s||!s.tokens||e.isDisposed()||e.getVersionId()!==i)return;let{provider:a,tokens:l}=s,c=this._modelService.getSemanticTokensProviderStyling(a);e.tokenization.setPartialSemanticTokens(t,IM(l,c,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(n),()=>this._removeOutstandingRequest(n)),n}};Qk.ID="editor.contrib.viewportSemanticTokens";Qk=nLe([Xk(1,si),Xk(2,Tt),Xk(3,yt),Xk(4,Mo),Xk(5,_e)],Qk);Ze(Qk.ID,Qk)});var Ere={};fE(Ere,{conf:()=>_Le,language:()=>bLe});var _Le,bLe,Ire=ue(()=>{_Le={comments:{lineComment:"#",blockComment:["=begin","=end"]},brackets:[["(",")"],["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],indentationRules:{increaseIndentPattern:new RegExp(`^\\s*((begin|class|(private|protected)\\s+def|def|else|elsif|ensure|for|if|module|rescue|unless|until|when|while|case)|([^#]*\\sdo\\b)|([^#]*=\\s*(case|if|unless)))\\b([^#\\{;]|("|'|/).*\\4)*(#.*)?$`),decreaseIndentPattern:new RegExp("^\\s*([}\\]]([,)]?\\s*(#|$)|\\.[a-zA-Z_]\\w*\\b)|(end|rescue|ensure|else|elsif|when)\\b)")}},bLe={tokenPostfix:".ruby",keywords:["__LINE__","__ENCODING__","__FILE__","BEGIN","END","alias","and","begin","break","case","class","def","defined?","do","else","elsif","end","ensure","for","false","if","in","module","next","nil","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield"],keywordops:["::","..","...","?",":","=>"],builtins:["require","public","private","include","extend","attr_reader","protected","private_class_method","protected_class_method","new"],declarations:["module","class","def","case","do","begin","for","if","while","until","unless"],linedecls:["def","case","do","begin","for","if","while","until","unless"],operators:["^","&","|","<=>","==","===","!~","=~",">",">=","<","<=","<<",">>","+","-","*","/","%","**","~","+@","-@","[]","[]=","`","+=","-=","*=","**=","/=","^=","%=","<<=",">>=","&=","&&=","||=","|="],brackets:[{open:"(",close:")",token:"delimiter.parenthesis"},{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"}],symbols:/[=><!~?:&|+\-*\/\^%\.]+/,escape:/(?:[abefnrstv\\"'\n\r]|[0-7]{1,3}|x[0-9A-Fa-f]{1,2}|u[0-9A-Fa-f]{4})/,escapes:/\\(?:C\-(@escape|.)|c(@escape|.)|@escape)/,decpart:/\d(_?\d)*/,decimal:/0|@decpart/,delim:/[^a-zA-Z0-9\s\n\r]/,heredelim:/(?:\w+|'[^']*'|"[^"]*"|`[^`]*`)/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[AzZbBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})?/,tokenizer:{root:[[/^(\s*)([a-z_]\w*[!?=]?)/,["white",{cases:{"for|until|while":{token:"keyword.$2",next:"@dodecl.$2"},"@declarations":{token:"keyword.$2",next:"@root.$2"},end:{token:"keyword.$S2",next:"@pop"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}]],[/[a-z_]\w*[!?=]?/,{cases:{"if|unless|while|until":{token:"keyword.$0x",next:"@modifier.$0x"},for:{token:"keyword.$2",next:"@dodecl.$2"},"@linedecls":{token:"keyword.$0",next:"@root.$0"},end:{token:"keyword.$S2",next:"@pop"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],[/[A-Z][\w]*[!?=]?/,"constructor.identifier"],[/\$[\w]*/,"global.constant"],[/@[\w]*/,"namespace.instance.identifier"],[/@@@[\w]*/,"namespace.class.identifier"],[/<<[-~](@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],[/[ \t\r\n]+<<(@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],[/^<<(@heredelim).*/,{token:"string.heredoc.delimiter",next:"@heredoc.$1"}],{include:"@whitespace"},[/"/,{token:"string.d.delim",next:'@dstring.d."'}],[/'/,{token:"string.sq.delim",next:"@sstring.sq"}],[/%([rsqxwW]|Q?)/,{token:"@rematch",next:"pstring"}],[/`/,{token:"string.x.delim",next:"@dstring.x.`"}],[/:(\w|[$@])\w*[!?=]?/,"string.s"],[/:"/,{token:"string.s.delim",next:'@dstring.s."'}],[/:'/,{token:"string.s.delim",next:"@sstring.s"}],[/\/(?=(\\\/|[^\/\n])+\/)/,{token:"regexp.delim",next:"@regexp"}],[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@keywordops":"keyword","@operators":"operator","@default":""}}],[/[;,]/,"delimiter"],[/0[xX][0-9a-fA-F](_?[0-9a-fA-F])*/,"number.hex"],[/0[_oO][0-7](_?[0-7])*/,"number.octal"],[/0[bB][01](_?[01])*/,"number.binary"],[/0[dD]@decpart/,"number"],[/@decimal((\.@decpart)?([eE][\-+]?@decpart)?)/,{cases:{$1:"number.float","@default":"number"}}]],dodecl:[[/^/,{token:"",switchTo:"@root.$S2"}],[/[a-z_]\w*[!?=]?/,{cases:{end:{token:"keyword.$S2",next:"@pop"},do:{token:"keyword",switchTo:"@root.$S2"},"@linedecls":{token:"@rematch",switchTo:"@root.$S2"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],{include:"@root"}],modifier:[[/^/,"","@pop"],[/[a-z_]\w*[!?=]?/,{cases:{end:{token:"keyword.$S2",next:"@pop"},"then|else|elsif|do":{token:"keyword",switchTo:"@root.$S2"},"@linedecls":{token:"@rematch",switchTo:"@root.$S2"},"@keywords":"keyword","@builtins":"predefined","@default":"identifier"}}],{include:"@root"}],sstring:[[/[^\\']+/,"string.$S2"],[/\\\\|\\'|\\$/,"string.$S2.escape"],[/\\./,"string.$S2.invalid"],[/'/,{token:"string.$S2.delim",next:"@pop"}]],dstring:[[/[^\\`"#]+/,"string.$S2"],[/#/,"string.$S2.escape","@interpolated"],[/\\$/,"string.$S2.escape"],[/@escapes/,"string.$S2.escape"],[/\\./,"string.$S2.escape.invalid"],[/[`"]/,{cases:{"$#==$S3":{token:"string.$S2.delim",next:"@pop"},"@default":"string.$S2"}}]],heredoc:[[/^(\s*)(@heredelim)$/,{cases:{"$2==$S2":["string.heredoc",{token:"string.heredoc.delimiter",next:"@pop"}],"@default":["string.heredoc","string.heredoc"]}}],[/.*/,"string.heredoc"]],interpolated:[[/\$\w*/,"global.constant","@pop"],[/@\w*/,"namespace.class.identifier","@pop"],[/@@@\w*/,"namespace.instance.identifier","@pop"],[/[{]/,{token:"string.escape.curly",switchTo:"@interpolated_compound"}],["","","@pop"]],interpolated_compound:[[/[}]/,{token:"string.escape.curly",next:"@pop"}],{include:"@root"}],pregexp:[{include:"@whitespace"},[/[^\(\{\[\\]/,{cases:{"$#==$S3":{token:"regexp.delim",next:"@pop"},"$#==$S2":{token:"regexp.delim",next:"@push"},"~[)}\\]]":"@brackets.regexp.escape.control","~@regexpctl":"regexp.escape.control","@default":"regexp"}}],{include:"@regexcontrol"}],regexp:[{include:"@regexcontrol"},[/[^\\\/]/,"regexp"],["/[ixmp]*",{token:"regexp.delim"},"@pop"]],regexcontrol:[[/(\{)(\d+(?:,\d*)?)(\})/,["@brackets.regexp.escape.control","regexp.escape.control","@brackets.regexp.escape.control"]],[/(\[)(\^?)/,["@brackets.regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?[:=!])/,["@brackets.regexp.escape.control","regexp.escape.control"]],[/\(\?#/,{token:"regexp.escape.control",next:"@regexpcomment"}],[/[()]/,"@brackets.regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/\\$/,"regexp.escape"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/#/,"regexp.escape","@interpolated"]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/\\$/,"regexp.escape"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,"@brackets.regexp.escape.control","@pop"]],regexpcomment:[[/[^)]+/,"comment"],[/\)/,{token:"regexp.escape.control",next:"@pop"}]],pstring:[[/%([qws])\(/,{token:"string.$1.delim",switchTo:"@qstring.$1.(.)"}],[/%([qws])\[/,{token:"string.$1.delim",switchTo:"@qstring.$1.[.]"}],[/%([qws])\{/,{token:"string.$1.delim",switchTo:"@qstring.$1.{.}"}],[/%([qws])</,{token:"string.$1.delim",switchTo:"@qstring.$1.<.>"}],[/%([qws])(@delim)/,{token:"string.$1.delim",switchTo:"@qstring.$1.$2.$2"}],[/%r\(/,{token:"regexp.delim",switchTo:"@pregexp.(.)"}],[/%r\[/,{token:"regexp.delim",switchTo:"@pregexp.[.]"}],[/%r\{/,{token:"regexp.delim",switchTo:"@pregexp.{.}"}],[/%r</,{token:"regexp.delim",switchTo:"@pregexp.<.>"}],[/%r(@delim)/,{token:"regexp.delim",switchTo:"@pregexp.$1.$1"}],[/%(x|W|Q?)\(/,{token:"string.$1.delim",switchTo:"@qqstring.$1.(.)"}],[/%(x|W|Q?)\[/,{token:"string.$1.delim",switchTo:"@qqstring.$1.[.]"}],[/%(x|W|Q?)\{/,{token:"string.$1.delim",switchTo:"@qqstring.$1.{.}"}],[/%(x|W|Q?)</,{token:"string.$1.delim",switchTo:"@qqstring.$1.<.>"}],[/%(x|W|Q?)(@delim)/,{token:"string.$1.delim",switchTo:"@qqstring.$1.$2.$2"}],[/%([rqwsxW]|Q?)./,{token:"invalid",next:"@pop"}],[/./,{token:"invalid",next:"@pop"}]],qstring:[[/\\$/,"string.$S2.escape"],[/\\./,"string.$S2.escape"],[/./,{cases:{"$#==$S4":{token:"string.$S2.delim",next:"@pop"},"$#==$S3":{token:"string.$S2.delim",next:"@push"},"@default":"string.$S2"}}]],qqstring:[[/#/,"string.$S2.escape","@interpolated"],{include:"@qstring"}],whitespace:[[/[ \t\r\n]+/,""],[/^\s*=begin\b/,"comment","@comment"],[/#.*$/,"comment"]],comment:[[/[^=]+/,"comment"],[/^\s*=begin\b/,"comment.invalid"],[/^\s*=end\b.*/,"comment","@pop"],[/[=]/,"comment"]]}}});var Ore=a0((g4,aK)=>{"use strict";var sK=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(t){t=t||{};var t=typeof t<"u"?t:{},i,n;t.ready=new Promise(function(b,C){i=b,n=C}),Object.getOwnPropertyDescriptor(t.ready,"_main")||(Object.defineProperty(t.ready,"_main",{configurable:!0,get:function(){S("You are getting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_main",{configurable:!0,set:function(){S("You are setting _main on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_eval")||(Object.defineProperty(t.ready,"_artichoke_eval",{configurable:!0,get:function(){S("You are getting _artichoke_eval on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_eval",{configurable:!0,set:function(){S("You are setting _artichoke_eval on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_free")||(Object.defineProperty(t.ready,"_artichoke_string_free",{configurable:!0,get:function(){S("You are getting _artichoke_string_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_free",{configurable:!0,set:function(){S("You are setting _artichoke_string_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_getch")||(Object.defineProperty(t.ready,"_artichoke_string_getch",{configurable:!0,get:function(){S("You are getting _artichoke_string_getch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_getch",{configurable:!0,set:function(){S("You are setting _artichoke_string_getch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_getlen")||(Object.defineProperty(t.ready,"_artichoke_string_getlen",{configurable:!0,get:function(){S("You are getting _artichoke_string_getlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_getlen",{configurable:!0,set:function(){S("You are setting _artichoke_string_getlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_new")||(Object.defineProperty(t.ready,"_artichoke_string_new",{configurable:!0,get:function(){S("You are getting _artichoke_string_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_new",{configurable:!0,set:function(){S("You are setting _artichoke_string_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_string_putch")||(Object.defineProperty(t.ready,"_artichoke_string_putch",{configurable:!0,get:function(){S("You are getting _artichoke_string_putch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_string_putch",{configurable:!0,set:function(){S("You are setting _artichoke_string_putch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_artichoke_web_repl_init")||(Object.defineProperty(t.ready,"_artichoke_web_repl_init",{configurable:!0,get:function(){S("You are getting _artichoke_web_repl_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_artichoke_web_repl_init",{configurable:!0,set:function(){S("You are setting _artichoke_web_repl_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_artichoke_free")||(Object.defineProperty(t.ready,"_mrb_ary_artichoke_free",{configurable:!0,get:function(){S("You are getting _mrb_ary_artichoke_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_artichoke_free",{configurable:!0,set:function(){S("You are setting _mrb_ary_artichoke_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_concat")||(Object.defineProperty(t.ready,"_mrb_ary_concat",{configurable:!0,get:function(){S("You are getting _mrb_ary_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_concat",{configurable:!0,set:function(){S("You are setting _mrb_ary_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_new")||(Object.defineProperty(t.ready,"_mrb_ary_new",{configurable:!0,get:function(){S("You are getting _mrb_ary_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_new",{configurable:!0,set:function(){S("You are setting _mrb_ary_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_new_capa")||(Object.defineProperty(t.ready,"_mrb_ary_new_capa",{configurable:!0,get:function(){S("You are getting _mrb_ary_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_new_capa",{configurable:!0,set:function(){S("You are setting _mrb_ary_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_new_from_values")||(Object.defineProperty(t.ready,"_mrb_ary_new_from_values",{configurable:!0,get:function(){S("You are getting _mrb_ary_new_from_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_new_from_values",{configurable:!0,set:function(){S("You are setting _mrb_ary_new_from_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_pop")||(Object.defineProperty(t.ready,"_mrb_ary_pop",{configurable:!0,get:function(){S("You are getting _mrb_ary_pop on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_pop",{configurable:!0,set:function(){S("You are setting _mrb_ary_pop on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_push")||(Object.defineProperty(t.ready,"_mrb_ary_push",{configurable:!0,get:function(){S("You are getting _mrb_ary_push on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_push",{configurable:!0,set:function(){S("You are setting _mrb_ary_push on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_ref")||(Object.defineProperty(t.ready,"_mrb_ary_ref",{configurable:!0,get:function(){S("You are getting _mrb_ary_ref on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_ref",{configurable:!0,set:function(){S("You are setting _mrb_ary_ref on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_set")||(Object.defineProperty(t.ready,"_mrb_ary_set",{configurable:!0,get:function(){S("You are getting _mrb_ary_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_set",{configurable:!0,set:function(){S("You are setting _mrb_ary_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_shift")||(Object.defineProperty(t.ready,"_mrb_ary_shift",{configurable:!0,get:function(){S("You are getting _mrb_ary_shift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_shift",{configurable:!0,set:function(){S("You are setting _mrb_ary_shift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_splat")||(Object.defineProperty(t.ready,"_mrb_ary_splat",{configurable:!0,get:function(){S("You are getting _mrb_ary_splat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_splat",{configurable:!0,set:function(){S("You are setting _mrb_ary_splat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_unshift")||(Object.defineProperty(t.ready,"_mrb_ary_unshift",{configurable:!0,get:function(){S("You are getting _mrb_ary_unshift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_unshift",{configurable:!0,set:function(){S("You are setting _mrb_ary_unshift on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_assoc_new")||(Object.defineProperty(t.ready,"_mrb_assoc_new",{configurable:!0,get:function(){S("You are getting _mrb_assoc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_assoc_new",{configurable:!0,set:function(){S("You are setting _mrb_assoc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_intern")||(Object.defineProperty(t.ready,"_mrb_check_intern",{configurable:!0,get:function(){S("You are getting _mrb_check_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_intern",{configurable:!0,set:function(){S("You are setting _mrb_check_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_intern_cstr")||(Object.defineProperty(t.ready,"_mrb_check_intern_cstr",{configurable:!0,get:function(){S("You are getting _mrb_check_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_intern_cstr",{configurable:!0,set:function(){S("You are setting _mrb_check_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_intern_str")||(Object.defineProperty(t.ready,"_mrb_check_intern_str",{configurable:!0,get:function(){S("You are getting _mrb_check_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_intern_str",{configurable:!0,set:function(){S("You are setting _mrb_check_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_free_symtbl")||(Object.defineProperty(t.ready,"_mrb_free_symtbl",{configurable:!0,get:function(){S("You are getting _mrb_free_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_free_symtbl",{configurable:!0,set:function(){S("You are setting _mrb_free_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_free_str")||(Object.defineProperty(t.ready,"_mrb_gc_free_str",{configurable:!0,get:function(){S("You are getting _mrb_gc_free_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_free_str",{configurable:!0,set:function(){S("You are setting _mrb_gc_free_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_init_symtbl")||(Object.defineProperty(t.ready,"_mrb_init_symtbl",{configurable:!0,get:function(){S("You are getting _mrb_init_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_init_symtbl",{configurable:!0,set:function(){S("You are setting _mrb_init_symtbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern")||(Object.defineProperty(t.ready,"_mrb_intern",{configurable:!0,get:function(){S("You are getting _mrb_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern",{configurable:!0,set:function(){S("You are setting _mrb_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_check")||(Object.defineProperty(t.ready,"_mrb_intern_check",{configurable:!0,get:function(){S("You are getting _mrb_intern_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_check",{configurable:!0,set:function(){S("You are setting _mrb_intern_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_check_cstr")||(Object.defineProperty(t.ready,"_mrb_intern_check_cstr",{configurable:!0,get:function(){S("You are getting _mrb_intern_check_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_check_cstr",{configurable:!0,set:function(){S("You are setting _mrb_intern_check_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_check_str")||(Object.defineProperty(t.ready,"_mrb_intern_check_str",{configurable:!0,get:function(){S("You are getting _mrb_intern_check_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_check_str",{configurable:!0,set:function(){S("You are setting _mrb_intern_check_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_cstr")||(Object.defineProperty(t.ready,"_mrb_intern_cstr",{configurable:!0,get:function(){S("You are getting _mrb_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_cstr",{configurable:!0,set:function(){S("You are setting _mrb_intern_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_static")||(Object.defineProperty(t.ready,"_mrb_intern_static",{configurable:!0,get:function(){S("You are getting _mrb_intern_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_static",{configurable:!0,set:function(){S("You are setting _mrb_intern_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_intern_str")||(Object.defineProperty(t.ready,"_mrb_intern_str",{configurable:!0,get:function(){S("You are getting _mrb_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_intern_str",{configurable:!0,set:function(){S("You are setting _mrb_intern_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ptr_to_str")||(Object.defineProperty(t.ready,"_mrb_ptr_to_str",{configurable:!0,get:function(){S("You are getting _mrb_ptr_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ptr_to_str",{configurable:!0,set:function(){S("You are setting _mrb_ptr_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_aref")||(Object.defineProperty(t.ready,"_mrb_str_aref",{configurable:!0,get:function(){S("You are getting _mrb_str_aref on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_aref",{configurable:!0,set:function(){S("You are setting _mrb_str_aref on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cat")||(Object.defineProperty(t.ready,"_mrb_str_cat",{configurable:!0,get:function(){S("You are getting _mrb_str_cat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cat",{configurable:!0,set:function(){S("You are setting _mrb_str_cat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cmp")||(Object.defineProperty(t.ready,"_mrb_str_cmp",{configurable:!0,get:function(){S("You are getting _mrb_str_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cmp",{configurable:!0,set:function(){S("You are setting _mrb_str_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_dup")||(Object.defineProperty(t.ready,"_mrb_str_dup",{configurable:!0,get:function(){S("You are getting _mrb_str_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_dup",{configurable:!0,set:function(){S("You are setting _mrb_str_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_equal")||(Object.defineProperty(t.ready,"_mrb_str_equal",{configurable:!0,get:function(){S("You are getting _mrb_str_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_equal",{configurable:!0,set:function(){S("You are setting _mrb_str_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_hash")||(Object.defineProperty(t.ready,"_mrb_str_hash",{configurable:!0,get:function(){S("You are getting _mrb_str_hash on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_hash",{configurable:!0,set:function(){S("You are setting _mrb_str_hash on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_index")||(Object.defineProperty(t.ready,"_mrb_str_index",{configurable:!0,get:function(){S("You are getting _mrb_str_index on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_index",{configurable:!0,set:function(){S("You are setting _mrb_str_index on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new")||(Object.defineProperty(t.ready,"_mrb_str_new",{configurable:!0,get:function(){S("You are getting _mrb_str_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new",{configurable:!0,set:function(){S("You are setting _mrb_str_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new_capa")||(Object.defineProperty(t.ready,"_mrb_str_new_capa",{configurable:!0,get:function(){S("You are getting _mrb_str_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new_capa",{configurable:!0,set:function(){S("You are setting _mrb_str_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new_cstr")||(Object.defineProperty(t.ready,"_mrb_str_new_cstr",{configurable:!0,get:function(){S("You are getting _mrb_str_new_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new_cstr",{configurable:!0,set:function(){S("You are setting _mrb_str_new_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_new_static")||(Object.defineProperty(t.ready,"_mrb_str_new_static",{configurable:!0,get:function(){S("You are getting _mrb_str_new_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_new_static",{configurable:!0,set:function(){S("You are setting _mrb_str_new_static on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_plus")||(Object.defineProperty(t.ready,"_mrb_str_plus",{configurable:!0,get:function(){S("You are getting _mrb_str_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_plus",{configurable:!0,set:function(){S("You are setting _mrb_str_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_resize")||(Object.defineProperty(t.ready,"_mrb_str_resize",{configurable:!0,get:function(){S("You are getting _mrb_str_resize on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_resize",{configurable:!0,set:function(){S("You are setting _mrb_str_resize on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_substr")||(Object.defineProperty(t.ready,"_mrb_str_substr",{configurable:!0,get:function(){S("You are getting _mrb_str_substr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_substr",{configurable:!0,set:function(){S("You are setting _mrb_str_substr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_to_dbl")||(Object.defineProperty(t.ready,"_mrb_str_to_dbl",{configurable:!0,get:function(){S("You are getting _mrb_str_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_to_dbl",{configurable:!0,set:function(){S("You are setting _mrb_str_to_dbl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_to_integer")||(Object.defineProperty(t.ready,"_mrb_str_to_integer",{configurable:!0,get:function(){S("You are getting _mrb_str_to_integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_to_integer",{configurable:!0,set:function(){S("You are setting _mrb_str_to_integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_cstr")||(Object.defineProperty(t.ready,"_mrb_string_cstr",{configurable:!0,get:function(){S("You are getting _mrb_string_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_cstr",{configurable:!0,set:function(){S("You are setting _mrb_string_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_string_value_cstr")||(Object.defineProperty(t.ready,"_mrb_string_value_cstr",{configurable:!0,get:function(){S("You are getting _mrb_string_value_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_string_value_cstr",{configurable:!0,set:function(){S("You are setting _mrb_string_value_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_dump")||(Object.defineProperty(t.ready,"_mrb_sym_dump",{configurable:!0,get:function(){S("You are getting _mrb_sym_dump on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_dump",{configurable:!0,set:function(){S("You are setting _mrb_sym_dump on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_name")||(Object.defineProperty(t.ready,"_mrb_sym_name",{configurable:!0,get:function(){S("You are getting _mrb_sym_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_name",{configurable:!0,set:function(){S("You are setting _mrb_sym_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_name_len")||(Object.defineProperty(t.ready,"_mrb_sym_name_len",{configurable:!0,get:function(){S("You are getting _mrb_sym_name_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_name_len",{configurable:!0,set:function(){S("You are setting _mrb_sym_name_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sym_str")||(Object.defineProperty(t.ready,"_mrb_sym_str",{configurable:!0,get:function(){S("You are getting _mrb_sym_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sym_str",{configurable:!0,set:function(){S("You are setting _mrb_sym_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_protect")||(Object.defineProperty(t.ready,"_mrb_gc_protect",{configurable:!0,get:function(){S("You are getting _mrb_gc_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_protect",{configurable:!0,set:function(){S("You are setting _mrb_gc_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined_under")||(Object.defineProperty(t.ready,"_mrb_class_defined_under",{configurable:!0,get:function(){S("You are getting _mrb_class_defined_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined_under",{configurable:!0,set:function(){S("You are setting _mrb_class_defined_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get_under")||(Object.defineProperty(t.ready,"_mrb_class_get_under",{configurable:!0,get:function(){S("You are getting _mrb_class_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get_under",{configurable:!0,set:function(){S("You are setting _mrb_class_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined")||(Object.defineProperty(t.ready,"_mrb_class_defined",{configurable:!0,get:function(){S("You are getting _mrb_class_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined",{configurable:!0,set:function(){S("You are setting _mrb_class_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get")||(Object.defineProperty(t.ready,"_mrb_class_get",{configurable:!0,get:function(){S("You are getting _mrb_class_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get",{configurable:!0,set:function(){S("You are setting _mrb_class_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_alloc_rstring")||(Object.defineProperty(t.ready,"_mrb_sys_alloc_rstring",{configurable:!0,get:function(){S("You are getting _mrb_sys_alloc_rstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_alloc_rstring",{configurable:!0,set:function(){S("You are setting _mrb_sys_alloc_rstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_under")||(Object.defineProperty(t.ready,"_mrb_define_class_under",{configurable:!0,get:function(){S("You are getting _mrb_define_class_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_under",{configurable:!0,set:function(){S("You are setting _mrb_define_class_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_obj_frozen")||(Object.defineProperty(t.ready,"_mrb_sys_obj_frozen",{configurable:!0,get:function(){S("You are getting _mrb_sys_obj_frozen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_obj_frozen",{configurable:!0,set:function(){S("You are setting _mrb_sys_obj_frozen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_arena_save")||(Object.defineProperty(t.ready,"_mrb_sys_gc_arena_save",{configurable:!0,get:function(){S("You are getting _mrb_sys_gc_arena_save on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_arena_save",{configurable:!0,set:function(){S("You are setting _mrb_sys_gc_arena_save on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_of_value")||(Object.defineProperty(t.ready,"_mrb_sys_class_of_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_class_of_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_of_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_class_of_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class")||(Object.defineProperty(t.ready,"_mrb_define_class",{configurable:!0,get:function(){S("You are getting _mrb_define_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class",{configurable:!0,set:function(){S("You are setting _mrb_define_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_object_alloc")||(Object.defineProperty(t.ready,"_mrb_data_object_alloc",{configurable:!0,get:function(){S("You are getting _mrb_data_object_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_object_alloc",{configurable:!0,set:function(){S("You are setting _mrb_data_object_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_obj_value")||(Object.defineProperty(t.ready,"_mrb_sys_obj_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_obj_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_obj_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_obj_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_under")||(Object.defineProperty(t.ready,"_mrb_define_module_under",{configurable:!0,get:function(){S("You are getting _mrb_define_module_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_under",{configurable:!0,set:function(){S("You are setting _mrb_define_module_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_check_get_ptr")||(Object.defineProperty(t.ready,"_mrb_data_check_get_ptr",{configurable:!0,get:function(){S("You are getting _mrb_data_check_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_check_get_ptr",{configurable:!0,set:function(){S("You are setting _mrb_data_check_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_alloc_rarray")||(Object.defineProperty(t.ready,"_mrb_sys_alloc_rarray",{configurable:!0,get:function(){S("You are getting _mrb_sys_alloc_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_alloc_rarray",{configurable:!0,set:function(){S("You are setting _mrb_sys_alloc_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_method")||(Object.defineProperty(t.ready,"_mrb_define_class_method",{configurable:!0,get:function(){S("You are getting _mrb_define_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_method",{configurable:!0,set:function(){S("You are setting _mrb_define_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_singleton_method")||(Object.defineProperty(t.ready,"_mrb_define_singleton_method",{configurable:!0,get:function(){S("You are getting _mrb_define_singleton_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_singleton_method",{configurable:!0,set:function(){S("You are setting _mrb_define_singleton_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_method")||(Object.defineProperty(t.ready,"_mrb_define_method",{configurable:!0,get:function(){S("You are getting _mrb_define_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_method",{configurable:!0,set:function(){S("You are setting _mrb_define_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_function")||(Object.defineProperty(t.ready,"_mrb_define_module_function",{configurable:!0,get:function(){S("You are getting _mrb_define_module_function on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_function",{configurable:!0,set:function(){S("You are setting _mrb_define_module_function on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module")||(Object.defineProperty(t.ready,"_mrb_define_module",{configurable:!0,get:function(){S("You are getting _mrb_define_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module",{configurable:!0,set:function(){S("You are setting _mrb_define_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_arena_restore")||(Object.defineProperty(t.ready,"_mrb_sys_gc_arena_restore",{configurable:!0,get:function(){S("You are getting _mrb_sys_gc_arena_restore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_arena_restore",{configurable:!0,set:function(){S("You are setting _mrb_sys_gc_arena_restore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_dead")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_dead",{configurable:!0,get:function(){S("You are getting _mrb_sys_value_is_dead on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_dead",{configurable:!0,set:function(){S("You are setting _mrb_sys_value_is_dead on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_close")||(Object.defineProperty(t.ready,"_mrb_close",{configurable:!0,get:function(){S("You are getting _mrb_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_close",{configurable:!0,set:function(){S("You are setting _mrb_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_value")||(Object.defineProperty(t.ready,"_mrb_sys_class_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_class_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_class_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_new")||(Object.defineProperty(t.ready,"_mrb_obj_new",{configurable:!0,get:function(){S("You are getting _mrb_obj_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_new",{configurable:!0,set:function(){S("You are setting _mrb_obj_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_nil")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_nil",{configurable:!0,get:function(){S("You are getting _mrb_sys_value_is_nil on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_nil",{configurable:!0,set:function(){S("You are setting _mrb_sys_value_is_nil on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_global_const")||(Object.defineProperty(t.ready,"_mrb_define_global_const",{configurable:!0,get:function(){S("You are getting _mrb_define_global_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_global_const",{configurable:!0,set:function(){S("You are setting _mrb_define_global_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_const")||(Object.defineProperty(t.ready,"_mrb_define_const",{configurable:!0,get:function(){S("You are getting _mrb_define_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_const",{configurable:!0,set:function(){S("You are setting _mrb_define_const on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_false_value")||(Object.defineProperty(t.ready,"_mrb_sys_false_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_false_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_false_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_false_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_true_value")||(Object.defineProperty(t.ready,"_mrb_sys_true_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_true_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_true_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_true_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_nil_value")||(Object.defineProperty(t.ready,"_mrb_sys_nil_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_nil_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_nil_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_nil_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_true")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_true",{configurable:!0,get:function(){S("You are getting _mrb_sys_value_is_true on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_true",{configurable:!0,set:function(){S("You are setting _mrb_sys_value_is_true on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_value_is_false")||(Object.defineProperty(t.ready,"_mrb_sys_value_is_false",{configurable:!0,get:function(){S("You are getting _mrb_sys_value_is_false on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_value_is_false",{configurable:!0,set:function(){S("You are setting _mrb_sys_value_is_false on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_fixnum_value")||(Object.defineProperty(t.ready,"_mrb_sys_fixnum_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_fixnum_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_fixnum_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_fixnum_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_fixnum_to_cint")||(Object.defineProperty(t.ready,"_mrb_sys_fixnum_to_cint",{configurable:!0,get:function(){S("You are getting _mrb_sys_fixnum_to_cint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_fixnum_to_cint",{configurable:!0,set:function(){S("You are setting _mrb_sys_fixnum_to_cint on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_float_value")||(Object.defineProperty(t.ready,"_mrb_sys_float_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_float_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_float_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_float_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_float_to_cdouble")||(Object.defineProperty(t.ready,"_mrb_sys_float_to_cdouble",{configurable:!0,get:function(){S("You are getting _mrb_sys_float_to_cdouble on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_float_to_cdouble",{configurable:!0,set:function(){S("You are setting _mrb_sys_float_to_cdouble on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_new_capa")||(Object.defineProperty(t.ready,"_mrb_hash_new_capa",{configurable:!0,get:function(){S("You are getting _mrb_hash_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_new_capa",{configurable:!0,set:function(){S("You are setting _mrb_hash_new_capa on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_set")||(Object.defineProperty(t.ready,"_mrb_hash_set",{configurable:!0,get:function(){S("You are getting _mrb_hash_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_set",{configurable:!0,set:function(){S("You are setting _mrb_hash_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_keys")||(Object.defineProperty(t.ready,"_mrb_hash_keys",{configurable:!0,get:function(){S("You are getting _mrb_hash_keys on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_keys",{configurable:!0,set:function(){S("You are setting _mrb_hash_keys on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_get")||(Object.defineProperty(t.ready,"_mrb_hash_get",{configurable:!0,get:function(){S("You are getting _mrb_hash_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_get",{configurable:!0,set:function(){S("You are setting _mrb_hash_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_live_objects")||(Object.defineProperty(t.ready,"_mrb_sys_gc_live_objects",{configurable:!0,get:function(){S("You are getting _mrb_sys_gc_live_objects on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_live_objects",{configurable:!0,set:function(){S("You are setting _mrb_sys_gc_live_objects on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_safe_gc_mark")||(Object.defineProperty(t.ready,"_mrb_sys_safe_gc_mark",{configurable:!0,get:function(){S("You are getting _mrb_sys_safe_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_safe_gc_mark",{configurable:!0,set:function(){S("You are setting _mrb_sys_safe_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_incremental_gc")||(Object.defineProperty(t.ready,"_mrb_incremental_gc",{configurable:!0,get:function(){S("You are getting _mrb_incremental_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_incremental_gc",{configurable:!0,set:function(){S("You are setting _mrb_incremental_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_full_gc")||(Object.defineProperty(t.ready,"_mrb_full_gc",{configurable:!0,get:function(){S("You are getting _mrb_full_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_full_gc",{configurable:!0,set:function(){S("You are setting _mrb_full_gc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_enable")||(Object.defineProperty(t.ready,"_mrb_sys_gc_enable",{configurable:!0,get:function(){S("You are getting _mrb_sys_gc_enable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_enable",{configurable:!0,set:function(){S("You are setting _mrb_sys_gc_enable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_gc_disable")||(Object.defineProperty(t.ready,"_mrb_sys_gc_disable",{configurable:!0,get:function(){S("You are getting _mrb_sys_gc_disable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_gc_disable",{configurable:!0,set:function(){S("You are setting _mrb_sys_gc_disable on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gv_set")||(Object.defineProperty(t.ready,"_mrb_gv_set",{configurable:!0,get:function(){S("You are getting _mrb_gv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gv_set",{configurable:!0,set:function(){S("You are setting _mrb_gv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_filename")||(Object.defineProperty(t.ready,"_mrbc_filename",{configurable:!0,get:function(){S("You are getting _mrbc_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_filename",{configurable:!0,set:function(){S("You are setting _mrbc_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_top_self")||(Object.defineProperty(t.ready,"_mrb_top_self",{configurable:!0,get:function(){S("You are getting _mrb_top_self on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_top_self",{configurable:!0,set:function(){S("You are setting _mrb_top_self on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_module_value")||(Object.defineProperty(t.ready,"_mrb_sys_module_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_module_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_module_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_module_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_basic_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_basic_ptr",{configurable:!0,get:function(){S("You are getting _mrb_sys_basic_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_basic_ptr",{configurable:!0,set:function(){S("You are setting _mrb_sys_basic_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_write_barrier")||(Object.defineProperty(t.ready,"_mrb_write_barrier",{configurable:!0,get:function(){S("You are getting _mrb_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_write_barrier",{configurable:!0,set:function(){S("You are setting _mrb_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_args")||(Object.defineProperty(t.ready,"_mrb_get_args",{configurable:!0,get:function(){S("You are getting _mrb_get_args on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_args",{configurable:!0,set:function(){S("You are setting _mrb_get_args on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_repack_into_rarray")||(Object.defineProperty(t.ready,"_mrb_sys_repack_into_rarray",{configurable:!0,get:function(){S("You are getting _mrb_sys_repack_into_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_repack_into_rarray",{configurable:!0,set:function(){S("You are setting _mrb_sys_repack_into_rarray on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_repack_into_rstring")||(Object.defineProperty(t.ready,"_mrb_sys_repack_into_rstring",{configurable:!0,get:function(){S("You are getting _mrb_sys_repack_into_rstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_repack_into_rstring",{configurable:!0,set:function(){S("You are setting _mrb_sys_repack_into_rstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_data_init")||(Object.defineProperty(t.ready,"_mrb_sys_data_init",{configurable:!0,get:function(){S("You are getting _mrb_sys_data_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_data_init",{configurable:!0,set:function(){S("You are setting _mrb_sys_data_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_set_instance_tt")||(Object.defineProperty(t.ready,"_mrb_sys_set_instance_tt",{configurable:!0,get:function(){S("You are getting _mrb_sys_set_instance_tt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_set_instance_tt",{configurable:!0,set:function(){S("You are setting _mrb_sys_set_instance_tt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_context_new")||(Object.defineProperty(t.ready,"_mrbc_context_new",{configurable:!0,get:function(){S("You are getting _mrbc_context_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_context_new",{configurable:!0,set:function(){S("You are setting _mrbc_context_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_context_free")||(Object.defineProperty(t.ready,"_mrbc_context_free",{configurable:!0,get:function(){S("You are getting _mrbc_context_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_context_free",{configurable:!0,set:function(){S("You are setting _mrbc_context_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_new_symbol")||(Object.defineProperty(t.ready,"_mrb_sys_new_symbol",{configurable:!0,get:function(){S("You are getting _mrb_sys_new_symbol on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_new_symbol",{configurable:!0,set:function(){S("You are setting _mrb_sys_new_symbol on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_defined_at")||(Object.defineProperty(t.ready,"_mrb_const_defined_at",{configurable:!0,get:function(){S("You are getting _mrb_const_defined_at on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_defined_at",{configurable:!0,set:function(){S("You are setting _mrb_const_defined_at on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get_under")||(Object.defineProperty(t.ready,"_mrb_module_get_under",{configurable:!0,get:function(){S("You are getting _mrb_module_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get_under",{configurable:!0,set:function(){S("You are setting _mrb_module_get_under on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get")||(Object.defineProperty(t.ready,"_mrb_module_get",{configurable:!0,get:function(){S("You are getting _mrb_module_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get",{configurable:!0,set:function(){S("You are setting _mrb_module_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_class_ptr",{configurable:!0,get:function(){S("You are getting _mrb_sys_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_ptr",{configurable:!0,set:function(){S("You are setting _mrb_sys_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_default_allocf")||(Object.defineProperty(t.ready,"_mrb_default_allocf",{configurable:!0,get:function(){S("You are getting _mrb_default_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_default_allocf",{configurable:!0,set:function(){S("You are setting _mrb_default_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_open_allocf")||(Object.defineProperty(t.ready,"_mrb_open_allocf",{configurable:!0,get:function(){S("You are getting _mrb_open_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_open_allocf",{configurable:!0,set:function(){S("You are setting _mrb_open_allocf on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_cptr_value")||(Object.defineProperty(t.ready,"_mrb_sys_cptr_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_cptr_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_cptr_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_cptr_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_protect")||(Object.defineProperty(t.ready,"_mrb_protect",{configurable:!0,get:function(){S("You are getting _mrb_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_protect",{configurable:!0,set:function(){S("You are setting _mrb_protect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_cptr_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_cptr_ptr",{configurable:!0,get:function(){S("You are getting _mrb_sys_cptr_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_cptr_ptr",{configurable:!0,set:function(){S("You are setting _mrb_sys_cptr_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall_with_block")||(Object.defineProperty(t.ready,"_mrb_funcall_with_block",{configurable:!0,get:function(){S("You are getting _mrb_funcall_with_block on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall_with_block",{configurable:!0,set:function(){S("You are setting _mrb_funcall_with_block on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall_argv")||(Object.defineProperty(t.ready,"_mrb_funcall_argv",{configurable:!0,get:function(){S("You are getting _mrb_funcall_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall_argv",{configurable:!0,set:function(){S("You are setting _mrb_funcall_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_nstring_cxt")||(Object.defineProperty(t.ready,"_mrb_load_nstring_cxt",{configurable:!0,get:function(){S("You are getting _mrb_load_nstring_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_nstring_cxt",{configurable:!0,set:function(){S("You are setting _mrb_load_nstring_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_yield")||(Object.defineProperty(t.ready,"_mrb_yield",{configurable:!0,get:function(){S("You are getting _mrb_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_yield",{configurable:!0,set:function(){S("You are setting _mrb_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_range_beg_len")||(Object.defineProperty(t.ready,"_mrb_range_beg_len",{configurable:!0,get:function(){S("You are getting _mrb_range_beg_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_range_beg_len",{configurable:!0,set:function(){S("You are setting _mrb_range_beg_len on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_raise")||(Object.defineProperty(t.ready,"_mrb_exc_raise",{configurable:!0,get:function(){S("You are getting _mrb_exc_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_raise",{configurable:!0,set:function(){S("You are setting _mrb_exc_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_raise")||(Object.defineProperty(t.ready,"_mrb_sys_raise",{configurable:!0,get:function(){S("You are getting _mrb_sys_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_raise",{configurable:!0,set:function(){S("You are setting _mrb_sys_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_print_backtrace")||(Object.defineProperty(t.ready,"_mrb_print_backtrace",{configurable:!0,get:function(){S("You are getting _mrb_print_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_print_backtrace",{configurable:!0,set:function(){S("You are setting _mrb_print_backtrace on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_mt_foreach")||(Object.defineProperty(t.ready,"_mrb_mt_foreach",{configurable:!0,get:function(){S("You are getting _mrb_mt_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_mt_foreach",{configurable:!0,set:function(){S("You are setting _mrb_mt_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_path")||(Object.defineProperty(t.ready,"_mrb_class_path",{configurable:!0,get:function(){S("You are getting _mrb_class_path on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_path",{configurable:!0,set:function(){S("You are setting _mrb_class_path on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_id")||(Object.defineProperty(t.ready,"_mrb_define_module_id",{configurable:!0,get:function(){S("You are getting _mrb_define_module_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_id",{configurable:!0,set:function(){S("You are setting _mrb_define_module_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_mark")||(Object.defineProperty(t.ready,"_mrb_gc_mark",{configurable:!0,get:function(){S("You are getting _mrb_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_mark",{configurable:!0,set:function(){S("You are setting _mrb_gc_mark on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_free")||(Object.defineProperty(t.ready,"_mrb_free",{configurable:!0,get:function(){S("You are getting _mrb_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_free",{configurable:!0,set:function(){S("You are setting _mrb_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_iv_defined")||(Object.defineProperty(t.ready,"_mrb_obj_iv_defined",{configurable:!0,get:function(){S("You are getting _mrb_obj_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_iv_defined",{configurable:!0,set:function(){S("You are setting _mrb_obj_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_iv_get")||(Object.defineProperty(t.ready,"_mrb_obj_iv_get",{configurable:!0,get:function(){S("You are getting _mrb_obj_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_iv_get",{configurable:!0,set:function(){S("You are setting _mrb_obj_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_get")||(Object.defineProperty(t.ready,"_mrb_const_get",{configurable:!0,get:function(){S("You are getting _mrb_const_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_get",{configurable:!0,set:function(){S("You are setting _mrb_const_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_type")||(Object.defineProperty(t.ready,"_mrb_check_type",{configurable:!0,get:function(){S("You are getting _mrb_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_type",{configurable:!0,set:function(){S("You are setting _mrb_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_alloc")||(Object.defineProperty(t.ready,"_mrb_obj_alloc",{configurable:!0,get:function(){S("You are getting _mrb_obj_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_alloc",{configurable:!0,set:function(){S("You are setting _mrb_obj_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_malloc")||(Object.defineProperty(t.ready,"_mrb_malloc",{configurable:!0,get:function(){S("You are getting _mrb_malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_malloc",{configurable:!0,set:function(){S("You are setting _mrb_malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_iv_set")||(Object.defineProperty(t.ready,"_mrb_obj_iv_set",{configurable:!0,get:function(){S("You are getting _mrb_obj_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_iv_set",{configurable:!0,set:function(){S("You are setting _mrb_obj_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_get_id")||(Object.defineProperty(t.ready,"_mrb_exc_get_id",{configurable:!0,get:function(){S("You are getting _mrb_exc_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_get_id",{configurable:!0,set:function(){S("You are setting _mrb_exc_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_raisef")||(Object.defineProperty(t.ready,"_mrb_raisef",{configurable:!0,get:function(){S("You are getting _mrb_raisef on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_raisef",{configurable:!0,set:function(){S("You are setting _mrb_raisef on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_raise")||(Object.defineProperty(t.ready,"_mrb_raise",{configurable:!0,get:function(){S("You are getting _mrb_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_raise",{configurable:!0,set:function(){S("You are setting _mrb_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_under_id")||(Object.defineProperty(t.ready,"_mrb_define_module_under_id",{configurable:!0,get:function(){S("You are getting _mrb_define_module_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_under_id",{configurable:!0,set:function(){S("You are setting _mrb_define_module_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_id")||(Object.defineProperty(t.ready,"_mrb_define_class_id",{configurable:!0,get:function(){S("You are getting _mrb_define_class_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_id",{configurable:!0,set:function(){S("You are setting _mrb_define_class_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_warn")||(Object.defineProperty(t.ready,"_mrb_warn",{configurable:!0,get:function(){S("You are getting _mrb_warn on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_warn",{configurable:!0,set:function(){S("You are setting _mrb_warn on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_new")||(Object.defineProperty(t.ready,"_mrb_class_new",{configurable:!0,get:function(){S("You are getting _mrb_class_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_new",{configurable:!0,set:function(){S("You are setting _mrb_class_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_real")||(Object.defineProperty(t.ready,"_mrb_class_real",{configurable:!0,get:function(){S("You are getting _mrb_class_real on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_real",{configurable:!0,set:function(){S("You are setting _mrb_class_real on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_func_basic_p")||(Object.defineProperty(t.ready,"_mrb_func_basic_p",{configurable:!0,get:function(){S("You are getting _mrb_func_basic_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_func_basic_p",{configurable:!0,set:function(){S("You are setting _mrb_func_basic_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_defined")||(Object.defineProperty(t.ready,"_mrb_const_defined",{configurable:!0,get:function(){S("You are getting _mrb_const_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_defined",{configurable:!0,set:function(){S("You are setting _mrb_const_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined_id")||(Object.defineProperty(t.ready,"_mrb_class_defined_id",{configurable:!0,get:function(){S("You are getting _mrb_class_defined_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined_id",{configurable:!0,set:function(){S("You are setting _mrb_class_defined_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_defined_under_id")||(Object.defineProperty(t.ready,"_mrb_class_defined_under_id",{configurable:!0,get:function(){S("You are getting _mrb_class_defined_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_defined_under_id",{configurable:!0,set:function(){S("You are setting _mrb_class_defined_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get_under_id")||(Object.defineProperty(t.ready,"_mrb_class_get_under_id",{configurable:!0,get:function(){S("You are getting _mrb_class_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get_under_id",{configurable:!0,set:function(){S("You are setting _mrb_class_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_get_id")||(Object.defineProperty(t.ready,"_mrb_class_get_id",{configurable:!0,get:function(){S("You are getting _mrb_class_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_get_id",{configurable:!0,set:function(){S("You are setting _mrb_class_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get_under_id")||(Object.defineProperty(t.ready,"_mrb_module_get_under_id",{configurable:!0,get:function(){S("You are getting _mrb_module_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get_under_id",{configurable:!0,set:function(){S("You are setting _mrb_module_get_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_get_id")||(Object.defineProperty(t.ready,"_mrb_module_get_id",{configurable:!0,get:function(){S("You are getting _mrb_module_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_get_id",{configurable:!0,set:function(){S("You are setting _mrb_module_get_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_under_id")||(Object.defineProperty(t.ready,"_mrb_define_class_under_id",{configurable:!0,get:function(){S("You are getting _mrb_define_class_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_under_id",{configurable:!0,set:function(){S("You are setting _mrb_define_class_under_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_method_raw")||(Object.defineProperty(t.ready,"_mrb_define_method_raw",{configurable:!0,get:function(){S("You are getting _mrb_define_method_raw on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_method_raw",{configurable:!0,set:function(){S("You are setting _mrb_define_method_raw on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_field_write_barrier")||(Object.defineProperty(t.ready,"_mrb_field_write_barrier",{configurable:!0,get:function(){S("You are getting _mrb_field_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_field_write_barrier",{configurable:!0,set:function(){S("You are setting _mrb_field_write_barrier on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_frozen_error")||(Object.defineProperty(t.ready,"_mrb_frozen_error",{configurable:!0,get:function(){S("You are getting _mrb_frozen_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_frozen_error",{configurable:!0,set:function(){S("You are setting _mrb_frozen_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_method_id")||(Object.defineProperty(t.ready,"_mrb_define_method_id",{configurable:!0,get:function(){S("You are getting _mrb_define_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_method_id",{configurable:!0,set:function(){S("You are setting _mrb_define_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_notimplement")||(Object.defineProperty(t.ready,"_mrb_notimplement",{configurable:!0,get:function(){S("You are getting _mrb_notimplement on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_notimplement",{configurable:!0,set:function(){S("You are setting _mrb_notimplement on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_notimplement_m")||(Object.defineProperty(t.ready,"_mrb_notimplement_m",{configurable:!0,get:function(){S("You are getting _mrb_notimplement_m on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_notimplement_m",{configurable:!0,set:function(){S("You are setting _mrb_notimplement_m on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_argc")||(Object.defineProperty(t.ready,"_mrb_get_argc",{configurable:!0,get:function(){S("You are getting _mrb_get_argc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_argc",{configurable:!0,set:function(){S("You are setting _mrb_get_argc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_argv")||(Object.defineProperty(t.ready,"_mrb_get_argv",{configurable:!0,get:function(){S("You are getting _mrb_get_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_argv",{configurable:!0,set:function(){S("You are setting _mrb_get_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_get_arg1")||(Object.defineProperty(t.ready,"_mrb_get_arg1",{configurable:!0,get:function(){S("You are getting _mrb_get_arg1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_get_arg1",{configurable:!0,set:function(){S("You are setting _mrb_get_arg1 on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_argnum_error")||(Object.defineProperty(t.ready,"_mrb_argnum_error",{configurable:!0,get:function(){S("You are getting _mrb_argnum_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_argnum_error",{configurable:!0,set:function(){S("You are setting _mrb_argnum_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_block_given_p")||(Object.defineProperty(t.ready,"_mrb_block_given_p",{configurable:!0,get:function(){S("You are getting _mrb_block_given_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_block_given_p",{configurable:!0,set:function(){S("You are setting _mrb_block_given_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_size")||(Object.defineProperty(t.ready,"_mrb_hash_size",{configurable:!0,get:function(){S("You are getting _mrb_hash_size on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_size",{configurable:!0,set:function(){S("You are setting _mrb_hash_size on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_string_type")||(Object.defineProperty(t.ready,"_mrb_ensure_string_type",{configurable:!0,get:function(){S("You are getting _mrb_ensure_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_string_type",{configurable:!0,set:function(){S("You are setting _mrb_ensure_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_array_type")||(Object.defineProperty(t.ready,"_mrb_ensure_array_type",{configurable:!0,get:function(){S("You are getting _mrb_ensure_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_array_type",{configurable:!0,set:function(){S("You are setting _mrb_ensure_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_hash_type")||(Object.defineProperty(t.ready,"_mrb_ensure_hash_type",{configurable:!0,get:function(){S("You are getting _mrb_ensure_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_hash_type",{configurable:!0,set:function(){S("You are setting _mrb_ensure_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_is_kind_of")||(Object.defineProperty(t.ready,"_mrb_obj_is_kind_of",{configurable:!0,get:function(){S("You are getting _mrb_obj_is_kind_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_is_kind_of",{configurable:!0,set:function(){S("You are setting _mrb_obj_is_kind_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_float_type")||(Object.defineProperty(t.ready,"_mrb_ensure_float_type",{configurable:!0,get:function(){S("You are getting _mrb_ensure_float_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_float_type",{configurable:!0,set:function(){S("You are setting _mrb_ensure_float_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure_int_type")||(Object.defineProperty(t.ready,"_mrb_ensure_int_type",{configurable:!0,get:function(){S("You are getting _mrb_ensure_int_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure_int_type",{configurable:!0,set:function(){S("You are setting _mrb_ensure_int_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_to_sym")||(Object.defineProperty(t.ready,"_mrb_obj_to_sym",{configurable:!0,get:function(){S("You are getting _mrb_obj_to_sym on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_to_sym",{configurable:!0,set:function(){S("You are setting _mrb_obj_to_sym on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_get_ptr")||(Object.defineProperty(t.ready,"_mrb_data_get_ptr",{configurable:!0,get:function(){S("You are getting _mrb_data_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_get_ptr",{configurable:!0,set:function(){S("You are setting _mrb_data_get_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_dup")||(Object.defineProperty(t.ready,"_mrb_hash_dup",{configurable:!0,get:function(){S("You are getting _mrb_hash_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_dup",{configurable:!0,set:function(){S("You are setting _mrb_hash_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_new")||(Object.defineProperty(t.ready,"_mrb_hash_new",{configurable:!0,get:function(){S("You are getting _mrb_hash_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_new",{configurable:!0,set:function(){S("You are setting _mrb_hash_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_key_p")||(Object.defineProperty(t.ready,"_mrb_hash_key_p",{configurable:!0,get:function(){S("You are getting _mrb_hash_key_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_key_p",{configurable:!0,set:function(){S("You are setting _mrb_hash_key_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_delete_key")||(Object.defineProperty(t.ready,"_mrb_hash_delete_key",{configurable:!0,get:function(){S("You are getting _mrb_hash_delete_key on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_delete_key",{configurable:!0,set:function(){S("You are setting _mrb_hash_delete_key on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_empty_p")||(Object.defineProperty(t.ready,"_mrb_hash_empty_p",{configurable:!0,get:function(){S("You are getting _mrb_hash_empty_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_empty_p",{configurable:!0,set:function(){S("You are setting _mrb_hash_empty_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_include_module")||(Object.defineProperty(t.ready,"_mrb_include_module",{configurable:!0,get:function(){S("You are getting _mrb_include_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_include_module",{configurable:!0,set:function(){S("You are setting _mrb_include_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_prepend_module")||(Object.defineProperty(t.ready,"_mrb_prepend_module",{configurable:!0,get:function(){S("You are getting _mrb_prepend_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_prepend_module",{configurable:!0,set:function(){S("You are setting _mrb_prepend_module on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_singleton_class_ptr")||(Object.defineProperty(t.ready,"_mrb_singleton_class_ptr",{configurable:!0,get:function(){S("You are getting _mrb_singleton_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_singleton_class_ptr",{configurable:!0,set:function(){S("You are setting _mrb_singleton_class_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_singleton_class")||(Object.defineProperty(t.ready,"_mrb_singleton_class",{configurable:!0,get:function(){S("You are getting _mrb_singleton_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_singleton_class",{configurable:!0,set:function(){S("You are setting _mrb_singleton_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_singleton_method_id")||(Object.defineProperty(t.ready,"_mrb_define_singleton_method_id",{configurable:!0,get:function(){S("You are getting _mrb_define_singleton_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_singleton_method_id",{configurable:!0,set:function(){S("You are setting _mrb_define_singleton_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_class_method_id")||(Object.defineProperty(t.ready,"_mrb_define_class_method_id",{configurable:!0,get:function(){S("You are getting _mrb_define_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_class_method_id",{configurable:!0,set:function(){S("You are setting _mrb_define_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_module_function_id")||(Object.defineProperty(t.ready,"_mrb_define_module_function_id",{configurable:!0,get:function(){S("You are getting _mrb_define_module_function_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_module_function_id",{configurable:!0,set:function(){S("You are setting _mrb_define_module_function_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_method_search_vm")||(Object.defineProperty(t.ready,"_mrb_method_search_vm",{configurable:!0,get:function(){S("You are getting _mrb_method_search_vm on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_method_search_vm",{configurable:!0,set:function(){S("You are setting _mrb_method_search_vm on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_method_search")||(Object.defineProperty(t.ready,"_mrb_method_search",{configurable:!0,get:function(){S("You are getting _mrb_method_search on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_method_search",{configurable:!0,set:function(){S("You are setting _mrb_method_search on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_name_error")||(Object.defineProperty(t.ready,"_mrb_name_error",{configurable:!0,get:function(){S("You are getting _mrb_name_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_name_error",{configurable:!0,set:function(){S("You are setting _mrb_name_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_equal")||(Object.defineProperty(t.ready,"_mrb_obj_equal",{configurable:!0,get:function(){S("You are getting _mrb_obj_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_equal",{configurable:!0,set:function(){S("You are setting _mrb_obj_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_respond_to")||(Object.defineProperty(t.ready,"_mrb_obj_respond_to",{configurable:!0,get:function(){S("You are getting _mrb_obj_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_respond_to",{configurable:!0,set:function(){S("You are setting _mrb_obj_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_respond_to")||(Object.defineProperty(t.ready,"_mrb_respond_to",{configurable:!0,get:function(){S("You are getting _mrb_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_respond_to",{configurable:!0,set:function(){S("You are setting _mrb_respond_to on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_class_name")||(Object.defineProperty(t.ready,"_mrb_class_name",{configurable:!0,get:function(){S("You are getting _mrb_class_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_class_name",{configurable:!0,set:function(){S("You are setting _mrb_class_name on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cat_str")||(Object.defineProperty(t.ready,"_mrb_str_cat_str",{configurable:!0,get:function(){S("You are getting _mrb_str_cat_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cat_str",{configurable:!0,set:function(){S("You are setting _mrb_str_cat_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_classname")||(Object.defineProperty(t.ready,"_mrb_obj_classname",{configurable:!0,get:function(){S("You are getting _mrb_obj_classname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_classname",{configurable:!0,set:function(){S("You are setting _mrb_obj_classname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_class")||(Object.defineProperty(t.ready,"_mrb_obj_class",{configurable:!0,get:function(){S("You are getting _mrb_obj_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_class",{configurable:!0,set:function(){S("You are setting _mrb_obj_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_module_new")||(Object.defineProperty(t.ready,"_mrb_module_new",{configurable:!0,get:function(){S("You are getting _mrb_module_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_module_new",{configurable:!0,set:function(){S("You are setting _mrb_module_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_alias_method")||(Object.defineProperty(t.ready,"_mrb_alias_method",{configurable:!0,get:function(){S("You are getting _mrb_alias_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_alias_method",{configurable:!0,set:function(){S("You are setting _mrb_alias_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_alias")||(Object.defineProperty(t.ready,"_mrb_define_alias",{configurable:!0,get:function(){S("You are getting _mrb_define_alias on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_alias",{configurable:!0,set:function(){S("You are setting _mrb_define_alias on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_alias_id")||(Object.defineProperty(t.ready,"_mrb_define_alias_id",{configurable:!0,get:function(){S("You are getting _mrb_define_alias_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_alias_id",{configurable:!0,set:function(){S("You are setting _mrb_define_alias_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_get")||(Object.defineProperty(t.ready,"_mrb_iv_get",{configurable:!0,get:function(){S("You are getting _mrb_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_get",{configurable:!0,set:function(){S("You are setting _mrb_iv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_inspect")||(Object.defineProperty(t.ready,"_mrb_inspect",{configurable:!0,get:function(){S("You are getting _mrb_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_inspect",{configurable:!0,set:function(){S("You are setting _mrb_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_any_to_s")||(Object.defineProperty(t.ready,"_mrb_any_to_s",{configurable:!0,get:function(){S("You are getting _mrb_any_to_s on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_any_to_s",{configurable:!0,set:function(){S("You are setting _mrb_any_to_s on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_method_id")||(Object.defineProperty(t.ready,"_mrb_undef_method_id",{configurable:!0,get:function(){S("You are getting _mrb_undef_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_method_id",{configurable:!0,set:function(){S("You are setting _mrb_undef_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_method")||(Object.defineProperty(t.ready,"_mrb_undef_method",{configurable:!0,get:function(){S("You are getting _mrb_undef_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_method",{configurable:!0,set:function(){S("You are setting _mrb_undef_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_class_method_id")||(Object.defineProperty(t.ready,"_mrb_undef_class_method_id",{configurable:!0,get:function(){S("You are getting _mrb_undef_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_class_method_id",{configurable:!0,set:function(){S("You are setting _mrb_undef_class_method_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_undef_class_method")||(Object.defineProperty(t.ready,"_mrb_undef_class_method",{configurable:!0,get:function(){S("You are getting _mrb_undef_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_undef_class_method",{configurable:!0,set:function(){S("You are setting _mrb_undef_class_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_remove_method")||(Object.defineProperty(t.ready,"_mrb_remove_method",{configurable:!0,get:function(){S("You are getting _mrb_remove_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_remove_method",{configurable:!0,set:function(){S("You are setting _mrb_remove_method on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall_id")||(Object.defineProperty(t.ready,"_mrb_funcall_id",{configurable:!0,get:function(){S("You are getting _mrb_funcall_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall_id",{configurable:!0,set:function(){S("You are setting _mrb_funcall_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_clone")||(Object.defineProperty(t.ready,"_mrb_obj_clone",{configurable:!0,get:function(){S("You are getting _mrb_obj_clone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_clone",{configurable:!0,set:function(){S("You are setting _mrb_obj_clone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_copy")||(Object.defineProperty(t.ready,"_mrb_iv_copy",{configurable:!0,get:function(){S("You are getting _mrb_iv_copy on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_copy",{configurable:!0,set:function(){S("You are setting _mrb_iv_copy on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_remove")||(Object.defineProperty(t.ready,"_mrb_iv_remove",{configurable:!0,get:function(){S("You are getting _mrb_iv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_remove",{configurable:!0,set:function(){S("You are setting _mrb_iv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_dup")||(Object.defineProperty(t.ready,"_mrb_obj_dup",{configurable:!0,get:function(){S("You are getting _mrb_obj_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_dup",{configurable:!0,set:function(){S("You are setting _mrb_obj_dup on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_define_const_id")||(Object.defineProperty(t.ready,"_mrb_define_const_id",{configurable:!0,get:function(){S("You are getting _mrb_define_const_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_define_const_id",{configurable:!0,set:function(){S("You are setting _mrb_define_const_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_yield_with_class")||(Object.defineProperty(t.ready,"_mrb_yield_with_class",{configurable:!0,get:function(){S("You are getting _mrb_yield_with_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_yield_with_class",{configurable:!0,set:function(){S("You are setting _mrb_yield_with_class on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_set")||(Object.defineProperty(t.ready,"_mrb_const_set",{configurable:!0,get:function(){S("You are getting _mrb_const_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_set",{configurable:!0,set:function(){S("You are setting _mrb_const_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_calloc")||(Object.defineProperty(t.ready,"_mrb_calloc",{configurable:!0,get:function(){S("You are getting _mrb_calloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_calloc",{configurable:!0,set:function(){S("You are setting _mrb_calloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_alloca")||(Object.defineProperty(t.ready,"_mrb_alloca",{configurable:!0,get:function(){S("You are getting _mrb_alloca on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_alloca",{configurable:!0,set:function(){S("You are setting _mrb_alloca on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_name_sym_check")||(Object.defineProperty(t.ready,"_mrb_iv_name_sym_check",{configurable:!0,get:function(){S("You are getting _mrb_iv_name_sym_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_name_sym_check",{configurable:!0,set:function(){S("You are setting _mrb_iv_name_sym_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_proc_new_cfunc_with_env")||(Object.defineProperty(t.ready,"_mrb_proc_new_cfunc_with_env",{configurable:!0,get:function(){S("You are getting _mrb_proc_new_cfunc_with_env on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_proc_new_cfunc_with_env",{configurable:!0,set:function(){S("You are setting _mrb_proc_new_cfunc_with_env on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_proc_cfunc_env_get")||(Object.defineProperty(t.ready,"_mrb_proc_cfunc_env_get",{configurable:!0,get:function(){S("You are getting _mrb_proc_cfunc_env_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_proc_cfunc_env_get",{configurable:!0,set:function(){S("You are setting _mrb_proc_cfunc_env_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_set")||(Object.defineProperty(t.ready,"_mrb_iv_set",{configurable:!0,get:function(){S("You are getting _mrb_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_set",{configurable:!0,set:function(){S("You are setting _mrb_iv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_get_filename")||(Object.defineProperty(t.ready,"_mrb_debug_get_filename",{configurable:!0,get:function(){S("You are getting _mrb_debug_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_get_filename",{configurable:!0,set:function(){S("You are setting _mrb_debug_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_get_line")||(Object.defineProperty(t.ready,"_mrb_debug_get_line",{configurable:!0,get:function(){S("You are getting _mrb_debug_get_line on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_get_line",{configurable:!0,set:function(){S("You are setting _mrb_debug_get_line on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_info_alloc")||(Object.defineProperty(t.ready,"_mrb_debug_info_alloc",{configurable:!0,get:function(){S("You are getting _mrb_debug_info_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_info_alloc",{configurable:!0,set:function(){S("You are setting _mrb_debug_info_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_info_append_file")||(Object.defineProperty(t.ready,"_mrb_debug_info_append_file",{configurable:!0,get:function(){S("You are getting _mrb_debug_info_append_file on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_info_append_file",{configurable:!0,set:function(){S("You are setting _mrb_debug_info_append_file on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_debug_info_free")||(Object.defineProperty(t.ready,"_mrb_debug_info_free",{configurable:!0,get:function(){S("You are getting _mrb_debug_info_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_debug_info_free",{configurable:!0,set:function(){S("You are setting _mrb_debug_info_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_new_str")||(Object.defineProperty(t.ready,"_mrb_exc_new_str",{configurable:!0,get:function(){S("You are getting _mrb_exc_new_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_new_str",{configurable:!0,set:function(){S("You are setting _mrb_exc_new_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_exc_new")||(Object.defineProperty(t.ready,"_mrb_exc_new",{configurable:!0,get:function(){S("You are getting _mrb_exc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_exc_new",{configurable:!0,set:function(){S("You are setting _mrb_exc_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_format")||(Object.defineProperty(t.ready,"_mrb_format",{configurable:!0,get:function(){S("You are getting _mrb_format on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_format",{configurable:!0,set:function(){S("You are setting _mrb_format on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_vformat")||(Object.defineProperty(t.ready,"_mrb_vformat",{configurable:!0,get:function(){S("You are getting _mrb_vformat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_vformat",{configurable:!0,set:function(){S("You are setting _mrb_vformat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_as_string")||(Object.defineProperty(t.ready,"_mrb_obj_as_string",{configurable:!0,get:function(){S("You are getting _mrb_obj_as_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_as_string",{configurable:!0,set:function(){S("You are setting _mrb_obj_as_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_defined")||(Object.defineProperty(t.ready,"_mrb_iv_defined",{configurable:!0,get:function(){S("You are getting _mrb_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_defined",{configurable:!0,set:function(){S("You are setting _mrb_iv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_cat_cstr")||(Object.defineProperty(t.ready,"_mrb_str_cat_cstr",{configurable:!0,get:function(){S("You are getting _mrb_str_cat_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_cat_cstr",{configurable:!0,set:function(){S("You are setting _mrb_str_cat_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_realloc")||(Object.defineProperty(t.ready,"_mrb_realloc",{configurable:!0,get:function(){S("You are getting _mrb_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_realloc",{configurable:!0,set:function(){S("You are setting _mrb_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_p")||(Object.defineProperty(t.ready,"_mrb_p",{configurable:!0,get:function(){S("You are getting _mrb_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_p",{configurable:!0,set:function(){S("You are setting _mrb_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_bug")||(Object.defineProperty(t.ready,"_mrb_bug",{configurable:!0,get:function(){S("You are getting _mrb_bug on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_bug",{configurable:!0,set:function(){S("You are setting _mrb_bug on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_make_exception")||(Object.defineProperty(t.ready,"_mrb_make_exception",{configurable:!0,get:function(){S("You are getting _mrb_make_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_make_exception",{configurable:!0,set:function(){S("You are setting _mrb_make_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_fail")||(Object.defineProperty(t.ready,"_mrb_sys_fail",{configurable:!0,get:function(){S("You are getting _mrb_sys_fail on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_fail",{configurable:!0,set:function(){S("You are setting _mrb_sys_fail on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_funcall")||(Object.defineProperty(t.ready,"_mrb_funcall",{configurable:!0,get:function(){S("You are getting _mrb_funcall on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_funcall",{configurable:!0,set:function(){S("You are setting _mrb_funcall on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_no_method_error")||(Object.defineProperty(t.ready,"_mrb_no_method_error",{configurable:!0,get:function(){S("You are getting _mrb_no_method_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_no_method_error",{configurable:!0,set:function(){S("You are setting _mrb_no_method_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_data_check_type")||(Object.defineProperty(t.ready,"_mrb_data_check_type",{configurable:!0,get:function(){S("You are getting _mrb_data_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_data_check_type",{configurable:!0,set:function(){S("You are setting _mrb_data_check_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_int_id")||(Object.defineProperty(t.ready,"_mrb_int_id",{configurable:!0,get:function(){S("You are getting _mrb_int_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_int_id",{configurable:!0,set:function(){S("You are setting _mrb_int_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_id")||(Object.defineProperty(t.ready,"_mrb_float_id",{configurable:!0,get:function(){S("You are getting _mrb_float_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_id",{configurable:!0,set:function(){S("You are setting _mrb_float_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_id")||(Object.defineProperty(t.ready,"_mrb_obj_id",{configurable:!0,get:function(){S("You are getting _mrb_obj_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_id",{configurable:!0,set:function(){S("You are setting _mrb_obj_id on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_realloc_simple")||(Object.defineProperty(t.ready,"_mrb_realloc_simple",{configurable:!0,get:function(){S("You are getting _mrb_realloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_realloc_simple",{configurable:!0,set:function(){S("You are setting _mrb_realloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_malloc_simple")||(Object.defineProperty(t.ready,"_mrb_malloc_simple",{configurable:!0,get:function(){S("You are getting _mrb_malloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_malloc_simple",{configurable:!0,set:function(){S("You are setting _mrb_malloc_simple on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_object_dead_p")||(Object.defineProperty(t.ready,"_mrb_object_dead_p",{configurable:!0,get:function(){S("You are getting _mrb_object_dead_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_object_dead_p",{configurable:!0,set:function(){S("You are setting _mrb_object_dead_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_register")||(Object.defineProperty(t.ready,"_mrb_gc_register",{configurable:!0,get:function(){S("You are getting _mrb_gc_register on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_register",{configurable:!0,set:function(){S("You are setting _mrb_gc_register on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gv_get")||(Object.defineProperty(t.ready,"_mrb_gv_get",{configurable:!0,get:function(){S("You are getting _mrb_gv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gv_get",{configurable:!0,set:function(){S("You are setting _mrb_gv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gc_unregister")||(Object.defineProperty(t.ready,"_mrb_gc_unregister",{configurable:!0,get:function(){S("You are getting _mrb_gc_unregister on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gc_unregister",{configurable:!0,set:function(){S("You are setting _mrb_gc_unregister on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_modify")||(Object.defineProperty(t.ready,"_mrb_ary_modify",{configurable:!0,get:function(){S("You are getting _mrb_ary_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_modify",{configurable:!0,set:function(){S("You are setting _mrb_ary_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_garbage_collect")||(Object.defineProperty(t.ready,"_mrb_garbage_collect",{configurable:!0,get:function(){S("You are getting _mrb_garbage_collect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_garbage_collect",{configurable:!0,set:function(){S("You are setting _mrb_garbage_collect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_free_context")||(Object.defineProperty(t.ready,"_mrb_free_context",{configurable:!0,get:function(){S("You are getting _mrb_free_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_free_context",{configurable:!0,set:function(){S("You are setting _mrb_free_context on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_foreach")||(Object.defineProperty(t.ready,"_mrb_hash_foreach",{configurable:!0,get:function(){S("You are getting _mrb_hash_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_foreach",{configurable:!0,set:function(){S("You are setting _mrb_hash_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_fetch")||(Object.defineProperty(t.ready,"_mrb_hash_fetch",{configurable:!0,get:function(){S("You are getting _mrb_hash_fetch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_fetch",{configurable:!0,set:function(){S("You are setting _mrb_hash_fetch on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_clear")||(Object.defineProperty(t.ready,"_mrb_hash_clear",{configurable:!0,get:function(){S("You are getting _mrb_hash_clear on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_clear",{configurable:!0,set:function(){S("You are setting _mrb_hash_clear on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_values")||(Object.defineProperty(t.ready,"_mrb_hash_values",{configurable:!0,get:function(){S("You are getting _mrb_hash_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_values",{configurable:!0,set:function(){S("You are setting _mrb_hash_values on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_hash_merge")||(Object.defineProperty(t.ready,"_mrb_hash_merge",{configurable:!0,get:function(){S("You are getting _mrb_hash_merge on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_hash_merge",{configurable:!0,set:function(){S("You are setting _mrb_hash_merge on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_equal")||(Object.defineProperty(t.ready,"_mrb_equal",{configurable:!0,get:function(){S("You are getting _mrb_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_equal",{configurable:!0,set:function(){S("You are setting _mrb_equal on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_eql")||(Object.defineProperty(t.ready,"_mrb_eql",{configurable:!0,get:function(){S("You are getting _mrb_eql on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_eql",{configurable:!0,set:function(){S("You are setting _mrb_eql on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_inspect")||(Object.defineProperty(t.ready,"_mrb_obj_inspect",{configurable:!0,get:function(){S("You are getting _mrb_obj_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_inspect",{configurable:!0,set:function(){S("You are setting _mrb_obj_inspect on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_freeze")||(Object.defineProperty(t.ready,"_mrb_obj_freeze",{configurable:!0,get:function(){S("You are getting _mrb_obj_freeze on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_freeze",{configurable:!0,set:function(){S("You are setting _mrb_obj_freeze on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_is_instance_of")||(Object.defineProperty(t.ready,"_mrb_obj_is_instance_of",{configurable:!0,get:function(){S("You are getting _mrb_obj_is_instance_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_is_instance_of",{configurable:!0,set:function(){S("You are setting _mrb_obj_is_instance_of on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_f_raise")||(Object.defineProperty(t.ready,"_mrb_f_raise",{configurable:!0,get:function(){S("You are getting _mrb_f_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_f_raise",{configurable:!0,set:function(){S("You are setting _mrb_f_raise on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ary_entry")||(Object.defineProperty(t.ready,"_mrb_ary_entry",{configurable:!0,get:function(){S("You are getting _mrb_ary_entry on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ary_entry",{configurable:!0,set:function(){S("You are setting _mrb_ary_entry on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_num_mul")||(Object.defineProperty(t.ready,"_mrb_num_mul",{configurable:!0,get:function(){S("You are getting _mrb_num_mul on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_num_mul",{configurable:!0,set:function(){S("You are setting _mrb_num_mul on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_to_integer")||(Object.defineProperty(t.ready,"_mrb_float_to_integer",{configurable:!0,get:function(){S("You are getting _mrb_float_to_integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_to_integer",{configurable:!0,set:function(){S("You are setting _mrb_float_to_integer on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_num_plus")||(Object.defineProperty(t.ready,"_mrb_num_plus",{configurable:!0,get:function(){S("You are getting _mrb_num_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_num_plus",{configurable:!0,set:function(){S("You are setting _mrb_num_plus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_num_minus")||(Object.defineProperty(t.ready,"_mrb_num_minus",{configurable:!0,get:function(){S("You are getting _mrb_num_minus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_num_minus",{configurable:!0,set:function(){S("You are setting _mrb_num_minus on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_int_to_cstr")||(Object.defineProperty(t.ready,"_mrb_int_to_cstr",{configurable:!0,get:function(){S("You are getting _mrb_int_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_int_to_cstr",{configurable:!0,set:function(){S("You are setting _mrb_int_to_cstr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_integer_to_str")||(Object.defineProperty(t.ready,"_mrb_integer_to_str",{configurable:!0,get:function(){S("You are getting _mrb_integer_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_integer_to_str",{configurable:!0,set:function(){S("You are setting _mrb_integer_to_str on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cmp")||(Object.defineProperty(t.ready,"_mrb_cmp",{configurable:!0,get:function(){S("You are getting _mrb_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cmp",{configurable:!0,set:function(){S("You are setting _mrb_cmp on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_obj_eq")||(Object.defineProperty(t.ready,"_mrb_obj_eq",{configurable:!0,get:function(){S("You are getting _mrb_obj_eq on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_obj_eq",{configurable:!0,set:function(){S("You are setting _mrb_obj_eq on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_type_convert")||(Object.defineProperty(t.ready,"_mrb_type_convert",{configurable:!0,get:function(){S("You are getting _mrb_type_convert on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_type_convert",{configurable:!0,set:function(){S("You are setting _mrb_type_convert on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_type_convert_check")||(Object.defineProperty(t.ready,"_mrb_type_convert_check",{configurable:!0,get:function(){S("You are getting _mrb_type_convert_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_type_convert_check",{configurable:!0,set:function(){S("You are setting _mrb_type_convert_check on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_string_type")||(Object.defineProperty(t.ready,"_mrb_check_string_type",{configurable:!0,get:function(){S("You are getting _mrb_check_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_string_type",{configurable:!0,set:function(){S("You are setting _mrb_check_string_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_array_type")||(Object.defineProperty(t.ready,"_mrb_check_array_type",{configurable:!0,get:function(){S("You are getting _mrb_check_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_array_type",{configurable:!0,set:function(){S("You are setting _mrb_check_array_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_check_hash_type")||(Object.defineProperty(t.ready,"_mrb_check_hash_type",{configurable:!0,get:function(){S("You are getting _mrb_check_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_check_hash_type",{configurable:!0,set:function(){S("You are setting _mrb_check_hash_type on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_open")||(Object.defineProperty(t.ready,"_mrb_pool_open",{configurable:!0,get:function(){S("You are getting _mrb_pool_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_open",{configurable:!0,set:function(){S("You are setting _mrb_pool_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_close")||(Object.defineProperty(t.ready,"_mrb_pool_close",{configurable:!0,get:function(){S("You are getting _mrb_pool_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_close",{configurable:!0,set:function(){S("You are setting _mrb_pool_close on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_alloc")||(Object.defineProperty(t.ready,"_mrb_pool_alloc",{configurable:!0,get:function(){S("You are getting _mrb_pool_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_alloc",{configurable:!0,set:function(){S("You are setting _mrb_pool_alloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_can_realloc")||(Object.defineProperty(t.ready,"_mrb_pool_can_realloc",{configurable:!0,get:function(){S("You are getting _mrb_pool_can_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_can_realloc",{configurable:!0,set:function(){S("You are setting _mrb_pool_can_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_pool_realloc")||(Object.defineProperty(t.ready,"_mrb_pool_realloc",{configurable:!0,get:function(){S("You are getting _mrb_pool_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_pool_realloc",{configurable:!0,set:function(){S("You are setting _mrb_pool_realloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_print_error")||(Object.defineProperty(t.ready,"_mrb_print_error",{configurable:!0,get:function(){S("You are getting _mrb_print_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_print_error",{configurable:!0,set:function(){S("You are setting _mrb_print_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_show_version")||(Object.defineProperty(t.ready,"_mrb_show_version",{configurable:!0,get:function(){S("You are getting _mrb_show_version on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_show_version",{configurable:!0,set:function(){S("You are setting _mrb_show_version on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_show_copyright")||(Object.defineProperty(t.ready,"_mrb_show_copyright",{configurable:!0,get:function(){S("You are getting _mrb_show_copyright on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_show_copyright",{configurable:!0,set:function(){S("You are setting _mrb_show_copyright on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_proc_new_cfunc")||(Object.defineProperty(t.ready,"_mrb_proc_new_cfunc",{configurable:!0,get:function(){S("You are getting _mrb_proc_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_proc_new_cfunc",{configurable:!0,set:function(){S("You are setting _mrb_proc_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_closure_new_cfunc")||(Object.defineProperty(t.ready,"_mrb_closure_new_cfunc",{configurable:!0,get:function(){S("You are getting _mrb_closure_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_closure_new_cfunc",{configurable:!0,set:function(){S("You are setting _mrb_closure_new_cfunc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_range_ptr")||(Object.defineProperty(t.ready,"_mrb_range_ptr",{configurable:!0,get:function(){S("You are getting _mrb_range_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_range_ptr",{configurable:!0,set:function(){S("You are setting _mrb_range_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_range_new")||(Object.defineProperty(t.ready,"_mrb_range_new",{configurable:!0,get:function(){S("You are getting _mrb_range_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_range_new",{configurable:!0,set:function(){S("You are setting _mrb_range_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_float_read")||(Object.defineProperty(t.ready,"_mrb_float_read",{configurable:!0,get:function(){S("You are getting _mrb_float_read on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_float_read",{configurable:!0,set:function(){S("You are setting _mrb_float_read on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_int_read")||(Object.defineProperty(t.ready,"_mrb_int_read",{configurable:!0,get:function(){S("You are getting _mrb_int_read on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_int_read",{configurable:!0,set:function(){S("You are setting _mrb_int_read on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_open_core")||(Object.defineProperty(t.ready,"_mrb_open_core",{configurable:!0,get:function(){S("You are getting _mrb_open_core on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_open_core",{configurable:!0,set:function(){S("You are setting _mrb_open_core on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_open")||(Object.defineProperty(t.ready,"_mrb_open",{configurable:!0,get:function(){S("You are getting _mrb_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_open",{configurable:!0,set:function(){S("You are setting _mrb_open on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_add_irep")||(Object.defineProperty(t.ready,"_mrb_add_irep",{configurable:!0,get:function(){S("You are getting _mrb_add_irep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_add_irep",{configurable:!0,set:function(){S("You are setting _mrb_add_irep on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_state_atexit")||(Object.defineProperty(t.ready,"_mrb_state_atexit",{configurable:!0,get:function(){S("You are getting _mrb_state_atexit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_state_atexit",{configurable:!0,set:function(){S("You are setting _mrb_state_atexit on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_foreach")||(Object.defineProperty(t.ready,"_mrb_iv_foreach",{configurable:!0,get:function(){S("You are getting _mrb_iv_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_foreach",{configurable:!0,set:function(){S("You are setting _mrb_iv_foreach on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_iv_name_sym_p")||(Object.defineProperty(t.ready,"_mrb_iv_name_sym_p",{configurable:!0,get:function(){S("You are getting _mrb_iv_name_sym_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_iv_name_sym_p",{configurable:!0,set:function(){S("You are setting _mrb_iv_name_sym_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cv_get")||(Object.defineProperty(t.ready,"_mrb_cv_get",{configurable:!0,get:function(){S("You are getting _mrb_cv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cv_get",{configurable:!0,set:function(){S("You are setting _mrb_cv_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_mod_cv_set")||(Object.defineProperty(t.ready,"_mrb_mod_cv_set",{configurable:!0,get:function(){S("You are getting _mrb_mod_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_mod_cv_set",{configurable:!0,set:function(){S("You are setting _mrb_mod_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cv_set")||(Object.defineProperty(t.ready,"_mrb_cv_set",{configurable:!0,get:function(){S("You are getting _mrb_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cv_set",{configurable:!0,set:function(){S("You are setting _mrb_cv_set on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_cv_defined")||(Object.defineProperty(t.ready,"_mrb_cv_defined",{configurable:!0,get:function(){S("You are getting _mrb_cv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_cv_defined",{configurable:!0,set:function(){S("You are setting _mrb_cv_defined on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_const_remove")||(Object.defineProperty(t.ready,"_mrb_const_remove",{configurable:!0,get:function(){S("You are getting _mrb_const_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_const_remove",{configurable:!0,set:function(){S("You are setting _mrb_const_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_gv_remove")||(Object.defineProperty(t.ready,"_mrb_gv_remove",{configurable:!0,get:function(){S("You are getting _mrb_gv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_gv_remove",{configurable:!0,set:function(){S("You are setting _mrb_gv_remove on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_attr_get")||(Object.defineProperty(t.ready,"_mrb_attr_get",{configurable:!0,get:function(){S("You are getting _mrb_attr_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_attr_get",{configurable:!0,set:function(){S("You are setting _mrb_attr_get on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_stack_extend")||(Object.defineProperty(t.ready,"_mrb_stack_extend",{configurable:!0,get:function(){S("You are getting _mrb_stack_extend on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_stack_extend",{configurable:!0,set:function(){S("You are setting _mrb_stack_extend on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_protect_error")||(Object.defineProperty(t.ready,"_mrb_protect_error",{configurable:!0,get:function(){S("You are getting _mrb_protect_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_protect_error",{configurable:!0,set:function(){S("You are setting _mrb_protect_error on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_vm_run")||(Object.defineProperty(t.ready,"_mrb_vm_run",{configurable:!0,get:function(){S("You are getting _mrb_vm_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_vm_run",{configurable:!0,set:function(){S("You are setting _mrb_vm_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_top_run")||(Object.defineProperty(t.ready,"_mrb_top_run",{configurable:!0,get:function(){S("You are getting _mrb_top_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_top_run",{configurable:!0,set:function(){S("You are setting _mrb_top_run on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_yield_argv")||(Object.defineProperty(t.ready,"_mrb_yield_argv",{configurable:!0,get:function(){S("You are getting _mrb_yield_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_yield_argv",{configurable:!0,set:function(){S("You are setting _mrb_yield_argv on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_vm_exec")||(Object.defineProperty(t.ready,"_mrb_vm_exec",{configurable:!0,get:function(){S("You are getting _mrb_vm_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_vm_exec",{configurable:!0,set:function(){S("You are setting _mrb_vm_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_concat")||(Object.defineProperty(t.ready,"_mrb_str_concat",{configurable:!0,get:function(){S("You are getting _mrb_str_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_concat",{configurable:!0,set:function(){S("You are setting _mrb_str_concat on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_generate_code")||(Object.defineProperty(t.ready,"_mrb_generate_code",{configurable:!0,get:function(){S("You are getting _mrb_generate_code on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_generate_code",{configurable:!0,set:function(){S("You are setting _mrb_generate_code on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_parse")||(Object.defineProperty(t.ready,"_mrb_parser_parse",{configurable:!0,get:function(){S("You are getting _mrb_parser_parse on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_parse",{configurable:!0,set:function(){S("You are setting _mrb_parser_parse on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_set_filename")||(Object.defineProperty(t.ready,"_mrb_parser_set_filename",{configurable:!0,get:function(){S("You are getting _mrb_parser_set_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_set_filename",{configurable:!0,set:function(){S("You are setting _mrb_parser_set_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_new")||(Object.defineProperty(t.ready,"_mrb_parser_new",{configurable:!0,get:function(){S("You are getting _mrb_parser_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_new",{configurable:!0,set:function(){S("You are setting _mrb_parser_new on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_free")||(Object.defineProperty(t.ready,"_mrb_parser_free",{configurable:!0,get:function(){S("You are getting _mrb_parser_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_free",{configurable:!0,set:function(){S("You are setting _mrb_parser_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_partial_hook")||(Object.defineProperty(t.ready,"_mrbc_partial_hook",{configurable:!0,get:function(){S("You are getting _mrbc_partial_hook on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_partial_hook",{configurable:!0,set:function(){S("You are setting _mrbc_partial_hook on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrbc_cleanup_local_variables")||(Object.defineProperty(t.ready,"_mrbc_cleanup_local_variables",{configurable:!0,get:function(){S("You are getting _mrbc_cleanup_local_variables on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrbc_cleanup_local_variables",{configurable:!0,set:function(){S("You are setting _mrbc_cleanup_local_variables on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parser_get_filename")||(Object.defineProperty(t.ready,"_mrb_parser_get_filename",{configurable:!0,get:function(){S("You are getting _mrb_parser_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parser_get_filename",{configurable:!0,set:function(){S("You are setting _mrb_parser_get_filename on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parse_nstring")||(Object.defineProperty(t.ready,"_mrb_parse_nstring",{configurable:!0,get:function(){S("You are getting _mrb_parse_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parse_nstring",{configurable:!0,set:function(){S("You are setting _mrb_parse_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_parse_string")||(Object.defineProperty(t.ready,"_mrb_parse_string",{configurable:!0,get:function(){S("You are getting _mrb_parse_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_parse_string",{configurable:!0,set:function(){S("You are setting _mrb_parse_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_exec")||(Object.defineProperty(t.ready,"_mrb_load_exec",{configurable:!0,get:function(){S("You are getting _mrb_load_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_exec",{configurable:!0,set:function(){S("You are setting _mrb_load_exec on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_nstring")||(Object.defineProperty(t.ready,"_mrb_load_nstring",{configurable:!0,get:function(){S("You are getting _mrb_load_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_nstring",{configurable:!0,set:function(){S("You are setting _mrb_load_nstring on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_string_cxt")||(Object.defineProperty(t.ready,"_mrb_load_string_cxt",{configurable:!0,get:function(){S("You are getting _mrb_load_string_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_string_cxt",{configurable:!0,set:function(){S("You are setting _mrb_load_string_cxt on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_load_string")||(Object.defineProperty(t.ready,"_mrb_load_string",{configurable:!0,get:function(){S("You are getting _mrb_load_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_load_string",{configurable:!0,set:function(){S("You are setting _mrb_load_string on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_ensure")||(Object.defineProperty(t.ready,"_mrb_ensure",{configurable:!0,get:function(){S("You are getting _mrb_ensure on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_ensure",{configurable:!0,set:function(){S("You are setting _mrb_ensure on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_rescue")||(Object.defineProperty(t.ready,"_mrb_rescue",{configurable:!0,get:function(){S("You are getting _mrb_rescue on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_rescue",{configurable:!0,set:function(){S("You are setting _mrb_rescue on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_rescue_exceptions")||(Object.defineProperty(t.ready,"_mrb_rescue_exceptions",{configurable:!0,get:function(){S("You are getting _mrb_rescue_exceptions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_rescue_exceptions",{configurable:!0,set:function(){S("You are setting _mrb_rescue_exceptions on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fiber_resume")||(Object.defineProperty(t.ready,"_mrb_fiber_resume",{configurable:!0,get:function(){S("You are getting _mrb_fiber_resume on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fiber_resume",{configurable:!0,set:function(){S("You are setting _mrb_fiber_resume on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fiber_alive_p")||(Object.defineProperty(t.ready,"_mrb_fiber_alive_p",{configurable:!0,get:function(){S("You are getting _mrb_fiber_alive_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fiber_alive_p",{configurable:!0,set:function(){S("You are setting _mrb_fiber_alive_p on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_fiber_yield")||(Object.defineProperty(t.ready,"_mrb_fiber_yield",{configurable:!0,get:function(){S("You are getting _mrb_fiber_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_fiber_yield",{configurable:!0,set:function(){S("You are setting _mrb_fiber_yield on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_range_excl")||(Object.defineProperty(t.ready,"_mrb_sys_range_excl",{configurable:!0,get:function(){S("You are getting _mrb_sys_range_excl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_range_excl",{configurable:!0,set:function(){S("You are setting _mrb_sys_range_excl on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_obj_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_obj_ptr",{configurable:!0,get:function(){S("You are getting _mrb_sys_obj_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_obj_ptr",{configurable:!0,set:function(){S("You are setting _mrb_sys_obj_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_proc_ptr")||(Object.defineProperty(t.ready,"_mrb_sys_proc_ptr",{configurable:!0,get:function(){S("You are getting _mrb_sys_proc_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_proc_ptr",{configurable:!0,set:function(){S("You are setting _mrb_sys_proc_ptr on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_class_to_rclass")||(Object.defineProperty(t.ready,"_mrb_sys_class_to_rclass",{configurable:!0,get:function(){S("You are getting _mrb_sys_class_to_rclass on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_class_to_rclass",{configurable:!0,set:function(){S("You are setting _mrb_sys_class_to_rclass on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_data_value")||(Object.defineProperty(t.ready,"_mrb_sys_data_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_data_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_data_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_data_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_proc_value")||(Object.defineProperty(t.ready,"_mrb_sys_proc_value",{configurable:!0,get:function(){S("You are getting _mrb_sys_proc_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_proc_value",{configurable:!0,set:function(){S("You are setting _mrb_sys_proc_value on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_sys_raise_current_exception")||(Object.defineProperty(t.ready,"_mrb_sys_raise_current_exception",{configurable:!0,get:function(){S("You are getting _mrb_sys_raise_current_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_sys_raise_current_exception",{configurable:!0,set:function(){S("You are setting _mrb_sys_raise_current_exception on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_strlen")||(Object.defineProperty(t.ready,"_mrb_str_strlen",{configurable:!0,get:function(){S("You are getting _mrb_str_strlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_strlen",{configurable:!0,set:function(){S("You are setting _mrb_str_strlen on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_modify_keep_ascii")||(Object.defineProperty(t.ready,"_mrb_str_modify_keep_ascii",{configurable:!0,get:function(){S("You are getting _mrb_str_modify_keep_ascii on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_modify_keep_ascii",{configurable:!0,set:function(){S("You are setting _mrb_str_modify_keep_ascii on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_modify")||(Object.defineProperty(t.ready,"_mrb_str_modify",{configurable:!0,get:function(){S("You are getting _mrb_str_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_modify",{configurable:!0,set:function(){S("You are setting _mrb_str_modify on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_intern")||(Object.defineProperty(t.ready,"_mrb_str_intern",{configurable:!0,get:function(){S("You are getting _mrb_str_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_intern",{configurable:!0,set:function(){S("You are setting _mrb_str_intern on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_mrb_str_append")||(Object.defineProperty(t.ready,"_mrb_str_append",{configurable:!0,get:function(){S("You are getting _mrb_str_append on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_mrb_str_append",{configurable:!0,set:function(){S("You are setting _mrb_str_append on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"_fflush")||(Object.defineProperty(t.ready,"_fflush",{configurable:!0,get:function(){S("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"_fflush",{configurable:!0,set:function(){S("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(t.ready,"onRuntimeInitialized")||(Object.defineProperty(t.ready,"onRuntimeInitialized",{configurable:!0,get:function(){S("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(t.ready,"onRuntimeInitialized",{configurable:!0,set:function(){S("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var o=Object.assign({},t),s=[],a="./this.program",l=(b,C)=>{throw C},c=!0,d=!1,h=!1,u=!1;if(t.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var f="";function m(b){return t.locateFile?t.locateFile(b,f):f+b}var _,v,w,y;function x(b){if(b instanceof k4)return;let C=b;b&&typeof b=="object"&&b.stack&&(C=[b,b.stack]),N("exiting due to exception: "+C)}if(u){if(typeof process=="object"&&typeof DK=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(_=function(C){return read(C)}),w=function(C){let L;return typeof readbuffer=="function"?new Uint8Array(readbuffer(C)):(L=read(C,"binary"),qe(typeof L=="object"),L)},v=function(C,L,E){setTimeout(()=>L(w(C)),0)},typeof scriptArgs<"u"?s=scriptArgs:typeof arguments<"u"&&(s=arguments),typeof quit=="function"&&(l=(b,C)=>{x(C),quit(b)}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(c||d){if(d?f=self.location.href:typeof document<"u"&&document.currentScript&&(f=document.currentScript.src),r&&(f=r),f.indexOf("blob:")!==0?f=f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):f="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");_=b=>{var C=new XMLHttpRequest;return C.open("GET",b,!1),C.send(null),C.responseText},d&&(w=b=>{var C=new XMLHttpRequest;return C.open("GET",b,!1),C.responseType="arraybuffer",C.send(null),new Uint8Array(C.response)}),v=(b,C,L)=>{var E=new XMLHttpRequest;E.open("GET",b,!0),E.responseType="arraybuffer",E.onload=()=>{if(E.status==200||E.status==0&&E.response){C(E.response);return}L()},E.onerror=L,E.send(null)},y=b=>document.title=b}else throw new Error("environment detection error");var k=t.print||console.log.bind(console),N=t.printErr||console.warn.bind(console);Object.assign(t,o),o=null,kse(),t.arguments&&(s=t.arguments),Be("arguments","arguments_"),t.thisProgram&&(a=t.thisProgram),Be("thisProgram","thisProgram"),t.quit&&(l=t.quit),Be("quit","quit_"),qe(typeof t.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),qe(typeof t.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),qe(typeof t.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),qe(typeof t.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),qe(typeof t.read>"u","Module.read option was removed (modify read_ in JS)"),qe(typeof t.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),qe(typeof t.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),qe(typeof t.setWindowTitle>"u","Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),qe(typeof t.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Be("read","read_"),Be("readAsync","readAsync"),Be("readBinary","readBinary"),Be("setWindowTitle","setWindowTitle");var M="IDBFS is no longer included by default; build with -lidbfs.js",I="PROXYFS is no longer included by default; build with -lproxyfs.js",O="WORKERFS is no longer included by default; build with -lworkerfs.js",R="NODEFS is no longer included by default; build with -lnodefs.js";qe(!d,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable."),qe(!h,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable."),qe(!u,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var K=16,q=4;function te(b){switch(b){case"i1":case"i8":case"u8":return 1;case"i16":case"u16":return 2;case"i32":case"u32":return 4;case"i64":case"u64":return 8;case"float":return 4;case"double":return 8;default:{if(b[b.length-1]==="*")return q;if(b[0]==="i"){let C=Number(b.substr(1));return qe(C%8===0,"getNativeTypeSize invalid bits "+C+", type "+b),C/8}else return 0}}}function ie(b){ie.shown||(ie.shown={}),ie.shown[b]||(ie.shown[b]=1,N(b))}function xe(b){return qe(b<16384),b<128?[b]:[b%128|128,b>>7]}function Ae(b,C){if(typeof WebAssembly.Function=="function"){for(var L={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"},E={parameters:[],results:C[0]=="v"?[]:[L[C[0]]]},P=1;P<C.length;++P)qe(C[P]in L,"invalid signature char: "+C[P]),E.parameters.push(L[C[P]]);return new WebAssembly.Function(E,b)}var U=[1,96],X=C.slice(0,1),ee=C.slice(1),ke={i:127,p:127,j:126,f:125,d:124};U=U.concat(xe(ee.length));for(var P=0;P<ee.length;++P)qe(ee[P]in ke,"invalid signature char: "+ee[P]),U.push(ke[ee[P]]);X=="v"?U.push(0):U=U.concat([1,ke[X]]),U=[1].concat(xe(U.length),U);var $e=new Uint8Array([0,97,115,109,1,0,0,0].concat(U,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),st=new WebAssembly.Module($e),vt=new WebAssembly.Instance(st,{e:{f:b}}),tt=vt.exports.f;return tt}var Re=[],Ve;function nt(){if(Re.length)return Re.pop();try{Ue.grow(1)}catch(b){throw b instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":b}return Ue.length-1}function Dt(b,C){for(var L=b;L<b+C;L++){var E=Vn(L);E&&Ve.set(E,L)}}function Si(b,C){if(qe(typeof b<"u"),Ve||(Ve=new WeakMap,Dt(0,Ue.length)),Ve.has(b))return Ve.get(b);var L=nt();try{gK(L,b)}catch(P){if(!(P instanceof TypeError))throw P;qe(typeof C<"u","Missing signature argument to addFunction: "+b);var E=Ae(b,C);gK(L,E)}return Ve.set(b,L),L}function Ei(b){Ve.delete(Vn(b)),Re.push(b)}function Be(b,C){Object.getOwnPropertyDescriptor(t,b)||Object.defineProperty(t,b,{configurable:!0,get:function(){S("Module."+b+" has been replaced with plain "+C+" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}function He(b){Object.getOwnPropertyDescriptor(t,b)&&S("`Module."+b+"` was supplied but `"+b+"` not included in INCOMING_MODULE_JS_API")}function fi(b,C){var L="'"+b+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)";return C&&(L+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),L}function rn(b,C){Object.getOwnPropertyDescriptor(t,b)||Object.defineProperty(t,b,{configurable:!0,get:function(){S(fi(b,C))}})}function G(b,C){Object.getOwnPropertyDescriptor(t,b)||(t[b]=()=>S(fi(b,C)))}var Dr=0,qn=b=>{Dr=b},ls=()=>Dr,Zr;t.wasmBinary&&(Zr=t.wasmBinary),Be("wasmBinary","wasmBinary");var Et=t.noExitRuntime||!0;Be("noExitRuntime","noExitRuntime"),typeof WebAssembly!="object"&&S("no native wasm support detected");var Ma,cs=!1,Xl;function qe(b,C){b||S("Assertion failed"+(C?": "+C:""))}function qc(b){var C=t["_"+b];return qe(C,"Cannot call unknown function "+b+", make sure it is exported"),C}function Du(b,C,L,E,P){var U={string:function(Jt){var ar=0;if(Jt!=null&&Jt!==0){var Yc=(Jt.length<<2)+1;ar=Ry(Yc),Y(Jt,ar,Yc)}return ar},array:function(Jt){var ar=Ry(Jt.length);return So(Jt,ar),ar}};function X(Jt){return C==="string"?V(Jt):C==="boolean"?Boolean(Jt):Jt}var ee=qc(b),ke=[],$e=0;if(qe(C!=="array",'Return type should not be "array".'),E)for(var st=0;st<E.length;st++){var vt=U[L[st]];vt?($e===0&&($e=Li()),ke[st]=vt(E[st])):ke[st]=E[st]}var tt=ee.apply(null,ke);function Rt(Jt){return $e!==0&&xi($e),X(Jt)}return tt=Rt(tt),tt}function ku(b,C,L,E){return function(){return Du(b,C,L,arguments,E)}}var Yp=0,de=1;function re(b,C){var L;return qe(typeof C=="number","allocate no longer takes a type argument"),qe(typeof b!="number","allocate no longer takes a number as arg0"),C==de?L=Ry(b.length):L=x4(b.length),!b.subarray&&!b.slice&&(b=new Uint8Array(b)),kr.set(b,L),L}var ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function j(b,C,L){for(var E=C+L,P=C;b[P]&&!(P>=E);)++P;if(P-C>16&&b.buffer&&ae)return ae.decode(b.subarray(C,P));for(var U="";C<P;){var X=b[C++];if(!(X&128)){U+=String.fromCharCode(X);continue}var ee=b[C++]&63;if((X&224)==192){U+=String.fromCharCode((X&31)<<6|ee);continue}var ke=b[C++]&63;if((X&240)==224?X=(X&15)<<12|ee<<6|ke:((X&248)!=240&&ie("Invalid UTF-8 leading byte 0x"+X.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),X=(X&7)<<18|ee<<12|ke<<6|b[C++]&63),X<65536)U+=String.fromCharCode(X);else{var $e=X-65536;U+=String.fromCharCode(55296|$e>>10,56320|$e&1023)}}return U}function V(b,C){return b?j(kr,b,C):""}function Q(b,C,L,E){if(!(E>0))return 0;for(var P=L,U=L+E-1,X=0;X<b.length;++X){var ee=b.charCodeAt(X);if(ee>=55296&&ee<=57343){var ke=b.charCodeAt(++X);ee=65536+((ee&1023)<<10)|ke&1023}if(ee<=127){if(L>=U)break;C[L++]=ee}else if(ee<=2047){if(L+1>=U)break;C[L++]=192|ee>>6,C[L++]=128|ee&63}else if(ee<=65535){if(L+2>=U)break;C[L++]=224|ee>>12,C[L++]=128|ee>>6&63,C[L++]=128|ee&63}else{if(L+3>=U)break;ee>1114111&&ie("Invalid Unicode code point 0x"+ee.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),C[L++]=240|ee>>18,C[L++]=128|ee>>12&63,C[L++]=128|ee>>6&63,C[L++]=128|ee&63}}return C[L]=0,L-P}function Y(b,C,L){return qe(typeof L=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),Q(b,kr,C,L)}function fe(b){for(var C=0,L=0;L<b.length;++L){var E=b.charCodeAt(L);E>=55296&&E<=57343&&(E=65536+((E&1023)<<10)|b.charCodeAt(++L)&1023),E<=127?++C:E<=2047?C+=2:E<=65535?C+=3:C+=4}return C}function De(b){for(var C="";;){var L=kr[b++>>0];if(!L)return C;C+=String.fromCharCode(L)}}function dt(b,C){return Qd(b,C,!1)}var Qe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Ut(b,C){qe(b%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var L=b,E=L>>1,P=E+C/2;!(E>=P)&&Jd[E];)++E;if(L=E<<1,L-b>32&&Qe)return Qe.decode(kr.subarray(b,L));for(var U="",X=0;!(X>=C/2);++X){var ee=na[b+X*2>>1];if(ee==0)break;U+=String.fromCharCode(ee)}return U}function jt(b,C,L){if(qe(C%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),qe(typeof L=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),L===void 0&&(L=2147483647),L<2)return 0;L-=2;for(var E=C,P=L<b.length*2?L/2:b.length,U=0;U<P;++U){var X=b.charCodeAt(U);na[C>>1]=X,C+=2}return na[C>>1]=0,C-E}function Bi(b){return b.length*2}function pi(b,C){qe(b%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var L=0,E="";!(L>=C/4);){var P=Wt[b+L*4>>2];if(P==0)break;if(++L,P>=65536){var U=P-65536;E+=String.fromCharCode(55296|U>>10,56320|U&1023)}else E+=String.fromCharCode(P)}return E}function ht(b,C,L){if(qe(C%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),qe(typeof L=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),L===void 0&&(L=2147483647),L<4)return 0;for(var E=C,P=E+L-4,U=0;U<b.length;++U){var X=b.charCodeAt(U);if(X>=55296&&X<=57343){var ee=b.charCodeAt(++U);X=65536+((X&1023)<<10)|ee&1023}if(Wt[C>>2]=X,C+=4,C+4>P)break}return Wt[C>>2]=0,C-E}function so(b){for(var C=0,L=0;L<b.length;++L){var E=b.charCodeAt(L);E>=55296&&E<=57343&&++L,C+=4}return C}function zn(b){var C=fe(b)+1,L=x4(C);return L&&Q(b,Mn,L,C),L}function ta(b){var C=fe(b)+1,L=Ry(C);return Q(b,Mn,L,C),L}function An(b,C,L){ie("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var E,P;L&&(P=C+fe(b),E=Mn[P]),Y(b,C,1/0),L&&(Mn[P]=E)}function So(b,C){qe(b.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),Mn.set(b,C)}function Qd(b,C,L){for(var E=0;E<b.length;++E)qe(b.charCodeAt(E)===(b.charCodeAt(E)&255)),Mn[C++>>0]=b.charCodeAt(E);L||(Mn[C>>0]=0)}var ia,fl,Mn,kr,na,Jd,Wt,Yn,Eu,vg;function p4(b){fl=b,t.HEAP8=Mn=new Int8Array(b),t.HEAP16=na=new Int16Array(b),t.HEAP32=Wt=new Int32Array(b),t.HEAPU8=kr=new Uint8Array(b),t.HEAPU16=Jd=new Uint16Array(b),t.HEAPU32=Yn=new Uint32Array(b),t.HEAPF32=Eu=new Float32Array(b),t.HEAPF64=vg=new Float64Array(b)}var zt=5242880;t.TOTAL_STACK&&qe(zt===t.TOTAL_STACK,"the stack size can no longer be determined at runtime");var ce=t.INITIAL_MEMORY||16777216;Be("INITIAL_MEMORY","INITIAL_MEMORY"),qe(ce>=zt,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+ce+"! (TOTAL_STACK="+zt+")"),qe(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),qe(!t.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),qe(ce==16777216,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var Ue;function It(){var b=D4();qe((b&3)==0),Wt[b>>2]=34821223,Wt[b+4>>2]=2310721022,Yn[0]=1668509029}function Hi(){if(!cs){var b=D4(),C=Yn[b>>2],L=Yn[b+4>>2];(C!=34821223||L!=2310721022)&&S("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+L.toString(16)+" 0x"+C.toString(16)),Yn[0]!==1668509029&&S("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var b=new Int16Array(1),C=new Int8Array(b.buffer);if(b[0]=25459,C[0]!==115||C[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var sr=[],Er=[],Ir=[],eh=[],Cg=[],n0=!1;function aE(){return Et}function lK(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Fre(t.preRun.shift());cE(sr)}function Are(){Hi(),qe(!n0),n0=!0,!t.noFSInit&&!T.init.initialized&&T.init(),T.ignorePermissions=!1,Nu.init(),cE(Er)}function Mre(){Hi(),cE(Ir)}function Rre(){if(Hi(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)jre(t.postRun.shift());cE(Cg)}function Fre(b){sr.unshift(b)}function Bre(b){Er.unshift(b)}function LLe(b){Ir.unshift(b)}function xLe(b){}function jre(b){Cg.unshift(b)}qe(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),qe(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),qe(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),qe(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var wg=0,Zp=null,Ty=null,o0={};function cK(b){for(var C=b;;){if(!o0[b])return b;b=C+Math.random()}}function _4(b){wg++,t.monitorRunDependencies&&t.monitorRunDependencies(wg),b?(qe(!o0[b]),o0[b]=1,Zp===null&&typeof setInterval<"u"&&(Zp=setInterval(function(){if(cs){clearInterval(Zp),Zp=null;return}var C=!1;for(var L in o0)C||(C=!0,N("still waiting on run dependencies:")),N("dependency: "+L);C&&N("(end of list)")},1e4))):N("warning: run dependency added without ID")}function lE(b){if(wg--,t.monitorRunDependencies&&t.monitorRunDependencies(wg),b?(qe(o0[b]),delete o0[b]):N("warning: run dependency removed without ID"),wg==0&&(Zp!==null&&(clearInterval(Zp),Zp=null),Ty)){var C=Ty;Ty=null,C()}}function S(b){t.onAbort&&t.onAbort(b),b="Aborted("+b+")",N(b),cs=!0,Xl=1;var C=new WebAssembly.RuntimeError(b);throw n(C),C}var Wre="data:application/octet-stream;base64,";function dK(b){return b.startsWith(Wre)}function zre(b){return b.startsWith("file://")}function A(b,C){return function(){var L=b,E=C;return C||(E=t.asm),qe(n0,"native function `"+L+"` called before runtime initialization"),E[b]||qe(E[b],"exported native function `"+L+"` not found"),E[b].apply(null,arguments)}}var gl;gl="playground.wasm",dK(gl)||(gl=m(gl));function hK(b){try{if(b==gl&&Zr)return new Uint8Array(Zr);if(w)return w(b);throw"both async and sync fetching of the wasm failed"}catch(C){S(C)}}function Vre(){return!Zr&&(c||d)&&typeof fetch=="function"?fetch(gl,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+gl+"'";return b.arrayBuffer()}).catch(function(){return hK(gl)}):Promise.resolve().then(function(){return hK(gl)})}function Ure(){var b={env:CK,wasi_snapshot_preview1:CK};function C(ee,ke){var $e=ee.exports;t.asm=$e,Ma=t.asm.memory,qe(Ma,"memory not found in wasm exports"),p4(Ma.buffer),Ue=t.asm.__indirect_function_table,qe(Ue,"table not found in wasm exports"),Bre(t.asm.__wasm_call_ctors),lE("wasm-instantiate")}_4("wasm-instantiate");var L=t;function E(ee){qe(t===L,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),L=null,C(ee.instance)}function P(ee){return Vre().then(function(ke){return WebAssembly.instantiate(ke,b)}).then(function(ke){return ke}).then(ee,function(ke){N("failed to asynchronously prepare wasm: "+ke),zre(gl)&&N("warning: Loading from a file URI ("+gl+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),S(ke)})}function U(){return!Zr&&typeof WebAssembly.instantiateStreaming=="function"&&!dK(gl)&&typeof fetch=="function"?fetch(gl,{credentials:"same-origin"}).then(function(ee){var ke=WebAssembly.instantiateStreaming(ee,b);return ke.then(E,function($e){return N("wasm streaming compile failed: "+$e),N("falling back to ArrayBuffer instantiation"),P(E)})}):P(E)}if(t.instantiateWasm)try{var X=t.instantiateWasm(b,C);return X}catch(ee){return N("Module.instantiateWasm callback failed with error: "+ee),!1}return U().catch(n),{}}var Gr,Iu,DLe={};function cE(b){for(;b.length>0;){var C=b.shift();if(typeof C=="function"){C(t);continue}var L=C.func;typeof L=="number"?C.arg===void 0?Vn(L)():Vn(L)(C.arg):L(C.arg===void 0?null:C.arg)}}function kLe(b){var C=Li(),L=b();return xi(C),L}function Hre(b){return ie("warning: build with -sDEMANGLE_SUPPORT to link in libcxxabi demangling"),b}function uK(b){var C=/\b_Z[\w\d_]+/g;return b.replace(C,function(L){var E=Hre(L);return L===E?L:E+" ["+L+"]"})}function ELe(b,C="i8"){switch(C.endsWith("*")&&(C="i32"),C){case"i1":return Mn[b>>0];case"i8":return Mn[b>>0];case"i16":return na[b>>1];case"i32":return Wt[b>>2];case"i64":return Wt[b>>2];case"float":return Eu[b>>2];case"double":return Number(vg[b>>3]);default:S("invalid type for getValue: "+C)}return null}var Py=[];function Vn(b){var C=Py[b];return C||(b>=Py.length&&(Py.length=b+1),Py[b]=C=Ue.get(b)),qe(Ue.get(b)==C,"JavaScript-side Wasm function table mirror is out of date!"),C}function fK(b){if(b instanceof k4||b=="unwind")return Xl;l(1,b)}function $re(){var b=new Error;if(!b.stack){try{throw new Error}catch(C){b=C}if(!b.stack)return"(no stack trace available)"}return b.stack.toString()}function ILe(b,C,L="i8"){switch(L.endsWith("*")&&(L="i32"),L){case"i1":Mn[b>>0]=C;break;case"i8":Mn[b>>0]=C;break;case"i16":na[b>>1]=C;break;case"i32":Wt[b>>2]=C;break;case"i64":Iu=[C>>>0,(Gr=C,+Math.abs(Gr)>=1?Gr>0?(Math.min(+Math.floor(Gr/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Gr-+(~~Gr>>>0))/4294967296)>>>0:0)],Wt[b>>2]=Iu[0],Wt[b+4>>2]=Iu[1];break;case"float":Eu[b>>2]=C;break;case"double":vg[b>>3]=C;break;default:S("invalid type for setValue: "+L)}}function gK(b,C){Ue.set(b,C),Py[b]=Ue.get(b)}function OLe(){var b=$re();return t.extraStackTrace&&(b+=`
`+t.extraStackTrace()),uK(b)}function Kre(b){return x4(b+24)+24}var b4=[];function qre(b){b.add_ref()}var mK=0;function Yre(b){var C=new Ay(b);return C.get_caught()||(C.set_caught(!0),mK--),C.set_rethrown(!1),b4.push(C),qre(C),C.get_exception_ptr()}var r0=0;function Ay(b){this.excPtr=b,this.ptr=b-24,this.set_type=function(C){Yn[this.ptr+4>>2]=C},this.get_type=function(){return Yn[this.ptr+4>>2]},this.set_destructor=function(C){Yn[this.ptr+8>>2]=C},this.get_destructor=function(){return Yn[this.ptr+8>>2]},this.set_refcount=function(C){Wt[this.ptr>>2]=C},this.set_caught=function(C){C=C?1:0,Mn[this.ptr+12>>0]=C},this.get_caught=function(){return Mn[this.ptr+12>>0]!=0},this.set_rethrown=function(C){C=C?1:0,Mn[this.ptr+13>>0]=C},this.get_rethrown=function(){return Mn[this.ptr+13>>0]!=0},this.init=function(C,L){this.set_adjusted_ptr(0),this.set_type(C),this.set_destructor(L),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var C=Wt[this.ptr>>2];Wt[this.ptr>>2]=C+1},this.release_ref=function(){var C=Wt[this.ptr>>2];return Wt[this.ptr>>2]=C-1,qe(C>0),C===1},this.set_adjusted_ptr=function(C){Yn[this.ptr+16>>2]=C},this.get_adjusted_ptr=function(){return Yn[this.ptr+16>>2]},this.get_exception_ptr=function(){var C=Nse(this.get_type());if(C)return Yn[this.excPtr>>2];var L=this.get_adjusted_ptr();return L!==0?L:this.excPtr}}function Zre(b){try{return Ese(new Ay(b).ptr)}catch(C){N("exception during __cxa_free_exception: "+C)}}function Gre(b){if(b.release_ref()&&!b.get_rethrown()){var C=b.get_destructor();C&&Vn(C)(b.excPtr),Zre(b.excPtr)}}function Xre(){Ii(0),qe(b4.length>0);var b=b4.pop();Gre(b),r0=0}function Qre(b){throw r0||(r0=b),b}function Jre(){var b=r0;if(!b)return qn(0),0;var C=new Ay(b);C.set_adjusted_ptr(b);var L=C.get_type();if(!L)return qn(0),b;for(var E=Array.prototype.slice.call(arguments),P=0;P<E.length;P++){var U=E[P];if(U===0||U===L)break;var X=C.ptr+16;if(SK(U,L,X))return qn(U),b}return qn(L),b}function ese(){var b=r0;if(!b)return qn(0),0;var C=new Ay(b);C.set_adjusted_ptr(b);var L=C.get_type();if(!L)return qn(0),b;for(var E=Array.prototype.slice.call(arguments),P=0;P<E.length;P++){var U=E[P];if(U===0||U===L)break;var X=C.ptr+16;if(SK(U,L,X))return qn(U),b}return qn(L),b}function tse(b,C,L){var E=new Ay(b);throw E.init(C,L),r0=b,mK++,b}var pn={isAbs:b=>b.charAt(0)==="/",splitPath:b=>{var C=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return C.exec(b).slice(1)},normalizeArray:(b,C)=>{for(var L=0,E=b.length-1;E>=0;E--){var P=b[E];P==="."?b.splice(E,1):P===".."?(b.splice(E,1),L++):L&&(b.splice(E,1),L--)}if(C)for(;L;L--)b.unshift("..");return b},normalize:b=>{var C=pn.isAbs(b),L=b.substr(-1)==="/";return b=pn.normalizeArray(b.split("/").filter(E=>!!E),!C).join("/"),!b&&!C&&(b="."),b&&L&&(b+="/"),(C?"/":"")+b},dirname:b=>{var C=pn.splitPath(b),L=C[0],E=C[1];return!L&&!E?".":(E&&(E=E.substr(0,E.length-1)),L+E)},basename:b=>{if(b==="/")return"/";b=pn.normalize(b),b=b.replace(/\/$/,"");var C=b.lastIndexOf("/");return C===-1?b:b.substr(C+1)},join:function(){var b=Array.prototype.slice.call(arguments,0);return pn.normalize(b.join("/"))},join2:(b,C)=>pn.normalize(b+"/"+C)};function ise(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var b=new Uint8Array(1);return function(){return crypto.getRandomValues(b),b[0]}}else return function(){S("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}var Ou={resolve:function(){for(var b="",C=!1,L=arguments.length-1;L>=-1&&!C;L--){var E=L>=0?arguments[L]:T.cwd();if(typeof E!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!E)return"";b=E+"/"+b,C=pn.isAbs(E)}return b=pn.normalizeArray(b.split("/").filter(P=>!!P),!C).join("/"),(C?"/":"")+b||"."},relative:(b,C)=>{b=Ou.resolve(b).substr(1),C=Ou.resolve(C).substr(1);function L($e){for(var st=0;st<$e.length&&$e[st]==="";st++);for(var vt=$e.length-1;vt>=0&&$e[vt]==="";vt--);return st>vt?[]:$e.slice(st,vt-st+1)}for(var E=L(b.split("/")),P=L(C.split("/")),U=Math.min(E.length,P.length),X=U,ee=0;ee<U;ee++)if(E[ee]!==P[ee]){X=ee;break}for(var ke=[],ee=X;ee<E.length;ee++)ke.push("..");return ke=ke.concat(P.slice(X)),ke.join("/")}},Nu={ttys:[],init:function(){},shutdown:function(){},register:function(b,C){Nu.ttys[b]={input:[],output:[],ops:C},T.registerDevice(b,Nu.stream_ops)},stream_ops:{open:function(b){var C=Nu.ttys[b.node.rdev];if(!C)throw new T.ErrnoError(43);b.tty=C,b.seekable=!1},close:function(b){b.tty.ops.flush(b.tty)},flush:function(b){b.tty.ops.flush(b.tty)},read:function(b,C,L,E,P){if(!b.tty||!b.tty.ops.get_char)throw new T.ErrnoError(60);for(var U=0,X=0;X<E;X++){var ee;try{ee=b.tty.ops.get_char(b.tty)}catch{throw new T.ErrnoError(29)}if(ee===void 0&&U===0)throw new T.ErrnoError(6);if(ee==null)break;U++,C[L+X]=ee}return U&&(b.node.timestamp=Date.now()),U},write:function(b,C,L,E,P){if(!b.tty||!b.tty.ops.put_char)throw new T.ErrnoError(60);try{for(var U=0;U<E;U++)b.tty.ops.put_char(b.tty,C[L+U])}catch{throw new T.ErrnoError(29)}return E&&(b.node.timestamp=Date.now()),U}},default_tty_ops:{get_char:function(b){if(!b.input.length){var C=null;if(typeof window<"u"&&typeof window.prompt=="function"?(C=window.prompt("Input: "),C!==null&&(C+=`
`)):typeof readline=="function"&&(C=readline(),C!==null&&(C+=`
`)),!C)return null;b.input=L4(C,!0)}return b.input.shift()},put_char:function(b,C){C===null||C===10?(k(j(b.output,0)),b.output=[]):C!=0&&b.output.push(C)},flush:function(b){b.output&&b.output.length>0&&(k(j(b.output,0)),b.output=[])}},default_tty1_ops:{put_char:function(b,C){C===null||C===10?(N(j(b.output,0)),b.output=[]):C!=0&&b.output.push(C)},flush:function(b){b.output&&b.output.length>0&&(N(j(b.output,0)),b.output=[])}}};function NLe(b,C){kr.fill(0,b,b+C)}function TLe(b,C){return qe(C,"alignment argument is required"),Math.ceil(b/C)*C}function nse(b){S("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")}var _i={ops_table:null,mount:function(b){return _i.createNode(null,"/",16895,0)},createNode:function(b,C,L,E){if(T.isBlkdev(L)||T.isFIFO(L))throw new T.ErrnoError(63);_i.ops_table||(_i.ops_table={dir:{node:{getattr:_i.node_ops.getattr,setattr:_i.node_ops.setattr,lookup:_i.node_ops.lookup,mknod:_i.node_ops.mknod,rename:_i.node_ops.rename,unlink:_i.node_ops.unlink,rmdir:_i.node_ops.rmdir,readdir:_i.node_ops.readdir,symlink:_i.node_ops.symlink},stream:{llseek:_i.stream_ops.llseek}},file:{node:{getattr:_i.node_ops.getattr,setattr:_i.node_ops.setattr},stream:{llseek:_i.stream_ops.llseek,read:_i.stream_ops.read,write:_i.stream_ops.write,allocate:_i.stream_ops.allocate,mmap:_i.stream_ops.mmap,msync:_i.stream_ops.msync}},link:{node:{getattr:_i.node_ops.getattr,setattr:_i.node_ops.setattr,readlink:_i.node_ops.readlink},stream:{}},chrdev:{node:{getattr:_i.node_ops.getattr,setattr:_i.node_ops.setattr},stream:T.chrdev_stream_ops}});var P=T.createNode(b,C,L,E);return T.isDir(P.mode)?(P.node_ops=_i.ops_table.dir.node,P.stream_ops=_i.ops_table.dir.stream,P.contents={}):T.isFile(P.mode)?(P.node_ops=_i.ops_table.file.node,P.stream_ops=_i.ops_table.file.stream,P.usedBytes=0,P.contents=null):T.isLink(P.mode)?(P.node_ops=_i.ops_table.link.node,P.stream_ops=_i.ops_table.link.stream):T.isChrdev(P.mode)&&(P.node_ops=_i.ops_table.chrdev.node,P.stream_ops=_i.ops_table.chrdev.stream),P.timestamp=Date.now(),b&&(b.contents[C]=P,b.timestamp=P.timestamp),P},getFileDataAsTypedArray:function(b){return b.contents?b.contents.subarray?b.contents.subarray(0,b.usedBytes):new Uint8Array(b.contents):new Uint8Array(0)},expandFileStorage:function(b,C){var L=b.contents?b.contents.length:0;if(!(L>=C)){var E=1024*1024;C=Math.max(C,L*(L<E?2:1.125)>>>0),L!=0&&(C=Math.max(C,256));var P=b.contents;b.contents=new Uint8Array(C),b.usedBytes>0&&b.contents.set(P.subarray(0,b.usedBytes),0)}},resizeFileStorage:function(b,C){if(b.usedBytes!=C)if(C==0)b.contents=null,b.usedBytes=0;else{var L=b.contents;b.contents=new Uint8Array(C),L&&b.contents.set(L.subarray(0,Math.min(C,b.usedBytes))),b.usedBytes=C}},node_ops:{getattr:function(b){var C={};return C.dev=T.isChrdev(b.mode)?b.id:1,C.ino=b.id,C.mode=b.mode,C.nlink=1,C.uid=0,C.gid=0,C.rdev=b.rdev,T.isDir(b.mode)?C.size=4096:T.isFile(b.mode)?C.size=b.usedBytes:T.isLink(b.mode)?C.size=b.link.length:C.size=0,C.atime=new Date(b.timestamp),C.mtime=new Date(b.timestamp),C.ctime=new Date(b.timestamp),C.blksize=4096,C.blocks=Math.ceil(C.size/C.blksize),C},setattr:function(b,C){C.mode!==void 0&&(b.mode=C.mode),C.timestamp!==void 0&&(b.timestamp=C.timestamp),C.size!==void 0&&_i.resizeFileStorage(b,C.size)},lookup:function(b,C){throw T.genericErrors[44]},mknod:function(b,C,L,E){return _i.createNode(b,C,L,E)},rename:function(b,C,L){if(T.isDir(b.mode)){var E;try{E=T.lookupNode(C,L)}catch{}if(E)for(var P in E.contents)throw new T.ErrnoError(55)}delete b.parent.contents[b.name],b.parent.timestamp=Date.now(),b.name=L,C.contents[L]=b,C.timestamp=b.parent.timestamp,b.parent=C},unlink:function(b,C){delete b.contents[C],b.timestamp=Date.now()},rmdir:function(b,C){var L=T.lookupNode(b,C);for(var E in L.contents)throw new T.ErrnoError(55);delete b.contents[C],b.timestamp=Date.now()},readdir:function(b){var C=[".",".."];for(var L in b.contents)!b.contents.hasOwnProperty(L)||C.push(L);return C},symlink:function(b,C,L){var E=_i.createNode(b,C,41471,0);return E.link=L,E},readlink:function(b){if(!T.isLink(b.mode))throw new T.ErrnoError(28);return b.link}},stream_ops:{read:function(b,C,L,E,P){var U=b.node.contents;if(P>=b.node.usedBytes)return 0;var X=Math.min(b.node.usedBytes-P,E);if(qe(X>=0),X>8&&U.subarray)C.set(U.subarray(P,P+X),L);else for(var ee=0;ee<X;ee++)C[L+ee]=U[P+ee];return X},write:function(b,C,L,E,P,U){if(qe(!(C instanceof ArrayBuffer)),!E)return 0;var X=b.node;if(X.timestamp=Date.now(),C.subarray&&(!X.contents||X.contents.subarray)){if(U)return qe(P===0,"canOwn must imply no weird position inside the file"),X.contents=C.subarray(L,L+E),X.usedBytes=E,E;if(X.usedBytes===0&&P===0)return X.contents=C.slice(L,L+E),X.usedBytes=E,E;if(P+E<=X.usedBytes)return X.contents.set(C.subarray(L,L+E),P),E}if(_i.expandFileStorage(X,P+E),X.contents.subarray&&C.subarray)X.contents.set(C.subarray(L,L+E),P);else for(var ee=0;ee<E;ee++)X.contents[P+ee]=C[L+ee];return X.usedBytes=Math.max(X.usedBytes,P+E),E},llseek:function(b,C,L){var E=C;if(L===1?E+=b.position:L===2&&T.isFile(b.node.mode)&&(E+=b.node.usedBytes),E<0)throw new T.ErrnoError(28);return E},allocate:function(b,C,L){_i.expandFileStorage(b.node,C+L),b.node.usedBytes=Math.max(b.node.usedBytes,C+L)},mmap:function(b,C,L,E,P){if(!T.isFile(b.node.mode))throw new T.ErrnoError(43);var U,X,ee=b.node.contents;if(!(P&2)&&ee.buffer===fl)X=!1,U=ee.byteOffset;else{if((L>0||L+C<ee.length)&&(ee.subarray?ee=ee.subarray(L,L+C):ee=Array.prototype.slice.call(ee,L,L+C)),X=!0,U=nse(C),!U)throw new T.ErrnoError(48);Mn.set(ee,U)}return{ptr:U,allocated:X}},msync:function(b,C,L,E,P){if(!T.isFile(b.node.mode))throw new T.ErrnoError(43);if(P&2)return 0;var U=_i.stream_ops.write(b,C,0,E,L,!1);return 0}}};function ose(b,C,L,E){var P=E?"":cK("al "+b);v(b,function(U){qe(U,'Loading data file "'+b+'" failed (no arrayBuffer).'),C(new Uint8Array(U)),P&&lE(P)},function(U){if(L)L();else throw'Loading data file "'+b+'" failed.'}),P&&_4(P)}var rse={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},v4={},T={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(b,C={})=>{if(b=Ou.resolve(T.cwd(),b),!b)return{path:"",node:null};var L={follow_mount:!0,recurse_count:0};if(C=Object.assign(L,C),C.recurse_count>8)throw new T.ErrnoError(32);for(var E=pn.normalizeArray(b.split("/").filter(vt=>!!vt),!1),P=T.root,U="/",X=0;X<E.length;X++){var ee=X===E.length-1;if(ee&&C.parent)break;if(P=T.lookupNode(P,E[X]),U=pn.join2(U,E[X]),T.isMountpoint(P)&&(!ee||ee&&C.follow_mount)&&(P=P.mounted.root),!ee||C.follow)for(var ke=0;T.isLink(P.mode);){var $e=T.readlink(U);U=Ou.resolve(pn.dirname(U),$e);var st=T.lookupPath(U,{recurse_count:C.recurse_count+1});if(P=st.node,ke++>40)throw new T.ErrnoError(32)}}return{path:U,node:P}},getPath:b=>{for(var C;;){if(T.isRoot(b)){var L=b.mount.mountpoint;return C?L[L.length-1]!=="/"?L+"/"+C:L+C:L}C=C?b.name+"/"+C:b.name,b=b.parent}},hashName:(b,C)=>{for(var L=0,E=0;E<C.length;E++)L=(L<<5)-L+C.charCodeAt(E)|0;return(b+L>>>0)%T.nameTable.length},hashAddNode:b=>{var C=T.hashName(b.parent.id,b.name);b.name_next=T.nameTable[C],T.nameTable[C]=b},hashRemoveNode:b=>{var C=T.hashName(b.parent.id,b.name);if(T.nameTable[C]===b)T.nameTable[C]=b.name_next;else for(var L=T.nameTable[C];L;){if(L.name_next===b){L.name_next=b.name_next;break}L=L.name_next}},lookupNode:(b,C)=>{var L=T.mayLookup(b);if(L)throw new T.ErrnoError(L,b);for(var E=T.hashName(b.id,C),P=T.nameTable[E];P;P=P.name_next){var U=P.name;if(P.parent.id===b.id&&U===C)return P}return T.lookup(b,C)},createNode:(b,C,L,E)=>{qe(typeof b=="object");var P=new T.FSNode(b,C,L,E);return T.hashAddNode(P),P},destroyNode:b=>{T.hashRemoveNode(b)},isRoot:b=>b===b.parent,isMountpoint:b=>!!b.mounted,isFile:b=>(b&61440)===32768,isDir:b=>(b&61440)===16384,isLink:b=>(b&61440)===40960,isChrdev:b=>(b&61440)===8192,isBlkdev:b=>(b&61440)===24576,isFIFO:b=>(b&61440)===4096,isSocket:b=>(b&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:b=>{var C=T.flagModes[b];if(typeof C>"u")throw new Error("Unknown file open mode: "+b);return C},flagsToPermissionString:b=>{var C=["r","w","rw"][b&3];return b&512&&(C+="w"),C},nodePermissions:(b,C)=>T.ignorePermissions?0:C.includes("r")&&!(b.mode&292)||C.includes("w")&&!(b.mode&146)||C.includes("x")&&!(b.mode&73)?2:0,mayLookup:b=>{var C=T.nodePermissions(b,"x");return C||(b.node_ops.lookup?0:2)},mayCreate:(b,C)=>{try{var L=T.lookupNode(b,C);return 20}catch{}return T.nodePermissions(b,"wx")},mayDelete:(b,C,L)=>{var E;try{E=T.lookupNode(b,C)}catch(U){return U.errno}var P=T.nodePermissions(b,"wx");if(P)return P;if(L){if(!T.isDir(E.mode))return 54;if(T.isRoot(E)||T.getPath(E)===T.cwd())return 10}else if(T.isDir(E.mode))return 31;return 0},mayOpen:(b,C)=>b?T.isLink(b.mode)?32:T.isDir(b.mode)&&(T.flagsToPermissionString(C)!=="r"||C&512)?31:T.nodePermissions(b,T.flagsToPermissionString(C)):44,MAX_OPEN_FDS:4096,nextfd:(b=0,C=T.MAX_OPEN_FDS)=>{for(var L=b;L<=C;L++)if(!T.streams[L])return L;throw new T.ErrnoError(33)},getStream:b=>T.streams[b],createStream:(b,C,L)=>{T.FSStream||(T.FSStream=function(){this.shared={}},T.FSStream.prototype={object:{get:function(){return this.node},set:function(P){this.node=P}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(P){this.shared.flags=P}},position:{get function(){return this.shared.position},set:function(P){this.shared.position=P}}}),b=Object.assign(new T.FSStream,b);var E=T.nextfd(C,L);return b.fd=E,T.streams[E]=b,b},closeStream:b=>{T.streams[b]=null},chrdev_stream_ops:{open:b=>{var C=T.getDevice(b.node.rdev);b.stream_ops=C.stream_ops,b.stream_ops.open&&b.stream_ops.open(b)},llseek:()=>{throw new T.ErrnoError(70)}},major:b=>b>>8,minor:b=>b&255,makedev:(b,C)=>b<<8|C,registerDevice:(b,C)=>{T.devices[b]={stream_ops:C}},getDevice:b=>T.devices[b],getMounts:b=>{for(var C=[],L=[b];L.length;){var E=L.pop();C.push(E),L.push.apply(L,E.mounts)}return C},syncfs:(b,C)=>{typeof b=="function"&&(C=b,b=!1),T.syncFSRequests++,T.syncFSRequests>1&&N("warning: "+T.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var L=T.getMounts(T.root.mount),E=0;function P(X){return qe(T.syncFSRequests>0),T.syncFSRequests--,C(X)}function U(X){if(X)return U.errored?void 0:(U.errored=!0,P(X));++E>=L.length&&P(null)}L.forEach(X=>{if(!X.type.syncfs)return U(null);X.type.syncfs(X,b,U)})},mount:(b,C,L)=>{if(typeof b=="string")throw b;var E=L==="/",P=!L,U;if(E&&T.root)throw new T.ErrnoError(10);if(!E&&!P){var X=T.lookupPath(L,{follow_mount:!1});if(L=X.path,U=X.node,T.isMountpoint(U))throw new T.ErrnoError(10);if(!T.isDir(U.mode))throw new T.ErrnoError(54)}var ee={type:b,opts:C,mountpoint:L,mounts:[]},ke=b.mount(ee);return ke.mount=ee,ee.root=ke,E?T.root=ke:U&&(U.mounted=ee,U.mount&&U.mount.mounts.push(ee)),ke},unmount:b=>{var C=T.lookupPath(b,{follow_mount:!1});if(!T.isMountpoint(C.node))throw new T.ErrnoError(28);var L=C.node,E=L.mounted,P=T.getMounts(E);Object.keys(T.nameTable).forEach(X=>{for(var ee=T.nameTable[X];ee;){var ke=ee.name_next;P.includes(ee.mount)&&T.destroyNode(ee),ee=ke}}),L.mounted=null;var U=L.mount.mounts.indexOf(E);qe(U!==-1),L.mount.mounts.splice(U,1)},lookup:(b,C)=>b.node_ops.lookup(b,C),mknod:(b,C,L)=>{var E=T.lookupPath(b,{parent:!0}),P=E.node,U=pn.basename(b);if(!U||U==="."||U==="..")throw new T.ErrnoError(28);var X=T.mayCreate(P,U);if(X)throw new T.ErrnoError(X);if(!P.node_ops.mknod)throw new T.ErrnoError(63);return P.node_ops.mknod(P,U,C,L)},create:(b,C)=>(C=C!==void 0?C:438,C&=4095,C|=32768,T.mknod(b,C,0)),mkdir:(b,C)=>(C=C!==void 0?C:511,C&=1023,C|=16384,T.mknod(b,C,0)),mkdirTree:(b,C)=>{for(var L=b.split("/"),E="",P=0;P<L.length;++P)if(!!L[P]){E+="/"+L[P];try{T.mkdir(E,C)}catch(U){if(U.errno!=20)throw U}}},mkdev:(b,C,L)=>(typeof L>"u"&&(L=C,C=438),C|=8192,T.mknod(b,C,L)),symlink:(b,C)=>{if(!Ou.resolve(b))throw new T.ErrnoError(44);var L=T.lookupPath(C,{parent:!0}),E=L.node;if(!E)throw new T.ErrnoError(44);var P=pn.basename(C),U=T.mayCreate(E,P);if(U)throw new T.ErrnoError(U);if(!E.node_ops.symlink)throw new T.ErrnoError(63);return E.node_ops.symlink(E,P,b)},rename:(b,C)=>{var L=pn.dirname(b),E=pn.dirname(C),P=pn.basename(b),U=pn.basename(C),X,ee,ke;if(X=T.lookupPath(b,{parent:!0}),ee=X.node,X=T.lookupPath(C,{parent:!0}),ke=X.node,!ee||!ke)throw new T.ErrnoError(44);if(ee.mount!==ke.mount)throw new T.ErrnoError(75);var $e=T.lookupNode(ee,P),st=Ou.relative(b,E);if(st.charAt(0)!==".")throw new T.ErrnoError(28);if(st=Ou.relative(C,L),st.charAt(0)!==".")throw new T.ErrnoError(55);var vt;try{vt=T.lookupNode(ke,U)}catch{}if($e!==vt){var tt=T.isDir($e.mode),Rt=T.mayDelete(ee,P,tt);if(Rt)throw new T.ErrnoError(Rt);if(Rt=vt?T.mayDelete(ke,U,tt):T.mayCreate(ke,U),Rt)throw new T.ErrnoError(Rt);if(!ee.node_ops.rename)throw new T.ErrnoError(63);if(T.isMountpoint($e)||vt&&T.isMountpoint(vt))throw new T.ErrnoError(10);if(ke!==ee&&(Rt=T.nodePermissions(ee,"w"),Rt))throw new T.ErrnoError(Rt);T.hashRemoveNode($e);try{ee.node_ops.rename($e,ke,U)}catch(Jt){throw Jt}finally{T.hashAddNode($e)}}},rmdir:b=>{var C=T.lookupPath(b,{parent:!0}),L=C.node,E=pn.basename(b),P=T.lookupNode(L,E),U=T.mayDelete(L,E,!0);if(U)throw new T.ErrnoError(U);if(!L.node_ops.rmdir)throw new T.ErrnoError(63);if(T.isMountpoint(P))throw new T.ErrnoError(10);L.node_ops.rmdir(L,E),T.destroyNode(P)},readdir:b=>{var C=T.lookupPath(b,{follow:!0}),L=C.node;if(!L.node_ops.readdir)throw new T.ErrnoError(54);return L.node_ops.readdir(L)},unlink:b=>{var C=T.lookupPath(b,{parent:!0}),L=C.node;if(!L)throw new T.ErrnoError(44);var E=pn.basename(b),P=T.lookupNode(L,E),U=T.mayDelete(L,E,!1);if(U)throw new T.ErrnoError(U);if(!L.node_ops.unlink)throw new T.ErrnoError(63);if(T.isMountpoint(P))throw new T.ErrnoError(10);L.node_ops.unlink(L,E),T.destroyNode(P)},readlink:b=>{var C=T.lookupPath(b),L=C.node;if(!L)throw new T.ErrnoError(44);if(!L.node_ops.readlink)throw new T.ErrnoError(28);return Ou.resolve(T.getPath(L.parent),L.node_ops.readlink(L))},stat:(b,C)=>{var L=T.lookupPath(b,{follow:!C}),E=L.node;if(!E)throw new T.ErrnoError(44);if(!E.node_ops.getattr)throw new T.ErrnoError(63);return E.node_ops.getattr(E)},lstat:b=>T.stat(b,!0),chmod:(b,C,L)=>{var E;if(typeof b=="string"){var P=T.lookupPath(b,{follow:!L});E=P.node}else E=b;if(!E.node_ops.setattr)throw new T.ErrnoError(63);E.node_ops.setattr(E,{mode:C&4095|E.mode&-4096,timestamp:Date.now()})},lchmod:(b,C)=>{T.chmod(b,C,!0)},fchmod:(b,C)=>{var L=T.getStream(b);if(!L)throw new T.ErrnoError(8);T.chmod(L.node,C)},chown:(b,C,L,E)=>{var P;if(typeof b=="string"){var U=T.lookupPath(b,{follow:!E});P=U.node}else P=b;if(!P.node_ops.setattr)throw new T.ErrnoError(63);P.node_ops.setattr(P,{timestamp:Date.now()})},lchown:(b,C,L)=>{T.chown(b,C,L,!0)},fchown:(b,C,L)=>{var E=T.getStream(b);if(!E)throw new T.ErrnoError(8);T.chown(E.node,C,L)},truncate:(b,C)=>{if(C<0)throw new T.ErrnoError(28);var L;if(typeof b=="string"){var E=T.lookupPath(b,{follow:!0});L=E.node}else L=b;if(!L.node_ops.setattr)throw new T.ErrnoError(63);if(T.isDir(L.mode))throw new T.ErrnoError(31);if(!T.isFile(L.mode))throw new T.ErrnoError(28);var P=T.nodePermissions(L,"w");if(P)throw new T.ErrnoError(P);L.node_ops.setattr(L,{size:C,timestamp:Date.now()})},ftruncate:(b,C)=>{var L=T.getStream(b);if(!L)throw new T.ErrnoError(8);if((L.flags&2097155)===0)throw new T.ErrnoError(28);T.truncate(L.node,C)},utime:(b,C,L)=>{var E=T.lookupPath(b,{follow:!0}),P=E.node;P.node_ops.setattr(P,{timestamp:Math.max(C,L)})},open:(b,C,L)=>{if(b==="")throw new T.ErrnoError(44);C=typeof C=="string"?T.modeStringToFlags(C):C,L=typeof L>"u"?438:L,C&64?L=L&4095|32768:L=0;var E;if(typeof b=="object")E=b;else{b=pn.normalize(b);try{var P=T.lookupPath(b,{follow:!(C&131072)});E=P.node}catch{}}var U=!1;if(C&64)if(E){if(C&128)throw new T.ErrnoError(20)}else E=T.mknod(b,L,0),U=!0;if(!E)throw new T.ErrnoError(44);if(T.isChrdev(E.mode)&&(C&=-513),C&65536&&!T.isDir(E.mode))throw new T.ErrnoError(54);if(!U){var X=T.mayOpen(E,C);if(X)throw new T.ErrnoError(X)}C&512&&!U&&T.truncate(E,0),C&=-131713;var ee=T.createStream({node:E,path:T.getPath(E),flags:C,seekable:!0,position:0,stream_ops:E.stream_ops,ungotten:[],error:!1});return ee.stream_ops.open&&ee.stream_ops.open(ee),t.logReadFiles&&!(C&1)&&(T.readFiles||(T.readFiles={}),b in T.readFiles||(T.readFiles[b]=1)),ee},close:b=>{if(T.isClosed(b))throw new T.ErrnoError(8);b.getdents&&(b.getdents=null);try{b.stream_ops.close&&b.stream_ops.close(b)}catch(C){throw C}finally{T.closeStream(b.fd)}b.fd=null},isClosed:b=>b.fd===null,llseek:(b,C,L)=>{if(T.isClosed(b))throw new T.ErrnoError(8);if(!b.seekable||!b.stream_ops.llseek)throw new T.ErrnoError(70);if(L!=0&&L!=1&&L!=2)throw new T.ErrnoError(28);return b.position=b.stream_ops.llseek(b,C,L),b.ungotten=[],b.position},read:(b,C,L,E,P)=>{if(E<0||P<0)throw new T.ErrnoError(28);if(T.isClosed(b))throw new T.ErrnoError(8);if((b.flags&2097155)===1)throw new T.ErrnoError(8);if(T.isDir(b.node.mode))throw new T.ErrnoError(31);if(!b.stream_ops.read)throw new T.ErrnoError(28);var U=typeof P<"u";if(!U)P=b.position;else if(!b.seekable)throw new T.ErrnoError(70);var X=b.stream_ops.read(b,C,L,E,P);return U||(b.position+=X),X},write:(b,C,L,E,P,U)=>{if(E<0||P<0)throw new T.ErrnoError(28);if(T.isClosed(b))throw new T.ErrnoError(8);if((b.flags&2097155)===0)throw new T.ErrnoError(8);if(T.isDir(b.node.mode))throw new T.ErrnoError(31);if(!b.stream_ops.write)throw new T.ErrnoError(28);b.seekable&&b.flags&1024&&T.llseek(b,0,2);var X=typeof P<"u";if(!X)P=b.position;else if(!b.seekable)throw new T.ErrnoError(70);var ee=b.stream_ops.write(b,C,L,E,P,U);return X||(b.position+=ee),ee},allocate:(b,C,L)=>{if(T.isClosed(b))throw new T.ErrnoError(8);if(C<0||L<=0)throw new T.ErrnoError(28);if((b.flags&2097155)===0)throw new T.ErrnoError(8);if(!T.isFile(b.node.mode)&&!T.isDir(b.node.mode))throw new T.ErrnoError(43);if(!b.stream_ops.allocate)throw new T.ErrnoError(138);b.stream_ops.allocate(b,C,L)},mmap:(b,C,L,E,P)=>{if((E&2)!==0&&(P&2)===0&&(b.flags&2097155)!==2)throw new T.ErrnoError(2);if((b.flags&2097155)===1)throw new T.ErrnoError(2);if(!b.stream_ops.mmap)throw new T.ErrnoError(43);return b.stream_ops.mmap(b,C,L,E,P)},msync:(b,C,L,E,P)=>!b||!b.stream_ops.msync?0:b.stream_ops.msync(b,C,L,E,P),munmap:b=>0,ioctl:(b,C,L)=>{if(!b.stream_ops.ioctl)throw new T.ErrnoError(59);return b.stream_ops.ioctl(b,C,L)},readFile:(b,C={})=>{if(C.flags=C.flags||0,C.encoding=C.encoding||"binary",C.encoding!=="utf8"&&C.encoding!=="binary")throw new Error('Invalid encoding type "'+C.encoding+'"');var L,E=T.open(b,C.flags),P=T.stat(b),U=P.size,X=new Uint8Array(U);return T.read(E,X,0,U,0),C.encoding==="utf8"?L=j(X,0):C.encoding==="binary"&&(L=X),T.close(E),L},writeFile:(b,C,L={})=>{L.flags=L.flags||577;var E=T.open(b,L.flags,L.mode);if(typeof C=="string"){var P=new Uint8Array(fe(C)+1),U=Q(C,P,0,P.length);T.write(E,P,0,U,void 0,L.canOwn)}else if(ArrayBuffer.isView(C))T.write(E,C,0,C.byteLength,void 0,L.canOwn);else throw new Error("Unsupported data type");T.close(E)},cwd:()=>T.currentPath,chdir:b=>{var C=T.lookupPath(b,{follow:!0});if(C.node===null)throw new T.ErrnoError(44);if(!T.isDir(C.node.mode))throw new T.ErrnoError(54);var L=T.nodePermissions(C.node,"x");if(L)throw new T.ErrnoError(L);T.currentPath=C.path},createDefaultDirectories:()=>{T.mkdir("/tmp"),T.mkdir("/home"),T.mkdir("/home/web_user")},createDefaultDevices:()=>{T.mkdir("/dev"),T.registerDevice(T.makedev(1,3),{read:()=>0,write:(C,L,E,P,U)=>P}),T.mkdev("/dev/null",T.makedev(1,3)),Nu.register(T.makedev(5,0),Nu.default_tty_ops),Nu.register(T.makedev(6,0),Nu.default_tty1_ops),T.mkdev("/dev/tty",T.makedev(5,0)),T.mkdev("/dev/tty1",T.makedev(6,0));var b=ise();T.createDevice("/dev","random",b),T.createDevice("/dev","urandom",b),T.mkdir("/dev/shm"),T.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{T.mkdir("/proc");var b=T.mkdir("/proc/self");T.mkdir("/proc/self/fd"),T.mount({mount:()=>{var C=T.createNode(b,"fd",16895,73);return C.node_ops={lookup:(L,E)=>{var P=+E,U=T.getStream(P);if(!U)throw new T.ErrnoError(8);var X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>U.path}};return X.parent=X,X}},C}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?T.createDevice("/dev","stdin",t.stdin):T.symlink("/dev/tty","/dev/stdin"),t.stdout?T.createDevice("/dev","stdout",null,t.stdout):T.symlink("/dev/tty","/dev/stdout"),t.stderr?T.createDevice("/dev","stderr",null,t.stderr):T.symlink("/dev/tty1","/dev/stderr");var b=T.open("/dev/stdin",0),C=T.open("/dev/stdout",1),L=T.open("/dev/stderr",1);qe(b.fd===0,"invalid handle for stdin ("+b.fd+")"),qe(C.fd===1,"invalid handle for stdout ("+C.fd+")"),qe(L.fd===2,"invalid handle for stderr ("+L.fd+")")},ensureErrnoError:()=>{T.ErrnoError||(T.ErrnoError=function(C,L){this.node=L,this.setErrno=function(E){this.errno=E;for(var P in v4)if(v4[P]===E){this.code=P;break}},this.setErrno(C),this.message=rse[C],this.stack&&(Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0}),this.stack=uK(this.stack))},T.ErrnoError.prototype=new Error,T.ErrnoError.prototype.constructor=T.ErrnoError,[44].forEach(b=>{T.genericErrors[b]=new T.ErrnoError(b),T.genericErrors[b].stack="<generic error, no stack>"}))},staticInit:()=>{T.ensureErrnoError(),T.nameTable=new Array(4096),T.mount(_i,{},"/"),T.createDefaultDirectories(),T.createDefaultDevices(),T.createSpecialDirectories(),T.filesystems={MEMFS:_i}},init:(b,C,L)=>{qe(!T.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),T.init.initialized=!0,T.ensureErrnoError(),t.stdin=b||t.stdin,t.stdout=C||t.stdout,t.stderr=L||t.stderr,T.createStandardStreams()},quit:()=>{T.init.initialized=!1,wK(0);for(var b=0;b<T.streams.length;b++){var C=T.streams[b];!C||T.close(C)}},getMode:(b,C)=>{var L=0;return b&&(L|=365),C&&(L|=146),L},findObject:(b,C)=>{var L=T.analyzePath(b,C);return L.exists?L.object:null},analyzePath:(b,C)=>{try{var L=T.lookupPath(b,{follow:!C});b=L.path}catch{}var E={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var L=T.lookupPath(b,{parent:!0});E.parentExists=!0,E.parentPath=L.path,E.parentObject=L.node,E.name=pn.basename(b),L=T.lookupPath(b,{follow:!C}),E.exists=!0,E.path=L.path,E.object=L.node,E.name=L.node.name,E.isRoot=L.path==="/"}catch(P){E.error=P.errno}return E},createPath:(b,C,L,E)=>{b=typeof b=="string"?b:T.getPath(b);for(var P=C.split("/").reverse();P.length;){var U=P.pop();if(!!U){var X=pn.join2(b,U);try{T.mkdir(X)}catch{}b=X}}return X},createFile:(b,C,L,E,P)=>{var U=pn.join2(typeof b=="string"?b:T.getPath(b),C),X=T.getMode(E,P);return T.create(U,X)},createDataFile:(b,C,L,E,P,U)=>{var X=C;b&&(b=typeof b=="string"?b:T.getPath(b),X=C?pn.join2(b,C):b);var ee=T.getMode(E,P),ke=T.create(X,ee);if(L){if(typeof L=="string"){for(var $e=new Array(L.length),st=0,vt=L.length;st<vt;++st)$e[st]=L.charCodeAt(st);L=$e}T.chmod(ke,ee|146);var tt=T.open(ke,577);T.write(tt,L,0,L.length,0,U),T.close(tt),T.chmod(ke,ee)}return ke},createDevice:(b,C,L,E)=>{var P=pn.join2(typeof b=="string"?b:T.getPath(b),C),U=T.getMode(!!L,!!E);T.createDevice.major||(T.createDevice.major=64);var X=T.makedev(T.createDevice.major++,0);return T.registerDevice(X,{open:ee=>{ee.seekable=!1},close:ee=>{E&&E.buffer&&E.buffer.length&&E(10)},read:(ee,ke,$e,st,vt)=>{for(var tt=0,Rt=0;Rt<st;Rt++){var Jt;try{Jt=L()}catch{throw new T.ErrnoError(29)}if(Jt===void 0&&tt===0)throw new T.ErrnoError(6);if(Jt==null)break;tt++,ke[$e+Rt]=Jt}return tt&&(ee.node.timestamp=Date.now()),tt},write:(ee,ke,$e,st,vt)=>{for(var tt=0;tt<st;tt++)try{E(ke[$e+tt])}catch{throw new T.ErrnoError(29)}return st&&(ee.node.timestamp=Date.now()),tt}}),T.mkdev(P,U,X)},forceLoadFile:b=>{if(b.isDevice||b.isFolder||b.link||b.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(_)try{b.contents=L4(_(b.url),!0),b.usedBytes=b.contents.length}catch{throw new T.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(b,C,L,E,P)=>{function U(){this.lengthKnown=!1,this.chunks=[]}if(U.prototype.get=function(tt){if(!(tt>this.length-1||tt<0)){var Rt=tt%this.chunkSize,Jt=tt/this.chunkSize|0;return this.getter(Jt)[Rt]}},U.prototype.setDataGetter=function(tt){this.getter=tt},U.prototype.cacheLength=function(){var tt=new XMLHttpRequest;if(tt.open("HEAD",L,!1),tt.send(null),!(tt.status>=200&&tt.status<300||tt.status===304))throw new Error("Couldn't load "+L+". Status: "+tt.status);var Rt=Number(tt.getResponseHeader("Content-length")),Jt,ar=(Jt=tt.getResponseHeader("Accept-Ranges"))&&Jt==="bytes",Yc=(Jt=tt.getResponseHeader("Content-Encoding"))&&Jt==="gzip",Ra=1024*1024;ar||(Ra=Rt);var Fa=(Ba,ml)=>{if(Ba>ml)throw new Error("invalid range ("+Ba+", "+ml+") or no bytes requested!");if(ml>Rt-1)throw new Error("only "+Rt+" bytes available! programmer error!");var Lo=new XMLHttpRequest;if(Lo.open("GET",L,!1),Rt!==Ra&&Lo.setRequestHeader("Range","bytes="+Ba+"-"+ml),Lo.responseType="arraybuffer",Lo.overrideMimeType&&Lo.overrideMimeType("text/plain; charset=x-user-defined"),Lo.send(null),!(Lo.status>=200&&Lo.status<300||Lo.status===304))throw new Error("Couldn't load "+L+". Status: "+Lo.status);return Lo.response!==void 0?new Uint8Array(Lo.response||[]):L4(Lo.responseText||"",!0)},Tu=this;Tu.setDataGetter(Ba=>{var ml=Ba*Ra,Lo=(Ba+1)*Ra-1;if(Lo=Math.min(Lo,Rt-1),typeof Tu.chunks[Ba]>"u"&&(Tu.chunks[Ba]=Fa(ml,Lo)),typeof Tu.chunks[Ba]>"u")throw new Error("doXHR failed!");return Tu.chunks[Ba]}),(Yc||!Rt)&&(Ra=Rt=1,Rt=this.getter(0).length,Ra=Rt,k("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Rt,this._chunkSize=Ra,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new U;Object.defineProperties(X,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ee={isDevice:!1,contents:X}}else var ee={isDevice:!1,url:L};var ke=T.createFile(b,C,ee,E,P);ee.contents?ke.contents=ee.contents:ee.url&&(ke.contents=null,ke.url=ee.url),Object.defineProperties(ke,{usedBytes:{get:function(){return this.contents.length}}});var $e={},st=Object.keys(ke.stream_ops);return st.forEach(vt=>{var tt=ke.stream_ops[vt];$e[vt]=function(){return T.forceLoadFile(ke),tt.apply(null,arguments)}}),$e.read=(vt,tt,Rt,Jt,ar)=>{T.forceLoadFile(ke);var Yc=vt.node.contents;if(ar>=Yc.length)return 0;var Ra=Math.min(Yc.length-ar,Jt);if(qe(Ra>=0),Yc.slice)for(var Fa=0;Fa<Ra;Fa++)tt[Rt+Fa]=Yc[ar+Fa];else for(var Fa=0;Fa<Ra;Fa++)tt[Rt+Fa]=Yc.get(ar+Fa);return Ra},ke.stream_ops=$e,ke},createPreloadedFile:(b,C,L,E,P,U,X,ee,ke,$e)=>{var st=C?Ou.resolve(pn.join2(b,C)):b,vt=cK("cp "+st);function tt(Rt){function Jt(ar){$e&&$e(),ee||T.createDataFile(b,C,ar,E,P,ke),U&&U(),lE(vt)}pe.handledByPreloadPlugin(Rt,st,Jt,()=>{X&&X(),lE(vt)})||Jt(Rt)}_4(vt),typeof L=="string"?ose(L,Rt=>tt(Rt),X):tt(L)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(b,C,L)=>{C=C||(()=>{}),L=L||(()=>{});var E=T.indexedDB();try{var P=E.open(T.DB_NAME(),T.DB_VERSION)}catch(U){return L(U)}P.onupgradeneeded=()=>{k("creating db");var U=P.result;U.createObjectStore(T.DB_STORE_NAME)},P.onsuccess=()=>{var U=P.result,X=U.transaction([T.DB_STORE_NAME],"readwrite"),ee=X.objectStore(T.DB_STORE_NAME),ke=0,$e=0,st=b.length;function vt(){$e==0?C():L()}b.forEach(tt=>{var Rt=ee.put(T.analyzePath(tt).object.contents,tt);Rt.onsuccess=()=>{ke++,ke+$e==st&&vt()},Rt.onerror=()=>{$e++,ke+$e==st&&vt()}}),X.onerror=L},P.onerror=L},loadFilesFromDB:(b,C,L)=>{C=C||(()=>{}),L=L||(()=>{});var E=T.indexedDB();try{var P=E.open(T.DB_NAME(),T.DB_VERSION)}catch(U){return L(U)}P.onupgradeneeded=L,P.onsuccess=()=>{var U=P.result;try{var X=U.transaction([T.DB_STORE_NAME],"readonly")}catch(tt){L(tt);return}var ee=X.objectStore(T.DB_STORE_NAME),ke=0,$e=0,st=b.length;function vt(){$e==0?C():L()}b.forEach(tt=>{var Rt=ee.get(tt);Rt.onsuccess=()=>{T.analyzePath(tt).exists&&T.unlink(tt),T.createDataFile(pn.dirname(tt),pn.basename(tt),Rt.result,!0,!0,!0),ke++,ke+$e==st&&vt()},Rt.onerror=()=>{$e++,ke+$e==st&&vt()}}),X.onerror=L},P.onerror=L},absolutePath:()=>{S("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:()=>{S("FS.createFolder has been removed; use FS.mkdir instead")},createLink:()=>{S("FS.createLink has been removed; use FS.symlink instead")},joinPath:()=>{S("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:()=>{S("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:()=>{S("FS.standardizePath has been removed; use PATH.normalize instead")}},th={DEFAULT_POLLMASK:5,calculateAt:function(b,C,L){if(pn.isAbs(C))return C;var E;if(b===-100)E=T.cwd();else{var P=T.getStream(b);if(!P)throw new T.ErrnoError(8);E=P.path}if(C.length==0){if(!L)throw new T.ErrnoError(44);return E}return pn.join2(E,C)},doStat:function(b,C,L){try{var E=b(C)}catch(P){if(P&&P.node&&pn.normalize(C)!==pn.normalize(T.getPath(P.node)))return-54;throw P}return Wt[L>>2]=E.dev,Wt[L+4>>2]=0,Wt[L+8>>2]=E.ino,Wt[L+12>>2]=E.mode,Wt[L+16>>2]=E.nlink,Wt[L+20>>2]=E.uid,Wt[L+24>>2]=E.gid,Wt[L+28>>2]=E.rdev,Wt[L+32>>2]=0,Iu=[E.size>>>0,(Gr=E.size,+Math.abs(Gr)>=1?Gr>0?(Math.min(+Math.floor(Gr/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Gr-+(~~Gr>>>0))/4294967296)>>>0:0)],Wt[L+40>>2]=Iu[0],Wt[L+44>>2]=Iu[1],Wt[L+48>>2]=4096,Wt[L+52>>2]=E.blocks,Wt[L+56>>2]=E.atime.getTime()/1e3|0,Wt[L+60>>2]=0,Wt[L+64>>2]=E.mtime.getTime()/1e3|0,Wt[L+68>>2]=0,Wt[L+72>>2]=E.ctime.getTime()/1e3|0,Wt[L+76>>2]=0,Iu=[E.ino>>>0,(Gr=E.ino,+Math.abs(Gr)>=1?Gr>0?(Math.min(+Math.floor(Gr/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Gr-+(~~Gr>>>0))/4294967296)>>>0:0)],Wt[L+80>>2]=Iu[0],Wt[L+84>>2]=Iu[1],0},doMsync:function(b,C,L,E,P){var U=kr.slice(b,b+L);T.msync(C,U,P,L,E)},varargs:void 0,get:function(){qe(th.varargs!=null),th.varargs+=4;var b=Wt[th.varargs-4>>2];return b},getStr:function(b){var C=V(b);return C},getStreamFromFD:function(b){var C=T.getStream(b);if(!C)throw new T.ErrnoError(8);return C}};function sse(b,C){try{if(C===0)return-28;var L=T.cwd(),E=fe(L)+1;return C<E?-68:(Y(L,b,C),E)}catch(P){if(typeof T>"u"||!(P instanceof T.ErrnoError))throw P;return-P.errno}}function ase(b,C,L,E){th.varargs=E;try{C=th.getStr(C),C=th.calculateAt(b,C);var P=E?th.get():0;return T.open(C,L,P).fd}catch(U){if(typeof T>"u"||!(U instanceof T.ErrnoError))throw U;return-U.errno}}function lse(){throw 1/0}function cse(){S("native code called abort()")}function dse(b,C,L){kr.copyWithin(b,C,C+L)}function PLe(){return kr.length}function hse(b){var C=kr.length;return b=b>>>0,!1}function C4(b,C){if(cs){N("user callback triggered after runtime exited or application aborted.  Ignoring.");return}if(C){b();return}try{b()}catch(L){fK(L)}}function ALe(){}function MLe(){}function pK(b,C){return setTimeout(function(){C4(b)},C)}var pe={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){pe.mainLoop.scheduler=null,pe.mainLoop.currentlyRunningMainloop++},resume:function(){pe.mainLoop.currentlyRunningMainloop++;var b=pe.mainLoop.timingMode,C=pe.mainLoop.timingValue,L=pe.mainLoop.func;pe.mainLoop.func=null,_K(L,0,!1,pe.mainLoop.arg,!0),w4(b,C),pe.mainLoop.scheduler()},updateStatus:function(){if(t.setStatus){var b=t.statusMessage||"Please wait...",C=pe.mainLoop.remainingBlockers,L=pe.mainLoop.expectedBlockers;C?C<L?t.setStatus(b+" ("+(L-C)+"/"+L+")"):t.setStatus(b):t.setStatus("")}},runIter:function(b){if(!cs){if(t.preMainLoop){var C=t.preMainLoop();if(C===!1)return}C4(b),t.postMainLoop&&t.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(t.preloadPlugins||(t.preloadPlugins=[]),pe.initted)return;pe.initted=!0;try{new Blob,pe.hasBlobConstructor=!0}catch{pe.hasBlobConstructor=!1,k("warning: no blob constructor, cannot create blobs with mimetypes")}pe.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:pe.hasBlobConstructor?null:k("warning: no BlobBuilder"),pe.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,!t.noImageDecoding&&typeof pe.URLObject>"u"&&(k("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),t.noImageDecoding=!0);var b={};b.canHandle=function(U){return!t.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(U)},b.handle=function(U,X,ee,ke){var $e=null;if(pe.hasBlobConstructor)try{$e=new Blob([U],{type:pe.getMimetype(X)}),$e.size!==U.length&&($e=new Blob([new Uint8Array(U).buffer],{type:pe.getMimetype(X)}))}catch(Rt){ie("Blob constructor present but fails: "+Rt+"; falling back to blob builder")}if(!$e){var st=new pe.BlobBuilder;st.append(new Uint8Array(U).buffer),$e=st.getBlob()}var vt=pe.URLObject.createObjectURL($e);qe(typeof vt=="string","createObjectURL must return a url as a string");var tt=new Image;tt.onload=()=>{qe(tt.complete,"Image "+X+" could not be decoded");var Rt=document.createElement("canvas");Rt.width=tt.width,Rt.height=tt.height;var Jt=Rt.getContext("2d");Jt.drawImage(tt,0,0),xse[X]=Rt,pe.URLObject.revokeObjectURL(vt),ee&&ee(U)},tt.onerror=Rt=>{k("Image "+vt+" could not be decoded"),ke&&ke()},tt.src=vt},t.preloadPlugins.push(b);var C={};C.canHandle=function(U){return!t.noAudioDecoding&&U.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},C.handle=function(U,X,ee,ke){var $e=!1;function st(ar){$e||($e=!0,vK[X]=ar,ee&&ee(U))}function vt(){$e||($e=!0,vK[X]=new Audio,ke&&ke())}if(pe.hasBlobConstructor){try{var tt=new Blob([U],{type:pe.getMimetype(X)})}catch{return vt()}var Rt=pe.URLObject.createObjectURL(tt);qe(typeof Rt=="string","createObjectURL must return a url as a string");var Jt=new Audio;Jt.addEventListener("canplaythrough",function(){st(Jt)},!1),Jt.onerror=function(Yc){if($e)return;k("warning: browser could not fully decode audio "+X+", trying slower base64 approach");function Ra(Fa){for(var Tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ba="=",ml="",Lo=0,s0=0,I4=0;I4<Fa.length;I4++)for(Lo=Lo<<8|Fa[I4],s0+=8;s0>=6;){var Fae=Lo>>s0-6&63;s0-=6,ml+=Tu[Fae]}return s0==2?(ml+=Tu[(Lo&3)<<4],ml+=Ba+Ba):s0==4&&(ml+=Tu[(Lo&15)<<2],ml+=Ba),ml}Jt.src="data:audio/x-"+X.substr(-3)+";base64,"+Ra(U),st(Jt)},Jt.src=Rt,pK(function(){st(Jt)},1e4)}else return vt()},t.preloadPlugins.push(C);function L(){pe.pointerLock=document.pointerLockElement===t.canvas||document.mozPointerLockElement===t.canvas||document.webkitPointerLockElement===t.canvas||document.msPointerLockElement===t.canvas}var E=t.canvas;E&&(E.requestPointerLock=E.requestPointerLock||E.mozRequestPointerLock||E.webkitRequestPointerLock||E.msRequestPointerLock||function(){},E.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},E.exitPointerLock=E.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",L,!1),document.addEventListener("mozpointerlockchange",L,!1),document.addEventListener("webkitpointerlockchange",L,!1),document.addEventListener("mspointerlockchange",L,!1),t.elementPointerLock&&E.addEventListener("click",function(P){!pe.pointerLock&&t.canvas.requestPointerLock&&(t.canvas.requestPointerLock(),P.preventDefault())},!1))},handledByPreloadPlugin:function(b,C,L,E){pe.init();var P=!1;return t.preloadPlugins.forEach(function(U){P||U.canHandle(C)&&(U.handle(b,C,L,E),P=!0)}),P},createContext:function(b,C,L,E){if(C&&t.ctx&&b==t.canvas)return t.ctx;var P,U;if(C){var X={antialias:!1,alpha:!1,majorVersion:1};if(E)for(var ee in E)X[ee]=E[ee];typeof GL<"u"&&(U=GL.createContext(b,X),U&&(P=GL.getContext(U).GLctx))}else P=b.getContext("2d");return P?(L&&(C||qe(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),t.ctx=P,C&&GL.makeContextCurrent(U),t.useWebGL=C,pe.moduleContextCreatedCallbacks.forEach(function(ke){ke()}),pe.init()),P):null},destroyContext:function(b,C,L){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(b,C){pe.lockPointer=b,pe.resizeCanvas=C,typeof pe.lockPointer>"u"&&(pe.lockPointer=!0),typeof pe.resizeCanvas>"u"&&(pe.resizeCanvas=!1);var L=t.canvas;function E(){pe.isFullscreen=!1;var U=L.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===U?(L.exitFullscreen=pe.exitFullscreen,pe.lockPointer&&L.requestPointerLock(),pe.isFullscreen=!0,pe.resizeCanvas?pe.setFullscreenCanvasSize():pe.updateCanvasDimensions(L)):(U.parentNode.insertBefore(L,U),U.parentNode.removeChild(U),pe.resizeCanvas?pe.setWindowedCanvasSize():pe.updateCanvasDimensions(L)),t.onFullScreen&&t.onFullScreen(pe.isFullscreen),t.onFullscreen&&t.onFullscreen(pe.isFullscreen)}pe.fullscreenHandlersInstalled||(pe.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",E,!1),document.addEventListener("mozfullscreenchange",E,!1),document.addEventListener("webkitfullscreenchange",E,!1),document.addEventListener("MSFullscreenChange",E,!1));var P=document.createElement("div");L.parentNode.insertBefore(P,L),P.appendChild(L),P.requestFullscreen=P.requestFullscreen||P.mozRequestFullScreen||P.msRequestFullscreen||(P.webkitRequestFullscreen?function(){P.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(P.webkitRequestFullScreen?function(){P.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),P.requestFullscreen()},requestFullScreen:function(){S("Module.requestFullScreen has been replaced by Module.requestFullscreen (without a capital S)")},exitFullscreen:function(){if(!pe.isFullscreen)return!1;var b=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){};return b.apply(document,[]),!0},nextRAF:0,fakeRequestAnimationFrame:function(b){var C=Date.now();if(pe.nextRAF===0)pe.nextRAF=C+1e3/60;else for(;C+2>=pe.nextRAF;)pe.nextRAF+=1e3/60;var L=Math.max(pe.nextRAF-C,0);setTimeout(b,L)},requestAnimationFrame:function(b){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(b);return}var C=pe.fakeRequestAnimationFrame;C(b)},safeSetTimeout:function(b){return pK(b)},safeRequestAnimationFrame:function(b){return pe.requestAnimationFrame(function(){C4(b)})},getMimetype:function(b){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[b.substr(b.lastIndexOf(".")+1)]},getUserMedia:function(b){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(b)},getMovementX:function(b){return b.movementX||b.mozMovementX||b.webkitMovementX||0},getMovementY:function(b){return b.movementY||b.mozMovementY||b.webkitMovementY||0},getMouseWheelDelta:function(b){var C=0;switch(b.type){case"DOMMouseScroll":C=b.detail/3;break;case"mousewheel":C=b.wheelDelta/120;break;case"wheel":switch(C=b.deltaY,b.deltaMode){case 0:C/=100;break;case 1:C/=3;break;case 2:C*=80;break;default:throw"unrecognized mouse wheel delta mode: "+b.deltaMode}break;default:throw"unrecognized mouse wheel event: "+b.type}return C},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(b){if(pe.pointerLock)b.type!="mousemove"&&"mozMovementX"in b?pe.mouseMovementX=pe.mouseMovementY=0:(pe.mouseMovementX=pe.getMovementX(b),pe.mouseMovementY=pe.getMovementY(b)),typeof SDL<"u"?(pe.mouseX=SDL.mouseX+pe.mouseMovementX,pe.mouseY=SDL.mouseY+pe.mouseMovementY):(pe.mouseX+=pe.mouseMovementX,pe.mouseY+=pe.mouseMovementY);else{var C=t.canvas.getBoundingClientRect(),L=t.canvas.width,E=t.canvas.height,P=typeof window.scrollX<"u"?window.scrollX:window.pageXOffset,U=typeof window.scrollY<"u"?window.scrollY:window.pageYOffset;if(qe(typeof P<"u"&&typeof U<"u","Unable to retrieve scroll position, mouse positions likely broken."),b.type==="touchstart"||b.type==="touchend"||b.type==="touchmove"){var X=b.touch;if(X===void 0)return;var ee=X.pageX-(P+C.left),ke=X.pageY-(U+C.top);ee=ee*(L/C.width),ke=ke*(E/C.height);var $e={x:ee,y:ke};if(b.type==="touchstart")pe.lastTouches[X.identifier]=$e,pe.touches[X.identifier]=$e;else if(b.type==="touchend"||b.type==="touchmove"){var st=pe.touches[X.identifier];st||(st=$e),pe.lastTouches[X.identifier]=st,pe.touches[X.identifier]=$e}return}var vt=b.pageX-(P+C.left),tt=b.pageY-(U+C.top);vt=vt*(L/C.width),tt=tt*(E/C.height),pe.mouseMovementX=vt-pe.mouseX,pe.mouseMovementY=tt-pe.mouseY,pe.mouseX=vt,pe.mouseY=tt}},resizeListeners:[],updateResizeListeners:function(){var b=t.canvas;pe.resizeListeners.forEach(function(C){C(b.width,b.height)})},setCanvasSize:function(b,C,L){var E=t.canvas;pe.updateCanvasDimensions(E,b,C),L||pe.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var b=Yn[SDL.screen>>2];b=b|8388608,Wt[SDL.screen>>2]=b}pe.updateCanvasDimensions(t.canvas),pe.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var b=Yn[SDL.screen>>2];b=b&-8388609,Wt[SDL.screen>>2]=b}pe.updateCanvasDimensions(t.canvas),pe.updateResizeListeners()},updateCanvasDimensions:function(b,C,L){C&&L?(b.widthNative=C,b.heightNative=L):(C=b.widthNative,L=b.heightNative);var E=C,P=L;if(t.forcedAspectRatio&&t.forcedAspectRatio>0&&(E/P<t.forcedAspectRatio?E=Math.round(P*t.forcedAspectRatio):P=Math.round(E/t.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===b.parentNode&&typeof screen<"u"){var U=Math.min(screen.width/E,screen.height/P);E=Math.round(E*U),P=Math.round(P*U)}pe.resizeCanvas?(b.width!=E&&(b.width=E),b.height!=P&&(b.height=P),typeof b.style<"u"&&(b.style.removeProperty("width"),b.style.removeProperty("height"))):(b.width!=C&&(b.width=C),b.height!=L&&(b.height=L),typeof b.style<"u"&&(E!=C||P!=L?(b.style.setProperty("width",E+"px","important"),b.style.setProperty("height",P+"px","important")):(b.style.removeProperty("width"),b.style.removeProperty("height"))))}};function w4(b,C){if(pe.mainLoop.timingMode=b,pe.mainLoop.timingValue=C,!pe.mainLoop.func)return N("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up."),1;if(pe.mainLoop.running||(pe.mainLoop.running=!0),b==0)pe.mainLoop.scheduler=function(){var X=Math.max(0,pe.mainLoop.tickStartTime+C-y4())|0;setTimeout(pe.mainLoop.runner,X)},pe.mainLoop.method="timeout";else if(b==1)pe.mainLoop.scheduler=function(){pe.requestAnimationFrame(pe.mainLoop.runner)},pe.mainLoop.method="rAF";else if(b==2){if(typeof setImmediate>"u"){var L=[],E="setimmediate",P=function(U){(U.data===E||U.data.target===E)&&(U.stopPropagation(),L.shift()())};addEventListener("message",P,!0),setImmediate=function(X){L.push(X),d?(t.setImmediates===void 0&&(t.setImmediates=[]),t.setImmediates.push(X),postMessage({target:E})):postMessage(E,"*")}}pe.mainLoop.scheduler=function(){setImmediate(pe.mainLoop.runner)},pe.mainLoop.method="immediate"}return 0}var y4;y4=()=>performance.now();function use(b){LK(b)}function RLe(){}function _K(b,C,L,E,P){qe(!pe.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),pe.mainLoop.func=b,pe.mainLoop.arg=E;var U=pe.mainLoop.currentlyRunningMainloop;function X(){return U<pe.mainLoop.currentlyRunningMainloop?!1:!0}if(pe.mainLoop.running=!1,pe.mainLoop.runner=function(){if(!cs){if(pe.mainLoop.queue.length>0){var ke=Date.now(),$e=pe.mainLoop.queue.shift();if($e.func($e.arg),pe.mainLoop.remainingBlockers){var st=pe.mainLoop.remainingBlockers,vt=st%1==0?st-1:Math.floor(st);$e.counted?pe.mainLoop.remainingBlockers=vt:(vt=vt+.5,pe.mainLoop.remainingBlockers=(8*st+vt)/9)}if(k('main loop blocker "'+$e.name+'" took '+(Date.now()-ke)+" ms"),pe.mainLoop.updateStatus(),!X())return;setTimeout(pe.mainLoop.runner,0);return}if(!!X()){if(pe.mainLoop.currentFrameNumber=pe.mainLoop.currentFrameNumber+1|0,pe.mainLoop.timingMode==1&&pe.mainLoop.timingValue>1&&pe.mainLoop.currentFrameNumber%pe.mainLoop.timingValue!=0){pe.mainLoop.scheduler();return}else pe.mainLoop.timingMode==0&&(pe.mainLoop.tickStartTime=y4());pe.mainLoop.method==="timeout"&&t.ctx&&(ie("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),pe.mainLoop.method=""),pe.mainLoop.runIter(b),Hi(),X()&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),pe.mainLoop.scheduler())}}},P||(C&&C>0?w4(0,1e3/C):w4(1,1),pe.mainLoop.scheduler()),L)throw"unwind"}function fse(b,C,L){var E=Vn(b);_K(E,C,L)}var S4={};function gse(){return a||"./this.program"}function My(){if(!My.strings){var b=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",C={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:b,_:gse()};for(var L in S4)S4[L]===void 0?delete C[L]:C[L]=S4[L];var E=[];for(var L in C)E.push(L+"="+C[L]);My.strings=E}return My.strings}function mse(b,C){var L=0;return My().forEach(function(E,P){var U=C+L;Yn[b+P*4>>2]=U,Qd(E,U),L+=E.length+1}),0}function pse(b,C){var L=My();Yn[b>>2]=L.length;var E=0;return L.forEach(function(P){E+=P.length+1}),Yn[C>>2]=E,0}function _se(b){try{var C=th.getStreamFromFD(b);return T.close(C),0}catch(L){if(typeof T>"u"||!(L instanceof T.ErrnoError))throw L;return L.errno}}function bse(b,C,L,E){for(var P=0,U=0;U<L;U++){var X=Yn[C>>2],ee=Yn[C+4>>2];C+=8;var ke=T.read(b,Mn,X,ee,E);if(ke<0)return-1;if(P+=ke,ke<ee)break}return P}function vse(b,C,L,E){try{var P=th.getStreamFromFD(b),U=bse(P,C,L);return Wt[E>>2]=U,0}catch(X){if(typeof T>"u"||!(X instanceof T.ErrnoError))throw X;return X.errno}}function Cse(b,C,L,E){for(var P=0,U=0;U<L;U++){var X=Yn[C>>2],ee=Yn[C+4>>2];C+=8;var ke=T.write(b,Mn,X,ee,E);if(ke<0)return-1;P+=ke}return P}function wse(b,C,L,E){try{var P=th.getStreamFromFD(b),U=Cse(P,C,L);return Yn[E>>2]=U,0}catch(X){if(typeof T>"u"||!(X instanceof T.ErrnoError))throw X;return X.errno}}function yse(){return ls()}function Sse(b){return b}function Lse(b){qn(b)}var bK=function(b,C,L,E){b||(b=this),this.parent=b,this.mount=b.mount,this.mounted=null,this.id=T.nextInode++,this.name=C,this.mode=L,this.node_ops={},this.stream_ops={},this.rdev=E},dE=365,hE=146;Object.defineProperties(bK.prototype,{read:{get:function(){return(this.mode&dE)===dE},set:function(b){b?this.mode|=dE:this.mode&=~dE}},write:{get:function(){return(this.mode&hE)===hE},set:function(b){b?this.mode|=hE:this.mode&=~hE}},isFolder:{get:function(){return T.isDir(this.mode)}},isDevice:{get:function(){return T.isChrdev(this.mode)}}}),T.FSNode=bK,T.staticInit(),v4={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},t.requestFullscreen=function(C,L){pe.requestFullscreen(C,L)},t.requestFullScreen=function(){pe.requestFullScreen()},t.requestAnimationFrame=function(C){pe.requestAnimationFrame(C)},t.setCanvasSize=function(C,L,E){pe.setCanvasSize(C,L,E)},t.pauseMainLoop=function(){pe.mainLoop.pause()},t.resumeMainLoop=function(){pe.mainLoop.resume()},t.getUserMedia=function(){pe.getUserMedia()},t.createContext=function(C,L,E,P){return pe.createContext(C,L,E,P)};var xse={},vK={},Dse=!0;function L4(b,C,L){var E=L>0?L:fe(b)+1,P=new Array(E),U=Q(b,P,0,P.length);return C&&(P.length=U),P}function FLe(b){for(var C=[],L=0;L<b.length;L++){var E=b[L];E>255&&(Dse&&qe(!1,"Character code "+E+" ("+String.fromCharCode(E)+")  at offset "+L+" not in 0x00-0xFF."),E&=255),C.push(String.fromCharCode(E))}return C.join("")}function kse(){He("fetchSettings")}var CK={__cxa_allocate_exception:Kre,__cxa_begin_catch:Yre,__cxa_end_catch:Xre,__cxa_find_matching_catch_2:Jre,__cxa_find_matching_catch_4:ese,__cxa_throw:tse,__resumeException:Qre,__syscall_getcwd:sse,__syscall_openat:ase,_emscripten_throw_longjmp:lse,abort:cse,emscripten_memcpy_big:dse,emscripten_resize_heap:hse,emscripten_set_main_loop:fse,environ_get:mse,environ_sizes_get:pse,exit:use,fd_close:_se,fd_read:vse,fd_write:wse,getTempRet0:yse,invoke_dd:dae,invoke_ddd:uae,invoke_didd:lae,invoke_i:oae,invoke_ii:iae,invoke_iii:Zse,invoke_iiii:Xse,invoke_iiiii:sae,invoke_iiiiii:mae,invoke_iiiiiiiiiiiii:gae,invoke_iiiiji:Nae,invoke_ij:vae,invoke_ji:yae,invoke_jii:_ae,invoke_jiii:Sae,invoke_jijj:Oae,invoke_v:Qse,invoke_vi:Yse,invoke_vid:hae,invoke_vii:Gse,invoke_viid:cae,invoke_viii:Jse,invoke_viiii:nae,invoke_viiiii:eae,invoke_viiiiii:rae,invoke_viiiiiii:aae,invoke_viiiiiiii:tae,invoke_viiiiiiiii:fae,invoke_viiiiijji:Dae,invoke_viiiij:Eae,invoke_viiiijii:Iae,invoke_viiij:wae,invoke_viiiji:pae,invoke_viij:bae,invoke_viiji:kae,invoke_vij:Cae,invoke_vijii:xae,invoke_vijj:Lae,llvm_eh_typeid_for:Sse,setTempRet0:Lse},BLe=Ure(),jLe=t.___wasm_call_ctors=A("__wasm_call_ctors"),WLe=t._main=A("main"),zLe=t._artichoke_web_repl_init=A("artichoke_web_repl_init"),VLe=t._artichoke_string_new=A("artichoke_string_new"),ULe=t._artichoke_string_free=A("artichoke_string_free"),HLe=t._artichoke_string_getlen=A("artichoke_string_getlen"),$Le=t._artichoke_string_getch=A("artichoke_string_getch"),KLe=t._artichoke_string_putch=A("artichoke_string_putch"),qLe=t._artichoke_eval=A("artichoke_eval"),YLe=t._mrb_gc_protect=A("mrb_gc_protect"),ZLe=t._mrb_class_defined_under=A("mrb_class_defined_under"),GLe=t._mrb_class_get_under=A("mrb_class_get_under"),XLe=t._mrb_class_defined=A("mrb_class_defined"),QLe=t._mrb_class_get=A("mrb_class_get"),JLe=t._mrb_sys_alloc_rstring=A("mrb_sys_alloc_rstring"),exe=t._mrb_define_class_under=A("mrb_define_class_under"),txe=t._mrb_sys_obj_frozen=A("mrb_sys_obj_frozen"),ixe=t._mrb_sys_gc_arena_save=A("mrb_sys_gc_arena_save"),nxe=t._mrb_sys_class_of_value=A("mrb_sys_class_of_value"),oxe=t._mrb_define_class=A("mrb_define_class"),rxe=t._mrb_data_object_alloc=A("mrb_data_object_alloc"),sxe=t._mrb_sys_obj_value=A("mrb_sys_obj_value"),axe=t._mrb_define_module_under=A("mrb_define_module_under"),lxe=t._mrb_data_check_get_ptr=A("mrb_data_check_get_ptr"),cxe=t._mrb_sys_alloc_rarray=A("mrb_sys_alloc_rarray"),dxe=t._mrb_define_class_method=A("mrb_define_class_method"),hxe=t._mrb_define_singleton_method=A("mrb_define_singleton_method"),uxe=t._mrb_define_method=A("mrb_define_method"),fxe=t._mrb_define_module_function=A("mrb_define_module_function"),gxe=t._mrb_define_module=A("mrb_define_module"),mxe=t._mrb_sys_gc_arena_restore=A("mrb_sys_gc_arena_restore"),pxe=t._mrb_sys_value_is_dead=A("mrb_sys_value_is_dead"),_xe=t._mrb_close=A("mrb_close"),bxe=t._mrb_sys_class_value=A("mrb_sys_class_value"),vxe=t._mrb_obj_new=A("mrb_obj_new"),Cxe=t._mrb_sys_value_is_nil=A("mrb_sys_value_is_nil"),wxe=t._mrb_define_global_const=A("mrb_define_global_const"),yxe=t._mrb_define_const=A("mrb_define_const"),Sxe=t._mrb_sys_false_value=A("mrb_sys_false_value"),Lxe=t._mrb_sys_true_value=A("mrb_sys_true_value"),xxe=t._mrb_sys_nil_value=A("mrb_sys_nil_value"),Dxe=t._mrb_sys_value_is_true=A("mrb_sys_value_is_true"),kxe=t._mrb_sys_value_is_false=A("mrb_sys_value_is_false"),Exe=t._mrb_sys_fixnum_value=A("mrb_sys_fixnum_value"),Ixe=t._mrb_sys_fixnum_to_cint=A("mrb_sys_fixnum_to_cint"),Oxe=t._mrb_sys_float_value=A("mrb_sys_float_value"),Nxe=t._mrb_sys_float_to_cdouble=A("mrb_sys_float_to_cdouble"),Txe=t._mrb_hash_new_capa=A("mrb_hash_new_capa"),Pxe=t._mrb_hash_set=A("mrb_hash_set"),Axe=t._mrb_hash_keys=A("mrb_hash_keys"),Mxe=t._mrb_hash_get=A("mrb_hash_get"),Rxe=t._mrb_sys_gc_live_objects=A("mrb_sys_gc_live_objects"),Fxe=t._mrb_sys_safe_gc_mark=A("mrb_sys_safe_gc_mark"),Bxe=t._mrb_incremental_gc=A("mrb_incremental_gc"),jxe=t._mrb_full_gc=A("mrb_full_gc"),Wxe=t._mrb_sys_gc_enable=A("mrb_sys_gc_enable"),zxe=t._mrb_sys_gc_disable=A("mrb_sys_gc_disable"),Vxe=t._mrb_gv_set=A("mrb_gv_set"),Uxe=t._mrbc_filename=A("mrbc_filename"),Hxe=t._mrb_top_self=A("mrb_top_self"),$xe=t._mrb_sys_module_value=A("mrb_sys_module_value"),Kxe=t._mrb_ary_new=A("mrb_ary_new"),qxe=t._mrb_ary_new_capa=A("mrb_ary_new_capa"),Yxe=t._mrb_ary_new_from_values=A("mrb_ary_new_from_values"),Zxe=t._mrb_sys_basic_ptr=A("mrb_sys_basic_ptr"),Gxe=t._mrb_write_barrier=A("mrb_write_barrier"),Xxe=t._mrb_assoc_new=A("mrb_assoc_new"),Qxe=t._mrb_ary_splat=A("mrb_ary_splat"),Jxe=t._mrb_ary_concat=A("mrb_ary_concat"),eDe=t._mrb_ary_pop=A("mrb_ary_pop"),tDe=t._mrb_ary_push=A("mrb_ary_push"),iDe=t._mrb_ary_ref=A("mrb_ary_ref"),nDe=t._mrb_ary_set=A("mrb_ary_set"),oDe=t._mrb_ary_shift=A("mrb_ary_shift"),rDe=t._mrb_ary_unshift=A("mrb_ary_unshift"),sDe=t._mrb_ary_artichoke_free=A("mrb_ary_artichoke_free"),aDe=t._mrb_get_args=A("mrb_get_args"),lDe=t._mrb_sys_repack_into_rarray=A("mrb_sys_repack_into_rarray"),cDe=t._mrb_sys_repack_into_rstring=A("mrb_sys_repack_into_rstring"),dDe=t._mrb_sys_data_init=A("mrb_sys_data_init"),hDe=t._mrb_sys_set_instance_tt=A("mrb_sys_set_instance_tt"),uDe=t._mrbc_context_new=A("mrbc_context_new"),fDe=t._mrbc_context_free=A("mrbc_context_free"),gDe=t._mrb_sys_new_symbol=A("mrb_sys_new_symbol"),mDe=t._mrb_const_defined_at=A("mrb_const_defined_at"),pDe=t._mrb_module_get_under=A("mrb_module_get_under"),_De=t._mrb_module_get=A("mrb_module_get"),bDe=t._mrb_sys_class_ptr=A("mrb_sys_class_ptr"),vDe=t._mrb_default_allocf=A("mrb_default_allocf"),CDe=t._mrb_open_allocf=A("mrb_open_allocf"),wDe=t._mrb_sys_cptr_value=A("mrb_sys_cptr_value"),yDe=t._mrb_protect=A("mrb_protect"),SDe=t._mrb_sys_cptr_ptr=A("mrb_sys_cptr_ptr"),LDe=t._mrb_funcall_with_block=A("mrb_funcall_with_block"),xDe=t._mrb_funcall_argv=A("mrb_funcall_argv"),DDe=t._mrb_load_nstring_cxt=A("mrb_load_nstring_cxt"),kDe=t._mrb_yield=A("mrb_yield"),EDe=t._mrb_range_beg_len=A("mrb_range_beg_len"),IDe=t._mrb_str_new_capa=A("mrb_str_new_capa"),ODe=t._mrb_str_new=A("mrb_str_new"),NDe=t._mrb_str_new_cstr=A("mrb_str_new_cstr"),TDe=t._mrb_str_new_static=A("mrb_str_new_static"),PDe=t._mrb_str_index=A("mrb_str_index"),ADe=t._mrb_str_aref=A("mrb_str_aref"),MDe=t._mrb_str_resize=A("mrb_str_resize"),RDe=t._mrb_str_plus=A("mrb_str_plus"),FDe=t._mrb_str_cmp=A("mrb_str_cmp"),BDe=t._mrb_str_equal=A("mrb_str_equal"),jDe=t._mrb_str_dup=A("mrb_str_dup"),WDe=t._mrb_str_substr=A("mrb_str_substr"),zDe=t._mrb_ptr_to_str=A("mrb_ptr_to_str"),VDe=t._mrb_string_value_cstr=A("mrb_string_value_cstr"),UDe=t._mrb_string_cstr=A("mrb_string_cstr"),HDe=t._mrb_str_to_integer=A("mrb_str_to_integer"),$De=t._mrb_str_to_dbl=A("mrb_str_to_dbl"),KDe=t._mrb_str_cat=A("mrb_str_cat"),qDe=t._mrb_str_hash=A("mrb_str_hash"),YDe=t._mrb_gc_free_str=A("mrb_gc_free_str"),ZDe=t._mrb_intern=A("mrb_intern"),GDe=t._mrb_intern_static=A("mrb_intern_static"),XDe=t._mrb_intern_cstr=A("mrb_intern_cstr"),QDe=t._mrb_intern_str=A("mrb_intern_str"),JDe=t._mrb_intern_check=A("mrb_intern_check"),eke=t._mrb_intern_check_cstr=A("mrb_intern_check_cstr"),tke=t._mrb_intern_check_str=A("mrb_intern_check_str"),ike=t._mrb_check_intern=A("mrb_check_intern"),nke=t._mrb_check_intern_cstr=A("mrb_check_intern_cstr"),oke=t._mrb_check_intern_str=A("mrb_check_intern_str"),rke=t._mrb_sym_name=A("mrb_sym_name"),ske=t._mrb_sym_name_len=A("mrb_sym_name_len"),ake=t._mrb_sym_dump=A("mrb_sym_dump"),lke=t._mrb_sym_str=A("mrb_sym_str"),cke=t._mrb_free_symtbl=A("mrb_free_symtbl"),dke=t._mrb_init_symtbl=A("mrb_init_symtbl"),hke=t._mrb_exc_raise=A("mrb_exc_raise"),uke=t._mrb_sys_raise=A("mrb_sys_raise"),fke=t._mrb_print_backtrace=A("mrb_print_backtrace"),gke=t._mrb_mt_foreach=A("mrb_mt_foreach"),mke=t._mrb_class_path=A("mrb_class_path"),pke=t._mrb_define_module_id=A("mrb_define_module_id"),_ke=t._mrb_gc_mark=A("mrb_gc_mark"),bke=t._mrb_free=A("mrb_free"),vke=t._mrb_obj_iv_defined=A("mrb_obj_iv_defined"),Cke=t._mrb_obj_iv_get=A("mrb_obj_iv_get"),wke=t._mrb_const_get=A("mrb_const_get"),yke=t._mrb_check_type=A("mrb_check_type"),Ske=t._mrb_obj_alloc=A("mrb_obj_alloc"),Lke=t._mrb_malloc=A("mrb_malloc"),xke=t._mrb_obj_iv_set=A("mrb_obj_iv_set"),Dke=t._mrb_exc_get_id=A("mrb_exc_get_id"),kke=t._mrb_raisef=A("mrb_raisef"),Eke=t._mrb_raise=A("mrb_raise"),Ike=t._mrb_define_module_under_id=A("mrb_define_module_under_id"),Oke=t._mrb_define_class_id=A("mrb_define_class_id"),Nke=t._mrb_warn=A("mrb_warn"),Tke=t._mrb_class_new=A("mrb_class_new"),Pke=t._mrb_class_real=A("mrb_class_real"),Ake=t._mrb_func_basic_p=A("mrb_func_basic_p"),Mke=t._mrb_const_defined=A("mrb_const_defined"),Rke=t._mrb_class_defined_id=A("mrb_class_defined_id"),Fke=t._mrb_class_defined_under_id=A("mrb_class_defined_under_id"),Bke=t._mrb_class_get_under_id=A("mrb_class_get_under_id"),jke=t._mrb_class_get_id=A("mrb_class_get_id"),Wke=t._mrb_module_get_under_id=A("mrb_module_get_under_id"),zke=t._mrb_module_get_id=A("mrb_module_get_id"),Vke=t._mrb_define_class_under_id=A("mrb_define_class_under_id"),Uke=t._mrb_define_method_raw=A("mrb_define_method_raw"),Hke=t._mrb_field_write_barrier=A("mrb_field_write_barrier"),$ke=t._mrb_frozen_error=A("mrb_frozen_error"),Kke=t._mrb_define_method_id=A("mrb_define_method_id"),qke=t._mrb_notimplement=A("mrb_notimplement"),Yke=t._mrb_notimplement_m=A("mrb_notimplement_m"),Zke=t._mrb_get_argc=A("mrb_get_argc"),Gke=t._mrb_get_argv=A("mrb_get_argv"),Xke=t._mrb_get_arg1=A("mrb_get_arg1"),Qke=t._mrb_argnum_error=A("mrb_argnum_error"),Jke=t._mrb_block_given_p=A("mrb_block_given_p"),eEe=t._mrb_hash_size=A("mrb_hash_size"),tEe=t._mrb_ensure_string_type=A("mrb_ensure_string_type"),iEe=t._mrb_ensure_array_type=A("mrb_ensure_array_type"),nEe=t._mrb_ensure_hash_type=A("mrb_ensure_hash_type"),oEe=t._mrb_obj_is_kind_of=A("mrb_obj_is_kind_of"),rEe=t._mrb_ensure_float_type=A("mrb_ensure_float_type"),sEe=t._mrb_ensure_int_type=A("mrb_ensure_int_type"),aEe=t._mrb_obj_to_sym=A("mrb_obj_to_sym"),lEe=t._mrb_data_get_ptr=A("mrb_data_get_ptr"),cEe=t._mrb_hash_dup=A("mrb_hash_dup"),dEe=t._mrb_hash_new=A("mrb_hash_new"),hEe=t._mrb_hash_key_p=A("mrb_hash_key_p"),uEe=t._mrb_hash_delete_key=A("mrb_hash_delete_key"),fEe=t._mrb_hash_empty_p=A("mrb_hash_empty_p"),gEe=t._mrb_include_module=A("mrb_include_module"),mEe=t._mrb_prepend_module=A("mrb_prepend_module"),pEe=t._mrb_singleton_class_ptr=A("mrb_singleton_class_ptr"),_Ee=t._mrb_singleton_class=A("mrb_singleton_class"),bEe=t._mrb_define_singleton_method_id=A("mrb_define_singleton_method_id"),vEe=t._mrb_define_class_method_id=A("mrb_define_class_method_id"),CEe=t._mrb_define_module_function_id=A("mrb_define_module_function_id"),wEe=t._mrb_method_search_vm=A("mrb_method_search_vm"),yEe=t._mrb_method_search=A("mrb_method_search"),SEe=t._mrb_name_error=A("mrb_name_error"),LEe=t._mrb_obj_equal=A("mrb_obj_equal"),xEe=t._mrb_obj_respond_to=A("mrb_obj_respond_to"),DEe=t._mrb_respond_to=A("mrb_respond_to"),kEe=t._mrb_class_name=A("mrb_class_name"),EEe=t._mrb_str_cat_str=A("mrb_str_cat_str"),IEe=t._mrb_obj_classname=A("mrb_obj_classname"),OEe=t._mrb_obj_class=A("mrb_obj_class"),NEe=t._mrb_module_new=A("mrb_module_new"),TEe=t._mrb_alias_method=A("mrb_alias_method"),PEe=t._mrb_define_alias=A("mrb_define_alias"),AEe=t._mrb_define_alias_id=A("mrb_define_alias_id"),MEe=t._mrb_iv_get=A("mrb_iv_get"),REe=t._mrb_inspect=A("mrb_inspect"),FEe=t._mrb_any_to_s=A("mrb_any_to_s"),BEe=t._mrb_undef_method_id=A("mrb_undef_method_id"),jEe=t._mrb_undef_method=A("mrb_undef_method"),WEe=t._mrb_undef_class_method_id=A("mrb_undef_class_method_id"),zEe=t._mrb_undef_class_method=A("mrb_undef_class_method"),VEe=t._mrb_remove_method=A("mrb_remove_method"),UEe=t._mrb_funcall_id=A("mrb_funcall_id"),HEe=t._mrb_obj_clone=A("mrb_obj_clone"),$Ee=t._mrb_iv_copy=A("mrb_iv_copy"),KEe=t._mrb_iv_remove=A("mrb_iv_remove"),qEe=t._mrb_obj_dup=A("mrb_obj_dup"),YEe=t._mrb_define_const_id=A("mrb_define_const_id"),ZEe=t._mrb_yield_with_class=A("mrb_yield_with_class"),GEe=t._mrb_const_set=A("mrb_const_set"),XEe=t._mrb_calloc=A("mrb_calloc"),QEe=t._mrb_alloca=A("mrb_alloca"),JEe=t._mrb_iv_name_sym_check=A("mrb_iv_name_sym_check"),eIe=t._mrb_proc_new_cfunc_with_env=A("mrb_proc_new_cfunc_with_env"),tIe=t._mrb_proc_cfunc_env_get=A("mrb_proc_cfunc_env_get"),iIe=t._mrb_iv_set=A("mrb_iv_set"),nIe=t._mrb_debug_get_filename=A("mrb_debug_get_filename"),oIe=t._mrb_debug_get_line=A("mrb_debug_get_line"),rIe=t._mrb_debug_info_alloc=A("mrb_debug_info_alloc"),sIe=t._mrb_debug_info_append_file=A("mrb_debug_info_append_file"),aIe=t._mrb_debug_info_free=A("mrb_debug_info_free"),lIe=t._mrb_exc_new_str=A("mrb_exc_new_str"),cIe=t._mrb_exc_new=A("mrb_exc_new"),dIe=t._mrb_format=A("mrb_format"),hIe=t._mrb_vformat=A("mrb_vformat"),uIe=t._mrb_obj_as_string=A("mrb_obj_as_string"),fIe=t._mrb_iv_defined=A("mrb_iv_defined"),gIe=t._mrb_str_cat_cstr=A("mrb_str_cat_cstr"),mIe=t._mrb_realloc=A("mrb_realloc"),pIe=t._mrb_p=A("mrb_p"),_Ie=t._mrb_bug=A("mrb_bug"),bIe=t._mrb_make_exception=A("mrb_make_exception"),vIe=t._mrb_sys_fail=A("mrb_sys_fail"),CIe=t.___errno_location=A("__errno_location"),wIe=t._mrb_funcall=A("mrb_funcall"),yIe=t._mrb_no_method_error=A("mrb_no_method_error"),x4=t._malloc=A("malloc"),SIe=t._saveSetjmp=A("saveSetjmp"),Ese=t._free=A("free"),LIe=t._mrb_data_check_type=A("mrb_data_check_type"),xIe=t._mrb_int_id=A("mrb_int_id"),DIe=t._mrb_float_id=A("mrb_float_id"),kIe=t._mrb_obj_id=A("mrb_obj_id"),EIe=t._mrb_realloc_simple=A("mrb_realloc_simple"),IIe=t._mrb_malloc_simple=A("mrb_malloc_simple"),OIe=t._mrb_object_dead_p=A("mrb_object_dead_p"),NIe=t._mrb_gc_register=A("mrb_gc_register"),TIe=t._mrb_gv_get=A("mrb_gv_get"),PIe=t._mrb_gc_unregister=A("mrb_gc_unregister"),AIe=t._mrb_ary_modify=A("mrb_ary_modify"),MIe=t._mrb_garbage_collect=A("mrb_garbage_collect"),RIe=t._mrb_free_context=A("mrb_free_context"),FIe=t._mrb_hash_foreach=A("mrb_hash_foreach"),BIe=t._mrb_hash_fetch=A("mrb_hash_fetch"),jIe=t._mrb_hash_clear=A("mrb_hash_clear"),WIe=t._mrb_hash_values=A("mrb_hash_values"),zIe=t._mrb_hash_merge=A("mrb_hash_merge"),VIe=t._mrb_equal=A("mrb_equal"),UIe=t._mrb_eql=A("mrb_eql"),HIe=t._mrb_obj_inspect=A("mrb_obj_inspect"),$Ie=t._mrb_obj_freeze=A("mrb_obj_freeze"),KIe=t._mrb_obj_is_instance_of=A("mrb_obj_is_instance_of"),qIe=t._mrb_f_raise=A("mrb_f_raise"),YIe=t._mrb_ary_entry=A("mrb_ary_entry"),ZIe=t._mrb_num_mul=A("mrb_num_mul"),GIe=t._mrb_float_to_integer=A("mrb_float_to_integer"),XIe=t._mrb_num_plus=A("mrb_num_plus"),QIe=t._mrb_num_minus=A("mrb_num_minus"),JIe=t._mrb_int_to_cstr=A("mrb_int_to_cstr"),eOe=t._mrb_integer_to_str=A("mrb_integer_to_str"),tOe=t._mrb_cmp=A("mrb_cmp"),iOe=t._mrb_obj_eq=A("mrb_obj_eq"),nOe=t._mrb_type_convert=A("mrb_type_convert"),oOe=t._mrb_type_convert_check=A("mrb_type_convert_check"),rOe=t._mrb_check_string_type=A("mrb_check_string_type"),sOe=t._mrb_check_array_type=A("mrb_check_array_type"),aOe=t._mrb_check_hash_type=A("mrb_check_hash_type"),lOe=t._mrb_pool_open=A("mrb_pool_open"),cOe=t._mrb_pool_close=A("mrb_pool_close"),dOe=t._mrb_pool_alloc=A("mrb_pool_alloc"),hOe=t._mrb_pool_can_realloc=A("mrb_pool_can_realloc"),uOe=t._mrb_pool_realloc=A("mrb_pool_realloc"),fOe=t._mrb_print_error=A("mrb_print_error"),gOe=t._mrb_show_version=A("mrb_show_version"),mOe=t._mrb_show_copyright=A("mrb_show_copyright"),pOe=t._mrb_proc_new_cfunc=A("mrb_proc_new_cfunc"),_Oe=t._mrb_closure_new_cfunc=A("mrb_closure_new_cfunc"),bOe=t._mrb_range_ptr=A("mrb_range_ptr"),vOe=t._mrb_range_new=A("mrb_range_new"),COe=t._mrb_float_read=A("mrb_float_read"),wOe=t._mrb_int_read=A("mrb_int_read"),yOe=t._mrb_open_core=A("mrb_open_core"),SOe=t._mrb_open=A("mrb_open"),LOe=t._mrb_add_irep=A("mrb_add_irep"),xOe=t._mrb_state_atexit=A("mrb_state_atexit"),DOe=t._mrb_iv_foreach=A("mrb_iv_foreach"),kOe=t._mrb_iv_name_sym_p=A("mrb_iv_name_sym_p"),EOe=t._mrb_cv_get=A("mrb_cv_get"),IOe=t._mrb_mod_cv_set=A("mrb_mod_cv_set"),OOe=t._mrb_cv_set=A("mrb_cv_set"),NOe=t._mrb_cv_defined=A("mrb_cv_defined"),TOe=t._mrb_const_remove=A("mrb_const_remove"),POe=t._mrb_gv_remove=A("mrb_gv_remove"),AOe=t._mrb_attr_get=A("mrb_attr_get"),MOe=t._mrb_stack_extend=A("mrb_stack_extend"),ROe=t._mrb_protect_error=A("mrb_protect_error"),FOe=t._mrb_vm_run=A("mrb_vm_run"),BOe=t._mrb_top_run=A("mrb_top_run"),jOe=t._mrb_yield_argv=A("mrb_yield_argv"),WOe=t._mrb_vm_exec=A("mrb_vm_exec"),zOe=t._mrb_str_concat=A("mrb_str_concat"),VOe=t._mrb_generate_code=A("mrb_generate_code"),UOe=t._mrb_parser_parse=A("mrb_parser_parse"),HOe=t._mrb_parser_set_filename=A("mrb_parser_set_filename"),$Oe=t._mrb_parser_new=A("mrb_parser_new"),KOe=t._mrb_parser_free=A("mrb_parser_free"),qOe=t._mrbc_partial_hook=A("mrbc_partial_hook"),YOe=t._mrbc_cleanup_local_variables=A("mrbc_cleanup_local_variables"),ZOe=t._mrb_parser_get_filename=A("mrb_parser_get_filename"),GOe=t._mrb_parse_nstring=A("mrb_parse_nstring"),XOe=t._mrb_parse_string=A("mrb_parse_string"),QOe=t._mrb_load_exec=A("mrb_load_exec"),JOe=t._mrb_load_nstring=A("mrb_load_nstring"),eNe=t._mrb_load_string_cxt=A("mrb_load_string_cxt"),tNe=t._mrb_load_string=A("mrb_load_string"),iNe=t._mrb_ensure=A("mrb_ensure"),nNe=t._mrb_rescue=A("mrb_rescue"),oNe=t._mrb_rescue_exceptions=A("mrb_rescue_exceptions"),rNe=t._mrb_fiber_resume=A("mrb_fiber_resume"),sNe=t._mrb_fiber_alive_p=A("mrb_fiber_alive_p"),aNe=t._mrb_fiber_yield=A("mrb_fiber_yield"),lNe=t._mrb_sys_range_excl=A("mrb_sys_range_excl"),cNe=t._mrb_sys_obj_ptr=A("mrb_sys_obj_ptr"),dNe=t._mrb_sys_proc_ptr=A("mrb_sys_proc_ptr"),hNe=t._mrb_sys_class_to_rclass=A("mrb_sys_class_to_rclass"),uNe=t._mrb_sys_data_value=A("mrb_sys_data_value"),fNe=t._mrb_sys_proc_value=A("mrb_sys_proc_value"),gNe=t._mrb_sys_raise_current_exception=A("mrb_sys_raise_current_exception"),mNe=t._mrb_str_strlen=A("mrb_str_strlen"),pNe=t._mrb_str_modify_keep_ascii=A("mrb_str_modify_keep_ascii"),_Ne=t._mrb_str_modify=A("mrb_str_modify"),bNe=t._mrb_str_intern=A("mrb_str_intern"),vNe=t._mrb_str_append=A("mrb_str_append"),wK=t._fflush=A("fflush"),CNe=t._htonl=A("htonl"),wNe=t._htons=A("htons"),yNe=t._ntohs=A("ntohs"),Ii=t._setThrew=A("setThrew"),yK=t._emscripten_stack_init=function(){return(yK=t._emscripten_stack_init=t.asm.emscripten_stack_init).apply(null,arguments)},Ise=t._emscripten_stack_get_free=function(){return(Ise=t._emscripten_stack_get_free=t.asm.emscripten_stack_get_free).apply(null,arguments)},Ose=t._emscripten_stack_get_base=function(){return(Ose=t._emscripten_stack_get_base=t.asm.emscripten_stack_get_base).apply(null,arguments)},D4=t._emscripten_stack_get_end=function(){return(D4=t._emscripten_stack_get_end=t.asm.emscripten_stack_get_end).apply(null,arguments)},Li=t.stackSave=A("stackSave"),xi=t.stackRestore=A("stackRestore"),Ry=t.stackAlloc=A("stackAlloc"),SK=t.___cxa_can_catch=A("__cxa_can_catch"),Nse=t.___cxa_is_pointer_type=A("__cxa_is_pointer_type"),Tse=t.dynCall_viiiji=A("dynCall_viiiji"),Pse=t.dynCall_jii=A("dynCall_jii"),Ase=t.dynCall_viij=A("dynCall_viij"),Mse=t.dynCall_ij=A("dynCall_ij"),Rse=t.dynCall_ji=A("dynCall_ji"),Fse=t.dynCall_vij=A("dynCall_vij"),SNe=t.dynCall_viiiijj=A("dynCall_viiiijj"),Bse=t.dynCall_viiiiijji=A("dynCall_viiiiijji"),jse=t.dynCall_viiij=A("dynCall_viiij"),Wse=t.dynCall_jiii=A("dynCall_jiii"),zse=t.dynCall_vijj=A("dynCall_vijj"),Vse=t.dynCall_vijii=A("dynCall_vijii"),Use=t.dynCall_viiji=A("dynCall_viiji"),Hse=t.dynCall_viiiij=A("dynCall_viiiij"),$se=t.dynCall_viiiijii=A("dynCall_viiiijii"),Kse=t.dynCall_jijj=A("dynCall_jijj"),qse=t.dynCall_iiiiji=A("dynCall_iiiiji");function Yse(b,C){var L=Li();try{Vn(b)(C)}catch(E){if(xi(L),E!==E+0)throw E;Ii(1,0)}}function Zse(b,C,L){var E=Li();try{return Vn(b)(C,L)}catch(P){if(xi(E),P!==P+0)throw P;Ii(1,0)}}function Gse(b,C,L){var E=Li();try{Vn(b)(C,L)}catch(P){if(xi(E),P!==P+0)throw P;Ii(1,0)}}function Xse(b,C,L,E){var P=Li();try{return Vn(b)(C,L,E)}catch(U){if(xi(P),U!==U+0)throw U;Ii(1,0)}}function Qse(b){var C=Li();try{Vn(b)()}catch(L){if(xi(C),L!==L+0)throw L;Ii(1,0)}}function Jse(b,C,L,E){var P=Li();try{Vn(b)(C,L,E)}catch(U){if(xi(P),U!==U+0)throw U;Ii(1,0)}}function eae(b,C,L,E,P,U){var X=Li();try{Vn(b)(C,L,E,P,U)}catch(ee){if(xi(X),ee!==ee+0)throw ee;Ii(1,0)}}function tae(b,C,L,E,P,U,X,ee,ke){var $e=Li();try{Vn(b)(C,L,E,P,U,X,ee,ke)}catch(st){if(xi($e),st!==st+0)throw st;Ii(1,0)}}function iae(b,C){var L=Li();try{return Vn(b)(C)}catch(E){if(xi(L),E!==E+0)throw E;Ii(1,0)}}function nae(b,C,L,E,P){var U=Li();try{Vn(b)(C,L,E,P)}catch(X){if(xi(U),X!==X+0)throw X;Ii(1,0)}}function oae(b){var C=Li();try{return Vn(b)()}catch(L){if(xi(C),L!==L+0)throw L;Ii(1,0)}}function rae(b,C,L,E,P,U,X){var ee=Li();try{Vn(b)(C,L,E,P,U,X)}catch(ke){if(xi(ee),ke!==ke+0)throw ke;Ii(1,0)}}function sae(b,C,L,E,P){var U=Li();try{return Vn(b)(C,L,E,P)}catch(X){if(xi(U),X!==X+0)throw X;Ii(1,0)}}function aae(b,C,L,E,P,U,X,ee){var ke=Li();try{Vn(b)(C,L,E,P,U,X,ee)}catch($e){if(xi(ke),$e!==$e+0)throw $e;Ii(1,0)}}function lae(b,C,L,E){var P=Li();try{return Vn(b)(C,L,E)}catch(U){if(xi(P),U!==U+0)throw U;Ii(1,0)}}function cae(b,C,L,E){var P=Li();try{Vn(b)(C,L,E)}catch(U){if(xi(P),U!==U+0)throw U;Ii(1,0)}}function dae(b,C){var L=Li();try{return Vn(b)(C)}catch(E){if(xi(L),E!==E+0)throw E;Ii(1,0)}}function hae(b,C,L){var E=Li();try{Vn(b)(C,L)}catch(P){if(xi(E),P!==P+0)throw P;Ii(1,0)}}function uae(b,C,L){var E=Li();try{return Vn(b)(C,L)}catch(P){if(xi(E),P!==P+0)throw P;Ii(1,0)}}function fae(b,C,L,E,P,U,X,ee,ke,$e){var st=Li();try{Vn(b)(C,L,E,P,U,X,ee,ke,$e)}catch(vt){if(xi(st),vt!==vt+0)throw vt;Ii(1,0)}}function gae(b,C,L,E,P,U,X,ee,ke,$e,st,vt,tt){var Rt=Li();try{return Vn(b)(C,L,E,P,U,X,ee,ke,$e,st,vt,tt)}catch(Jt){if(xi(Rt),Jt!==Jt+0)throw Jt;Ii(1,0)}}function mae(b,C,L,E,P,U){var X=Li();try{return Vn(b)(C,L,E,P,U)}catch(ee){if(xi(X),ee!==ee+0)throw ee;Ii(1,0)}}function pae(b,C,L,E,P,U,X){var ee=Li();try{Tse(b,C,L,E,P,U,X)}catch(ke){if(xi(ee),ke!==ke+0)throw ke;Ii(1,0)}}function _ae(b,C,L){var E=Li();try{return Pse(b,C,L)}catch(P){if(xi(E),P!==P+0)throw P;Ii(1,0)}}function bae(b,C,L,E,P){var U=Li();try{Ase(b,C,L,E,P)}catch(X){if(xi(U),X!==X+0)throw X;Ii(1,0)}}function vae(b,C,L){var E=Li();try{return Mse(b,C,L)}catch(P){if(xi(E),P!==P+0)throw P;Ii(1,0)}}function Cae(b,C,L,E){var P=Li();try{Fse(b,C,L,E)}catch(U){if(xi(P),U!==U+0)throw U;Ii(1,0)}}function wae(b,C,L,E,P,U){var X=Li();try{jse(b,C,L,E,P,U)}catch(ee){if(xi(X),ee!==ee+0)throw ee;Ii(1,0)}}function yae(b,C){var L=Li();try{return Rse(b,C)}catch(E){if(xi(L),E!==E+0)throw E;Ii(1,0)}}function Sae(b,C,L,E){var P=Li();try{return Wse(b,C,L,E)}catch(U){if(xi(P),U!==U+0)throw U;Ii(1,0)}}function Lae(b,C,L,E,P,U){var X=Li();try{zse(b,C,L,E,P,U)}catch(ee){if(xi(X),ee!==ee+0)throw ee;Ii(1,0)}}function xae(b,C,L,E,P,U){var X=Li();try{Vse(b,C,L,E,P,U)}catch(ee){if(xi(X),ee!==ee+0)throw ee;Ii(1,0)}}function Dae(b,C,L,E,P,U,X,ee,ke,$e,st){var vt=Li();try{Bse(b,C,L,E,P,U,X,ee,ke,$e,st)}catch(tt){if(xi(vt),tt!==tt+0)throw tt;Ii(1,0)}}function kae(b,C,L,E,P,U){var X=Li();try{Use(b,C,L,E,P,U)}catch(ee){if(xi(X),ee!==ee+0)throw ee;Ii(1,0)}}function Eae(b,C,L,E,P,U,X){var ee=Li();try{Hse(b,C,L,E,P,U,X)}catch(ke){if(xi(ee),ke!==ke+0)throw ke;Ii(1,0)}}function Iae(b,C,L,E,P,U,X,ee,ke){var $e=Li();try{$se(b,C,L,E,P,U,X,ee,ke)}catch(st){if(xi($e),st!==st+0)throw st;Ii(1,0)}}function Oae(b,C,L,E,P,U){var X=Li();try{return Kse(b,C,L,E,P,U)}catch(ee){if(xi(X),ee!==ee+0)throw ee;Ii(1,0)}}function Nae(b,C,L,E,P,U,X){var ee=Li();try{return qse(b,C,L,E,P,U,X)}catch(ke){if(xi(ee),ke!==ke+0)throw ke;Ii(1,0)}}G("ccall",!1),G("cwrap",!1),G("allocate",!1),G("UTF8ArrayToString",!1),G("UTF8ToString",!1),G("stringToUTF8Array",!1),G("stringToUTF8",!1),G("lengthBytesUTF8",!1),G("addOnPreRun",!1),G("addOnInit",!1),G("addOnPreMain",!1),G("addOnExit",!1),G("addOnPostRun",!1),G("addRunDependency",!0),G("removeRunDependency",!0),G("FS_createFolder",!1),G("FS_createPath",!0),G("FS_createDataFile",!0),G("FS_createPreloadedFile",!0),G("FS_createLazyFile",!0),G("FS_createLink",!1),G("FS_createDevice",!0),G("FS_unlink",!0),G("getLEB",!1),G("getFunctionTables",!1),G("alignFunctionTables",!1),G("registerFunctions",!1),G("addFunction",!1),G("removeFunction",!1),G("prettyPrint",!1),G("getCompilerSetting",!1),G("print",!1),G("printErr",!1),G("getTempRet0",!1),G("setTempRet0",!1),G("callMain",!1),G("abort",!1),G("keepRuntimeAlive",!1),G("wasmMemory",!1),G("warnOnce",!1),G("stackSave",!1),G("stackRestore",!1),G("stackAlloc",!1),G("AsciiToString",!1),G("stringToAscii",!1),G("UTF16ToString",!1),G("stringToUTF16",!1),G("lengthBytesUTF16",!1),G("UTF32ToString",!1),G("stringToUTF32",!1),G("lengthBytesUTF32",!1),G("allocateUTF8",!1),G("allocateUTF8OnStack",!1),G("ExitStatus",!1),G("intArrayFromString",!1),G("intArrayToString",!1),G("writeStringToMemory",!1),G("writeArrayToMemory",!1),G("writeAsciiToMemory",!1),t.writeStackCookie=It,t.checkStackCookie=Hi,G("ptrToString",!1),G("zeroMemory",!1),G("stringToNewUTF8",!1),G("getHeapMax",!1),G("emscripten_realloc_buffer",!1),G("ENV",!1),G("ERRNO_CODES",!1),G("ERRNO_MESSAGES",!1),G("setErrNo",!1),G("inetPton4",!1),G("inetNtop4",!1),G("inetPton6",!1),G("inetNtop6",!1),G("readSockaddr",!1),G("writeSockaddr",!1),G("DNS",!1),G("getHostByName",!1),G("Protocols",!1),G("Sockets",!1),G("getRandomDevice",!1),G("traverseStack",!1),G("UNWIND_CACHE",!1),G("convertPCtoSourceLocation",!1),G("readAsmConstArgsArray",!1),G("readAsmConstArgs",!1),G("mainThreadEM_ASM",!1),G("jstoi_q",!1),G("jstoi_s",!1),G("getExecutableName",!1),G("listenOnce",!1),G("autoResumeAudioContext",!1),G("dynCallLegacy",!1),G("getDynCaller",!1),G("dynCall",!1),G("handleException",!1),G("runtimeKeepalivePush",!1),G("runtimeKeepalivePop",!1),G("callUserCallback",!1),G("maybeExit",!1),G("safeSetTimeout",!1),G("asmjsMangle",!1),G("asyncLoad",!1),G("alignMemory",!1),G("mmapAlloc",!1),G("writeI53ToI64",!1),G("writeI53ToI64Clamped",!1),G("writeI53ToI64Signaling",!1),G("writeI53ToU64Clamped",!1),G("writeI53ToU64Signaling",!1),G("readI53FromI64",!1),G("readI53FromU64",!1),G("convertI32PairToI53",!1),G("convertI32PairToI53Checked",!1),G("convertU32PairToI53",!1),G("reallyNegative",!1),G("unSign",!1),G("strLen",!1),G("reSign",!1),G("formatString",!1),G("setValue",!1),G("getValue",!1),G("PATH",!1),G("PATH_FS",!1),G("SYSCALLS",!1),G("getSocketFromFD",!1),G("getSocketAddress",!1),G("JSEvents",!1),G("registerKeyEventCallback",!1),G("specialHTMLTargets",!1),G("maybeCStringToJsString",!1),G("findEventTarget",!1),G("findCanvasEventTarget",!1),G("getBoundingClientRect",!1),G("fillMouseEventData",!1),G("registerMouseEventCallback",!1),G("registerWheelEventCallback",!1),G("registerUiEventCallback",!1),G("registerFocusEventCallback",!1),G("fillDeviceOrientationEventData",!1),G("registerDeviceOrientationEventCallback",!1),G("fillDeviceMotionEventData",!1),G("registerDeviceMotionEventCallback",!1),G("screenOrientation",!1),G("fillOrientationChangeEventData",!1),G("registerOrientationChangeEventCallback",!1),G("fillFullscreenChangeEventData",!1),G("registerFullscreenChangeEventCallback",!1),G("JSEvents_requestFullscreen",!1),G("JSEvents_resizeCanvasForFullscreen",!1),G("registerRestoreOldStyle",!1),G("hideEverythingExceptGivenElement",!1),G("restoreHiddenElements",!1),G("setLetterbox",!1),G("currentFullscreenStrategy",!1),G("restoreOldWindowedStyle",!1),G("softFullscreenResizeWebGLRenderTarget",!1),G("doRequestFullscreen",!1),G("fillPointerlockChangeEventData",!1),G("registerPointerlockChangeEventCallback",!1),G("registerPointerlockErrorEventCallback",!1),G("requestPointerLock",!1),G("fillVisibilityChangeEventData",!1),G("registerVisibilityChangeEventCallback",!1),G("registerTouchEventCallback",!1),G("fillGamepadEventData",!1),G("registerGamepadEventCallback",!1),G("registerBeforeUnloadEventCallback",!1),G("fillBatteryEventData",!1),G("battery",!1),G("registerBatteryEventCallback",!1),G("setCanvasElementSize",!1),G("getCanvasElementSize",!1),G("demangle",!1),G("demangleAll",!1),G("jsStackTrace",!1),G("stackTrace",!1),G("getEnvStrings",!1),G("checkWasiClock",!1),G("doReadv",!1),G("doWritev",!1),G("dlopenMissingError",!1),G("setImmediateWrapped",!1),G("clearImmediateWrapped",!1),G("polyfillSetImmediate",!1),G("uncaughtExceptionCount",!1),G("exceptionLast",!1),G("exceptionCaught",!1),G("ExceptionInfo",!1),G("exception_addRef",!1),G("exception_decRef",!1),G("getExceptionMessage",!1),G("Browser",!1),G("setMainLoop",!1),G("wget",!1),G("FS",!1),G("MEMFS",!1),G("TTY",!1),G("PIPEFS",!1),G("SOCKFS",!1),G("_setNetworkCallback",!1),G("tempFixedLengthArray",!1),G("miniTempWebGLFloatBuffers",!1),G("heapObjectForWebGLType",!1),G("heapAccessShiftForWebGLHeap",!1),G("GL",!1),G("emscriptenWebGLGet",!1),G("computeUnpackAlignedImageSize",!1),G("emscriptenWebGLGetTexPixelData",!1),G("emscriptenWebGLGetUniform",!1),G("webglGetUniformLocation",!1),G("webglPrepareUniformLocationsBeforeFirstUse",!1),G("webglGetLeftBracePos",!1),G("emscriptenWebGLGetVertexAttrib",!1),G("writeGLArray",!1),G("AL",!1),G("SDL_unicode",!1),G("SDL_ttfContext",!1),G("SDL_audio",!1),G("SDL",!1),G("SDL_gfx",!1),G("GLUT",!1),G("EGL",!1),G("GLFW_Window",!1),G("GLFW",!1),G("GLEW",!1),G("IDBStore",!1),G("runAndAbortIfError",!1),rn("ALLOC_NORMAL",!1),rn("ALLOC_STACK",!1);var uE;function k4(b){this.name="ExitStatus",this.message="Program terminated with exit("+b+")",this.status=b}var Tae=!1;Ty=function b(){uE||E4(),uE||(Ty=b)};function Pae(b){qe(wg==0,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),qe(sr.length==0,"cannot call main when preRun functions remain to be called");var C=t._main;b=b||[],b.unshift(a);var L=b.length,E=Ry((L+1)*4),P=E>>2;b.forEach(X=>{Wt[P++]=ta(X)}),Wt[P]=0;try{var U=C(L,E);return LK(U,!0),U}catch(X){return fK(X)}finally{Tae=!0}}function Aae(){yK(),It()}function E4(b){if(b=b||s,wg>0||(Aae(),lK(),wg>0))return;function C(){uE||(uE=!0,t.calledRun=!0,!cs&&(Are(),Mre(),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),xK&&Pae(b),Rre()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),C()},1)):C(),Hi()}t.run=E4;function Mae(){var b=k,C=N,L=!1;k=N=E=>{L=!0};try{wK(0),["stdout","stderr"].forEach(function(E){var P=T.analyzePath("/dev/"+E);if(!!P){var U=P.object,X=U.rdev,ee=Nu.ttys[X];ee&&ee.output&&ee.output.length&&(L=!0)}})}catch{}k=b,N=C,L&&ie("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}function LK(b,C){if(Xl=b,Mae(),aE()&&!C){var L="program exited (with status: "+b+"), but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)";n(L),N(L)}Rae(b)}function Rae(b){Xl=b,aE()||(t.onExit&&t.onExit(b),cs=!0),l(b,new k4(b))}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var xK=!0;return t.noInitialRun&&(xK=!1),E4(),t.ready}})();typeof g4=="object"&&typeof aK=="object"?aK.exports=sK:typeof define=="function"&&define.amd?define([],function(){return sK}):typeof g4=="object"&&(g4.Module=sK)});var SE={};fE(SE,{afterMain:()=>TK,afterRead:()=>IK,afterWrite:()=>MK,applyStyles:()=>d0,arrow:()=>mE,auto:()=>Fy,basePlacements:()=>Pu,beforeMain:()=>OK,beforeRead:()=>kK,beforeWrite:()=>PK,bottom:()=>lr,clippingParents:()=>N4,computeStyles:()=>h0,createPopper:()=>$y,createPopperBase:()=>HK,createPopperLite:()=>$K,detectOverflow:()=>ra,end:()=>yg,eventListeners:()=>u0,flip:()=>vE,hide:()=>CE,left:()=>jo,main:()=>NK,modifierPhases:()=>P4,offset:()=>wE,placements:()=>jy,popper:()=>Gp,popperGenerator:()=>o_,popperOffsets:()=>m0,preventOverflow:()=>yE,read:()=>EK,reference:()=>T4,right:()=>Yo,start:()=>ih,top:()=>xo,variationPlacements:()=>gE,viewport:()=>By,write:()=>AK});var xo="top",lr="bottom",Yo="right",jo="left",Fy="auto",Pu=[xo,lr,Yo,jo],ih="start",yg="end",N4="clippingParents",By="viewport",Gp="popper",T4="reference",gE=Pu.reduce(function(r,e){return r.concat([e+"-"+ih,e+"-"+yg])},[]),jy=[].concat(Pu,[Fy]).reduce(function(r,e){return r.concat([e,e+"-"+ih,e+"-"+yg])},[]),kK="beforeRead",EK="read",IK="afterRead",OK="beforeMain",NK="main",TK="afterMain",PK="beforeWrite",AK="write",MK="afterWrite",P4=[kK,EK,IK,OK,NK,TK,PK,AK,MK];function Xr(r){return r?(r.nodeName||"").toLowerCase():null}function Zo(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function nh(r){var e=Zo(r).Element;return r instanceof e||r instanceof Element}function Or(r){var e=Zo(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function c0(r){if(typeof ShadowRoot>"u")return!1;var e=Zo(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function Hae(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},o=e.elements[t];!Or(o)||!Xr(o)||(Object.assign(o.style,i),Object.keys(n).forEach(function(s){var a=n[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function $ae(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var n=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!Or(n)||!Xr(n)||(Object.assign(n.style,a),Object.keys(o).forEach(function(l){n.removeAttribute(l)}))})}}var d0={name:"applyStyles",enabled:!0,phase:"write",fn:Hae,effect:$ae,requires:["computeStyles"]};function Qr(r){return r.split("-")[0]}var Zc=Math.max,Xp=Math.min,Au=Math.round;function Ql(r,e){e===void 0&&(e=!1);var t=r.getBoundingClientRect(),i=1,n=1;if(Or(r)&&e){var o=r.offsetHeight,s=r.offsetWidth;s>0&&(i=Au(t.width)/s||1),o>0&&(n=Au(t.height)/o||1)}return{width:t.width/i,height:t.height/n,top:t.top/n,right:t.right/i,bottom:t.bottom/n,left:t.left/i,x:t.left/i,y:t.top/n}}function Qp(r){var e=Ql(r),t=r.offsetWidth,i=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:i}}function Wy(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&c0(t)){var i=e;do{if(i&&r.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function oa(r){return Zo(r).getComputedStyle(r)}function A4(r){return["table","td","th"].indexOf(Xr(r))>=0}function ds(r){return((nh(r)?r.ownerDocument:r.document)||window.document).documentElement}function Mu(r){return Xr(r)==="html"?r:r.assignedSlot||r.parentNode||(c0(r)?r.host:null)||ds(r)}function RK(r){return!Or(r)||oa(r).position==="fixed"?null:r.offsetParent}function Kae(r){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Or(r)){var i=oa(r);if(i.position==="fixed")return null}var n=Mu(r);for(c0(n)&&(n=n.host);Or(n)&&["html","body"].indexOf(Xr(n))<0;){var o=oa(n);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return n;n=n.parentNode}return null}function Gc(r){for(var e=Zo(r),t=RK(r);t&&A4(t)&&oa(t).position==="static";)t=RK(t);return t&&(Xr(t)==="html"||Xr(t)==="body"&&oa(t).position==="static")?e:t||Kae(r)||e}function Jp(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function e_(r,e,t){return Zc(r,Xp(e,t))}function FK(r,e,t){var i=e_(r,e,t);return i>t?t:i}function zy(){return{top:0,right:0,bottom:0,left:0}}function Vy(r){return Object.assign({},zy(),r)}function Uy(r,e){return e.reduce(function(t,i){return t[i]=r,t},{})}var qae=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Vy(typeof e!="number"?e:Uy(e,Pu))};function Yae(r){var e,t=r.state,i=r.name,n=r.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,a=Qr(t.placement),l=Jp(a),c=[jo,Yo].indexOf(a)>=0,d=c?"height":"width";if(!(!o||!s)){var h=qae(n.padding,t),u=Qp(o),f=l==="y"?xo:jo,m=l==="y"?lr:Yo,_=t.rects.reference[d]+t.rects.reference[l]-s[l]-t.rects.popper[d],v=s[l]-t.rects.reference[l],w=Gc(o),y=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,x=_/2-v/2,k=h[f],N=y-u[d]-h[m],M=y/2-u[d]/2+x,I=e_(k,M,N),O=l;t.modifiersData[i]=(e={},e[O]=I,e.centerOffset=I-M,e)}}function Zae(r){var e=r.state,t=r.options,i=t.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||!Wy(e.elements.popper,n)||(e.elements.arrow=n))}var mE={name:"arrow",enabled:!0,phase:"main",fn:Yae,effect:Zae,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jl(r){return r.split("-")[1]}var Gae={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xae(r){var e=r.x,t=r.y,i=window,n=i.devicePixelRatio||1;return{x:Au(e*n)/n||0,y:Au(t*n)/n||0}}function BK(r){var e,t=r.popper,i=r.popperRect,n=r.placement,o=r.variation,s=r.offsets,a=r.position,l=r.gpuAcceleration,c=r.adaptive,d=r.roundOffsets,h=r.isFixed,u=s.x,f=u===void 0?0:u,m=s.y,_=m===void 0?0:m,v=typeof d=="function"?d({x:f,y:_}):{x:f,y:_};f=v.x,_=v.y;var w=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),x=jo,k=xo,N=window;if(c){var M=Gc(t),I="clientHeight",O="clientWidth";if(M===Zo(t)&&(M=ds(t),oa(M).position!=="static"&&a==="absolute"&&(I="scrollHeight",O="scrollWidth")),M=M,n===xo||(n===jo||n===Yo)&&o===yg){k=lr;var R=h&&M===N&&N.visualViewport?N.visualViewport.height:M[I];_-=R-i.height,_*=l?1:-1}if(n===jo||(n===xo||n===lr)&&o===yg){x=Yo;var K=h&&M===N&&N.visualViewport?N.visualViewport.width:M[O];f-=K-i.width,f*=l?1:-1}}var q=Object.assign({position:a},c&&Gae),te=d===!0?Xae({x:f,y:_}):{x:f,y:_};if(f=te.x,_=te.y,l){var ie;return Object.assign({},q,(ie={},ie[k]=y?"0":"",ie[x]=w?"0":"",ie.transform=(N.devicePixelRatio||1)<=1?"translate("+f+"px, "+_+"px)":"translate3d("+f+"px, "+_+"px, 0)",ie))}return Object.assign({},q,(e={},e[k]=y?_+"px":"",e[x]=w?f+"px":"",e.transform="",e))}function Qae(r){var e=r.state,t=r.options,i=t.gpuAcceleration,n=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,a=t.roundOffsets,l=a===void 0?!0:a;if(!1)var c;var d={placement:Qr(e.placement),variation:Jl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,BK(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,BK(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var h0={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qae,data:{}};var pE={passive:!0};function Jae(r){var e=r.state,t=r.instance,i=r.options,n=i.scroll,o=n===void 0?!0:n,s=i.resize,a=s===void 0?!0:s,l=Zo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",t.update,pE)}),a&&l.addEventListener("resize",t.update,pE),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",t.update,pE)}),a&&l.removeEventListener("resize",t.update,pE)}}var u0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Jae,data:{}};var ele={left:"right",right:"left",bottom:"top",top:"bottom"};function f0(r){return r.replace(/left|right|bottom|top/g,function(e){return ele[e]})}var tle={start:"end",end:"start"};function _E(r){return r.replace(/start|end/g,function(e){return tle[e]})}function t_(r){var e=Zo(r),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function i_(r){return Ql(ds(r)).left+t_(r).scrollLeft}function M4(r){var e=Zo(r),t=ds(r),i=e.visualViewport,n=t.clientWidth,o=t.clientHeight,s=0,a=0;return i&&(n=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,a=i.offsetTop)),{width:n,height:o,x:s+i_(r),y:a}}function R4(r){var e,t=ds(r),i=t_(r),n=(e=r.ownerDocument)==null?void 0:e.body,o=Zc(t.scrollWidth,t.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=Zc(t.scrollHeight,t.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+i_(r),l=-i.scrollTop;return oa(n||t).direction==="rtl"&&(a+=Zc(t.clientWidth,n?n.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function n_(r){var e=oa(r),t=e.overflow,i=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+n+i)}function bE(r){return["html","body","#document"].indexOf(Xr(r))>=0?r.ownerDocument.body:Or(r)&&n_(r)?r:bE(Mu(r))}function Sg(r,e){var t;e===void 0&&(e=[]);var i=bE(r),n=i===((t=r.ownerDocument)==null?void 0:t.body),o=Zo(i),s=n?[o].concat(o.visualViewport||[],n_(i)?i:[]):i,a=e.concat(s);return n?a:a.concat(Sg(Mu(s)))}function g0(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function ile(r){var e=Ql(r);return e.top=e.top+r.clientTop,e.left=e.left+r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top,e}function jK(r,e){return e===By?g0(M4(r)):nh(e)?ile(e):g0(R4(ds(r)))}function nle(r){var e=Sg(Mu(r)),t=["absolute","fixed"].indexOf(oa(r).position)>=0,i=t&&Or(r)?Gc(r):r;return nh(i)?e.filter(function(n){return nh(n)&&Wy(n,i)&&Xr(n)!=="body"}):[]}function F4(r,e,t){var i=e==="clippingParents"?nle(r):[].concat(e),n=[].concat(i,[t]),o=n[0],s=n.reduce(function(a,l){var c=jK(r,l);return a.top=Zc(c.top,a.top),a.right=Xp(c.right,a.right),a.bottom=Xp(c.bottom,a.bottom),a.left=Zc(c.left,a.left),a},jK(r,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Hy(r){var e=r.reference,t=r.element,i=r.placement,n=i?Qr(i):null,o=i?Jl(i):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(n){case xo:l={x:s,y:e.y-t.height};break;case lr:l={x:s,y:e.y+e.height};break;case Yo:l={x:e.x+e.width,y:a};break;case jo:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=n?Jp(n):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case ih:l[c]=l[c]-(e[d]/2-t[d]/2);break;case yg:l[c]=l[c]+(e[d]/2-t[d]/2);break;default:}}return l}function ra(r,e){e===void 0&&(e={});var t=e,i=t.placement,n=i===void 0?r.placement:i,o=t.boundary,s=o===void 0?N4:o,a=t.rootBoundary,l=a===void 0?By:a,c=t.elementContext,d=c===void 0?Gp:c,h=t.altBoundary,u=h===void 0?!1:h,f=t.padding,m=f===void 0?0:f,_=Vy(typeof m!="number"?m:Uy(m,Pu)),v=d===Gp?T4:Gp,w=r.rects.popper,y=r.elements[u?v:d],x=F4(nh(y)?y:y.contextElement||ds(r.elements.popper),s,l),k=Ql(r.elements.reference),N=Hy({reference:k,element:w,strategy:"absolute",placement:n}),M=g0(Object.assign({},w,N)),I=d===Gp?M:k,O={top:x.top-I.top+_.top,bottom:I.bottom-x.bottom+_.bottom,left:x.left-I.left+_.left,right:I.right-x.right+_.right},R=r.modifiersData.offset;if(d===Gp&&R){var K=R[n];Object.keys(O).forEach(function(q){var te=[Yo,lr].indexOf(q)>=0?1:-1,ie=[xo,lr].indexOf(q)>=0?"y":"x";O[q]+=K[ie]*te})}return O}function B4(r,e){e===void 0&&(e={});var t=e,i=t.placement,n=t.boundary,o=t.rootBoundary,s=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?jy:l,d=Jl(i),h=d?a?gE:gE.filter(function(m){return Jl(m)===d}):Pu,u=h.filter(function(m){return c.indexOf(m)>=0});u.length===0&&(u=h);var f=u.reduce(function(m,_){return m[_]=ra(r,{placement:_,boundary:n,rootBoundary:o,padding:s})[Qr(_)],m},{});return Object.keys(f).sort(function(m,_){return f[m]-f[_]})}function ole(r){if(Qr(r)===Fy)return[];var e=f0(r);return[_E(r),e,_E(e)]}function rle(r){var e=r.state,t=r.options,i=r.name;if(!e.modifiersData[i]._skip){for(var n=t.mainAxis,o=n===void 0?!0:n,s=t.altAxis,a=s===void 0?!0:s,l=t.fallbackPlacements,c=t.padding,d=t.boundary,h=t.rootBoundary,u=t.altBoundary,f=t.flipVariations,m=f===void 0?!0:f,_=t.allowedAutoPlacements,v=e.options.placement,w=Qr(v),y=w===v,x=l||(y||!m?[f0(v)]:ole(v)),k=[v].concat(x).reduce(function(fi,rn){return fi.concat(Qr(rn)===Fy?B4(e,{placement:rn,boundary:d,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:_}):rn)},[]),N=e.rects.reference,M=e.rects.popper,I=new Map,O=!0,R=k[0],K=0;K<k.length;K++){var q=k[K],te=Qr(q),ie=Jl(q)===ih,xe=[xo,lr].indexOf(te)>=0,Ae=xe?"width":"height",Re=ra(e,{placement:q,boundary:d,rootBoundary:h,altBoundary:u,padding:c}),Ve=xe?ie?Yo:jo:ie?lr:xo;N[Ae]>M[Ae]&&(Ve=f0(Ve));var nt=f0(Ve),Dt=[];if(o&&Dt.push(Re[te]<=0),a&&Dt.push(Re[Ve]<=0,Re[nt]<=0),Dt.every(function(fi){return fi})){R=q,O=!1;break}I.set(q,Dt)}if(O)for(var Si=m?3:1,Ei=function(rn){var G=k.find(function(Dr){var qn=I.get(Dr);if(qn)return qn.slice(0,rn).every(function(ls){return ls})});if(G)return R=G,"break"},Be=Si;Be>0;Be--){var He=Ei(Be);if(He==="break")break}e.placement!==R&&(e.modifiersData[i]._skip=!0,e.placement=R,e.reset=!0)}}var vE={name:"flip",enabled:!0,phase:"main",fn:rle,requiresIfExists:["offset"],data:{_skip:!1}};function WK(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function zK(r){return[xo,Yo,lr,jo].some(function(e){return r[e]>=0})}function sle(r){var e=r.state,t=r.name,i=e.rects.reference,n=e.rects.popper,o=e.modifiersData.preventOverflow,s=ra(e,{elementContext:"reference"}),a=ra(e,{altBoundary:!0}),l=WK(s,i),c=WK(a,n,o),d=zK(l),h=zK(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}var CE={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sle};function ale(r,e,t){var i=Qr(r),n=[jo,xo].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,s=o[0],a=o[1];return s=s||0,a=(a||0)*n,[jo,Yo].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function lle(r){var e=r.state,t=r.options,i=r.name,n=t.offset,o=n===void 0?[0,0]:n,s=jy.reduce(function(d,h){return d[h]=ale(h,e.rects,o),d},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}var wE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lle};function cle(r){var e=r.state,t=r.name;e.modifiersData[t]=Hy({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var m0={name:"popperOffsets",enabled:!0,phase:"read",fn:cle,data:{}};function j4(r){return r==="x"?"y":"x"}function dle(r){var e=r.state,t=r.options,i=r.name,n=t.mainAxis,o=n===void 0?!0:n,s=t.altAxis,a=s===void 0?!1:s,l=t.boundary,c=t.rootBoundary,d=t.altBoundary,h=t.padding,u=t.tether,f=u===void 0?!0:u,m=t.tetherOffset,_=m===void 0?0:m,v=ra(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),w=Qr(e.placement),y=Jl(e.placement),x=!y,k=Jp(w),N=j4(k),M=e.modifiersData.popperOffsets,I=e.rects.reference,O=e.rects.popper,R=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,K=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,te={x:0,y:0};if(!!M){if(o){var ie,xe=k==="y"?xo:jo,Ae=k==="y"?lr:Yo,Re=k==="y"?"height":"width",Ve=M[k],nt=Ve+v[xe],Dt=Ve-v[Ae],Si=f?-O[Re]/2:0,Ei=y===ih?I[Re]:O[Re],Be=y===ih?-O[Re]:-I[Re],He=e.elements.arrow,fi=f&&He?Qp(He):{width:0,height:0},rn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zy(),G=rn[xe],Dr=rn[Ae],qn=e_(0,I[Re],fi[Re]),ls=x?I[Re]/2-Si-qn-G-K.mainAxis:Ei-qn-G-K.mainAxis,Zr=x?-I[Re]/2+Si+qn+Dr+K.mainAxis:Be+qn+Dr+K.mainAxis,Et=e.elements.arrow&&Gc(e.elements.arrow),Ma=Et?k==="y"?Et.clientTop||0:Et.clientLeft||0:0,cs=(ie=q?.[k])!=null?ie:0,Xl=Ve+ls-cs-Ma,qe=Ve+Zr-cs,qc=e_(f?Xp(nt,Xl):nt,Ve,f?Zc(Dt,qe):Dt);M[k]=qc,te[k]=qc-Ve}if(a){var Du,ku=k==="x"?xo:jo,Yp=k==="x"?lr:Yo,de=M[N],re=N==="y"?"height":"width",ae=de+v[ku],j=de-v[Yp],V=[xo,jo].indexOf(w)!==-1,Q=(Du=q?.[N])!=null?Du:0,Y=V?ae:de-I[re]-O[re]-Q+K.altAxis,fe=V?de+I[re]+O[re]-Q-K.altAxis:j,De=f&&V?FK(Y,de,fe):e_(f?Y:ae,de,f?fe:j);M[N]=De,te[N]=De-de}e.modifiersData[i]=te}}var yE={name:"preventOverflow",enabled:!0,phase:"main",fn:dle,requiresIfExists:["offset"]};function W4(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function z4(r){return r===Zo(r)||!Or(r)?t_(r):W4(r)}function hle(r){var e=r.getBoundingClientRect(),t=Au(e.width)/r.offsetWidth||1,i=Au(e.height)/r.offsetHeight||1;return t!==1||i!==1}function V4(r,e,t){t===void 0&&(t=!1);var i=Or(e),n=Or(e)&&hle(e),o=ds(e),s=Ql(r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Xr(e)!=="body"||n_(o))&&(a=z4(e)),Or(e)?(l=Ql(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=i_(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function ule(r){var e=new Map,t=new Set,i=[];r.forEach(function(o){e.set(o.name,o)});function n(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&n(l)}}),i.push(o)}return r.forEach(function(o){t.has(o.name)||n(o)}),i}function U4(r){var e=ule(r);return P4.reduce(function(t,i){return t.concat(e.filter(function(n){return n.phase===i}))},[])}function H4(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}function $4(r){var e=r.reduce(function(t,i){var n=t[i.name];return t[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var VK={placement:"bottom",modifiers:[],strategy:"absolute"};function UK(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function o_(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,i=t===void 0?[]:t,n=e.defaultOptions,o=n===void 0?VK:n;return function(a,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},VK,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],u=!1,f={state:d,setOptions:function(w){var y=typeof w=="function"?w(d.options):w;_(),d.options=Object.assign({},o,d.options,y),d.scrollParents={reference:nh(a)?Sg(a):a.contextElement?Sg(a.contextElement):[],popper:Sg(l)};var x=U4($4([].concat(i,d.options.modifiers)));if(d.orderedModifiers=x.filter(function(q){return q.enabled}),!1){var k;if(getBasePlacement(d.options.placement)===auto)var N;var M,I,O,R,K}return m(),f.update()},forceUpdate:function(){if(!u){var w=d.elements,y=w.reference,x=w.popper;if(!!UK(y,x)){d.rects={reference:V4(y,Gc(x),d.options.strategy==="fixed"),popper:Qp(x)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(q){return d.modifiersData[q.name]=Object.assign({},q.data)});for(var k=0,N=0;N<d.orderedModifiers.length;N++){if(d.reset===!0){d.reset=!1,N=-1;continue}var M=d.orderedModifiers[N],I=M.fn,O=M.options,R=O===void 0?{}:O,K=M.name;typeof I=="function"&&(d=I({state:d,options:R,name:K,instance:f})||d)}}}},update:H4(function(){return new Promise(function(v){f.forceUpdate(),v(d)})}),destroy:function(){_(),u=!0}};if(!UK(a,l))return f;f.setOptions(c).then(function(v){!u&&c.onFirstUpdate&&c.onFirstUpdate(v)});function m(){d.orderedModifiers.forEach(function(v){var w=v.name,y=v.options,x=y===void 0?{}:y,k=v.effect;if(typeof k=="function"){var N=k({state:d,name:w,instance:f,options:x}),M=function(){};h.push(N||M)}})}function _(){h.forEach(function(v){return v()}),h=[]}return f}}var HK=o_();var fle=[u0,m0,h0,d0],$K=o_({defaultModifiers:fle});var gle=[u0,m0,h0,d0,wE,vE,yE,mE,CE],$y=o_({defaultModifiers:gle});var mle=1e6,ple=1e3,r5="transitionend",_le=r=>r==null?`${r}`:Object.prototype.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase(),ble=r=>{do r+=Math.floor(Math.random()*mle);while(document.getElementById(r));return r},vq=r=>{let e=r.getAttribute("data-bs-target");if(!e||e==="#"){let t=r.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e},Cq=r=>{let e=vq(r);return e&&document.querySelector(e)?e:null},Fu=r=>{let e=vq(r);return e?document.querySelector(e):null},vle=r=>{if(!r)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(r),i=Number.parseFloat(e),n=Number.parseFloat(t);return!i&&!n?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*ple)},wq=r=>{r.dispatchEvent(new Event(r5))},Bu=r=>!r||typeof r!="object"?!1:(typeof r.jquery<"u"&&(r=r[0]),typeof r.nodeType<"u"),Dg=r=>Bu(r)?r.jquery?r[0]:r:typeof r=="string"&&r.length>0?document.querySelector(r):null,D0=r=>{if(!Bu(r)||r.getClientRects().length===0)return!1;let e=getComputedStyle(r).getPropertyValue("visibility")==="visible",t=r.closest("details:not([open])");if(!t)return e;if(t!==r){let i=r.closest("summary");if(i&&i.parentNode!==t||i===null)return!1}return e},kg=r=>!r||r.nodeType!==Node.ELEMENT_NODE||r.classList.contains("disabled")?!0:typeof r.disabled<"u"?r.disabled:r.hasAttribute("disabled")&&r.getAttribute("disabled")!=="false",yq=r=>{if(!document.documentElement.attachShadow)return null;if(typeof r.getRootNode=="function"){let e=r.getRootNode();return e instanceof ShadowRoot?e:null}return r instanceof ShadowRoot?r:r.parentNode?yq(r.parentNode):null},NE=()=>{},Gy=r=>{r.offsetHeight},Sq=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,K4=[],Cle=r=>{document.readyState==="loading"?(K4.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of K4)e()}),K4.push(r)):r()},tc=()=>document.documentElement.dir==="rtl",ic=r=>{Cle(()=>{let e=Sq();if(e){let t=r.NAME,i=e.fn[t];e.fn[t]=r.jQueryInterface,e.fn[t].Constructor=r,e.fn[t].noConflict=()=>(e.fn[t]=i,r.jQueryInterface)}})},Ru=r=>{typeof r=="function"&&r()},Lq=(r,e,t=!0)=>{if(!t){Ru(r);return}let i=5,n=vle(e)+i,o=!1,s=({target:a})=>{a===e&&(o=!0,e.removeEventListener(r5,s),Ru(r))};e.addEventListener(r5,s),setTimeout(()=>{o||wq(e)},n)},c5=(r,e,t,i)=>{let n=r.length,o=r.indexOf(e);return o===-1?!t&&i?r[n-1]:r[0]:(o+=t?1:-1,i&&(o=(o+n)%n),r[Math.max(0,Math.min(o,n-1))])},wle=/[^.]*(?=\..*)\.|.*/,yle=/\..*/,Sle=/::\d+$/,q4={},KK=1,xq={mouseenter:"mouseover",mouseleave:"mouseout"},Lle=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Dq(r,e){return e&&`${e}::${KK++}`||r.uidEvent||KK++}function kq(r){let e=Dq(r);return r.uidEvent=e,q4[e]=q4[e]||{},q4[e]}function xle(r,e){return function t(i){return d5(i,{delegateTarget:r}),t.oneOff&&Me.off(r,i.type,e),e.apply(r,[i])}}function Dle(r,e,t){return function i(n){let o=r.querySelectorAll(e);for(let{target:s}=n;s&&s!==this;s=s.parentNode)for(let a of o)if(a===s)return d5(n,{delegateTarget:s}),i.oneOff&&Me.off(r,n.type,e,t),t.apply(s,[n])}}function Eq(r,e,t=null){return Object.values(r).find(i=>i.callable===e&&i.delegationSelector===t)}function Iq(r,e,t){let i=typeof e=="string",n=i?t:e||t,o=Oq(r);return Lle.has(o)||(o=r),[i,n,o]}function qK(r,e,t,i,n){if(typeof e!="string"||!r)return;let[o,s,a]=Iq(e,t,i);e in xq&&(s=(m=>function(_){if(!_.relatedTarget||_.relatedTarget!==_.delegateTarget&&!_.delegateTarget.contains(_.relatedTarget))return m.call(this,_)})(s));let l=kq(r),c=l[a]||(l[a]={}),d=Eq(c,s,o?t:null);if(d){d.oneOff=d.oneOff&&n;return}let h=Dq(s,e.replace(wle,"")),u=o?Dle(r,t,s):xle(r,s);u.delegationSelector=o?t:null,u.callable=s,u.oneOff=n,u.uidEvent=h,c[h]=u,r.addEventListener(a,u,o)}function s5(r,e,t,i,n){let o=Eq(e[t],i,n);!o||(r.removeEventListener(t,o,Boolean(n)),delete e[t][o.uidEvent])}function kle(r,e,t,i){let n=e[t]||{};for(let o of Object.keys(n))if(o.includes(i)){let s=n[o];s5(r,e,t,s.callable,s.delegationSelector)}}function Oq(r){return r=r.replace(yle,""),xq[r]||r}var Me={on(r,e,t,i){qK(r,e,t,i,!1)},one(r,e,t,i){qK(r,e,t,i,!0)},off(r,e,t,i){if(typeof e!="string"||!r)return;let[n,o,s]=Iq(e,t,i),a=s!==e,l=kq(r),c=l[s]||{},d=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(c).length)return;s5(r,l,s,o,n?t:null);return}if(d)for(let h of Object.keys(l))kle(r,l,h,e.slice(1));for(let h of Object.keys(c)){let u=h.replace(Sle,"");if(!a||e.includes(u)){let f=c[h];s5(r,l,s,f.callable,f.delegationSelector)}}},trigger(r,e,t){if(typeof e!="string"||!r)return null;let i=Sq(),n=Oq(e),o=e!==n,s=null,a=!0,l=!0,c=!1;o&&i&&(s=i.Event(e,t),i(r).trigger(s),a=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented());let d=new Event(e,{bubbles:a,cancelable:!0});return d=d5(d,t),c&&d.preventDefault(),l&&r.dispatchEvent(d),d.defaultPrevented&&s&&s.preventDefault(),d}};function d5(r,e){for(let[t,i]of Object.entries(e||{}))try{r[t]=i}catch{Object.defineProperty(r,t,{configurable:!0,get(){return i}})}return r}var Lg=new Map,Y4={set(r,e,t){Lg.has(r)||Lg.set(r,new Map);let i=Lg.get(r);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(r,e){return Lg.has(r)&&Lg.get(r).get(e)||null},remove(r,e){if(!Lg.has(r))return;let t=Lg.get(r);t.delete(e),t.size===0&&Lg.delete(r)}};function YK(r){if(r==="true")return!0;if(r==="false")return!1;if(r===Number(r).toString())return Number(r);if(r===""||r==="null")return null;if(typeof r!="string")return r;try{return JSON.parse(decodeURIComponent(r))}catch{return r}}function Z4(r){return r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var ju={setDataAttribute(r,e,t){r.setAttribute(`data-bs-${Z4(e)}`,t)},removeDataAttribute(r,e){r.removeAttribute(`data-bs-${Z4(e)}`)},getDataAttributes(r){if(!r)return{};let e={},t=Object.keys(r.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(let i of t){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),e[n]=YK(r.dataset[i])}return e},getDataAttribute(r,e){return YK(r.getAttribute(`data-bs-${Z4(e)}`))}},r_=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let i=Bu(t)?ju.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...Bu(t)?ju.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let i of Object.keys(t)){let n=t[i],o=e[i],s=Bu(o)?"element":_le(o);if(!new RegExp(n).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${n}".`)}}},Ele="5.2.0",pl=class extends r_{constructor(e,t){super(),e=Dg(e),e&&(this._element=e,this._config=this._getConfig(t),Y4.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Y4.remove(this._element,this.constructor.DATA_KEY),Me.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){Lq(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Y4.get(Dg(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return Ele}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},ME=(r,e="hide")=>{let t=`click.dismiss${r.EVENT_KEY}`,i=r.NAME;Me.on(document,t,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),kg(this))return;let o=Fu(this)||this.closest(`.${i}`);r.getOrCreateInstance(o)[e]()})},Ile="alert",Ole="bs.alert",Nq=`.${Ole}`,Nle=`close${Nq}`,Tle=`closed${Nq}`,Ple="fade",Ale="show",w0=class extends pl{static get NAME(){return Ile}close(){if(Me.trigger(this._element,Nle).defaultPrevented)return;this._element.classList.remove(Ale);let t=this._element.classList.contains(Ple);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Me.trigger(this._element,Tle),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=w0.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ME(w0,"close");ic(w0);var Mle="button",Rle="bs.button",Fle=`.${Rle}`,Ble=".data-api",jle="active",ZK='[data-bs-toggle="button"]',Wle=`click${Fle}${Ble}`,y0=class extends pl{static get NAME(){return Mle}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(jle))}static jQueryInterface(e){return this.each(function(){let t=y0.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};Me.on(document,Wle,ZK,r=>{r.preventDefault();let e=r.target.closest(ZK);y0.getOrCreateInstance(e).toggle()});ic(y0);var ji={find(r,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,r))},findOne(r,e=document.documentElement){return Element.prototype.querySelector.call(e,r)},children(r,e){return[].concat(...r.children).filter(t=>t.matches(e))},parents(r,e){let t=[],i=r.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(r){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,r).filter(t=>!kg(t)&&D0(t))}},zle="swipe",k0=".bs.swipe",Vle=`touchstart${k0}`,Ule=`touchmove${k0}`,Hle=`touchend${k0}`,$le=`pointerdown${k0}`,Kle=`pointerup${k0}`,qle="touch",Yle="pen",Zle="pointer-event",Gle=40,Xle={endCallback:null,leftCallback:null,rightCallback:null},Qle={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},S0=class extends r_{constructor(e,t){super(),this._element=e,!(!e||!S0.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Xle}static get DefaultType(){return Qle}static get NAME(){return zle}dispose(){Me.off(this._element,k0)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ru(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=Gle)return;let t=e/this._deltaX;this._deltaX=0,t&&Ru(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Me.on(this._element,$le,e=>this._start(e)),Me.on(this._element,Kle,e=>this._end(e)),this._element.classList.add(Zle)):(Me.on(this._element,Vle,e=>this._start(e)),Me.on(this._element,Ule,e=>this._move(e)),Me.on(this._element,Hle,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Yle||e.pointerType===qle)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},Jle="carousel",ece="bs.carousel",Ng=`.${ece}`,Tq=".data-api",tce="ArrowLeft",ice="ArrowRight",nce=500,Ky="next",p0="prev",b0="left",OE="right",oce=`slide${Ng}`,G4=`slid${Ng}`,rce=`keydown${Ng}`,sce=`mouseenter${Ng}`,ace=`mouseleave${Ng}`,lce=`dragstart${Ng}`,cce=`load${Ng}${Tq}`,dce=`click${Ng}${Tq}`,Pq="carousel",LE="active",hce="slide",uce="carousel-item-end",fce="carousel-item-start",gce="carousel-item-next",mce="carousel-item-prev",Aq=".active",Mq=".carousel-item",pce=Aq+Mq,_ce=".carousel-item img",bce=".carousel-indicators",vce="[data-bs-slide], [data-bs-slide-to]",Cce='[data-bs-ride="carousel"]',wce={[tce]:OE,[ice]:b0},yce={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Sce={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},s_=class extends pl{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ji.findOne(bce,this._element),this._addEventListeners(),this._config.ride===Pq&&this.cycle()}static get Default(){return yce}static get DefaultType(){return Sce}static get NAME(){return Jle}next(){this._slide(Ky)}nextWhenVisible(){!document.hidden&&D0(this._element)&&this.next()}prev(){this._slide(p0)}pause(){this._isSliding&&wq(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){Me.one(this._element,G4,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){Me.one(this._element,G4,()=>this.to(e));return}let i=this._getItemIndex(this._getActive());if(i===e)return;let n=e>i?Ky:p0;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Me.on(this._element,rce,e=>this._keydown(e)),this._config.pause==="hover"&&(Me.on(this._element,sce,()=>this.pause()),Me.on(this._element,ace,()=>this._maybeEnableCycle())),this._config.touch&&S0.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let i of ji.find(_ce,this._element))Me.on(i,lce,n=>n.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(b0)),rightCallback:()=>this._slide(this._directionToOrder(OE)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),nce+this._config.interval))}};this._swipeHelper=new S0(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=wce[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=ji.findOne(Aq,this._indicatorsElement);t.classList.remove(LE),t.removeAttribute("aria-current");let i=ji.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(LE),i.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let i=this._getActive(),n=e===Ky,o=t||c5(this._getItems(),i,n,this._config.wrap);if(o===i)return;let s=this._getItemIndex(o),a=f=>Me.trigger(this._element,f,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:s});if(a(oce).defaultPrevented||!i||!o)return;let c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let d=n?fce:uce,h=n?gce:mce;o.classList.add(h),Gy(o),i.classList.add(d),o.classList.add(d);let u=()=>{o.classList.remove(d,h),o.classList.add(LE),i.classList.remove(LE,h,d),this._isSliding=!1,a(G4)};this._queueCallback(u,i,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(hce)}_getActive(){return ji.findOne(pce,this._element)}_getItems(){return ji.find(Mq,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return tc()?e===b0?p0:Ky:e===b0?Ky:p0}_orderToDirection(e){return tc()?e===p0?b0:OE:e===p0?OE:b0}static jQueryInterface(e){return this.each(function(){let t=s_.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Me.on(document,dce,vce,function(r){let e=Fu(this);if(!e||!e.classList.contains(Pq))return;r.preventDefault();let t=s_.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){t.to(i),t._maybeEnableCycle();return}if(ju.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});Me.on(window,cce,()=>{let r=ji.find(Cce);for(let e of r)s_.getOrCreateInstance(e)});ic(s_);var Lce="collapse",xce="bs.collapse",Xy=`.${xce}`,Dce=".data-api",kce=`show${Xy}`,Ece=`shown${Xy}`,Ice=`hide${Xy}`,Oce=`hidden${Xy}`,Nce=`click${Xy}${Dce}`,X4="show",C0="collapse",xE="collapsing",Tce="collapsed",Pce=`:scope .${C0} .${C0}`,Ace="collapse-horizontal",Mce="width",Rce="height",Fce=".collapse.show, .collapse.collapsing",a5='[data-bs-toggle="collapse"]',Bce={parent:null,toggle:!0},jce={parent:"(null|element)",toggle:"boolean"},a_=class extends pl{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let i=ji.find(a5);for(let n of i){let o=Cq(n),s=ji.find(o).filter(a=>a===this._element);o!==null&&s.length&&this._triggerArray.push(n)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Bce}static get DefaultType(){return jce}static get NAME(){return Lce}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Fce).filter(a=>a!==this._element).map(a=>a_.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||Me.trigger(this._element,kce).defaultPrevented)return;for(let a of e)a.hide();let i=this._getDimension();this._element.classList.remove(C0),this._element.classList.add(xE),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let n=()=>{this._isTransitioning=!1,this._element.classList.remove(xE),this._element.classList.add(C0,X4),this._element.style[i]="",Me.trigger(this._element,Ece)},s=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(n,this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||Me.trigger(this._element,Ice).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Gy(this._element),this._element.classList.add(xE),this._element.classList.remove(C0,X4);for(let n of this._triggerArray){let o=Fu(n);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(xE),this._element.classList.add(C0),Me.trigger(this._element,Oce)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(X4)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=Dg(e.parent),e}_getDimension(){return this._element.classList.contains(Ace)?Mce:Rce}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(a5);for(let t of e){let i=Fu(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){let t=ji.find(Pce,this._config.parent);return ji.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(!!e.length)for(let i of e)i.classList.toggle(Tce,!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let i=a_.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}};Me.on(document,Nce,a5,function(r){(r.target.tagName==="A"||r.delegateTarget&&r.delegateTarget.tagName==="A")&&r.preventDefault();let e=Cq(this),t=ji.find(e);for(let i of t)a_.getOrCreateInstance(i,{toggle:!1}).toggle()});ic(a_);var GK="dropdown",Wce="bs.dropdown",l_=`.${Wce}`,h5=".data-api",zce="Escape",XK="Tab",Vce="ArrowUp",QK="ArrowDown",Uce=2,Hce=`hide${l_}`,$ce=`hidden${l_}`,Kce=`show${l_}`,qce=`shown${l_}`,Rq=`click${l_}${h5}`,Fq=`keydown${l_}${h5}`,Yce=`keyup${l_}${h5}`,v0="show",Zce="dropup",Gce="dropend",Xce="dropstart",Qce="dropup-center",Jce="dropdown-center",RE='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ede=`${RE}.${v0}`,Bq=".dropdown-menu",tde=".navbar",ide=".navbar-nav",nde=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ode=tc()?"top-end":"top-start",rde=tc()?"top-start":"top-end",sde=tc()?"bottom-end":"bottom-start",ade=tc()?"bottom-start":"bottom-end",lde=tc()?"left-start":"right-start",cde=tc()?"right-start":"left-start",dde="top",hde="bottom",ude={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},fde={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},ec=class extends pl{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ji.findOne(Bq,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ude}static get DefaultType(){return fde}static get NAME(){return GK}toggle(){return this._isShown()?this.hide():this.show()}show(){if(kg(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!Me.trigger(this._element,Kce,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ide))for(let i of[].concat(...document.body.children))Me.on(i,"mouseover",NE);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(v0),this._element.classList.add(v0),Me.trigger(this._element,qce,e)}}hide(){if(kg(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Me.trigger(this._element,Hce,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))Me.off(i,"mouseover",NE);this._popper&&this._popper.destroy(),this._menu.classList.remove(v0),this._element.classList.remove(v0),this._element.setAttribute("aria-expanded","false"),ju.removeDataAttribute(this._menu,"popper"),Me.trigger(this._element,$ce,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Bu(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${GK.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof SE>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Bu(this._config.reference)?e=Dg(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=$y(e,this._menu,t)}_isShown(){return this._menu.classList.contains(v0)}_getPlacement(){let e=this._parent;if(e.classList.contains(Gce))return lde;if(e.classList.contains(Xce))return cde;if(e.classList.contains(Qce))return dde;if(e.classList.contains(Jce))return hde;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Zce)?t?rde:ode:t?ade:sde}_detectNavbar(){return this._element.closest(tde)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ju.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){let i=ji.find(nde,this._menu).filter(n=>D0(n));!i.length||c5(i,t,e===QK,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=ec.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Uce||e.type==="keyup"&&e.key!==XK)return;let t=ji.find(ede);for(let i of t){let n=ec.getInstance(i);if(!n||n._config.autoClose===!1)continue;let o=e.composedPath(),s=o.includes(n._menu);if(o.includes(n._element)||n._config.autoClose==="inside"&&!s||n._config.autoClose==="outside"&&s||n._menu.contains(e.target)&&(e.type==="keyup"&&e.key===XK||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let a={relatedTarget:n._element};e.type==="click"&&(a.clickEvent=e),n._completeHide(a)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),i=e.key===zce,n=[Vce,QK].includes(e.key);if(!n&&!i||t&&!i)return;e.preventDefault();let o=ji.findOne(RE,e.delegateTarget.parentNode),s=ec.getOrCreateInstance(o);if(n){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}};Me.on(document,Fq,RE,ec.dataApiKeydownHandler);Me.on(document,Fq,Bq,ec.dataApiKeydownHandler);Me.on(document,Rq,ec.clearMenus);Me.on(document,Yce,ec.clearMenus);Me.on(document,Rq,RE,function(r){r.preventDefault(),ec.getOrCreateInstance(this).toggle()});ic(ec);var JK=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",eq=".sticky-top",DE="padding-right",tq="margin-right",Yy=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,DE,t=>t+e),this._setElementAttributes(JK,DE,t=>t+e),this._setElementAttributes(eq,tq,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,DE),this._resetElementAttributes(JK,DE),this._resetElementAttributes(eq,tq)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){let n=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+n)return;this._saveInitialAttribute(s,t);let a=window.getComputedStyle(s).getPropertyValue(t);s.style.setProperty(t,`${i(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){let i=e.style.getPropertyValue(t);i&&ju.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){let i=n=>{let o=ju.getDataAttribute(n,t);if(o===null){n.style.removeProperty(t);return}ju.removeDataAttribute(n,t),n.style.setProperty(t,o)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){if(Bu(e)){t(e);return}for(let i of ji.find(e,this._element))t(i)}},jq="backdrop",gde="fade",iq="show",nq=`mousedown.bs.${jq}`,mde={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},pde={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},TE=class extends r_{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return mde}static get DefaultType(){return pde}static get NAME(){return jq}show(e){if(!this._config.isVisible){Ru(e);return}this._append();let t=this._getElement();this._config.isAnimated&&Gy(t),t.classList.add(iq),this._emulateAnimation(()=>{Ru(e)})}hide(e){if(!this._config.isVisible){Ru(e);return}this._getElement().classList.remove(iq),this._emulateAnimation(()=>{this.dispose(),Ru(e)})}dispose(){!this._isAppended||(Me.off(this._element,nq),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(gde),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Dg(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),Me.on(e,nq,()=>{Ru(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Lq(e,this._getElement(),this._config.isAnimated)}},_de="focustrap",bde="bs.focustrap",PE=`.${bde}`,vde=`focusin${PE}`,Cde=`keydown.tab${PE}`,wde="Tab",yde="forward",oq="backward",Sde={autofocus:!0,trapElement:null},Lde={autofocus:"boolean",trapElement:"element"},AE=class extends r_{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Sde}static get DefaultType(){return Lde}static get NAME(){return _de}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Me.off(document,PE),Me.on(document,vde,e=>this._handleFocusin(e)),Me.on(document,Cde,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,Me.off(document,PE))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let i=ji.focusableChildren(t);i.length===0?t.focus():this._lastTabNavDirection===oq?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===wde&&(this._lastTabNavDirection=e.shiftKey?oq:yde)}},xde="modal",Dde="bs.modal",rh=`.${Dde}`,kde=".data-api",Ede="Escape",Ide=`hide${rh}`,Ode=`hidePrevented${rh}`,Wq=`hidden${rh}`,zq=`show${rh}`,Nde=`shown${rh}`,Tde=`resize${rh}`,Pde=`mousedown.dismiss${rh}`,Ade=`keydown.dismiss${rh}`,Mde=`click${rh}${kde}`,rq="modal-open",Rde="fade",sq="show",Q4="modal-static",Fde=".modal.show",Bde=".modal-dialog",jde=".modal-body",Wde='[data-bs-toggle="modal"]',zde={backdrop:!0,focus:!0,keyboard:!0},Vde={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Eg=class extends pl{constructor(e,t){super(e,t),this._dialog=ji.findOne(Bde,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Yy,this._addEventListeners()}static get Default(){return zde}static get DefaultType(){return Vde}static get NAME(){return xde}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Me.trigger(this._element,zq,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(rq),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Me.trigger(this._element,Ide).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(sq),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(let e of[window,this._dialog])Me.off(e,rh);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new TE({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new AE({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=ji.findOne(jde,this._dialog);t&&(t.scrollTop=0),Gy(this._element),this._element.classList.add(sq);let i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Me.trigger(this._element,Nde,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){Me.on(this._element,Ade,e=>{if(e.key===Ede){if(this._config.keyboard){e.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),Me.on(window,Tde,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Me.on(this._element,Pde,e=>{if(e.target===e.currentTarget){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(rq),this._resetAdjustments(),this._scrollBar.reset(),Me.trigger(this._element,Wq)})}_isAnimated(){return this._element.classList.contains(Rde)}_triggerBackdropTransition(){if(Me.trigger(this._element,Ode).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Q4)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Q4),this._queueCallback(()=>{this._element.classList.remove(Q4),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){let n=tc()?"paddingLeft":"paddingRight";this._element.style[n]=`${t}px`}if(!i&&e){let n=tc()?"paddingRight":"paddingLeft";this._element.style[n]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let i=Eg.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}};Me.on(document,Mde,Wde,function(r){let e=Fu(this);["A","AREA"].includes(this.tagName)&&r.preventDefault(),Me.one(e,zq,n=>{n.defaultPrevented||Me.one(e,Wq,()=>{D0(this)&&this.focus()})});let t=ji.findOne(Fde);t&&Eg.getInstance(t).hide(),Eg.getOrCreateInstance(e).toggle(this)});ME(Eg);ic(Eg);var Ude="offcanvas",Hde="bs.offcanvas",Wu=`.${Hde}`,Vq=".data-api",$de=`load${Wu}${Vq}`,Kde="Escape",aq="show",lq="showing",cq="hiding",qde="offcanvas-backdrop",Uq=".offcanvas.show",Yde=`show${Wu}`,Zde=`shown${Wu}`,Gde=`hide${Wu}`,dq=`hidePrevented${Wu}`,Hq=`hidden${Wu}`,Xde=`resize${Wu}`,Qde=`click${Wu}${Vq}`,Jde=`keydown.dismiss${Wu}`,ehe='[data-bs-toggle="offcanvas"]',the={backdrop:!0,keyboard:!0,scroll:!1},ihe={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},oh=class extends pl{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return the}static get DefaultType(){return ihe}static get NAME(){return Ude}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Me.trigger(this._element,Yde,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Yy().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(lq);let i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(aq),this._element.classList.remove(lq),Me.trigger(this._element,Zde,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||Me.trigger(this._element,Gde).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(cq),this._backdrop.hide();let t=()=>{this._element.classList.remove(aq,cq),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Yy().reset(),Me.trigger(this._element,Hq)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){Me.trigger(this._element,dq);return}this.hide()},t=Boolean(this._config.backdrop);return new TE({className:qde,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new AE({trapElement:this._element})}_addEventListeners(){Me.on(this._element,Jde,e=>{if(e.key===Kde){if(!this._config.keyboard){Me.trigger(this._element,dq);return}this.hide()}})}static jQueryInterface(e){return this.each(function(){let t=oh.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Me.on(document,Qde,ehe,function(r){let e=Fu(this);if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),kg(this))return;Me.one(e,Hq,()=>{D0(this)&&this.focus()});let t=ji.findOne(Uq);t&&t!==e&&oh.getInstance(t).hide(),oh.getOrCreateInstance(e).toggle(this)});Me.on(window,$de,()=>{for(let r of ji.find(Uq))oh.getOrCreateInstance(r).show()});Me.on(window,Xde,()=>{for(let r of ji.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(r).position!=="fixed"&&oh.getOrCreateInstance(r).hide()});ME(oh);ic(oh);var nhe=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ohe=/^aria-[\w-]*$/i,rhe=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,she=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,ahe=(r,e)=>{let t=r.nodeName.toLowerCase();return e.includes(t)?nhe.has(t)?Boolean(rhe.test(r.nodeValue)||she.test(r.nodeValue)):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},$q={"*":["class","dir","id","lang","role",ohe],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function lhe(r,e,t){if(!r.length)return r;if(t&&typeof t=="function")return t(r);let n=new window.DOMParser().parseFromString(r,"text/html"),o=[].concat(...n.body.querySelectorAll("*"));for(let s of o){let a=s.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){s.remove();continue}let l=[].concat(...s.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(let d of l)ahe(d,c)||s.removeAttribute(d.nodeName)}return n.body.innerHTML}var che="TemplateFactory",dhe={allowList:$q,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},hhe={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},uhe={entry:"(string|element|function|null)",selector:"(string|element)"},l5=class extends r_{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return dhe}static get DefaultType(){return hhe}static get NAME(){return che}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[n,o]of Object.entries(this._config.content))this._setContent(e,o,n);let t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},uhe)}_setContent(e,t,i){let n=ji.findOne(i,e);if(!!n){if(t=this._resolvePossibleFunction(t),!t){n.remove();return}if(Bu(t)){this._putElementInTemplate(Dg(t),n);return}if(this._config.html){n.innerHTML=this._maybeSanitize(t);return}n.textContent=t}}_maybeSanitize(e){return this._config.sanitize?lhe(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return typeof e=="function"?e(this):e}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}},fhe="tooltip",ghe=new Set(["sanitize","allowList","sanitizeFn"]),J4="fade",mhe="modal",kE="show",phe=".tooltip-inner",hq=`.${mhe}`,uq="hide.bs.modal",qy="hover",e5="focus",_he="click",bhe="manual",vhe="hide",Che="hidden",whe="show",yhe="shown",She="inserted",Lhe="click",xhe="focusin",Dhe="focusout",khe="mouseenter",Ehe="mouseleave",Ihe={AUTO:"auto",TOP:"top",RIGHT:tc()?"left":"right",BOTTOM:"bottom",LEFT:tc()?"right":"left"},Ohe={allowList:$q,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Nhe={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Ig=class extends pl{constructor(e,t){if(typeof SE>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=!1,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners()}static get Default(){return Ohe}static get DefaultType(){return Nhe}static get NAME(){return fhe}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(!!this._isEnabled){if(e){let t=this._initializeOnDelegatedTarget(e);t._activeTrigger.click=!t._activeTrigger.click,t._isWithActiveTrigger()?t._enter():t._leave();return}if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Me.off(this._element.closest(hq),uq,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=Me.trigger(this._element,this.constructor.eventName(whe)),i=(yq(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this.tip&&(this.tip.remove(),this.tip=null);let n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(n),Me.trigger(this._element,this.constructor.eventName(She))),this._popper?this._popper.update():this._popper=this._createPopper(n),n.classList.add(kE),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))Me.on(a,"mouseover",NE);let s=()=>{let a=this._isHovered;this._isHovered=!1,Me.trigger(this._element,this.constructor.eventName(yhe)),a&&this._leave()};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Me.trigger(this._element,this.constructor.eventName(vhe)).defaultPrevented)return;let t=this._getTipElement();if(t.classList.remove(kE),"ontouchstart"in document.documentElement)for(let n of[].concat(...document.body.children))Me.off(n,"mouseover",NE);this._activeTrigger[_he]=!1,this._activeTrigger[e5]=!1,this._activeTrigger[qy]=!1,this._isHovered=!1;let i=()=>{this._isWithActiveTrigger()||(this._isHovered||t.remove(),this._element.removeAttribute("aria-describedby"),Me.trigger(this._element,this.constructor.eventName(Che)),this._disposePopper())};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(J4,kE),t.classList.add(`bs-${this.constructor.NAME}-auto`);let i=ble(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(J4),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new l5({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[phe]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._config.originalTitle}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(J4)}_isShown(){return this.tip&&this.tip.classList.contains(kE)}_createPopper(e){let t=typeof this._config.placement=="function"?this._config.placement.call(this,e,this._element):this._config.placement,i=Ihe[t.toUpperCase()];return $y(this._element,e,this._getPopperConfig(i))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,...typeof this._config.popperConfig=="function"?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if(t==="click")Me.on(this._element,this.constructor.eventName(Lhe),this._config.selector,i=>this.toggle(i));else if(t!==bhe){let i=t===qy?this.constructor.eventName(khe):this.constructor.eventName(xhe),n=t===qy?this.constructor.eventName(Ehe):this.constructor.eventName(Dhe);Me.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?e5:qy]=!0,s._enter()}),Me.on(this._element,n,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?e5:qy]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Me.on(this._element.closest(hq),uq,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){let e=this._config.originalTitle;!e||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=ju.getDataAttributes(this._element);for(let i of Object.keys(t))ghe.has(i)&&delete t[i];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Dg(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),e.originalTitle=this._element.getAttribute("title")||"",typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){let t=Ig.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ic(Ig);var The="popover",Phe=".popover-header",Ahe=".popover-body",Mhe={...Ig.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Rhe={...Ig.DefaultType,content:"(null|string|element|function)"},Zy=class extends Ig{static get Default(){return Mhe}static get DefaultType(){return Rhe}static get NAME(){return The}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Phe]:this._getTitle(),[Ahe]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=Zy.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ic(Zy);var Fhe="scrollspy",Bhe="bs.scrollspy",u5=`.${Bhe}`,jhe=".data-api",Whe=`activate${u5}`,fq=`click${u5}`,zhe=`load${u5}${jhe}`,Vhe="dropdown-item",_0="active",Uhe='[data-bs-spy="scroll"]',t5="[href]",Hhe=".nav, .list-group",gq=".nav-link",$he=".nav-item",Khe=".list-group-item",qhe=`${gq}, ${$he} > ${gq}, ${Khe}`,Yhe=".dropdown",Zhe=".dropdown-toggle",Ghe={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null},Xhe={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element"},L0=class extends pl{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ghe}static get DefaultType(){return Xhe}static get NAME(){return Fhe}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Dg(e.target)||document.body,e}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(Me.off(this._config.target,fq),Me.on(this._config.target,fq,t5,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:n,behavior:"smooth"});return}i.scrollTop=n}}))}_getNewObserver(){let e={root:this._rootElement,threshold:[.1,.5,1],rootMargin:this._getRootMargin()};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){let t=s=>this._targetLinks.get(`#${s.target.id}`),i=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(t(s))},n=(this._rootElement||document.documentElement).scrollTop,o=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(let s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}let a=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&a){if(i(s),!n)return;continue}!o&&!a&&i(s)}}_getRootMargin(){return this._config.offset?`${this._config.offset}px 0px -30%`:this._config.rootMargin}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=ji.find(t5,this._config.target);for(let t of e){if(!t.hash||kg(t))continue;let i=ji.findOne(t.hash,this._element);D0(i)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(_0),this._activateParents(e),Me.trigger(this._element,Whe,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Vhe)){ji.findOne(Zhe,e.closest(Yhe)).classList.add(_0);return}for(let t of ji.parents(e,Hhe))for(let i of ji.prev(t,qhe))i.classList.add(_0)}_clearActiveClass(e){e.classList.remove(_0);let t=ji.find(`${t5}.${_0}`,e);for(let i of t)i.classList.remove(_0)}static jQueryInterface(e){return this.each(function(){let t=L0.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Me.on(window,zhe,()=>{for(let r of ji.find(Uhe))L0.getOrCreateInstance(r)});ic(L0);var Qhe="tab",Jhe="bs.tab",c_=`.${Jhe}`,eue=`hide${c_}`,tue=`hidden${c_}`,iue=`show${c_}`,nue=`shown${c_}`,oue=`click${c_}`,rue=`keydown${c_}`,sue=`load${c_}`,aue="ArrowLeft",mq="ArrowRight",lue="ArrowUp",pq="ArrowDown",xg="active",_q="fade",i5="show",cue="dropdown",due=".dropdown-toggle",hue=".dropdown-menu",uue=".dropdown-item",n5=":not(.dropdown-toggle)",fue='.list-group, .nav, [role="tablist"]',gue=".nav-item, .list-group-item",mue=`.nav-link${n5}, .list-group-item${n5}, [role="tab"]${n5}`,Kq='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',o5=`${mue}, ${Kq}`,pue=`.${xg}[data-bs-toggle="tab"], .${xg}[data-bs-toggle="pill"], .${xg}[data-bs-toggle="list"]`,Og=class extends pl{constructor(e){super(e),this._parent=this._element.closest(fue),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Me.on(this._element,rue,t=>this._keydown(t)))}static get NAME(){return Qhe}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),i=t?Me.trigger(t,eue,{relatedTarget:e}):null;Me.trigger(e,iue,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(xg),this._activate(Fu(e));let i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(i5);return}e.focus(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Me.trigger(e,nue,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(_q))}_deactivate(e,t){if(!e)return;e.classList.remove(xg),e.blur(),this._deactivate(Fu(e));let i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(i5);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Me.trigger(e,tue,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(_q))}_keydown(e){if(![aue,mq,lue,pq].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=[mq,pq].includes(e.key),i=c5(this._getChildren().filter(n=>!kg(n)),e.target,t,!0);i&&Og.getOrCreateInstance(i).show()}_getChildren(){return ji.find(o5,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=Fu(e);!t||(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){let i=this._getOuterElement(e);if(!i.classList.contains(cue))return;let n=(o,s)=>{let a=ji.findOne(o,i);a&&a.classList.toggle(s,t)};n(due,xg),n(hue,i5),n(uue,xg),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(xg)}_getInnerElement(e){return e.matches(o5)?e:ji.findOne(o5,e)}_getOuterElement(e){return e.closest(gue)||e}static jQueryInterface(e){return this.each(function(){let t=Og.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Me.on(document,oue,Kq,function(r){["A","AREA"].includes(this.tagName)&&r.preventDefault(),!kg(this)&&Og.getOrCreateInstance(this).show()});Me.on(window,sue,()=>{for(let r of ji.find(pue))Og.getOrCreateInstance(r)});ic(Og);var _ue="toast",bue="bs.toast",Tg=`.${bue}`,vue=`mouseover${Tg}`,Cue=`mouseout${Tg}`,wue=`focusin${Tg}`,yue=`focusout${Tg}`,Sue=`hide${Tg}`,Lue=`hidden${Tg}`,xue=`show${Tg}`,Due=`shown${Tg}`,kue="fade",bq="hide",EE="show",IE="showing",Eue={animation:"boolean",autohide:"boolean",delay:"number"},Iue={animation:!0,autohide:!0,delay:5e3},x0=class extends pl{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Iue}static get DefaultType(){return Eue}static get NAME(){return _ue}show(){if(Me.trigger(this._element,xue).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(kue);let t=()=>{this._element.classList.remove(IE),Me.trigger(this._element,Due),this._maybeScheduleHide()};this._element.classList.remove(bq),Gy(this._element),this._element.classList.add(EE,IE),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||Me.trigger(this._element,Sue).defaultPrevented)return;let t=()=>{this._element.classList.add(bq),this._element.classList.remove(IE,EE),Me.trigger(this._element,Lue)};this._element.classList.add(IE),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(EE),super.dispose()}isShown(){return this._element.classList.contains(EE)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t){this._clearTimeout();return}let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Me.on(this._element,vue,e=>this._onInteraction(e,!0)),Me.on(this._element,Cue,e=>this._onInteraction(e,!1)),Me.on(this._element,wue,e=>this._onInteraction(e,!0)),Me.on(this._element,yue,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=x0.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};ME(x0);ic(x0);var VR={};fE(VR,{CancellationTokenSource:()=>bCe,Emitter:()=>vCe,KeyCode:()=>RW,KeyMod:()=>FW,MarkerSeverity:()=>LCe,MarkerTag:()=>xCe,Position:()=>CCe,Range:()=>wCe,Selection:()=>yCe,SelectionDirection:()=>SCe,Token:()=>kCe,Uri:()=>DCe,editor:()=>zR,languages:()=>ECe});Ne();At();E0();Ft();hr();sS();var Uu=8,A0=class{constructor(e){this._values=e}hasChanged(e){return this._values[e]}},aS=class{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}},Zn=class{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return XE(e,t)}compute(e,t,i){return i}},Wg=class{constructor(e,t){this.newValue=e,this.didChange=t}};function XE(r,e){if(typeof r!="object"||typeof e!="object"||!r||!e)return new Wg(e,r!==e);if(Array.isArray(r)||Array.isArray(e)){let i=Array.isArray(r)&&Array.isArray(e)&&go(r,e);return new Wg(e,!i)}let t=!1;for(let i in e)if(e.hasOwnProperty(i)){let n=XE(r[i],e[i]);n.didChange&&(r[i]=n.newValue,t=!0)}return new Wg(r,t)}var zg=class{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return XE(e,t)}validate(e){return this.defaultValue}},Vu=class{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}applyUpdate(e,t){return XE(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,i){return i}};function it(r,e){return typeof r>"u"?e:r==="false"?!1:Boolean(r)}var Zt=class extends Vu{constructor(e,t,i,n=void 0){typeof n<"u"&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return it(e,this.defaultValue)}};function QE(r,e,t,i){if(typeof r>"u")return e;let n=parseInt(r,10);return isNaN(n)?e:(n=Math.max(t,n),n=Math.min(i,n),n|0)}var Ki=class extends Vu{constructor(e,t,i,n,o,s=void 0){typeof s<"u"&&(s.type="integer",s.default=i,s.minimum=n,s.maximum=o),super(e,t,i,s),this.minimum=n,this.maximum=o}static clampedInt(e,t,i,n){return QE(e,t,i,n)}validate(e){return Ki.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}},ac=class extends Vu{constructor(e,t,i,n,o){typeof o<"u"&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;let i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(ac.float(e,this.defaultValue))}},us=class extends Vu{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,n=void 0){typeof n<"u"&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return us.string(e,this.defaultValue)}};function Go(r,e,t){return typeof r!="string"||t.indexOf(r)===-1?e:r}var eo=class extends Vu{constructor(e,t,i,n,o=void 0){typeof o<"u"&&(o.type="string",o.enum=n,o.default=i),super(e,t,i,o),this._allowedValues=n}validate(e){return Go(e,this.defaultValue,this._allowedValues)}},d_=class extends Zn{constructor(e,t,i,n,o,s,a=void 0){typeof a<"u"&&(a.type="string",a.enum=o,a.default=n),super(e,t,i,a),this._allowedValues=o,this._convert=s}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}};function $ue(r){switch(r){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}var x5=class extends Zn{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[g("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),g("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),g("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:g("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}},D5=class extends Zn{constructor(){let e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:g("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:g("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertSpace:it(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:it(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}};function Kue(r){switch(r){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var ko;(function(r){r[r.Line=1]="Line",r[r.Block=2]="Block",r[r.Underline=3]="Underline",r[r.LineThin=4]="LineThin",r[r.BlockOutline=5]="BlockOutline",r[r.UnderlineThin=6]="UnderlineThin"})(ko||(ko={}));function que(r){switch(r){case"line":return ko.Line;case"block":return ko.Block;case"underline":return ko.Underline;case"line-thin":return ko.LineThin;case"block-outline":return ko.BlockOutline;case"underline-thin":return ko.UnderlineThin}}var k5=class extends zg{constructor(){super(130)}compute(e,t,i){let n=["monaco-editor"];return t.get(35)&&n.push(t.get(35)),e.extraEditorClassName&&n.push(e.extraEditorClassName),t.get(68)==="default"?n.push("mouse-default"):t.get(68)==="copy"&&n.push("mouse-copy"),t.get(102)&&n.push("showUnused"),t.get(128)&&n.push("showDeprecated"),n.join(" ")}},E5=class extends Zt{constructor(){super(33,"emptySelectionClipboard",!0,{description:g("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}},I5=class extends Zn{constructor(){let e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:g("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[g("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),g("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),g("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:g("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[g("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),g("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),g("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:g("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:g("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:at},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:g("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:g("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{cursorMoveOnType:it(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":Go(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":Go(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:it(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:it(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:it(t.loop,this.defaultValue.loop)}}},Xo=class extends Zn{constructor(){super(47,"fontLigatures",Xo.OFF,{anyOf:[{type:"boolean",description:g("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:g("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:g("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?Xo.OFF:e==="true"?Xo.ON:e:Boolean(e)?Xo.ON:Xo.OFF}};Xo.OFF='"liga" off, "calt" off';Xo.ON='"liga" on, "calt" on';var O5=class extends zg{constructor(){super(46)}compute(e,t,i){return e.fontInfo}},N5=class extends Vu{constructor(){super(48,"fontSize",Ar.fontSize,{type:"number",minimum:6,maximum:100,default:Ar.fontSize,description:g("fontSize","Controls the font size in pixels.")})}validate(e){let t=ac.float(e,this.defaultValue);return t===0?Ar.fontSize:ac.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}},sc=class extends Zn{constructor(){super(49,"fontWeight",Ar.fontWeight,{anyOf:[{type:"number",minimum:sc.MINIMUM_VALUE,maximum:sc.MAXIMUM_VALUE,errorMessage:g("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:sc.SUGGESTION_VALUES}],default:Ar.fontWeight,description:g("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(Ki.clampedInt(e,Ar.fontWeight,sc.MINIMUM_VALUE,sc.MAXIMUM_VALUE))}};sc.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];sc.MINIMUM_VALUE=1;sc.MAXIMUM_VALUE=1e3;var T5=class extends Zn{constructor(){let e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[g("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),g("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),g("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:g("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:g("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:g("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:g("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:g("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:g("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:g("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:g("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:g("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:g("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:g("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,o,s;if(!e||typeof e!="object")return this.defaultValue;let a=e;return{multiple:Go(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:Go(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(i=a.multipleTypeDefinitions)!==null&&i!==void 0?i:Go(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(n=a.multipleDeclarations)!==null&&n!==void 0?n:Go(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(o=a.multipleImplementations)!==null&&o!==void 0?o:Go(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(s=a.multipleReferences)!==null&&s!==void 0?s:Go(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:us.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:us.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:us.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:us.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:us.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}},P5=class extends Zn{constructor(){let e={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:g("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:g("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:g("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:g("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:it(t.enabled,this.defaultValue.enabled),delay:Ki.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:it(t.sticky,this.defaultValue.sticky),above:it(t.above,this.defaultValue.above)}}},zu=class extends zg{constructor(){super(133)}compute(e,t,i){return zu.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){let t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height),o=Math.floor(e.viewLineCount/n);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:o}}static _computeMinimapLayout(e,t){let i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};let s=t.stableMinimapLayoutInput,a=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,h=e.minimap.renderCharacters,u=o>=2?Math.round(e.minimap.scale*2):e.minimap.scale,f=e.minimap.maxColumn,m=e.minimap.size,_=e.minimap.side,v=e.verticalScrollbarWidth,w=e.viewLineCount,y=e.remainingWidth,x=e.isViewportWrapping,k=h?2:3,N=Math.floor(o*n),M=N/o,I=!1,O=!1,R=k*u,K=u/o,q=1;if(m==="fill"||m==="fit"){let{typicalViewportLineCount:nt,extraLinesBeyondLastLine:Dt,desiredRatio:Si,minimapLineCount:Ei}=zu.computeContainedMinimapLineCount({viewLineCount:w,scrollBeyondLastLine:d,height:n,lineHeight:l,pixelRatio:o});if(w/Ei>1)I=!0,O=!0,u=1,R=1,K=u/o;else{let He=!1,fi=u+1;if(m==="fit"){let rn=Math.ceil((w+Dt)*R);x&&a&&y<=t.stableFitRemainingWidth?(He=!0,fi=t.stableFitMaxMinimapScale):He=rn>N}if(m==="fill"||He){I=!0;let rn=u;R=Math.min(l*o,Math.max(1,Math.floor(1/Si))),x&&a&&y<=t.stableFitRemainingWidth&&(fi=t.stableFitMaxMinimapScale),u=Math.min(fi,Math.max(1,Math.floor(R/k))),u>rn&&(q=Math.min(2,u/rn)),K=u/o/q,N=Math.ceil(Math.max(nt,w+Dt)*R),x?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=y,t.stableFitMaxMinimapScale=u):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}let te=Math.floor(f*K),ie=Math.min(te,Math.max(0,Math.floor((y-v-2)*K/(c+K)))+Uu),xe=Math.floor(o*ie),Ae=xe/o;xe=Math.floor(xe*q);let Re=h?1:2,Ve=_==="left"?0:i-ie-v;return{renderMinimap:Re,minimapLeft:Ve,minimapWidth:ie,minimapHeightIsEditorHeight:I,minimapIsSampling:O,minimapScale:u,minimapLineHeight:R,minimapCanvasInnerWidth:xe,minimapCanvasInnerHeight:N,minimapCanvasOuterWidth:Ae,minimapCanvasOuterHeight:M}}static computeLayout(e,t){let i=t.outerWidth|0,n=t.outerHeight|0,o=t.lineHeight|0,s=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,d=t.viewLineCount,h=e.get(125),u=h==="inherit"?e.get(124):h,f=u==="inherit"?e.get(120):u,m=e.get(123),_=e.get(2),v=t.isDominatedByLongLines,w=e.get(52),y=e.get(62).renderType!==0,x=e.get(63),k=e.get(96),N=e.get(67),M=e.get(94),I=M.verticalScrollbarSize,O=M.verticalHasArrows,R=M.arrowSize,K=M.horizontalScrollbarSize,q=e.get(60),te=e.get(39),ie=e.get(101)!=="never",xe;if(typeof q=="string"&&/^\d+(\.\d+)?ch$/.test(q)){let ls=parseFloat(q.substr(0,q.length-2));xe=Ki.clampedInt(ls*a,0,0,1e3)}else xe=Ki.clampedInt(q,0,0,1e3);te&&ie&&(xe+=16);let Ae=0;if(y){let ls=Math.max(s,x);Ae=Math.round(ls*l)}let Re=0;w&&(Re=o);let Ve=0,nt=Ve+Re,Dt=nt+Ae,Si=Dt+xe,Ei=i-Re-Ae-xe,Be=!1,He=!1,fi=-1;_!==2&&(u==="inherit"&&v?(Be=!0,He=!0):f==="on"||f==="bounded"?He=!0:f==="wordWrapColumn"&&(fi=m));let rn=zu._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:k,minimap:N,verticalScrollbarWidth:I,viewLineCount:d,remainingWidth:Ei,isViewportWrapping:He},t.memory||new aS);rn.renderMinimap!==0&&rn.minimapLeft===0&&(Ve+=rn.minimapWidth,nt+=rn.minimapWidth,Dt+=rn.minimapWidth,Si+=rn.minimapWidth);let G=Ei-rn.minimapWidth,Dr=Math.max(1,Math.floor((G-I-2)/a)),qn=O?R:0;return He&&(fi=Math.max(1,Dr),f==="bounded"&&(fi=Math.min(fi,m))),{width:i,height:n,glyphMarginLeft:Ve,glyphMarginWidth:Re,lineNumbersLeft:nt,lineNumbersWidth:Ae,decorationsLeft:Dt,decorationsWidth:xe,contentLeft:Si,contentWidth:G,minimap:rn,viewportColumn:Dr,isWordWrapMinified:Be,isViewportWrapping:He,wrappingColumn:fi,verticalScrollbarWidth:I,horizontalScrollbarHeight:K,overviewRuler:{top:qn,width:I,height:n-2*qn,right:0}}}},A5=class extends Zn{constructor(){let e={enabled:!0};super(59,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:g("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:it(e.enabled,this.defaultValue.enabled)}}},M5=class extends Zn{constructor(){let e={stickyScroll:{enabled:!1}};super(34,"experimental",e,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:e.stickyScroll.enabled,description:g("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(e){var t;return!e||typeof e!="object"?this.defaultValue:{stickyScroll:{enabled:it((t=e.stickyScroll)===null||t===void 0?void 0:t.enabled,this.defaultValue.stickyScroll.enabled)}}}},R5=class extends Zn{constructor(){let e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:g("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[g("editor.inlayHints.on","Inlay hints are enabled"),g("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),g("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),g("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:g("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:g("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:g("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:Go(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:Ki.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:us.string(t.fontFamily,this.defaultValue.fontFamily),padding:it(t.padding,this.defaultValue.padding)}}},F5=class extends ac{constructor(){super(61,"lineHeight",Ar.lineHeight,e=>ac.clamp(e,0,150),{markdownDescription:g("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}},B5=class extends Zn{constructor(){let e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:g("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:g("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[g("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),g("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),g("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:g("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:g("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:g("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:g("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:g("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:g("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:it(t.enabled,this.defaultValue.enabled),autohide:it(t.autohide,this.defaultValue.autohide),size:Go(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:Go(t.side,this.defaultValue.side,["right","left"]),showSlider:Go(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:it(t.renderCharacters,this.defaultValue.renderCharacters),scale:Ki.clampedInt(t.scale,1,1,3),maxColumn:Ki.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}};function Yue(r){return r==="ctrlCmd"?at?"metaKey":"ctrlKey":"altKey"}var j5=class extends Zn{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:g("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:g("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{top:Ki.clampedInt(t.top,0,0,1e3),bottom:Ki.clampedInt(t.bottom,0,0,1e3)}}},W5=class extends Zn{constructor(){let e={enabled:!0,cycle:!1};super(78,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:g("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:g("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:it(t.enabled,this.defaultValue.enabled),cycle:it(t.cycle,this.defaultValue.cycle)}}},z5=class extends zg{constructor(){super(131)}compute(e,t,i){return e.pixelRatio}},V5=class extends Zn{constructor(){let e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[g("on","Quick suggestions show inside the suggest widget"),g("inline","Quick suggestions show as ghost text"),g("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:g("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:g("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:g("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:g("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){let c=e?"on":"off";return{comments:c,strings:c,other:c}}if(!e||typeof e!="object")return this.defaultValue;let{other:t,comments:i,strings:n}=e,o=["on","inline","off"],s,a,l;return typeof t=="boolean"?s=t?"on":"off":s=Go(t,this.defaultValue.other,o),typeof i=="boolean"?a=i?"on":"off":a=Go(i,this.defaultValue.comments,o),typeof n=="boolean"?l=n?"on":"off":l=Go(n,this.defaultValue.strings,o),{other:s,comments:a,strings:l}}},U5=class extends Zn{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[g("lineNumbers.off","Line numbers are not rendered."),g("lineNumbers.on","Line numbers are rendered as absolute number."),g("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),g("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:g("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}};function h_(r){let e=r.get(89);return e==="editable"?r.get(83):e!=="on"}var H5=class extends Zn{constructor(){let e=[],t={type:"number",description:g("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:g("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:g("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let i of e)if(typeof i=="number")t.push({column:Ki.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){let n=i;t.push({column:Ki.clampedInt(n.column,0,0,1e4),color:n.color})}return t.sort((i,n)=>i.column-n.column),t}return this.defaultValue}};function mY(r,e){if(typeof r!="string")return e;switch(r){case"hidden":return 2;case"visible":return 3;default:return 1}}var $5=class extends Zn{constructor(){let e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[g("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),g("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),g("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:g("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[g("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),g("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),g("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:g("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:g("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:g("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:g("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e,i=Ki.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=Ki.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:Ki.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:mY(t.vertical,this.defaultValue.vertical),horizontal:mY(t.horizontal,this.defaultValue.horizontal),useShadows:it(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:it(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:it(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:it(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:it(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:Ki.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:Ki.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:it(t.scrollByPage,this.defaultValue.scrollByPage)}}},ca="inUntrustedWorkspace",fs={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"},K5=class extends Zn{constructor(){let e={nonBasicASCII:ca,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:ca,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",e,{[fs.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ca],default:e.nonBasicASCII,description:g("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[fs.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:g("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[fs.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:g("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[fs.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ca],default:e.includeComments,description:g("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[fs.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ca],default:e.includeStrings,description:g("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[fs.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:g("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[fs.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:g("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(dr(e.allowedCharacters,t.allowedCharacters)||(e=Object.assign(Object.assign({},e),{allowedCharacters:t.allowedCharacters}),i=!0)),t.allowedLocales&&e&&(dr(e.allowedLocales,t.allowedLocales)||(e=Object.assign(Object.assign({},e),{allowedLocales:t.allowedLocales}),i=!0));let n=super.applyUpdate(e,t);return i?new Wg(n.newValue,!0):n}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{nonBasicASCII:P0(t.nonBasicASCII,ca,[!0,!1,ca]),invisibleCharacters:it(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:it(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:P0(t.includeComments,ca,[!0,!1,ca]),includeStrings:P0(t.includeStrings,ca,[!0,!1,ca]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;let i={};for(let[n,o]of Object.entries(e))o===!0&&(i[n]=!0);return i}},q5=class extends Zn{constructor(){let e={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:g("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:it(t.enabled,this.defaultValue.enabled),mode:Go(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}},Y5=class extends Zn{constructor(){let e={enabled:Do.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:Do.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:g("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:g("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{enabled:it(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:it(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}},Z5=class extends Zn{constructor(){let e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[g("editor.guides.bracketPairs.true","Enables bracket pair guides."),g("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),g("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:g("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[g("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),g("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),g("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:g("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:g("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:g("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[g("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),g("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),g("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:g("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{bracketPairs:P0(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:P0(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:it(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:it(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:P0(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}};function P0(r,e,t){let i=t.indexOf(r);return i===-1?e:t[i]}var G5=class extends Zn{constructor(){let e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[g("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),g("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:g("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:g("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:g("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:g("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:g("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:g("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:g("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:g("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:g("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:g("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:g("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:g("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;let t=e;return{insertMode:Go(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:it(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:it(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:it(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:it(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:it(t.showIcons,this.defaultValue.showIcons),showStatusBar:it(t.showStatusBar,this.defaultValue.showStatusBar),preview:it(t.preview,this.defaultValue.preview),previewMode:Go(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:it(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:it(t.showMethods,this.defaultValue.showMethods),showFunctions:it(t.showFunctions,this.defaultValue.showFunctions),showConstructors:it(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:it(t.showDeprecated,this.defaultValue.showDeprecated),showFields:it(t.showFields,this.defaultValue.showFields),showVariables:it(t.showVariables,this.defaultValue.showVariables),showClasses:it(t.showClasses,this.defaultValue.showClasses),showStructs:it(t.showStructs,this.defaultValue.showStructs),showInterfaces:it(t.showInterfaces,this.defaultValue.showInterfaces),showModules:it(t.showModules,this.defaultValue.showModules),showProperties:it(t.showProperties,this.defaultValue.showProperties),showEvents:it(t.showEvents,this.defaultValue.showEvents),showOperators:it(t.showOperators,this.defaultValue.showOperators),showUnits:it(t.showUnits,this.defaultValue.showUnits),showValues:it(t.showValues,this.defaultValue.showValues),showConstants:it(t.showConstants,this.defaultValue.showConstants),showEnums:it(t.showEnums,this.defaultValue.showEnums),showEnumMembers:it(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:it(t.showKeywords,this.defaultValue.showKeywords),showWords:it(t.showWords,this.defaultValue.showWords),showColors:it(t.showColors,this.defaultValue.showColors),showFiles:it(t.showFiles,this.defaultValue.showFiles),showReferences:it(t.showReferences,this.defaultValue.showReferences),showFolders:it(t.showFolders,this.defaultValue.showFolders),showTypeParameters:it(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:it(t.showSnippets,this.defaultValue.showSnippets),showUsers:it(t.showUsers,this.defaultValue.showUsers),showIssues:it(t.showIssues,this.defaultValue.showIssues)}}},X5=class extends Zn{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:g("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:it(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}},Q5=class extends zg{constructor(){super(132)}compute(e,t,i){return t.get(83)?!0:e.tabFocusMode}};function Zue(r){switch(r){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}var J5=class extends zg{constructor(){super(134)}compute(e,t,i){let n=t.get(133);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}},e3=class extends Zn{constructor(){let e={enabled:!0};super(32,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:g("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:it(e.enabled,this.defaultValue.enabled)}}},Gue="Consolas, 'Courier New', monospace",Xue="Menlo, Monaco, 'Courier New', monospace",Que="'Droid Sans Mono', 'monospace', monospace",Ar={fontFamily:at?Xue:$i?Que:Gue,fontWeight:"normal",fontSize:at?12:14,lineHeight:0,letterSpacing:0},Vg=[];function ve(r){return Vg[r.id]=r,r}var Ts={acceptSuggestionOnCommitCharacter:ve(new Zt(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:g("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:ve(new eo(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",g("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:g("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:ve(new x5),accessibilityPageSize:ve(new Ki(3,"accessibilityPageSize",10,1,1073741824,{description:g("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:ve(new us(4,"ariaLabel",g("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:ve(new eo(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",g("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),g("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:g("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:ve(new eo(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",g("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:g("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:ve(new eo(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",g("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:g("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:ve(new eo(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",g("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),g("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:g("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:ve(new d_(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],$ue,{enumDescriptions:[g("editor.autoIndent.none","The editor will not insert indentation automatically."),g("editor.autoIndent.keep","The editor will keep the current line's indentation."),g("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),g("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),g("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:g("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:ve(new Zt(10,"automaticLayout",!1)),autoSurround:ve(new eo(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[g("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),g("editor.autoSurround.quotes","Surround with quotes but not brackets."),g("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:g("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:ve(new Y5),bracketPairGuides:ve(new Z5),stickyTabStops:ve(new Zt(106,"stickyTabStops",!1,{description:g("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:ve(new Zt(14,"codeLens",!0,{description:g("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:ve(new us(15,"codeLensFontFamily","",{description:g("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:ve(new Ki(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:g("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:ve(new Zt(17,"colorDecorators",!0,{description:g("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:ve(new Zt(18,"columnSelection",!1,{description:g("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:ve(new D5),contextmenu:ve(new Zt(20,"contextmenu",!0)),copyWithSyntaxHighlighting:ve(new Zt(21,"copyWithSyntaxHighlighting",!0,{description:g("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:ve(new d_(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],Kue,{description:g("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:ve(new Zt(23,"cursorSmoothCaretAnimation",!1,{description:g("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:ve(new d_(24,"cursorStyle",ko.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],que,{description:g("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:ve(new Ki(25,"cursorSurroundingLines",0,0,1073741824,{description:g("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:ve(new eo(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[g("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),g("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:g("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:ve(new Ki(27,"cursorWidth",0,0,1073741824,{markdownDescription:g("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:ve(new Zt(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:ve(new Zt(29,"disableMonospaceOptimizations",!1)),domReadOnly:ve(new Zt(30,"domReadOnly",!1)),dragAndDrop:ve(new Zt(31,"dragAndDrop",!0,{description:g("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:ve(new E5),dropIntoEditor:ve(new e3),experimental:ve(new M5),extraEditorClassName:ve(new us(35,"extraEditorClassName","")),fastScrollSensitivity:ve(new ac(36,"fastScrollSensitivity",5,r=>r<=0?5:r,{markdownDescription:g("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:ve(new I5),fixedOverflowWidgets:ve(new Zt(38,"fixedOverflowWidgets",!1)),folding:ve(new Zt(39,"folding",!0,{description:g("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:ve(new eo(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[g("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),g("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:g("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:ve(new Zt(41,"foldingHighlight",!0,{description:g("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:ve(new Zt(42,"foldingImportsByDefault",!1,{description:g("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:ve(new Ki(43,"foldingMaximumRegions",5e3,10,65e3,{description:g("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:ve(new Zt(44,"unfoldOnClickAfterEndOfLine",!1,{description:g("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:ve(new us(45,"fontFamily",Ar.fontFamily,{description:g("fontFamily","Controls the font family.")})),fontInfo:ve(new O5),fontLigatures2:ve(new Xo),fontSize:ve(new N5),fontWeight:ve(new sc),formatOnPaste:ve(new Zt(50,"formatOnPaste",!1,{description:g("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:ve(new Zt(51,"formatOnType",!1,{description:g("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:ve(new Zt(52,"glyphMargin",!0,{description:g("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:ve(new T5),hideCursorInOverviewRuler:ve(new Zt(54,"hideCursorInOverviewRuler",!1,{description:g("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:ve(new P5),inDiffEditor:ve(new Zt(56,"inDiffEditor",!1)),letterSpacing:ve(new ac(58,"letterSpacing",Ar.letterSpacing,r=>ac.clamp(r,-5,20),{description:g("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:ve(new A5),lineDecorationsWidth:ve(new Vu(60,"lineDecorationsWidth",10)),lineHeight:ve(new F5),lineNumbers:ve(new U5),lineNumbersMinChars:ve(new Ki(63,"lineNumbersMinChars",5,1,300)),linkedEditing:ve(new Zt(64,"linkedEditing",!1,{description:g("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:ve(new Zt(65,"links",!0,{description:g("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:ve(new eo(66,"matchBrackets","always",["always","near","never"],{description:g("matchBrackets","Highlight matching brackets.")})),minimap:ve(new B5),mouseStyle:ve(new eo(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ve(new ac(69,"mouseWheelScrollSensitivity",1,r=>r===0?1:r,{markdownDescription:g("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:ve(new Zt(70,"mouseWheelZoom",!1,{markdownDescription:g("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:ve(new Zt(71,"multiCursorMergeOverlapping",!0,{description:g("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:ve(new d_(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Yue,{markdownEnumDescriptions:[g("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),g("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:g({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:ve(new eo(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[g("multiCursorPaste.spread","Each cursor pastes a single line of the text."),g("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:g("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:ve(new Zt(74,"occurrencesHighlight",!0,{description:g("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:ve(new Zt(75,"overviewRulerBorder",!0,{description:g("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:ve(new Ki(76,"overviewRulerLanes",3,0,3)),padding:ve(new j5),parameterHints:ve(new W5),peekWidgetDefaultFocus:ve(new eo(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[g("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),g("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:g("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:ve(new Zt(80,"definitionLinkOpensInPeek",!1,{description:g("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:ve(new V5),quickSuggestionsDelay:ve(new Ki(82,"quickSuggestionsDelay",10,0,1073741824,{description:g("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:ve(new Zt(83,"readOnly",!1)),renameOnType:ve(new Zt(84,"renameOnType",!1,{description:g("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:g("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:ve(new Zt(85,"renderControlCharacters",!0,{description:g("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:ve(new Zt(86,"renderFinalNewline",!0,{description:g("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:ve(new eo(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",g("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:g("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:ve(new Zt(88,"renderLineHighlightOnlyWhenFocus",!1,{description:g("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:ve(new eo(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ve(new eo(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",g("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),g("renderWhitespace.selection","Render whitespace characters only on selected text."),g("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:g("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:ve(new Ki(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ve(new Zt(92,"roundedSelection",!0,{description:g("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:ve(new H5),scrollbar:ve(new $5),scrollBeyondLastColumn:ve(new Ki(95,"scrollBeyondLastColumn",4,0,1073741824,{description:g("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:ve(new Zt(96,"scrollBeyondLastLine",!0,{description:g("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:ve(new Zt(97,"scrollPredominantAxis",!0,{description:g("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:ve(new Zt(98,"selectionClipboard",!0,{description:g("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:$i})),selectionHighlight:ve(new Zt(99,"selectionHighlight",!0,{description:g("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:ve(new Zt(100,"selectOnLineNumbers",!0)),showFoldingControls:ve(new eo(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[g("showFoldingControls.always","Always show the folding controls."),g("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),g("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:g("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:ve(new Zt(102,"showUnused",!0,{description:g("showUnused","Controls fading out of unused code.")})),showDeprecated:ve(new Zt(128,"showDeprecated",!0,{description:g("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:ve(new R5),snippetSuggestions:ve(new eo(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[g("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),g("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),g("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),g("snippetSuggestions.none","Do not show snippet suggestions.")],description:g("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:ve(new X5),smoothScrolling:ve(new Zt(105,"smoothScrolling",!1,{description:g("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:ve(new Ki(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ve(new G5),inlineSuggest:ve(new q5),suggestFontSize:ve(new Ki(109,"suggestFontSize",0,0,1e3,{markdownDescription:g("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:ve(new Ki(110,"suggestLineHeight",0,0,1e3,{markdownDescription:g("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:ve(new Zt(111,"suggestOnTriggerCharacters",!0,{description:g("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:ve(new eo(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[g("suggestSelection.first","Always select the first suggestion."),g("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),g("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:g("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:ve(new eo(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[g("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),g("tabCompletion.off","Disable tab completions."),g("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:g("tabCompletion","Enables tab completions.")})),tabIndex:ve(new Ki(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:ve(new K5),unusualLineTerminators:ve(new eo(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[g("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),g("unusualLineTerminators.off","Unusual line terminators are ignored."),g("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:g("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:ve(new Zt(117,"useShadowDOM",!0)),useTabStops:ve(new Zt(118,"useTabStops",!0,{description:g("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:ve(new us(119,"wordSeparators",b5,{description:g("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:ve(new eo(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[g("wordWrap.off","Lines will never wrap."),g("wordWrap.on","Lines will wrap at the viewport width."),g({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),g({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:g({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:ve(new us(121,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ve(new us(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ve(new Ki(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:g({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:ve(new eo(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ve(new eo(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ve(new d_(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Zue,{enumDescriptions:[g("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),g("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),g("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),g("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:g("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:ve(new eo(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[g("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),g("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:g("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:ve(new k5),pixelRatio:ve(new z5),tabFocusMode:ve(new Q5),layoutInfo:ve(new zu),wrappingInfo:ve(new J5)};Di();Oe();bl();vi();rt();Le();Ci();Un();var bI;(function(r){r[r.Unknown=0]="Unknown",r[r.Disabled=1]="Disabled",r[r.Enabled=2]="Enabled"})(bI||(bI={}));var vI;(function(r){r[r.Invoke=1]="Invoke",r[r.Auto=2]="Auto"})(vI||(vI={}));var z0;(function(r){r[r.KeepWhitespace=1]="KeepWhitespace",r[r.InsertAsSnippet=4]="InsertAsSnippet"})(z0||(z0={}));var CI;(function(r){r[r.Method=0]="Method",r[r.Function=1]="Function",r[r.Constructor=2]="Constructor",r[r.Field=3]="Field",r[r.Variable=4]="Variable",r[r.Class=5]="Class",r[r.Struct=6]="Struct",r[r.Interface=7]="Interface",r[r.Module=8]="Module",r[r.Property=9]="Property",r[r.Event=10]="Event",r[r.Operator=11]="Operator",r[r.Unit=12]="Unit",r[r.Value=13]="Value",r[r.Constant=14]="Constant",r[r.Enum=15]="Enum",r[r.EnumMember=16]="EnumMember",r[r.Keyword=17]="Keyword",r[r.Text=18]="Text",r[r.Color=19]="Color",r[r.File=20]="File",r[r.Reference=21]="Reference",r[r.Customcolor=22]="Customcolor",r[r.Folder=23]="Folder",r[r.TypeParameter=24]="TypeParameter",r[r.User=25]="User",r[r.Issue=26]="Issue",r[r.Snippet=27]="Snippet"})(CI||(CI={}));var wI;(function(r){r[r.Deprecated=1]="Deprecated"})(wI||(wI={}));var yI;(function(r){r[r.Invoke=0]="Invoke",r[r.TriggerCharacter=1]="TriggerCharacter",r[r.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(yI||(yI={}));var SI;(function(r){r[r.EXACT=0]="EXACT",r[r.ABOVE=1]="ABOVE",r[r.BELOW=2]="BELOW"})(SI||(SI={}));var LI;(function(r){r[r.NotSet=0]="NotSet",r[r.ContentFlush=1]="ContentFlush",r[r.RecoverFromMarkers=2]="RecoverFromMarkers",r[r.Explicit=3]="Explicit",r[r.Paste=4]="Paste",r[r.Undo=5]="Undo",r[r.Redo=6]="Redo"})(LI||(LI={}));var xI;(function(r){r[r.LF=1]="LF",r[r.CRLF=2]="CRLF"})(xI||(xI={}));var DI;(function(r){r[r.Text=0]="Text",r[r.Read=1]="Read",r[r.Write=2]="Write"})(DI||(DI={}));var kI;(function(r){r[r.None=0]="None",r[r.Keep=1]="Keep",r[r.Brackets=2]="Brackets",r[r.Advanced=3]="Advanced",r[r.Full=4]="Full"})(kI||(kI={}));var EI;(function(r){r[r.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",r[r.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",r[r.accessibilitySupport=2]="accessibilitySupport",r[r.accessibilityPageSize=3]="accessibilityPageSize",r[r.ariaLabel=4]="ariaLabel",r[r.autoClosingBrackets=5]="autoClosingBrackets",r[r.autoClosingDelete=6]="autoClosingDelete",r[r.autoClosingOvertype=7]="autoClosingOvertype",r[r.autoClosingQuotes=8]="autoClosingQuotes",r[r.autoIndent=9]="autoIndent",r[r.automaticLayout=10]="automaticLayout",r[r.autoSurround=11]="autoSurround",r[r.bracketPairColorization=12]="bracketPairColorization",r[r.guides=13]="guides",r[r.codeLens=14]="codeLens",r[r.codeLensFontFamily=15]="codeLensFontFamily",r[r.codeLensFontSize=16]="codeLensFontSize",r[r.colorDecorators=17]="colorDecorators",r[r.columnSelection=18]="columnSelection",r[r.comments=19]="comments",r[r.contextmenu=20]="contextmenu",r[r.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",r[r.cursorBlinking=22]="cursorBlinking",r[r.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",r[r.cursorStyle=24]="cursorStyle",r[r.cursorSurroundingLines=25]="cursorSurroundingLines",r[r.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",r[r.cursorWidth=27]="cursorWidth",r[r.disableLayerHinting=28]="disableLayerHinting",r[r.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",r[r.domReadOnly=30]="domReadOnly",r[r.dragAndDrop=31]="dragAndDrop",r[r.dropIntoEditor=32]="dropIntoEditor",r[r.emptySelectionClipboard=33]="emptySelectionClipboard",r[r.experimental=34]="experimental",r[r.extraEditorClassName=35]="extraEditorClassName",r[r.fastScrollSensitivity=36]="fastScrollSensitivity",r[r.find=37]="find",r[r.fixedOverflowWidgets=38]="fixedOverflowWidgets",r[r.folding=39]="folding",r[r.foldingStrategy=40]="foldingStrategy",r[r.foldingHighlight=41]="foldingHighlight",r[r.foldingImportsByDefault=42]="foldingImportsByDefault",r[r.foldingMaximumRegions=43]="foldingMaximumRegions",r[r.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",r[r.fontFamily=45]="fontFamily",r[r.fontInfo=46]="fontInfo",r[r.fontLigatures=47]="fontLigatures",r[r.fontSize=48]="fontSize",r[r.fontWeight=49]="fontWeight",r[r.formatOnPaste=50]="formatOnPaste",r[r.formatOnType=51]="formatOnType",r[r.glyphMargin=52]="glyphMargin",r[r.gotoLocation=53]="gotoLocation",r[r.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",r[r.hover=55]="hover",r[r.inDiffEditor=56]="inDiffEditor",r[r.inlineSuggest=57]="inlineSuggest",r[r.letterSpacing=58]="letterSpacing",r[r.lightbulb=59]="lightbulb",r[r.lineDecorationsWidth=60]="lineDecorationsWidth",r[r.lineHeight=61]="lineHeight",r[r.lineNumbers=62]="lineNumbers",r[r.lineNumbersMinChars=63]="lineNumbersMinChars",r[r.linkedEditing=64]="linkedEditing",r[r.links=65]="links",r[r.matchBrackets=66]="matchBrackets",r[r.minimap=67]="minimap",r[r.mouseStyle=68]="mouseStyle",r[r.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",r[r.mouseWheelZoom=70]="mouseWheelZoom",r[r.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",r[r.multiCursorModifier=72]="multiCursorModifier",r[r.multiCursorPaste=73]="multiCursorPaste",r[r.occurrencesHighlight=74]="occurrencesHighlight",r[r.overviewRulerBorder=75]="overviewRulerBorder",r[r.overviewRulerLanes=76]="overviewRulerLanes",r[r.padding=77]="padding",r[r.parameterHints=78]="parameterHints",r[r.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",r[r.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",r[r.quickSuggestions=81]="quickSuggestions",r[r.quickSuggestionsDelay=82]="quickSuggestionsDelay",r[r.readOnly=83]="readOnly",r[r.renameOnType=84]="renameOnType",r[r.renderControlCharacters=85]="renderControlCharacters",r[r.renderFinalNewline=86]="renderFinalNewline",r[r.renderLineHighlight=87]="renderLineHighlight",r[r.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",r[r.renderValidationDecorations=89]="renderValidationDecorations",r[r.renderWhitespace=90]="renderWhitespace",r[r.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",r[r.roundedSelection=92]="roundedSelection",r[r.rulers=93]="rulers",r[r.scrollbar=94]="scrollbar",r[r.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",r[r.scrollBeyondLastLine=96]="scrollBeyondLastLine",r[r.scrollPredominantAxis=97]="scrollPredominantAxis",r[r.selectionClipboard=98]="selectionClipboard",r[r.selectionHighlight=99]="selectionHighlight",r[r.selectOnLineNumbers=100]="selectOnLineNumbers",r[r.showFoldingControls=101]="showFoldingControls",r[r.showUnused=102]="showUnused",r[r.snippetSuggestions=103]="snippetSuggestions",r[r.smartSelect=104]="smartSelect",r[r.smoothScrolling=105]="smoothScrolling",r[r.stickyTabStops=106]="stickyTabStops",r[r.stopRenderingLineAfter=107]="stopRenderingLineAfter",r[r.suggest=108]="suggest",r[r.suggestFontSize=109]="suggestFontSize",r[r.suggestLineHeight=110]="suggestLineHeight",r[r.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",r[r.suggestSelection=112]="suggestSelection",r[r.tabCompletion=113]="tabCompletion",r[r.tabIndex=114]="tabIndex",r[r.unicodeHighlighting=115]="unicodeHighlighting",r[r.unusualLineTerminators=116]="unusualLineTerminators",r[r.useShadowDOM=117]="useShadowDOM",r[r.useTabStops=118]="useTabStops",r[r.wordSeparators=119]="wordSeparators",r[r.wordWrap=120]="wordWrap",r[r.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",r[r.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",r[r.wordWrapColumn=123]="wordWrapColumn",r[r.wordWrapOverride1=124]="wordWrapOverride1",r[r.wordWrapOverride2=125]="wordWrapOverride2",r[r.wrappingIndent=126]="wrappingIndent",r[r.wrappingStrategy=127]="wrappingStrategy",r[r.showDeprecated=128]="showDeprecated",r[r.inlayHints=129]="inlayHints",r[r.editorClassName=130]="editorClassName",r[r.pixelRatio=131]="pixelRatio",r[r.tabFocusMode=132]="tabFocusMode",r[r.layoutInfo=133]="layoutInfo",r[r.wrappingInfo=134]="wrappingInfo"})(EI||(EI={}));var II;(function(r){r[r.TextDefined=0]="TextDefined",r[r.LF=1]="LF",r[r.CRLF=2]="CRLF"})(II||(II={}));var OI;(function(r){r[r.LF=0]="LF",r[r.CRLF=1]="CRLF"})(OI||(OI={}));var NI;(function(r){r[r.None=0]="None",r[r.Indent=1]="Indent",r[r.IndentOutdent=2]="IndentOutdent",r[r.Outdent=3]="Outdent"})(NI||(NI={}));var TI;(function(r){r[r.Both=0]="Both",r[r.Right=1]="Right",r[r.Left=2]="Left",r[r.None=3]="None"})(TI||(TI={}));var PI;(function(r){r[r.Type=1]="Type",r[r.Parameter=2]="Parameter"})(PI||(PI={}));var AI;(function(r){r[r.Automatic=0]="Automatic",r[r.Explicit=1]="Explicit"})(AI||(AI={}));var MI;(function(r){r[r.DependsOnKbLayout=-1]="DependsOnKbLayout",r[r.Unknown=0]="Unknown",r[r.Backspace=1]="Backspace",r[r.Tab=2]="Tab",r[r.Enter=3]="Enter",r[r.Shift=4]="Shift",r[r.Ctrl=5]="Ctrl",r[r.Alt=6]="Alt",r[r.PauseBreak=7]="PauseBreak",r[r.CapsLock=8]="CapsLock",r[r.Escape=9]="Escape",r[r.Space=10]="Space",r[r.PageUp=11]="PageUp",r[r.PageDown=12]="PageDown",r[r.End=13]="End",r[r.Home=14]="Home",r[r.LeftArrow=15]="LeftArrow",r[r.UpArrow=16]="UpArrow",r[r.RightArrow=17]="RightArrow",r[r.DownArrow=18]="DownArrow",r[r.Insert=19]="Insert",r[r.Delete=20]="Delete",r[r.Digit0=21]="Digit0",r[r.Digit1=22]="Digit1",r[r.Digit2=23]="Digit2",r[r.Digit3=24]="Digit3",r[r.Digit4=25]="Digit4",r[r.Digit5=26]="Digit5",r[r.Digit6=27]="Digit6",r[r.Digit7=28]="Digit7",r[r.Digit8=29]="Digit8",r[r.Digit9=30]="Digit9",r[r.KeyA=31]="KeyA",r[r.KeyB=32]="KeyB",r[r.KeyC=33]="KeyC",r[r.KeyD=34]="KeyD",r[r.KeyE=35]="KeyE",r[r.KeyF=36]="KeyF",r[r.KeyG=37]="KeyG",r[r.KeyH=38]="KeyH",r[r.KeyI=39]="KeyI",r[r.KeyJ=40]="KeyJ",r[r.KeyK=41]="KeyK",r[r.KeyL=42]="KeyL",r[r.KeyM=43]="KeyM",r[r.KeyN=44]="KeyN",r[r.KeyO=45]="KeyO",r[r.KeyP=46]="KeyP",r[r.KeyQ=47]="KeyQ",r[r.KeyR=48]="KeyR",r[r.KeyS=49]="KeyS",r[r.KeyT=50]="KeyT",r[r.KeyU=51]="KeyU",r[r.KeyV=52]="KeyV",r[r.KeyW=53]="KeyW",r[r.KeyX=54]="KeyX",r[r.KeyY=55]="KeyY",r[r.KeyZ=56]="KeyZ",r[r.Meta=57]="Meta",r[r.ContextMenu=58]="ContextMenu",r[r.F1=59]="F1",r[r.F2=60]="F2",r[r.F3=61]="F3",r[r.F4=62]="F4",r[r.F5=63]="F5",r[r.F6=64]="F6",r[r.F7=65]="F7",r[r.F8=66]="F8",r[r.F9=67]="F9",r[r.F10=68]="F10",r[r.F11=69]="F11",r[r.F12=70]="F12",r[r.F13=71]="F13",r[r.F14=72]="F14",r[r.F15=73]="F15",r[r.F16=74]="F16",r[r.F17=75]="F17",r[r.F18=76]="F18",r[r.F19=77]="F19",r[r.NumLock=78]="NumLock",r[r.ScrollLock=79]="ScrollLock",r[r.Semicolon=80]="Semicolon",r[r.Equal=81]="Equal",r[r.Comma=82]="Comma",r[r.Minus=83]="Minus",r[r.Period=84]="Period",r[r.Slash=85]="Slash",r[r.Backquote=86]="Backquote",r[r.BracketLeft=87]="BracketLeft",r[r.Backslash=88]="Backslash",r[r.BracketRight=89]="BracketRight",r[r.Quote=90]="Quote",r[r.OEM_8=91]="OEM_8",r[r.IntlBackslash=92]="IntlBackslash",r[r.Numpad0=93]="Numpad0",r[r.Numpad1=94]="Numpad1",r[r.Numpad2=95]="Numpad2",r[r.Numpad3=96]="Numpad3",r[r.Numpad4=97]="Numpad4",r[r.Numpad5=98]="Numpad5",r[r.Numpad6=99]="Numpad6",r[r.Numpad7=100]="Numpad7",r[r.Numpad8=101]="Numpad8",r[r.Numpad9=102]="Numpad9",r[r.NumpadMultiply=103]="NumpadMultiply",r[r.NumpadAdd=104]="NumpadAdd",r[r.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",r[r.NumpadSubtract=106]="NumpadSubtract",r[r.NumpadDecimal=107]="NumpadDecimal",r[r.NumpadDivide=108]="NumpadDivide",r[r.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",r[r.ABNT_C1=110]="ABNT_C1",r[r.ABNT_C2=111]="ABNT_C2",r[r.AudioVolumeMute=112]="AudioVolumeMute",r[r.AudioVolumeUp=113]="AudioVolumeUp",r[r.AudioVolumeDown=114]="AudioVolumeDown",r[r.BrowserSearch=115]="BrowserSearch",r[r.BrowserHome=116]="BrowserHome",r[r.BrowserBack=117]="BrowserBack",r[r.BrowserForward=118]="BrowserForward",r[r.MediaTrackNext=119]="MediaTrackNext",r[r.MediaTrackPrevious=120]="MediaTrackPrevious",r[r.MediaStop=121]="MediaStop",r[r.MediaPlayPause=122]="MediaPlayPause",r[r.LaunchMediaPlayer=123]="LaunchMediaPlayer",r[r.LaunchMail=124]="LaunchMail",r[r.LaunchApp2=125]="LaunchApp2",r[r.Clear=126]="Clear",r[r.MAX_VALUE=127]="MAX_VALUE"})(MI||(MI={}));var RI;(function(r){r[r.Hint=1]="Hint",r[r.Info=2]="Info",r[r.Warning=4]="Warning",r[r.Error=8]="Error"})(RI||(RI={}));var FI;(function(r){r[r.Unnecessary=1]="Unnecessary",r[r.Deprecated=2]="Deprecated"})(FI||(FI={}));var BI;(function(r){r[r.Inline=1]="Inline",r[r.Gutter=2]="Gutter"})(BI||(BI={}));var jI;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.TEXTAREA=1]="TEXTAREA",r[r.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",r[r.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",r[r.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",r[r.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",r[r.CONTENT_TEXT=6]="CONTENT_TEXT",r[r.CONTENT_EMPTY=7]="CONTENT_EMPTY",r[r.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",r[r.CONTENT_WIDGET=9]="CONTENT_WIDGET",r[r.OVERVIEW_RULER=10]="OVERVIEW_RULER",r[r.SCROLLBAR=11]="SCROLLBAR",r[r.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",r[r.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(jI||(jI={}));var WI;(function(r){r[r.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",r[r.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",r[r.TOP_CENTER=2]="TOP_CENTER"})(WI||(WI={}));var zI;(function(r){r[r.Left=1]="Left",r[r.Center=2]="Center",r[r.Right=4]="Right",r[r.Full=7]="Full"})(zI||(zI={}));var VI;(function(r){r[r.Left=0]="Left",r[r.Right=1]="Right",r[r.None=2]="None",r[r.LeftOfInjectedText=3]="LeftOfInjectedText",r[r.RightOfInjectedText=4]="RightOfInjectedText"})(VI||(VI={}));var UI;(function(r){r[r.Off=0]="Off",r[r.On=1]="On",r[r.Relative=2]="Relative",r[r.Interval=3]="Interval",r[r.Custom=4]="Custom"})(UI||(UI={}));var HI;(function(r){r[r.None=0]="None",r[r.Text=1]="Text",r[r.Blocks=2]="Blocks"})(HI||(HI={}));var $I;(function(r){r[r.Smooth=0]="Smooth",r[r.Immediate=1]="Immediate"})($I||($I={}));var KI;(function(r){r[r.Auto=1]="Auto",r[r.Hidden=2]="Hidden",r[r.Visible=3]="Visible"})(KI||(KI={}));var qI;(function(r){r[r.LTR=0]="LTR",r[r.RTL=1]="RTL"})(qI||(qI={}));var YI;(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})(YI||(YI={}));var ZI;(function(r){r[r.File=0]="File",r[r.Module=1]="Module",r[r.Namespace=2]="Namespace",r[r.Package=3]="Package",r[r.Class=4]="Class",r[r.Method=5]="Method",r[r.Property=6]="Property",r[r.Field=7]="Field",r[r.Constructor=8]="Constructor",r[r.Enum=9]="Enum",r[r.Interface=10]="Interface",r[r.Function=11]="Function",r[r.Variable=12]="Variable",r[r.Constant=13]="Constant",r[r.String=14]="String",r[r.Number=15]="Number",r[r.Boolean=16]="Boolean",r[r.Array=17]="Array",r[r.Object=18]="Object",r[r.Key=19]="Key",r[r.Null=20]="Null",r[r.EnumMember=21]="EnumMember",r[r.Struct=22]="Struct",r[r.Event=23]="Event",r[r.Operator=24]="Operator",r[r.TypeParameter=25]="TypeParameter"})(ZI||(ZI={}));var GI;(function(r){r[r.Deprecated=1]="Deprecated"})(GI||(GI={}));var XI;(function(r){r[r.Hidden=0]="Hidden",r[r.Blink=1]="Blink",r[r.Smooth=2]="Smooth",r[r.Phase=3]="Phase",r[r.Expand=4]="Expand",r[r.Solid=5]="Solid"})(XI||(XI={}));var QI;(function(r){r[r.Line=1]="Line",r[r.Block=2]="Block",r[r.Underline=3]="Underline",r[r.LineThin=4]="LineThin",r[r.BlockOutline=5]="BlockOutline",r[r.UnderlineThin=6]="UnderlineThin"})(QI||(QI={}));var JI;(function(r){r[r.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",r[r.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",r[r.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",r[r.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(JI||(JI={}));var eO;(function(r){r[r.None=0]="None",r[r.Same=1]="Same",r[r.Indent=2]="Indent",r[r.DeepIndent=3]="DeepIndent"})(eO||(eO={}));var p_=class{static chord(e,t){return en(e,t)}};p_.CtrlCmd=2048;p_.Shift=1024;p_.Alt=512;p_.WinCtrl=256;function tO(){return{editor:void 0,languages:void 0,CancellationTokenSource:qi,Emitter:B,KeyCode:MI,KeyMod:p_,Position:H,Range:D,Selection:ge,SelectionDirection:qI,MarkerSeverity:RI,MarkerTag:FI,Uri:Ee,Token:ed}}Ye();ur();Oe();se();var xS=class{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){let t=uh(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=uh(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=uh(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=uh(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=uh(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=uh(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=uh(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=uh(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=uh(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=uh(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function uh(r){return typeof r=="number"?`${r}px`:r}function mt(r){return new xS(r)}function In(r,e){r instanceof xS?(r.setFontFamily(e.getMassagedFontFamily()),r.setFontWeight(e.fontWeight),r.setFontSize(e.fontSize),r.setFontFeatureSettings(e.fontFeatureSettings),r.setLineHeight(e.lineHeight),r.setLetterSpacing(e.letterSpacing)):(r.style.fontFamily=e.getMassagedFontFamily(),r.style.fontWeight=e.fontWeight,r.style.fontSize=e.fontSize+"px",r.style.fontFeatureSettings=e.fontFeatureSettings,r.style.lineHeight=e.lineHeight+"px",r.style.letterSpacing=e.letterSpacing+"px")}var hO=class{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}},DS=class{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){let e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";let t=document.createElement("div");In(t,this._bareFontInfo),e.appendChild(t);let i=document.createElement("div");In(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);let n=document.createElement("div");In(n,this._bareFontInfo),n.style.fontStyle="italic",e.appendChild(n);let o=[];for(let s of this._requests){let a;s.type===0&&(a=t),s.type===2&&(a=i),s.type===1&&(a=n),a.appendChild(document.createElement("br"));let l=document.createElement("span");DS._render(l,s),a.appendChild(l),o.push(l)}this._container=e,this._testElements=o}static _render(e,t){if(t.chr===" "){let i="\xA0";for(let n=0;n<8;n++)i+=i;e.innerText=i}else{let i=t.chr;for(let n=0;n<8;n++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){let i=this._requests[e],n=this._testElements[e];i.fulfill(n.offsetWidth/256)}}};function qY(r,e){new DS(r,e).read()}At();Oe();var Sl=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new B,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(r){r=Math.min(Math.max(-5,r),20),this._zoomLevel!==r&&(this._zoomLevel=r,this._onDidChangeZoomLevel.fire(this._zoomLevel))}};var Tfe=at?1.5:1.35,E3=8,nd=class{constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i){let n=e.get(45),o=e.get(49),s=e.get(48),a=e.get(47),l=e.get(61),c=e.get(58);return nd._create(n,o,s,a,l,c,t,i)}static _create(e,t,i,n,o,s,a,l){o===0?o=Tfe*i:o<E3&&(o=o*i),o=Math.round(o),o<E3&&(o=E3);let c=1+(l?0:Sl.getZoomLevel()*.1);return i*=c,o*=c,new nd({pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:n,lineHeight:o,letterSpacing:s})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){let e=Ar.fontFamily,t=nd._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}},Pfe=1,b_=class extends nd{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=Pfe,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}};var I3=class extends ${constructor(){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._cache=new uO,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new uO,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){let e=this._cache.getValues(),t=!1;for(let i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new b_({pixelRatio:Yu.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,i,n){let o=new hO(e,t);return i.push(o),n?.push(o),o}_actualReadFontInfo(e){let t=[],i=[],n=this._createRequest("n",0,t,i),o=this._createRequest("\uFF4D",0,t,null),s=this._createRequest(" ",0,t,i),a=this._createRequest("0",0,t,i),l=this._createRequest("1",0,t,i),c=this._createRequest("2",0,t,i),d=this._createRequest("3",0,t,i),h=this._createRequest("4",0,t,i),u=this._createRequest("5",0,t,i),f=this._createRequest("6",0,t,i),m=this._createRequest("7",0,t,i),_=this._createRequest("8",0,t,i),v=this._createRequest("9",0,t,i),w=this._createRequest("\u2192",0,t,i),y=this._createRequest("\uFFEB",0,t,null),x=this._createRequest("\xB7",0,t,i),k=this._createRequest(String.fromCharCode(11825),0,t,null),N="|/-_ilm%";for(let K=0,q=N.length;K<q;K++)this._createRequest(N.charAt(K),0,t,i),this._createRequest(N.charAt(K),1,t,i),this._createRequest(N.charAt(K),2,t,i);qY(e,t);let M=Math.max(a.width,l.width,c.width,d.width,h.width,u.width,f.width,m.width,_.width,v.width),I=e.fontFeatureSettings===Xo.OFF,O=i[0].width;for(let K=1,q=i.length;I&&K<q;K++){let te=O-i[K].width;if(te<-.001||te>.001){I=!1;break}}let R=!0;return I&&y.width!==O&&(R=!1),y.width>w.width&&(R=!1),new b_({pixelRatio:Yu.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:I,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:R,spaceWidth:s.width,middotWidth:x.width,wsmiddotWidth:k.width,maxDigitWidth:M},!0)}},uO=class{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){let t=e.getId();return!!this._values[t]}get(e){let t=e.getId();return this._values[t]}put(e,t){let i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){let t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}},kS=new I3;lo();fO();Oe();se();hr();Le();var Mfe={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},gO=class extends ${constructor(e,t={}){super(),this._onDidUpdate=this._register(new B),this._editor=e,this._options=Pr(t,Mfe,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new D(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):t.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new D(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new D(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber+1,1)})}),this.ranges.sort((t,i)=>D.compareRangesUsingStarts(t.range,i.range)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let n=0,o=this.ranges.length;n<o&&!t;n++){let s=this.ranges[n].range;i.isBeforeOrEqual(s.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(e,t){if(tm(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let n=i.range.getStartPosition();this._editor.setPosition(n),this._editor.revealRangeInCenter(i.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};ES();Rs();Un();io();PS();Qo();_s();ot();se();ut();Oe();se();At();ti();Ye();var nge="$initialize",CZ=!1;function MS(r){!ja||(CZ||(CZ=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(r.message))}var u7=class{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.method=i,this.args=n,this.type=0}},VO=class{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}},f7=class{constructor(e,t,i,n){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=n,this.type=2}},g7=class{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}},m7=class{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}},p7=class{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){let i=String(++this._lastSentReq);return new Promise((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send(new u7(this._workerId,i,e,t))})}listen(e,t){let i=null,n=new B({onFirstListenerAdd:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,n),this._send(new f7(this._workerId,i,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(i),this._send(new m7(this._workerId,i)),i=null}});return n.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then(n=>{this._send(new VO(this._workerId,t,n,void 0))},n=>{n.detail instanceof Error&&(n.detail=i3(n.detail)),this._send(new VO(this._workerId,t,void 0,i3(n)))})}_handleSubscribeEventMessage(e){let t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)(n=>{this._send(new g7(this._workerId,t,n))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){let t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}},UO=class extends ${constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",c=>{this._protocol.handleMessage(c)},c=>{n?.(c)})),this._protocol=new p7({sendMessage:(c,d)=>{this._worker.postMessage(c,d)},handleMessage:(c,d)=>{if(typeof i[c]!="function")return Promise.reject(new Error("Missing method "+c+" on main thread host."));try{return Promise.resolve(i[c].apply(i,d))}catch(h){return Promise.reject(h)}},handleEvent:(c,d)=>{if(yZ(c)){let h=i[c].call(i,d);if(typeof h!="function")throw new Error(`Missing dynamic event ${c} on main thread host.`);return h}if(wZ(c)){let h=i[c];if(typeof h!="function")throw new Error(`Missing event ${c} on main thread host.`);return h}throw new Error(`Malformed event name ${c}`)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;typeof Qi.require<"u"&&typeof Qi.require.getConfig=="function"?o=Qi.require.getConfig():typeof Qi.requirejs<"u"&&(o=Qi.requirejs.s.contexts._.config);let s=T0(i);this._onModuleLoaded=this._protocol.sendMessage(nge,[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,s]);let a=(c,d)=>this._request(c,d),l=(c,d)=>this._protocol.listen(c,d);this._lazyProxy=new Promise((c,d)=>{n=d,this._onModuleLoaded.then(h=>{c(oge(h,a,l))},h=>{d(h),this._onError("Worker failed to load "+t,h)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,n)},n)})}_onError(e,t){console.error(e),console.info(t)}};function wZ(r){return r[0]==="o"&&r[1]==="n"&&Cl(r.charCodeAt(2))}function yZ(r){return/^onDynamic/.test(r)&&Cl(r.charCodeAt(9))}function oge(r,e,t){let i=s=>function(){let a=Array.prototype.slice.call(arguments,0);return e(s,a)},n=s=>function(a){return t(s,a)},o={};for(let s of r){if(yZ(s)){o[s]=n(s);continue}if(wZ(s)){o[s]=t(s,void 0);continue}o[s]=i(s)}return o}At();var _7,SZ=(_7=window.trustedTypes)===null||_7===void 0?void 0:_7.createPolicy("defaultWorkerFactory",{createScriptURL:r=>r});function rge(r){if(Qi.MonacoEnvironment){if(typeof Qi.MonacoEnvironment.getWorker=="function")return Qi.MonacoEnvironment.getWorker("workerMain.js",r);if(typeof Qi.MonacoEnvironment.getWorkerUrl=="function"){let e=Qi.MonacoEnvironment.getWorkerUrl("workerMain.js",r);return new Worker(SZ?SZ.createScriptURL(e):e,{name:r})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function sge(r){return typeof r.then=="function"}var b7=class{constructor(e,t,i,n,o){this.id=t;let s=rge(i);sge(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){n(l.data)},a.onmessageerror=o,typeof a.addEventListener=="function"&&a.addEventListener("error",o)})}getId(){return this.id}postMessage(e,t){var i;(i=this.worker)===null||i===void 0||i.then(n=>n.postMessage(e,t))}dispose(){var e;(e=this.worker)===null||e===void 0||e.then(t=>t.terminate()),this.worker=null}},x_=class{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let n=++x_.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new b7(e,n,this._label||"anonymous"+n,t,o=>{MS(o),this._webWorkerFailedBeforeError=o,i(o)})}};x_.LAST_WORKER_ID=0;Le();io();var rd=class{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}};k_();var $O=class{constructor(e){this.source=e}getElements(){let e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}};function xZ(r,e,t){return new ma(new $O(r),new $O(e)).ComputeDiff(t).changes}var hm=class{static Assert(e,t){if(!e)throw new Error(t)}},um=class{static Copy(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}static Copy2(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}},KO=class{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new rd(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},ma=class{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;let[n,o,s]=ma._getElements(e),[a,l,c]=ma._getElements(t);this._hasStrings=s&&c,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){let t=e.getElements();if(ma._isStringArray(t)){let i=new Int32Array(t.length);for(let n=0,o=t.length;n<o;n++)i[n]=HO(t[n],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;let i=ma._getStrictElement(this._originalSequence,e),n=ma._getStrictElement(this._modifiedSequence,t);return i===n}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){let s=[!1],a=this.ComputeDiffRecursive(e,t,i,n,s);return o&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,i,n,o){for(o[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let h;return i<=n?(hm.Assert(e===t+1,"originalStart should only be one more than originalEnd"),h=[new rd(e,0,i,n-i+1)]):e<=t?(hm.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),h=[new rd(e,t-e+1,i,0)]):(hm.Assert(e===t+1,"originalStart should only be one more than originalEnd"),hm.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}let s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,n,s,a,o),c=s[0],d=a[0];if(l!==null)return l;if(!o[0]){let h=this.ComputeDiffRecursive(e,c,i,d,o),u=[];return o[0]?u=[new rd(c+1,t-(c+1)+1,d+1,n-(d+1)+1)]:u=this.ComputeDiffRecursive(c+1,t,d+1,n,o),this.ConcatenateChanges(h,u)}return[new rd(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_,v,w,y){let x=null,k=null,N=new KO,M=t,I=i,O=f[0]-v[0]-n,R=-1073741824,K=this.m_forwardHistory.length-1;do{let q=O+e;q===M||q<I&&c[q-1]<c[q+1]?(h=c[q+1],m=h-O-n,h<R&&N.MarkNextChange(),R=h,N.AddModifiedElement(h+1,m),O=q+1-e):(h=c[q-1]+1,m=h-O-n,h<R&&N.MarkNextChange(),R=h-1,N.AddOriginalElement(h,m+1),O=q-1-e),K>=0&&(c=this.m_forwardHistory[K],e=c[0],M=1,I=c.length-1)}while(--K>=-1);if(x=N.getReverseChanges(),y[0]){let q=f[0]+1,te=v[0]+1;if(x!==null&&x.length>0){let ie=x[x.length-1];q=Math.max(q,ie.getOriginalEnd()),te=Math.max(te,ie.getModifiedEnd())}k=[new rd(q,u-q+1,te,_-te+1)]}else{N=new KO,M=s,I=a,O=f[0]-v[0]-l,R=1073741824,K=w?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let q=O+o;q===M||q<I&&d[q-1]>=d[q+1]?(h=d[q+1]-1,m=h-O-l,h>R&&N.MarkNextChange(),R=h+1,N.AddOriginalElement(h+1,m+1),O=q+1-o):(h=d[q-1],m=h-O-l,h>R&&N.MarkNextChange(),R=h,N.AddModifiedElement(h+1,m+1),O=q-1-o),K>=0&&(d=this.m_reverseHistory[K],o=d[0],M=1,I=d.length-1)}while(--K>=-1);k=N.getChanges()}return this.ConcatenateChanges(x,k)}ComputeRecursionPoint(e,t,i,n,o,s,a){let l=0,c=0,d=0,h=0,u=0,f=0;e--,i--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let m=t-e+(n-i),_=m+1,v=new Int32Array(_),w=new Int32Array(_),y=n-i,x=t-e,k=e-i,N=t-n,I=(x-y)%2===0;v[y]=e,w[x]=t,a[0]=!1;for(let O=1;O<=m/2+1;O++){let R=0,K=0;d=this.ClipDiagonalBound(y-O,O,y,_),h=this.ClipDiagonalBound(y+O,O,y,_);for(let te=d;te<=h;te+=2){te===d||te<h&&v[te-1]<v[te+1]?l=v[te+1]:l=v[te-1]+1,c=l-(te-y)-k;let ie=l;for(;l<t&&c<n&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(v[te]=l,l+c>R+K&&(R=l,K=c),!I&&Math.abs(te-x)<=O-1&&l>=w[te])return o[0]=l,s[0]=c,ie<=w[te]&&1447>0&&O<=1447+1?this.WALKTRACE(y,d,h,k,x,u,f,N,v,w,l,t,o,c,n,s,I,a):null}let q=(R-e+(K-i)-O)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(R,q))return a[0]=!0,o[0]=R,s[0]=K,q>0&&1447>0&&O<=1447+1?this.WALKTRACE(y,d,h,k,x,u,f,N,v,w,l,t,o,c,n,s,I,a):(e++,i++,[new rd(e,t-e+1,i,n-i+1)]);u=this.ClipDiagonalBound(x-O,O,x,_),f=this.ClipDiagonalBound(x+O,O,x,_);for(let te=u;te<=f;te+=2){te===u||te<f&&w[te-1]>=w[te+1]?l=w[te+1]-1:l=w[te-1],c=l-(te-x)-N;let ie=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(w[te]=l,I&&Math.abs(te-y)<=O&&l<=v[te])return o[0]=l,s[0]=c,ie>=v[te]&&1447>0&&O<=1447+1?this.WALKTRACE(y,d,h,k,x,u,f,N,v,w,l,t,o,c,n,s,I,a):null}if(O<=1447){let te=new Int32Array(h-d+2);te[0]=y-d+1,um.Copy2(v,d,te,1,h-d+1),this.m_forwardHistory.push(te),te=new Int32Array(f-u+2),te[0]=x-u+1,um.Copy2(w,u,te,1,f-u+1),this.m_reverseHistory.push(te)}}return this.WALKTRACE(y,d,h,k,x,u,f,N,v,w,l,t,o,c,n,s,I,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){let i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){let c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){let i=e[t],n=0,o=0;if(t>0){let h=e[t-1];n=h.originalStart+h.originalLength,o=h.modifiedStart+h.modifiedLength}let s=i.originalLength>0,a=i.modifiedLength>0,l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let h=1;;h++){let u=i.originalStart-h,f=i.modifiedStart-h;if(u<n||f<o||s&&!this.OriginalElementsAreEqual(u,u+i.originalLength)||a&&!this.ModifiedElementsAreEqual(f,f+i.modifiedLength))break;let _=(u===n&&f===o?5:0)+this._boundaryScore(u,i.originalLength,f,i.modifiedLength);_>c&&(c=_,l=h)}i.originalStart-=l,i.modifiedStart-=l;let d=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],d)){e[t-1]=d[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){let n=e[t-1],o=e[t],s=o.originalStart-n.originalStart-n.originalLength,a=n.originalStart,l=o.originalStart+o.originalLength,c=l-a,d=n.modifiedStart,h=o.modifiedStart+o.modifiedLength,u=h-d;if(s<5&&c<20&&u<20){let f=this._findBetterContiguousSequence(a,c,d,u,s);if(f){let[m,_]=f;(m!==n.originalStart+n.originalLength||_!==n.modifiedStart+n.modifiedLength)&&(n.originalLength=m-n.originalStart,n.modifiedLength=_-n.modifiedStart,o.originalStart=m+s,o.modifiedStart=_+s,o.originalLength=l-o.originalStart,o.modifiedLength=h-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;let s=e+t-o+1,a=i+n-o+1,l=0,c=0,d=0;for(let h=e;h<s;h++)for(let u=i;u<a;u++){let f=this._contiguousSequenceScore(h,u,o);f>0&&f>l&&(l=f,c=h,d=u)}return l>0?[c,d]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){let i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){let o=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(i,n)?1:0;return o+s}ConcatenateChanges(e,t){let i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){let n=new Array(e.length+t.length-1);return um.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],um.Copy(t,1,n,e.length,t.length-1),n}else{let n=new Array(e.length+t.length);return um.Copy(e,0,n,0,e.length),um.Copy(t,0,n,e.length,t.length),n}}ChangesOverlap(e,t,i){if(hm.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),hm.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){let n=e.originalStart,o=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new rd(n,o,s,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;let o=i,s=n-i-1,a=t%2===0;if(e<0){let l=o%2===0;return a===l?0:1}else{let l=s%2===0;return a===l?n-1:n-2}}};At();vi();rt();Le();Ye();var hge=3;function kZ(r,e,t,i){return new ma(r,e,t).ComputeDiff(i)}var qO=class{constructor(e){let t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=w7(e[n],1),i[n]=y7(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){let e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){let n=[],o=[],s=[],a=0;for(let l=t;l<=i;l++){let c=this.lines[l],d=e?this._startColumns[l]:1,h=e?this._endColumns[l]:c.length+1;for(let u=d;u<h;u++)n[a]=c.charCodeAt(u-1),o[a]=l+1,s[a]=u,a++;!e&&l<i&&(n[a]=10,o[a]=l+1,s[a]=c.length+1,a++)}return new C7(n,o,s)}},C7=class{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return e===-1?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),this._charCodes[e]===10?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return e===-1?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),this._charCodes[e]===10?1:this._columns[e]+1)}},I_=class{constructor(e,t,i,n,o,s,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){let n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1),l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),h=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new I_(n,o,s,a,l,c,d,h)}};function uge(r){if(r.length<=1)return r;let e=[r[0]],t=e[0];for(let i=1,n=r.length;i<n;i++){let o=r[i],s=o.originalStart-(t.originalStart+t.originalLength),a=o.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(s,a)<hge?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}var E_=class{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,s,a){let l,c,d,h,u;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(d=n.getStartLineNumber(t.modifiedStart)-1,h=0):(d=n.getStartLineNumber(t.modifiedStart),h=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){let f=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),m=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(f.getElements().length>0&&m.getElements().length>0){let _=kZ(f,m,o,!0).changes;a&&(_=uge(_)),u=[];for(let v=0,w=_.length;v<w;v++)u.push(I_.createFromDiffChange(_[v],f,m))}}return new E_(l,c,d,h,u)}},YO=class{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new qO(e),this.modified=new qO(t),this.continueLineDiff=DZ(i.maxComputationTime),this.continueCharDiff=DZ(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};let e=kZ(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){let a=[];for(let l=0,c=t.length;l<c;l++)a.push(E_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}let n=[],o=0,s=0;for(let a=-1,l=t.length;a<l;a++){let c=a+1<l?t[a+1]:null,d=c?c.originalStart:this.originalLines.length,h=c?c.modifiedStart:this.modifiedLines.length;for(;o<d&&s<h;){let u=this.originalLines[o],f=this.modifiedLines[s];if(u!==f){{let m=w7(u,1),_=w7(f,1);for(;m>1&&_>1;){let v=u.charCodeAt(m-2),w=f.charCodeAt(_-2);if(v!==w)break;m--,_--}(m>1||_>1)&&this._pushTrimWhitespaceCharChange(n,o+1,1,m,s+1,1,_)}{let m=y7(u,1),_=y7(f,1),v=u.length+1,w=f.length+1;for(;m<v&&_<w;){let y=u.charCodeAt(m-1),x=u.charCodeAt(_-1);if(y!==x)break;m++,_++}(m<v||_<w)&&this._pushTrimWhitespaceCharChange(n,o+1,m,v,s+1,_,w)}}o++,s++}c&&(n.push(E_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=c.originalLength,s+=c.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,o,s,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,o,s,a))return;let l;this.shouldComputeCharChanges&&(l=[new I_(t,i,t,n,o,s,o,a)]),e.push(new E_(t,t,o,o,l))}_mergeTrimWhitespaceCharChange(e,t,i,n,o,s,a){let l=e.length;if(l===0)return!1;let c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===o?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new I_(t,i,t,n,o,s,o,a)),!0):!1}};function w7(r,e){let t=En(r);return t===-1?e:t+1}function y7(r,e){let t=es(r);return t===-1?e:t+2}function DZ(r){if(r===0)return()=>!0;let e=Date.now();return()=>Date.now()-e<r}Ye();rt();Ft();BS();var ZO=class{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=N_(e);let i=this.values,n=this.prefixSum,o=t.length;return o===0?!1:(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=N_(e),t=N_(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=N_(e),t=N_(t);let i=this.values,n=this.prefixSum;if(e>=i.length)return!1;let o=i.length-e;return t>=o&&(t=o),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=N_(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,o=0,s=0;for(;t<=i;)if(n=t+(i-t)/2|0,o=this.prefixSum[n],s=o-this.values[n],e<s)i=n-1;else if(e>=o)t=n+1;else break;return new XO(n,e-s)}},GO=class{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();let t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new XO(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=Rg(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){let i=this._values[e],n=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=n+i;for(let o=0;o<i;o++)this._indexBySum[n+o]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}},XO=class{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}};var QO=class{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);let t=e.changes;for(let i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new H(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){let e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new ZO(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;let i=Mr(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let n=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}};E0();T_();var L7=class{constructor(e,t,i){let n=new Uint8Array(e*t);for(let o=0,s=e*t;o<s;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}},x7=class{constructor(e){let t=0,i=0;for(let o=0,s=e.length;o<s;o++){let[a,l,c]=e[o];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;let n=new L7(i,t,0);for(let o=0,s=e.length;o<s;o++){let[a,l,c]=e[o];n.set(a,l,c)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}},S7=null;function fge(){return S7===null&&(S7=new x7([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),S7}var jS=null;function gge(){if(jS===null){jS=new sd(0);let r=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<r.length;t++)jS.set(r.charCodeAt(t),1);let e=".,;:";for(let t=0;t<e.length;t++)jS.set(e.charCodeAt(t),2)}return jS}var oC=class{static _createLink(e,t,i,n,o){let s=o-1;do{let a=t.charCodeAt(s);if(e.get(a)!==2)break;s--}while(s>n);if(n>0){let a=t.charCodeAt(n-1),l=t.charCodeAt(s);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&s--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:s+2},url:t.substring(n,s+1)}}static computeLinks(e,t=fge()){let i=gge(),n=[];for(let o=1,s=e.getLineCount();o<=s;o++){let a=e.getLineContent(o),l=a.length,c=0,d=0,h=0,u=1,f=!1,m=!1,_=!1,v=!1;for(;c<l;){let w=!1,y=a.charCodeAt(c);if(u===13){let x;switch(y){case 40:f=!0,x=0;break;case 41:x=f?0:1;break;case 91:_=!0,m=!0,x=0;break;case 93:_=!1,x=m?0:1;break;case 123:v=!0,x=0;break;case 125:x=v?0:1;break;case 39:x=h===39?1:0;break;case 34:x=h===34?1:0;break;case 96:x=h===96?1:0;break;case 42:x=h===42?1:0;break;case 124:x=h===124?1:0;break;case 32:x=_?0:1;break;default:x=i.get(y)}x===1&&(n.push(oC._createLink(i,a,o,d,c)),w=!0)}else if(u===12){let x;y===91?(m=!0,x=0):x=i.get(y),x===1?w=!0:u=13}else u=t.nextState(u,y),u===0&&(w=!0);w&&(u=1,f=!1,m=!1,v=!1,d=c+1,h=y),c++}u===13&&n.push(oC._createLink(i,a,o,d,l))}return n}};function EZ(r){return!r||typeof r.getLineCount!="function"||typeof r.getLineContent!="function"?[]:oC.computeLinks(r)}var rC=class{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){if(e&&t){let s=this.doNavigateValueSet(t,o);if(s)return{range:e,value:s}}if(i&&n){let s=this.doNavigateValueSet(n,o);if(s)return{range:i,value:s}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),o=parseFloat(e);return!isNaN(n)&&!isNaN(o)&&n===o?n===0&&!t?null:(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,s=e.length;n===null&&o<s;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}};rC.INSTANCE=new rC;ti();Ha();Le();WS();Ye();ti();E0();var A_=class{static computeUnicodeHighlights(e,t,i){let n=i?i.startLineNumber:1,o=i?i.endLineNumber:e.getLineCount(),s=new tN(t),a=s.getCandidateCodePoints(),l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${Cge(Array.from(a))}`,"g");let c=new gh(null,l),d=[],h=!1,u,f=0,m=0,_=0;e:for(let v=n,w=o;v<=w;v++){let y=e.getLineContent(v),x=y.length;c.reset(0);do if(u=c.next(y),u){let k=u.index,N=u.index+u[0].length;if(k>0){let R=y.charCodeAt(k-1);ln(R)&&k--}if(N+1<x){let R=y.charCodeAt(N-1);ln(R)&&N++}let M=y.substring(k,N),I=Ag(k+1,iS,y,0),O=s.shouldHighlightNonBasicASCII(M,I?I.word:null);if(O!==0){O===3?f++:O===2?m++:O===1?_++:Bg(O);let R=1e3;if(d.length>=R){h=!0;break e}d.push(new D(v,k+1,v,N+1))}}while(u)}return{ranges:d,hasMore:h,ambiguousCharacterCount:f,invisibleCharacterCount:m,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(e,t){let i=new tN(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{let o=e.codePointAt(0),s=i.ambiguousCharacters.getPrimaryConfusable(o),a=ua.getLocales().filter(l=>!ua.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(o));return{kind:0,confusableWith:String.fromCodePoint(s),notAmbiguousInLocales:a}}case 1:return{kind:2}}}};function Cge(r,e){return`[${_o(r.map(i=>String.fromCodePoint(i)).join(""))}]`}var tN=class{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=ua.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";let e=new Set;if(this.options.invisibleCharacters)for(let t of Ka.codePoints)IZ(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(let t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(let t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){let i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,o=!1;if(t)for(let s of t){let a=s.codePointAt(0),l=em(s);n=n||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!Ka.isInvisibleCharacter(a)&&(o=!0)}return!n&&o?0:this.options.invisibleCharacters&&!IZ(e)&&Ka.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}};function IZ(r){return r===" "||r===`
`||r==="	"}var M_=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},k7=class extends QO{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=Ag(e.column,zE(t),this._lines[e.lineNumber-1],0);return i?new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){let t=this._lines,i=this._wordenize.bind(this),n=0,o="",s=0,a=[];return{*[Symbol.iterator](){for(;;)if(s<a.length){let l=o.substring(a[s].start,a[s].end);s+=1,yield l}else if(n<t.length)o=t[n],a=i(o,e),s=0,n+=1;else break}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(let s of n)o.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return o}_wordenize(e,t){let i=[],n;for(t.lastIndex=0;(n=t.exec(e))&&n[0].length!==0;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let s=i+1;s<n;s++)o.push(this._lines[s]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){let t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!H.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let o=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>o&&(i=o,n=!0)}return n?{lineNumber:t,column:i}:e}},cd=class{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new k7(Ee.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){!this._models[e]||delete this._models[e]}computeUnicodeHighlights(e,t,i){return M_(this,void 0,void 0,function*(){let n=this._getModel(e);return n?A_.computeUnicodeHighlights(n,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(e,t,i,n){return M_(this,void 0,void 0,function*(){let o=this._getModel(e),s=this._getModel(t);return!o||!s?null:cd.computeDiff(o,s,i,n)})}static computeDiff(e,t,i,n){let o=e.getLinesContent(),s=t.getLinesContent(),l=new YO(o,s,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),c=l.changes.length>0?!1:this._modelsAreIdentical(e,t);return{quitEarly:l.quitEarly,identical:c,changes:l.changes}}static _modelsAreIdentical(e,t){let i=e.getLineCount(),n=t.getLineCount();if(i!==n)return!1;for(let o=1;o<=i;o++){let s=e.getLineContent(o),a=t.getLineContent(o);if(s!==a)return!1}return!0}computeMoreMinimalEdits(e,t){return M_(this,void 0,void 0,function*(){let i=this._getModel(e);if(!i)return t;let n=[],o;t=t.slice(0).sort((s,a)=>{if(s.range&&a.range)return D.compareRangesUsingStarts(s.range,a.range);let l=s.range?0:1,c=a.range?0:1;return l-c});for(let{range:s,text:a,eol:l}of t){if(typeof l=="number"&&(o=l),D.isEmpty(s)&&!a)continue;let c=i.getValueInRange(s);if(a=a.replace(/\r\n|\n|\r/g,i.eol),c===a)continue;if(Math.max(a.length,c.length)>cd._diffLimit){n.push({range:s,text:a});continue}let d=xZ(c,a,!1),h=i.offsetAt(D.lift(s).getStartPosition());for(let u of d){let f=i.positionAt(h+u.originalStart),m=i.positionAt(h+u.originalStart+u.originalLength),_={text:a.substr(u.modifiedStart,u.modifiedLength),range:{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:m.lineNumber,endColumn:m.column}};i.getValueInRange(_.range)!==_.text&&n.push(_)}}return typeof o=="number"&&n.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n})}computeLinks(e){return M_(this,void 0,void 0,function*(){let t=this._getModel(e);return t?EZ(t):null})}textualSuggest(e,t,i,n){return M_(this,void 0,void 0,function*(){let o=new _n(!0),s=new RegExp(i,n),a=new Set;e:for(let l of e){let c=this._getModel(l);if(!!c){for(let d of c.words(s))if(!(d===t||!isNaN(Number(d)))&&(a.add(d),a.size>cd._suggestionsLimit))break e}}return{words:Array.from(a),duration:o.elapsed()}})}computeWordRanges(e,t,i,n){return M_(this,void 0,void 0,function*(){let o=this._getModel(e);if(!o)return Object.create(null);let s=new RegExp(i,n),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){let c=o.getLineWords(l,s);for(let d of c){if(!isNaN(Number(d.word)))continue;let h=a[d.word];h||(h=[],a[d.word]=h),h.push({startLineNumber:l,startColumn:d.startColumn,endLineNumber:l,endColumn:d.endColumn})}}return a})}navigateValueSet(e,t,i,n,o){return M_(this,void 0,void 0,function*(){let s=this._getModel(e);if(!s)return null;let a=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let l=s.getValueInRange(t),c=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;let d=s.getValueInRange(c);return rC.INSTANCE.navigateValueSet(t,l,c,d,i)})}loadForeignModule(e,t,i){let s={host:uY(i,(a,l)=>this._host.fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(s,t),Promise.resolve(T0(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}};cd._diffLimit=1e5;cd._suggestionsLimit=1e4;typeof importScripts=="function"&&(Qi.monaco=tO());_s();zS();Ye();Ft();pc();Ha();ut();oi();var wge=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},VS=function(r,e){return function(t,i){e(t,i,r)}},I7=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},NZ=60*1e3,TZ=5*60*1e3;function R_(r,e){let t=r.getModel(e);return!(!t||t.isTooLargeForSyncing())}var rN=class extends ${constructor(e,t,i,n,o){super(),this._modelService=e,this._workerManager=this._register(new N7(this._modelService,n)),this._logService=i,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(s,a)=>R_(this._modelService,s.uri)?this._workerManager.withWorker().then(l=>l.computeLinks(s.uri)).then(l=>l&&{links:l}):Promise.resolve({links:[]})})),this._register(o.completionProvider.register("*",new O7(this._workerManager,t,this._modelService,n)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return R_(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then(n=>n.computedUnicodeHighlights(e,t,i))}computeDiff(e,t,i,n){return this._workerManager.withWorker().then(o=>o.computeDiff(e,t,i,n))}computeMoreMinimalEdits(e,t){if(an(t)){if(!R_(this._modelService,e))return Promise.resolve(t);let i=_n.create(!0),n=this._workerManager.withWorker().then(o=>o.computeMoreMinimalEdits(e,t));return n.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([n,kl(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return R_(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(n=>n.navigateValueSet(e,t,i))}canComputeWordRanges(e){return R_(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};rN=wge([VS(0,si),VS(1,aC),VS(2,Oo),VS(3,ii),VS(4,_e)],rN);var O7=class{constructor(e,t,i,n){this.languageConfigurationService=n,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return I7(this,void 0,void 0,function*(){let i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;let n=[];if(i.wordBasedSuggestionsMode==="currentDocument")R_(this._modelService,e.uri)&&n.push(e.uri);else for(let h of this._modelService.getModels())!R_(this._modelService,h.uri)||(h===e?n.unshift(h.uri):(i.wordBasedSuggestionsMode==="allDocuments"||h.getLanguageId()===e.getLanguageId())&&n.push(h.uri));if(n.length===0)return;let o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),s=e.getWordAtPosition(t),a=s?new D(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):D.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),d=yield(yield this._workerManager.withWorker()).textualSuggest(n,s?.word,o);if(!!d)return{duration:d.duration,suggestions:d.words.map(h=>({kind:18,label:h,insertText:h,range:{insert:l,replace:a}}))}})}},N7=class extends ${constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new od).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(TZ/2)),this._register(this._modelService.onModelRemoved(n=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>TZ&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new HS(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}},T7=class extends ${constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let n=new od;n.cancelAndSet(()=>this._checkStopModelSync(),Math.round(NZ/2)),this._register(n)}}dispose(){for(let e in this._syncedModels)ft(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(let i of e){let n=i.toString();this._syncedModels[n]||this._beginModelSync(i,t),this._syncedModels[n]&&(this._syncedModelsLastUsedTime[n]=new Date().getTime())}}_checkStopModelSync(){let e=new Date().getTime(),t=[];for(let i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>NZ&&t.push(i);for(let i of t)this._stopModelSync(i)}_beginModelSync(e,t){let i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;let n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});let o=new J;o.add(i.onDidChangeContent(s=>{this._proxy.acceptModelChanged(n.toString(),s)})),o.add(i.onWillDispose(()=>{this._stopModelSync(n)})),o.add(Ke(()=>{this._proxy.acceptRemovedModel(n)})),this._syncedModels[n]=o}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],ft(t)}},sN=class{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}},US=class{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}},HS=class extends ${constructor(e,t,i,n){super(),this.languageConfigurationService=n,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new x_(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new UO(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new US(this)))}catch(e){MS(e),this._worker=new sN(new cd(new US(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(MS(e),this._worker=new sN(new cd(new US(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new T7(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return I7(this,void 0,void 0,function*(){return this._disposed?Promise.reject(tI()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))})}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then(n=>n.computeUnicodeHighlights(e.toString(),t,i))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t],!0).then(o=>o.computeDiff(e.toString(),t.toString(),i,n))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return I7(this,void 0,void 0,function*(){let n=yield this._withSyncedResources(e),o=i.source,s=rO(i);return n.textualSuggest(e.map(a=>a.toString()),t,o,s)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);let o=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition(),s=o.source,a=rO(o);return i.computeWordRanges(e.toString(),t,s,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(n=>{let o=this._modelService.getModel(e);if(!o)return null;let s=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),a=s.source,l=rO(s);return n.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}};ti();function PZ(r,e,t){return new P7(r,e,t)}var P7=class extends HS{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{let t=this._foreignModuleHost?T0(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;let n=(a,l)=>e.fmr(a,l),o=(a,l)=>function(){let c=Array.prototype.slice.call(arguments,0);return l(a,c)},s={};for(let a of i)s[a]=o(a,n);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}};Ye();mh();Un();F_();Ye();Le();var qS=class{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=n|0}},dN=class{constructor(e,t){this.tabSize=e,this.data=t}},B_=class{constructor(e,t,i,n,o,s,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=s,this.inlineDecorations=a}},mr=class{constructor(e,t,i,n,o,s,a,l,c,d){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=mr.isBasicASCII(i,s),this.containsRTL=mr.containsRTL(i,this.isBasicASCII,o),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=d}static isBasicASCII(e,t){return t?em(e):!0}static containsRTL(e,t,i){return!t&&i?id(e):!1}},ef=class{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}},hN=class{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new ef(new D(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}},fC=class{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}},gC=class{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}};Un();PS();function Oge(r){return Array.isArray(r)}function RZ(r){return!Oge(r)}function R7(r){return typeof r=="string"}function F7(r){return!R7(r)}function j_(r){return!r}function ph(r,e){return r.ignoreCase&&e?e.toLowerCase():e}function B7(r){return r.replace(/[&<>'"_]/g,"-")}function FZ(r,e){console.log(`${r.languageId}: ${e}`)}function Wi(r,e){return new Error(`${r.languageId}: ${e}`)}function _h(r,e,t,i,n){let o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,s=null;return e.replace(o,function(a,l,c,d,h,u,f,m,_){return j_(c)?j_(d)?!j_(h)&&h<i.length?ph(r,i[h]):!j_(f)&&r&&typeof r[f]=="string"?r[f]:(s===null&&(s=n.split("."),s.unshift(n)),!j_(u)&&u<s.length?ph(r,s[u]):""):ph(r,t):"$"})}function YS(r,e){let t=e;for(;t&&t.length>0;){let i=r.tokenizer[t];if(i)return i;let n=t.lastIndexOf(".");n<0?t=null:t=t.substr(0,n)}return null}function BZ(r,e){let t=e;for(;t&&t.length>0;){if(r.stateNames[t])return!0;let n=t.lastIndexOf(".");n<0?t=null:t=t.substr(0,n)}return!1}to();var Nge=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Tge=function(r,e){return function(t,i){e(t,i,r)}},WZ=5,z_=class{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new mm(e,t);let i=mm.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new mm(e,t),this._entries[i]=n,n)}};z_._INSTANCE=new z_(WZ);var mm=class{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return mm._equals(this,e)}push(e){return z_.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return z_.create(this.parent,e)}},gm=class{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new gm(this.languageId,this.state)}},bh=class{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(t!==null)return new W_(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new W_(e,t);let i=mm.getStackElementId(e),n=this._entries[i];return n||(n=new W_(e,null),this._entries[i]=n,n)}};bh._INSTANCE=new bh(WZ);var W_=class{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:bh.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof W_)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}},j7=class{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new ed(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,n){let o=i.languageId,s=i.state,a=ki.get(o);if(!a)return this.enterLanguage(o),this.emit(n,""),s;let l=a.tokenize(e,t,s);if(n!==0)for(let c of l.tokens)this._tokens.push(new ed(c.offset+n,c.type,c.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new Qg(this._tokens,e)}},mC=class{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){let i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){let n=e!==null?e.length:0,o=t.length,s=i!==null?i.length:0;if(n===0&&o===0&&s===0)return new Uint32Array(0);if(n===0&&o===0)return i;if(o===0&&s===0)return e;let a=new Uint32Array(n+o+s);e!==null&&a.set(e);for(let l=0;l<o;l++)a[n+l]=t[l];return i!==null&&a.set(i,n+o),a}nestedLanguageTokenize(e,t,i,n){let o=i.languageId,s=i.state,a=ki.get(o);if(!a)return this.enterLanguage(o),this.emit(n,""),s;let l=a.tokenizeEncoded(e,t,s);if(n!==0)for(let c=0,d=l.tokens.length;c<d;c+=2)l.tokens[c]+=n;return this._prependTokens=mC._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new $u(mC._merge(this._prependTokens,this._tokens,null),e)}},V_=class zZ{constructor(e,t,i,n,o){this._configurationService=o,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._tokenizationRegistryListener=ki.onDidChange(a=>{if(s)return;let l=!1;for(let c=0,d=a.changedLanguages.length;c<d;c++){let h=a.changedLanguages[c];if(this._embeddedLanguages[h]){l=!0;break}}l&&(s=!0,ki.fire([this._languageId]),s=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedLanguages){let i=ki.get(t);if(i){if(i instanceof zZ){let n=i.getLoadStatus();n.loaded===!1&&e.push(n.promise)}continue}ki.isResolved(t)||e.push(ki.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){let e=z_.create(null,this._lexer.start);return bh.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return FO(this._languageId,i);let n=new j7,o=this._tokenize(e,t,i,n);return n.finalize(o)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return eC(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);let n=new mC(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,i,n);return n.finalize(o)}_tokenize(e,t,i,n){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,n):this._myTokenize(e,t,i,0,n)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=YS(this._lexer,t.stack.state),!i))throw Wi(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(let s of i){if(!F7(s.action)||s.action.nextEmbedded!=="@pop")continue;o=!0;let a=s.regex,l=s.regex.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){let d=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),d)}let c=e.search(a);c===-1||c!==0&&s.matchOnlyAtLineStart||(n===-1||c<n)&&(n=c)}if(!o)throw Wi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){let s=this._findLeavingNestedLanguageOffset(e,i);if(s===-1){let c=o.nestedLanguageTokenize(e,t,i.embeddedLanguageData,n);return bh.create(i.stack,new gm(i.embeddedLanguageData.languageId,c))}let a=e.substring(0,s);a.length>0&&o.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,n);let l=e.substring(s);return this._myTokenize(l,t,i,n+s,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterLanguage(this._languageId);let s=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length,c=i.embeddedLanguageData,d=i.stack,h=0,u=null,f=!0;for(;f||h<l;){let m=h,_=d.depth,v=u?u.groups.length:0,w=d.state,y=null,x=null,k=null,N=null,M=null;if(u){y=u.matches;let R=u.groups.shift();x=R.matched,k=R.action,N=u.rule,u.groups.length===0&&(u=null)}else{if(!f&&h>=l)break;f=!1;let R=this._lexer.tokenizer[w];if(!R&&(R=YS(this._lexer,w),!R))throw Wi(this._lexer,"tokenizer state is not defined: "+w);let K=a.substr(h);for(let q of R)if((h===0||!q.matchOnlyAtLineStart)&&(y=K.match(q.regex),y)){x=y[0],k=q.action;break}}if(y||(y=[""],x=""),k||(h<l&&(y=[a.charAt(h)],x=y[0]),k=this._lexer.defaultToken),x===null)break;for(h+=x.length;RZ(k)&&F7(k)&&k.test;)k=k.test(x,y,w,h===l);let I=null;if(typeof k=="string"||Array.isArray(k))I=k;else if(k.group)I=k.group;else if(k.token!==null&&k.token!==void 0){if(k.tokenSubst?I=_h(this._lexer,k.token,x,y,w):I=k.token,k.nextEmbedded)if(k.nextEmbedded==="@pop"){if(!c)throw Wi(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw Wi(this._lexer,"cannot enter embedded language from within an embedded language");M=_h(this._lexer,k.nextEmbedded,x,y,w)}if(k.goBack&&(h=Math.max(0,h-k.goBack)),k.switchTo&&typeof k.switchTo=="string"){let R=_h(this._lexer,k.switchTo,x,y,w);if(R[0]==="@"&&(R=R.substr(1)),YS(this._lexer,R))d=d.switchTo(R);else throw Wi(this._lexer,"trying to switch to a state '"+R+"' that is undefined in rule: "+this._safeRuleName(N))}else{if(k.transform&&typeof k.transform=="function")throw Wi(this._lexer,"action.transform not supported");if(k.next)if(k.next==="@push"){if(d.depth>=this._lexer.maxStack)throw Wi(this._lexer,"maximum tokenizer stack size reached: ["+d.state+","+d.parent.state+",...]");d=d.push(w)}else if(k.next==="@pop"){if(d.depth<=1)throw Wi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(N));d=d.pop()}else if(k.next==="@popall")d=d.popall();else{let R=_h(this._lexer,k.next,x,y,w);if(R[0]==="@"&&(R=R.substr(1)),YS(this._lexer,R))d=d.push(R);else throw Wi(this._lexer,"trying to set a next state '"+R+"' that is undefined in rule: "+this._safeRuleName(N))}}k.log&&typeof k.log=="string"&&FZ(this._lexer,this._lexer.languageId+": "+_h(this._lexer,k.log,x,y,w))}if(I===null)throw Wi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(N));let O=R=>{let K=this._languageService.getLanguageIdByLanguageName(R)||this._languageService.getLanguageIdByMimeType(R)||R,q=this._getNestedEmbeddedLanguageData(K);if(h<l){let te=e.substr(h);return this._nestedTokenize(te,t,bh.create(d,q),n+h,o)}else return bh.create(d,q)};if(Array.isArray(I)){if(u&&u.groups.length>0)throw Wi(this._lexer,"groups cannot be nested: "+this._safeRuleName(N));if(y.length!==I.length+1)throw Wi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(N));let R=0;for(let K=1;K<y.length;K++)R+=y[K].length;if(R!==x.length)throw Wi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(N));u={rule:N,matches:y,groups:[]};for(let K=0;K<I.length;K++)u.groups[K]={action:I[K],matched:y[K+1]};h-=x.length;continue}else{if(I==="@rematch"&&(h-=x.length,x="",y=null,I="",M!==null))return O(M);if(x.length===0){if(l===0||_!==d.depth||w!==d.state||(u?u.groups.length:0)!==v)continue;throw Wi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(N))}let R=null;if(R7(I)&&I.indexOf("@brackets")===0){let K=I.substr(9),q=Pge(this._lexer,x);if(!q)throw Wi(this._lexer,"@brackets token returned but no bracket defined as: "+x);R=B7(q.token+K)}else{let K=I===""?"":I+this._lexer.tokenPostfix;R=B7(K)}m<s&&o.emit(m+n,R)}if(M!==null)return O(M)}return bh.create(d,c)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new gm(e,dm);e!==this._languageId&&(ki.getOrCreate(e),this._embeddedLanguages[e]=!0);let t=ki.get(e);return t?new gm(e,t.getInitialState()):new gm(e,dm)}};V_=Nge([Tge(4,yt)],V_);function Pge(r,e){if(!e)return null;e=ph(r,e);let t=r.brackets;for(let i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}var Age=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},W7,z7=(W7=window.trustedTypes)===null||W7===void 0?void 0:W7.createPolicy("standaloneColorizer",{createHTML:r=>r}),pC=class{static colorizeElement(e,t,i,n){n=n||{};let o=n.theme||"vs",s=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();let a=t.getLanguageIdByMimeType(s)||s;e.setTheme(o);let l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;let c=d=>{var h;let u=(h=z7?.createHTML(d))!==null&&h!==void 0?h:d;i.innerHTML=u};return this.colorize(t,l||"",a,n).then(c,d=>console.error(d))}static colorize(e,t,i,n){return Age(this,void 0,void 0,function*(){let o=e.languageIdCodec,s=4;n&&typeof n.tabSize=="number"&&(s=n.tabSize),q0(t)&&(t=t.substr(1));let a=Mr(t);if(!e.isRegisteredLanguageId(i))return VZ(a,s,o);let l=yield ki.getOrCreate(i);return l?Mge(a,s,l,o):VZ(a,s,o)})}static colorizeLine(e,t,i,n,o=4){let s=mr.isBasicASCII(e,t),a=mr.containsRTL(e,s,i);return uC(new js(!1,!0,e,!1,s,a,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){let n=e.getLineContent(t);e.tokenization.forceTokenization(t);let s=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),s,i)}};function Mge(r,e,t,i){return new Promise((n,o)=>{let s=()=>{let a=Rge(r,e,t,i);if(t instanceof V_){let l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(s,o);return}}n(a)};s()})}function VZ(r,e,t){let i=[],o=new Uint32Array(2);o[0]=0,o[1]=33587200;for(let s=0,a=r.length;s<a;s++){let l=r[s];o[0]=l.length;let c=new tn(o,l,t),d=mr.isBasicASCII(l,!0),h=mr.containsRTL(l,d,!0),u=uC(new js(!1,!0,l,!1,d,h,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(u.html),i.push("<br/>")}return i.join("")}function Rge(r,e,t,i){let n=[],o=t.getInitialState();for(let s=0,a=r.length;s<a;s++){let l=r[s],c=t.tokenizeEncoded(l,!0,o);tn.convertToEndOffset(c.tokens,l.length);let d=new tn(c.tokens,l,i),h=mr.isBasicASCII(l,!0),u=mr.containsRTL(l,h,!0),f=uC(new js(!1,!0,l,!1,h,u,0,d.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(f.html),n.push("<br/>"),o=c.endState}return n.join("")}Vs();se();lo();Xe();var CC=We("markerDecorationsService");xt();var wme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},yme=function(r,e){return function(t,i){e(t,i,r)}},cL=class{constructor(e,t){}dispose(){}};cL.ID="editor.contrib.markerDecorations";cL=wme([yme(1,CC)],cL);Ze(cL.ID,cL);Ne();Fe();ut();Oe();se();Ws();ur();Ft();Oe();se();hr();At();se();Oe();var NC=class extends ${constructor(e,t){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,n=this._referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),(this._width!==i||this._height!==n)&&(this._width=i,this._height=n,e&&this._onDidChange.fire())}};var xh=class{constructor(e,t){this.key=e,this.migrate=t}apply(e){let t=xh._read(e,this.key),i=o=>xh._read(e,o),n=(o,s)=>xh._write(e,o,s);this.migrate(t,i,n)}static _read(e,t){if(typeof e>"u")return;let i=t.indexOf(".");if(i>=0){let n=t.substring(0,i);return this._read(e[n],t.substring(i+1))}return e[t]}static _write(e,t,i){let n=t.indexOf(".");if(n>=0){let o=t.substring(0,n);e[o]=e[o]||{},this._write(e[o],t.substring(n+1),i);return}e[t]=i}};xh.items=[];function TC(r,e){xh.items.push(new xh(r,e))}function md(r,e){TC(r,(t,i,n)=>{if(typeof t<"u"){for(let[o,s]of e)if(t===o){n(r,s);return}}})}function EG(r){xh.items.forEach(e=>e.apply(r))}md("wordWrap",[[!0,"on"],[!1,"off"]]);md("lineNumbers",[[!0,"on"],[!1,"off"]]);md("cursorBlinking",[["visible","solid"]]);md("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);md("renderLineHighlight",[[!0,"line"],[!1,"none"]]);md("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);md("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);md("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);md("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);md("autoIndent",[[!1,"advanced"],[!0,"full"]]);md("matchBrackets",[[!0,"always"],[!1,"never"]]);TC("autoClosingBrackets",(r,e,t)=>{r===!1&&(t("autoClosingBrackets","never"),typeof e("autoClosingQuotes")>"u"&&t("autoClosingQuotes","never"),typeof e("autoSurround")>"u"&&t("autoSurround","never"))});TC("renderIndentGuides",(r,e,t)=>{typeof r<"u"&&(t("renderIndentGuides",void 0),typeof e("guides.indentation")>"u"&&t("guides.indentation",!!r))});TC("highlightActiveIndentGuide",(r,e,t)=>{typeof r<"u"&&(t("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")>"u"&&t("guides.highlightActiveIndentation",!!r))});var Sme={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};TC("suggest.filteredTypes",(r,e,t)=>{if(r&&typeof r=="object"){for(let i of Object.entries(Sme))r[i[0]]===!1&&typeof e(`suggest.${i[1]}`)>"u"&&t(`suggest.${i[1]}`,!1);t("suggest.filteredTypes",void 0)}});TC("quickSuggestions",(r,e,t)=>{if(typeof r=="boolean"){let i=r?"on":"off";t("quickSuggestions",{comments:i,strings:i,other:i})}});Oe();var m8=class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new B,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},PC=new m8;St();Xe();var vs=We("accessibilityService"),eb=new Ce("accessibilityModeEnabled",!1);var Lme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},xme=function(r,e){return function(t,i){e(t,i,r)}},FN=class extends ${constructor(e,t,i,n){super(),this._accessibilityService=n,this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new B),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new aS,this.isSimpleWidget=e,this._containerObserver=this._register(new NC(i,t.dimension)),this._rawOptions=IG(t),this._validatedOptions=Dh.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(Sl.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(PC.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(kS.onDidChange(()=>this._recomputeOptions())),this._register(Yu.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){let e=this._computeOptions(),t=Dh.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){let e=this._readEnvConfiguration(),t=nd.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),n={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:PC.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Dh.computeOptions(this._validatedOptions,n)}_readEnvConfiguration(){return{extraEditorClassName:kme(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:cc||ao,pixelRatio:Yu.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return kS.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){let t=IG(e);!Dh.applyUpdate(this._rawOptions,t)||(this._validatedOptions=Dh.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){let t=Dme(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};FN=Lme([xme(3,vs)],FN);function Dme(r){let e=0;for(;r;)r=Math.floor(r/10),e++;return e||1}function kme(){let r="";return!fa&&!SS&&(r+="no-user-select "),fa&&(r+="no-minimap-shadow ",r+="enable-user-select "),at&&(r+="mac "),r}var p8=class{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}},_8=class{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}},Dh=class{static validateOptions(e){let t=new p8;for(let i of Vg){let n=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(n))}return t}static computeOptions(e,t){let i=new _8;for(let n of Vg)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?go(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!Dh._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){let i=[],n=!1;for(let o of Vg){let s=!Dh._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=s,s&&(n=!0)}return n?new A0(i):null}static applyUpdate(e,t){let i=!1;for(let n of Vg)if(t.hasOwnProperty(n.name)){let o=n.applyUpdate(e[n.name],t[n.name]);e[n.name]=o.newValue,i=i||o.didChange}return i}};function IG(r){let e=rc(r);return EG(e),e}xt();lo();Fe();Ci();ut();Fe();At();Fe();Ft();function yn(r,e,t){let i=null,n=null;if(typeof t.value=="function"?(i="value",n=t.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",n=t.get),!n)throw new Error("not supported");let o=`$memoize$${e}`;t[i]=function(...s){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,s)}),this[o]}}se();var Eme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},mi;(function(r){r.Tap="-monaco-gesturetap",r.Change="-monaco-gesturechange",r.Start="-monaco-gesturestart",r.End="-monaco-gesturesend",r.Contextmenu="-monaco-gesturecontextmenu"})(mi||(mi={}));var Yt=class extends ${constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(ne(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(ne(document,"touchend",e=>this.onTouchEnd(e))),this._register(ne(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return Yt.isTouchDevice()?(Yt.INSTANCE||(Yt.INSTANCE=new Yt),Yt.INSTANCE.targets.push(e),{dispose:()=>{Yt.INSTANCE.targets=Yt.INSTANCE.targets.filter(t=>t!==e)}}):$.None}static ignoreTarget(e){return Yt.isTouchDevice()?(Yt.INSTANCE||(Yt.INSTANCE=new Yt),Yt.INSTANCE.ignoreTargets.push(e),{dispose:()=>{Yt.INSTANCE.ignoreTargets=Yt.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):$.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){let o=e.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};let s=this.newGestureEvent(mi.Start,o.target);s.pageX=o.pageX,s.pageY=o.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,o=e.changedTouches.length;n<o;n++){let s=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}let a=this.activeTouches[s.identifier],l=Date.now()-a.initialTimeStamp;if(l<Yt.HOLD_DELAY&&Math.abs(a.initialPageX-Wa(a.rollingPageX))<30&&Math.abs(a.initialPageY-Wa(a.rollingPageY))<30){let c=this.newGestureEvent(mi.Tap,a.initialTarget);c.pageX=Wa(a.rollingPageX),c.pageY=Wa(a.rollingPageY),this.dispatchEvent(c)}else if(l>=Yt.HOLD_DELAY&&Math.abs(a.initialPageX-Wa(a.rollingPageX))<30&&Math.abs(a.initialPageY-Wa(a.rollingPageY))<30){let c=this.newGestureEvent(mi.Contextmenu,a.initialTarget);c.pageX=Wa(a.rollingPageX),c.pageY=Wa(a.rollingPageY),this.dispatchEvent(c)}else if(i===1){let c=Wa(a.rollingPageX),d=Wa(a.rollingPageY),h=Wa(a.rollingTimestamps)-a.rollingTimestamps[0],u=c-a.rollingPageX[0],f=d-a.rollingPageY[0],m=this.targets.filter(_=>a.initialTarget instanceof Node&&_.contains(a.initialTarget));this.inertia(m,t,Math.abs(u)/h,u>0?1:-1,c,Math.abs(f)/h,f>0?1:-1,d)}this.dispatchEvent(this.newGestureEvent(mi.End,a.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===mi.Tap){let t=new Date().getTime(),i=0;t-this._lastSetTapCountTime>Yt.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===mi.Change||e.type===mi.Contextmenu)&&(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,i,n,o,s,a,l){this.handle=zs(()=>{let c=Date.now(),d=c-t,h=0,u=0,f=!0;i+=Yt.SCROLL_FRICTION*d,s+=Yt.SCROLL_FRICTION*d,i>0&&(f=!1,h=n*i*d),s>0&&(f=!1,u=a*s*d);let m=this.newGestureEvent(mi.Change);m.translationX=h,m.translationY=u,e.forEach(_=>_.dispatchEvent(m)),f||this.inertia(e,c,i,n,o+h,s,a,l+u)})}onTouchMove(e){let t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){let o=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}let s=this.activeTouches[o.identifier],a=this.newGestureEvent(mi.Change,s.initialTarget);a.translationX=o.pageX-Wa(s.rollingPageX),a.translationY=o.pageY-Wa(s.rollingPageY),a.pageX=o.pageX,a.pageY=o.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(o.pageX),s.rollingPageY.push(o.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};Yt.SCROLL_FRICTION=-.005;Yt.HOLD_DELAY=700;Yt.CLEAR_TAP_COUNT_TIME=400;Eme([yn],Yt,"isTouchDevice",null);se();Fe();vc();ot();se();At();Fe();Fe();se();var Pl=class{constructor(){this._hooks=new J,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,n,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=n,this._onStopCallback=o;let s=e;try{e.setPointerCapture(t),this._hooks.add(Ke(()=>{e.releasePointerCapture(t)}))}catch{s=window}this._hooks.add(ne(s,ye.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(ne(s,ye.POINTER_UP,a=>this.stopMonitoring(!0)))}};vc();ot();se();Ai();var JC=class{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new gL(this.x-hd.scrollX,this.y-hd.scrollY)}},gL=class{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new JC(this.clientX+hd.scrollX,this.clientY+hd.scrollY)}},L8=class{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}},x8=class{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}};function k8(r){let e=dn(r);return new L8(e.left,e.top,e.width,e.height)}function E8(r,e,t){let i=e.width/r.offsetWidth,n=e.height/r.offsetHeight,o=(t.x-e.x)/i,s=(t.y-e.y)/n;return new x8(o,s)}var Ec=class extends Rr{constructor(e,t,i){super(e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new JC(this.posx,this.posy),this.editorPos=k8(i),this.relativePos=E8(i,this.editorPos,this.pos)}},XN=class{constructor(e){this._editorViewDomNode=e}_create(e){return new Ec(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return ne(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return ne(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return ne(e,ye.MOUSE_DOWN,i=>{t(this._create(i))})}onPointerDown(e,t){return ne(e,ye.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onMouseLeave(e,t){return ne(e,ye.MOUSE_LEAVE,i=>{t(this._create(i))})}onMouseMove(e,t){return ne(e,"mousemove",i=>t(this._create(i)))}},QN=class{constructor(e){this._editorViewDomNode=e}_create(e){return new Ec(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return ne(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return ne(e,ye.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onPointerLeave(e,t){return ne(e,ye.POINTER_LEAVE,i=>{t(this._create(i))})}onPointerMove(e,t){return ne(e,"pointermove",i=>t(this._create(i)))}},JN=class extends ${constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new Pl),this._keydownListener=null}startMonitoring(e,t,i,n,o){this._keydownListener=Ti(document,"keydown",s=>{s.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,s.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,s=>{n(new Ec(s,!0,this._editorViewDomNode))},s=>{this._keydownListener.dispose(),o(s)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}},df=class{constructor(e){this._editor=e,this._instanceId=++df._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new pt(()=>this.garbageCollect(),1e3)}createClassNameRef(e){let t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){let t=this.computeUniqueKey(e),i=this._rules.get(t);if(!i){let n=this._counter++;i=new D8(t,`dyn-rule-${this._instanceId}-${n}`,of(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(let e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}};df._idPool=0;var D8=class{constructor(e,t,i,n){this.key=e,this.className=t,this.properties=n,this._referenceCount=0,this._styleElement=No(i),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(let n in t){let o=t[n],s;typeof o=="object"?s=`var(${UN(o.id)})`:s=o,i+=`
	${Pme(n)}: ${s};`}return i+=`
}`,i}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}};function Pme(r){return r.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}se();var Ic=class extends ${constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){let o=e[i];switch(o.type){case 0:this.onCompositionStart(o)&&(t=!0);break;case 1:this.onCompositionEnd(o)&&(t=!0);break;case 2:this.onConfigurationChanged(o)&&(t=!0);break;case 3:this.onCursorStateChanged(o)&&(t=!0);break;case 4:this.onDecorationsChanged(o)&&(t=!0);break;case 5:this.onFlushed(o)&&(t=!0);break;case 6:this.onFocusChanged(o)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(o)&&(t=!0);break;case 8:this.onLineMappingChanged(o)&&(t=!0);break;case 9:this.onLinesChanged(o)&&(t=!0);break;case 10:this.onLinesDeleted(o)&&(t=!0);break;case 11:this.onLinesInserted(o)&&(t=!0);break;case 12:this.onRevealRangeRequest(o)&&(t=!0);break;case 13:this.onScrollChanged(o)&&(t=!0);break;case 15:this.onTokensChanged(o)&&(t=!0);break;case 14:this.onThemeChanged(o)&&(t=!0);break;case 16:this.onTokensColorsChanged(o)&&(t=!0);break;case 17:this.onZonesChanged(o)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(o)}}t&&(this._shouldRender=!0)}};var Pn=class extends Ic{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}},_r=class{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){let t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){let i=[],n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;let o=new Uint8Array(n);for(let s=0;s<n;s++)o[s]=i[n-s-1];return o}};ur();At();var I8=class{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;let i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}},eT=class extends I8{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}},tT=class{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}},Pm=class{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){let t=new Array(e.length);for(let i=0,n=e.length;i<n;i++){let o=e[i];t[i]=new Pm(o.left,o.width)}return t}toString(){return`[${this.left},${this.width}]`}},Ah=class{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}},iT=class{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}},nT=class{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}};var ew=class{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){let s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,n),s.getClientRects()}catch{return null}finally{this._detachRange(s,o)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(Ah.compare);let t=[],i=0,n=e[0];for(let o=1,s=e.length;o<s;o++){let a=e[o];n.left+n.width+.9>=a.left?n.width=Math.max(n.width,a.left+a.width-n.left):(t[i++]=n,n=a)}return t[i++]=n,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;let n=[];for(let o=0,s=e.length;o<s;o++){let a=e[o];n[o]=new Ah(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(n)}static readHorizontalRanges(e,t,i,n,o,s,a,l){let d=e.children.length-1;if(0>d)return null;if(t=Math.min(d,Math.max(0,t)),n=Math.min(d,Math.max(0,n)),t===n&&i===o&&i===0&&!e.children[t].firstChild){let m=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(m,s,a)}t!==n&&n>0&&o===0&&(n--,o=1073741824);let h=e.children[t].firstChild,u=e.children[n].firstChild;if((!h||!u)&&(!h&&i===0&&t>0&&(h=e.children[t-1].firstChild,i=1073741824),!u&&o===0&&n>0&&(u=e.children[n-1].firstChild,o=1073741824)),!h||!u)return null;i=Math.min(h.textContent.length,Math.max(0,i)),o=Math.min(u.textContent.length,Math.max(0,o));let f=this._readClientRects(h,i,u,o,l);return this._createHorizontalRangesFromClientRects(f,s,a)}};dC();F_();Tl();var Ame=function(){return Ns?!0:!($i||ao||fa)}(),iw=!0,mL=class{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=t}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;let e=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}},pL=class{constructor(e,t){this.themeType=t;let i=e.options,n=i.get(46);this.renderWhitespace=i.get(90),this.renderControlCharacters=i.get(85),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(29),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(61),this.stopRenderingLineAfter=i.get(107),this.fontLigatures=i.get(47)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}},el=class{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=mt(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return Qn(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,n){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;let o=i.getViewLineRenderingData(e),s=this._options,a=Ho.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn),l=null;if(Qn(s.themeType)||this._options.renderWhitespace==="selection"){let u=i.selections;for(let f of u){if(f.endLineNumber<e||f.startLineNumber>e)continue;let m=f.startLineNumber===e?f.startColumn:o.minColumn,_=f.endLineNumber===e?f.endColumn:o.maxColumn;m<_&&(Qn(s.themeType)||this._options.renderWhitespace!=="selection"?a.push(new Ho(m,_,"inline-selected-text",0)):(l||(l=[]),l.push(new cN(m-1,_-1))))}}let c=new js(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,a,o.tabSize,o.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==Xo.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(c))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(el.CLASS_NAME),n.appendASCIIString('">');let d=Ju(c,n);n.appendASCIIString("</div>");let h=null;return iw&&Ame&&o.isBasicASCII&&s.useMonospaceOptimizations&&d.containsForeignElements===0&&o.content.length<300&&c.lineTokens.getCount()<100&&(h=new tw(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping)),h||(h=cQ(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=h,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof tw:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof tw?this._renderedViewLine.monospaceAssumptionsAreValid():iw}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof tw&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,n){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));let o=this._renderedViewLine.input.stopRenderingLineAfter,s=!1;o!==-1&&t>o+1&&i>o+1&&(s=!0),o!==-1&&t>o+1&&(t=o+1),o!==-1&&i>o+1&&(i=o+1);let a=this._renderedViewLine.getVisibleRangesForRange(e,t,i,n);return a&&a.length>0?new nT(s,a):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}};el.CLASS_NAME="view-line";var tw=class{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return iw;let e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),iw=!1),iw}toSlowRenderedLine(){return cQ(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,n){let o=this._getCharPosition(t),s=this._getCharPosition(i);return[new Ah(o,s-o)]}_getCharPosition(e){let t=this._characterMapping.getHorizontalOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,i){let n=t.textContent.length,o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new hC(o,i),n)}},oT=class{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let s=0,a=this._characterMapping.length;s<=a;s++)this._pixelOffsetCache[s]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,n){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){let o=this._readPixelOffset(this.domNode,e,t,n);if(o===-1)return null;let s=this._readPixelOffset(this.domNode,e,i,n);return s===-1?null:[new Ah(o,s-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,n)}_readVisibleRangesForRange(e,t,i,n,o){if(i===n){let s=this._readPixelOffset(e,t,i,o);return s===-1?null:[new Ah(s,0)]}else return this._readRawVisibleRangesForRange(e,i,n,o)}_readPixelOffset(e,t,i,n){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();let o=this._getReadingTarget(e);return o.firstChild?o.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){let o=this._pixelOffsetCache[i];if(o!==-1)return o;let s=this._actualReadPixelOffset(e,t,i,n);return this._pixelOffsetCache[i]=s,s}return this._actualReadPixelOffset(e,t,i,n)}_actualReadPixelOffset(e,t,i,n){if(this._characterMapping.length===0){let l=ew.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();let o=this._characterMapping.getDomPosition(i),s=ew.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode);if(!s||s.length===0)return-1;let a=s[0].left;if(this.input.isBasicASCII){let l=this._characterMapping.getHorizontalOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,n){if(t===1&&i===this._characterMapping.length)return[new Ah(0,this.getWidth())];let o=this._characterMapping.getDomPosition(t),s=this._characterMapping.getDomPosition(i);return ew.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,s.partIndex,s.charIndex,n.clientRectDeltaLeft,n.clientRectScale,n.endNode)}getColumnOfNodeOffset(e,t,i){let n=t.textContent.length,o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new hC(o,i),n)}},O8=class extends oT{_readVisibleRangesForRange(e,t,i,n,o){let s=super._readVisibleRangesForRange(e,t,i,n,o);if(!s||s.length===0||i===n||i===1&&n===this._characterMapping.length)return s;if(!this.input.containsRTL){let a=this._readPixelOffset(e,t,n,o);if(a!==-1){let l=s[s.length-1];l.left<a&&(l.width=a-l.left)}}return s}},cQ=function(){return cc?Mme:Rme}();function Mme(r,e,t,i,n){return new O8(r,e,t,i,n)}function Rme(r,e,t,i,n){return new oT(r,e,t,i,n)}rt();Le();Oc();Fe();Oc();var hf=class{static whitespaceVisibleColumn(e,t,i){let n=e.length,o=0,s=-1,a=-1;for(let l=0;l<n;l++){if(l===t)return[s,a,o];switch(o%i===0&&(s=l,a=o),e.charCodeAt(l)){case 32:o+=1;break;case 9:o=Mi.nextRenderTabStop(o,i);break;default:return[-1,-1,-1]}}return t===n?[s,a,o]:[-1,-1,-1]}static atomicPosition(e,t,i,n){let o=e.length,[s,a,l]=hf.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(n){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(s===-1)return-1;let u=a;for(let f=s;f<o;++f){if(u===a+i)return s;switch(e.charCodeAt(f)){case 32:u+=1;break;case 9:u=Mi.nextRenderTabStop(u,i);break;default:return-1}}return u===a+i?s:-1}let d=Mi.nextRenderTabStop(l,i),h=l;for(let u=t;u<o;u++){if(h===d)return u;switch(e.charCodeAt(u)){case 32:h+=1;break;case 9:h=Mi.nextRenderTabStop(h,i);break;default:return-1}}return h===d?o:-1}};var Mh=class{constructor(e=null){this.hitTarget=e,this.type=0}},_L=class{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}},hb;(function(r){function e(t,i,n){let o=t.getPositionFromDOMInfo(i,n);return o?new _L(o,i,null):new Mh(i)}r.createFromDOMInfo=e})(hb||(hb={}));var rT=class{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}},zr=class{static _deduceRage(e,t=null){return!t&&e?new D(e.lineNumber,e.column,e.lineNumber,e.column):t??null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,n,o,s){return{type:e,element:t,mouseColumn:i,position:n,range:o,detail:s}}static createViewZone(e,t,i,n,o){return{type:e,element:t,mouseColumn:i,position:n,range:this._deduceRage(n),detail:o}}static createContentText(e,t,i,n,o){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,n),detail:o}}static createContentEmpty(e,t,i,n){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:n}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t)}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}},tl=class{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}},ff=class{constructor(e,t,i){this.viewModel=e.viewModel;let n=e.configuration.options;this.layoutInfo=n.get(133),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(61),this.stickyTabStops=n.get(106),this.typicalHalfwidthCharacterWidth=n.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return ff.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){let i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){let n=i.verticalOffset+i.height/2,o=e.viewModel.getLineCount(),s=null,a,l=null;return i.afterLineNumber!==o&&(l=new H(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(s=new H(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),l===null?a=s:s===null?a=l:t<n?a=s:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){let n=this._context.viewModel.getLineCount(),o=this._context.viewModel.getLineMaxColumn(n);return{range:new D(n,o,n,o),isAfterLines:!0}}let t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new D(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return ff._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}},T8=class{constructor(e,t,i,n){this.editorPos=t,this.pos=i,this.relativePos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,qo._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}},bL=class extends T8{constructor(e,t,i,n,o){super(e,t,i,n),this._ctx=e,o?(this.target=o,this.targetPath=_r.collect(o,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?Mi.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return zr.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return zr.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,n){return zr.createMargin(e,this.target,this._getMouseColumn(t),t,i,n)}fulfillViewZone(e,t,i){return zr.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return zr.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return zr.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return zr.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return zr.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return zr.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new bL(this._ctx,this.editorPos,this.pos,this.relativePos,e)}},dQ={isAfterLines:!0};function N8(r){return{isAfterLines:!1,horizontalDistanceToText:r}}var qo=class{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){let t=e.target,i=_r.collect(t,this._viewHelper.viewDomNode);return!!(tl.isChildOfContentWidgets(i)||tl.isChildOfOverflowingContentWidgets(i)||tl.isChildOfOverlayWidgets(i))}createMouseTarget(e,t,i,n,o){let s=new ff(this._context,this._viewHelper,e),a=new bL(s,t,i,n,o);try{return qo._createMouseTarget(s,a,!1)}catch{return a.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(t.target===null){if(i)return t.fulfillUnknown();let s=qo._doHitTest(e,t);return s.type===1?qo.createMouseTargetFromHitTestPosition(e,t,s.spanNode,s.position,s.injectedText):this._createMouseTarget(e,t.withTarget(s.hitTarget),!0)}let n=t,o=null;return o=o||qo._hitTestContentWidget(e,n),o=o||qo._hitTestOverlayWidget(e,n),o=o||qo._hitTestMinimap(e,n),o=o||qo._hitTestScrollbarSlider(e,n),o=o||qo._hitTestViewZone(e,n),o=o||qo._hitTestMargin(e,n),o=o||qo._hitTestViewCursor(e,n),o=o||qo._hitTestTextArea(e,n),o=o||qo._hitTestViewLines(e,n,i),o=o||qo._hitTestScrollbar(e,n),o||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(tl.isChildOfContentWidgets(t.targetPath)||tl.isChildOfOverflowingContentWidgets(t.targetPath)){let i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(tl.isChildOfOverlayWidgets(t.targetPath)){let i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){let i=e.lastRenderData.lastViewCursorsRenderData;for(let n of i)if(t.target===n.domNode)return t.fulfillContentText(n.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){let i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(let s of i){if(n<s.contentLeft||n>s.contentLeft+s.width)continue;let a=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(a<=o&&o<=a+s.height)return t.fulfillContentText(s.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){let i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){let n=t.isInContentArea?8:5;return t.fulfillViewZone(n,i.position,i)}return null}static _hitTestTextArea(e,t){return tl.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){let i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition(),o=Math.abs(t.relativePos.x),s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,n,i.range,s):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,n,i.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,n,i.range,s)))}return null}static _hitTestViewLines(e,t,i){if(!tl.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new H(1,1),dQ);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){let o=e.viewModel.getLineCount(),s=e.viewModel.getLineMaxColumn(o);return t.fulfillContentEmpty(new H(o,s),dQ)}if(i){if(tl.isStrictChildOfViewLines(t.targetPath)){let o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.viewModel.getLineLength(o)===0){let a=e.getLineWidth(o),l=N8(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(new H(o,1),l)}let s=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>=s){let a=N8(t.mouseContentHorizontalOffset-s),l=new H(o,e.viewModel.getLineMaxColumn(o));return t.fulfillContentEmpty(l,a)}}return t.fulfillUnknown()}let n=qo._doHitTest(e,t);return n.type===1?qo.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(tl.isChildOfMinimap(t.targetPath)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new H(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(tl.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){let i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){let n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.viewModel.getLineMaxColumn(n);return t.fulfillScrollbar(new H(n,o))}}return null}static _hitTestScrollbar(e,t){if(tl.isChildOfScrollableElement(t.targetPath)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new H(i,n))}return null}getMouseColumn(e){let t=this._context.configuration.options,i=t.get(133),n=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return qo._getMouseColumn(n,t.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,o){let s=n.lineNumber,a=n.column,l=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>l){let v=N8(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(n,v)}let c=e.visibleRangeForPosition(s,a);if(!c)return t.fulfillUnknown(n);let d=c.left;if(t.mouseContentHorizontalOffset===d)return t.fulfillContentText(n,null,{mightBeForeignElement:!!o,injectedText:o});let h=[];if(h.push({offset:c.left,column:a}),a>1){let v=e.visibleRangeForPosition(s,a-1);v&&h.push({offset:v.left,column:a-1})}let u=e.viewModel.getLineMaxColumn(s);if(a<u){let v=e.visibleRangeForPosition(s,a+1);v&&h.push({offset:v.left,column:a+1})}h.sort((v,w)=>v.offset-w.offset);let f=t.pos.toClientCoordinates(),m=i.getBoundingClientRect(),_=m.left<=f.clientX&&f.clientX<=m.right;for(let v=1;v<h.length;v++){let w=h[v-1],y=h[v];if(w.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=y.offset){let x=new D(s,w.column,s,y.column),k=Math.abs(w.offset-t.mouseContentHorizontalOffset),N=Math.abs(y.offset-t.mouseContentHorizontalOffset),M=k<N?new H(s,w.column):new H(s,y.column);return t.fulfillContentText(M,x,{mightBeForeignElement:!_||!!o,injectedText:o})}}return t.fulfillContentText(n,null,{mightBeForeignElement:!_||!!o,injectedText:o})}static _doHitTestWithCaretRangeFromPoint(e,t){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2),s=t.pos.y+(o-t.mouseVerticalOffset);s<=t.editorPos.y&&(s=t.editorPos.y+1),s>=t.editorPos.y+t.editorPos.height&&(s=t.editorPos.y+t.editorPos.height-1);let a=new JC(t.pos.x,s),l=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return l.type===1?l:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){let i=ud(e.viewDomNode),n;if(i?typeof i.caretRangeFromPoint>"u"?n=Fme(i,t.clientX,t.clientY):n=i.caretRangeFromPoint(t.clientX,t.clientY):n=document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new Mh;let o=n.startContainer;if(o.nodeType===o.TEXT_NODE){let s=o.parentNode,a=s?s.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===el.CLASS_NAME?hb.createFromDOMInfo(e,s,n.startOffset):new Mh(o.parentNode)}else if(o.nodeType===o.ELEMENT_NODE){let s=o.parentNode,a=s?s.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===el.CLASS_NAME?hb.createFromDOMInfo(e,o,o.textContent.length):new Mh(o)}return new Mh}static _doHitTestWithCaretPositionFromPoint(e,t){let i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){let n=i.offsetNode.parentNode,o=n?n.parentNode:null,s=o?o.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===el.CLASS_NAME?hb.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new Mh(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){let n=i.offsetNode.parentNode,o=n&&n.nodeType===n.ELEMENT_NODE?n.className:null,s=n?n.parentNode:null,a=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(o===el.CLASS_NAME){let l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return hb.createFromDOMInfo(e,l,0)}else if(a===el.CLASS_NAME)return hb.createFromDOMInfo(e,i.offsetNode,0)}return new Mh(i.offsetNode)}static _snapToSoftTabBoundary(e,t){let i=t.getLineContent(e.lineNumber),{tabSize:n}=t.model.getOptions(),o=hf.atomicPosition(i,e.column-1,n,2);return o!==-1?new H(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new Mh;if(typeof document.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),i.type===1){let n=e.viewModel.getInjectedTextAt(i.position),o=e.viewModel.normalizePosition(i.position,2);(n||!o.equals(i.position))&&(i=new _L(o,i.spanNode,n))}return i.type===1&&e.stickyTabStops&&(i=new _L(this._snapToSoftTabBoundary(i.position,e.viewModel),i.spanNode,i.injectedText)),i}};function Fme(r,e,t){let i=document.createRange(),n=r.elementFromPoint(e,t);if(n!==null){for(;n&&n.firstChild&&n.firstChild.nodeType!==n.firstChild.TEXT_NODE&&n.lastChild&&n.lastChild.firstChild;)n=n.lastChild;let o=n.getBoundingClientRect(),s=window.getComputedStyle(n,null).getPropertyValue("font"),a=n.innerText,l=o.left,c=0,d;if(e>o.left+o.width)c=a.length;else{let h=uf.getInstance();for(let u=0;u<a.length+1;u++){if(d=h.getCharWidth(a.charAt(u),s)/2,l+=d,e<l){c=u;break}l+=d}}i.setStart(n.firstChild,c),i.setEnd(n.firstChild,c)}return i}var uf=class{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return uf._INSTANCE||(uf._INSTANCE=new uf),uf._INSTANCE}getCharWidth(e,t){let i=e+t;if(this._cache[i])return this._cache[i];let n=this._canvas.getContext("2d");n.font=t;let s=n.measureText(e).width;return this._cache[i]=s,s}};uf._INSTANCE=null;rt();Ci();var nw=class extends Ic{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new qo(this._context,i),this._mouseDownOperation=this._register(new P8(this._context,this.viewController,this.viewHelper,(a,l)=>this._createMouseTarget(a,l),a=>this._getMouseColumn(a))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;let n=new XN(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,a=>this._onContextMenu(a,!0))),this._register(n.onMouseMove(this.viewHelper.viewDomNode,a=>{this._onMouseMove(a),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=ne(document,"mousemove",l=>{this.viewHelper.viewDomNode.contains(l.target)||this._onMouseLeave(new Ec(l,!1,this.viewHelper.viewDomNode))}))})),this._register(n.onMouseUp(this.viewHelper.viewDomNode,a=>this._onMouseUp(a))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,a=>this._onMouseLeave(a)));let o=0;this._register(n.onPointerDown(this.viewHelper.viewDomNode,(a,l)=>{o=l})),this._register(ne(this.viewHelper.viewDomNode,ye.POINTER_UP,a=>{this._mouseDownOperation.onPointerUp()})),this._register(n.onMouseDown(this.viewHelper.viewDomNode,a=>this._onMouseDown(a,o)));let s=a=>{if(this.viewController.emitMouseWheel(a),!this._context.configuration.options.get(70))return;let l=new bc(a);if(at?(a.metaKey||a.ctrlKey)&&!a.shiftKey&&!a.altKey:a.ctrlKey&&!a.metaKey&&!a.shiftKey&&!a.altKey){let d=Sl.getZoomLevel(),h=l.deltaY>0?1:-1;Sl.setZoomLevel(d+h),l.preventDefault(),l.stopPropagation()}};this._register(ne(this.viewHelper.viewDomNode,ye.MOUSE_WHEEL,s,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(133)){let t=this._context.configuration.options.get(133).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){let n=new gL(e,t).toPageCoordinates(),o=k8(this.viewHelper.viewDomNode);if(n.y<o.y||n.y>o.y+o.height||n.x<o.x||n.x>o.x+o.width)return null;let s=E8(this.viewHelper.viewDomNode,o,n);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,n,s,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){let n=ud(this.viewHelper.viewDomNode);n&&(i=n.elementsFromPoint(e.posx,e.posy).find(o=>this.viewHelper.viewDomNode.contains(o)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){let i=this._createMouseTarget(e,!0),n=i.type===6||i.type===7,o=i.type===2||i.type===3||i.type===4,s=i.type===3,a=this._context.configuration.options.get(100),l=i.type===8||i.type===5,c=i.type===9,d=e.leftButton||e.middleButton;at&&e.leftButton&&e.ctrlKey&&(d=!1);let h=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(d&&(n||s&&a))h(),this._mouseDownOperation.start(i.type,e,t);else if(o)e.preventDefault();else if(l){let u=i.detail;d&&this.viewHelper.shouldSuppressMouseDownOnViewZone(u.viewZoneId)&&(h(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(h(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}},P8=class extends ${constructor(e,t,i,n,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new JN(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new On),this._mouseState=new ow,this._currentSelection=new ge(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);let t=this._findMousePosition(e,!1);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);let n=this._findMousePosition(t,!0);if(!n||!n.position)return;this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count;let o=this._context.configuration.options;if(!o.get(83)&&o.get(31)&&!o.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&n.type===6&&n.position&&this._currentSelection.containsPosition(n.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,s=>this._onMouseDownThenMove(s),s=>{let a=this._findMousePosition(this._lastMouseEvent,!1);s&&s instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:a?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,s=>this._onMouseDownThenMove(s),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;let e=this._findMousePosition(this._lastMouseEvent,!1);!e||this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0)},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){let t=e.editorPos,i=this._context.viewModel,n=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){let a=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),l=ff.getZoneAtCoord(this._context,a);if(l){let d=this._helpPositionJumpOverViewZone(l);if(d)return zr.createOutsideEditor(o,d)}let c=n.getLineNumberAtVerticalOffset(a);return zr.createOutsideEditor(o,new H(c,1))}if(e.posy>t.y+t.height){let a=n.getCurrentScrollTop()+e.relativePos.y,l=ff.getZoneAtCoord(this._context,a);if(l){let d=this._helpPositionJumpOverViewZone(l);if(d)return zr.createOutsideEditor(o,d)}let c=n.getLineNumberAtVerticalOffset(a);return zr.createOutsideEditor(o,new H(c,i.getLineMaxColumn(c)))}let s=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+e.relativePos.y);return e.posx<t.x?zr.createOutsideEditor(o,new H(s,1)):e.posx>t.x+t.width?zr.createOutsideEditor(o,new H(s,i.getLineMaxColumn(s))):null}_findMousePosition(e,t){let i=this._getPositionOutsideEditor(e);if(i)return i;let n=this._createMouseTarget(e,t);if(!n.position)return null;if(n.type===8||n.type===5){let s=this._helpPositionJumpOverViewZone(n.detail);if(s)return zr.createViewZone(n.type,n.element,n.mouseColumn,s,n.detail)}return n}_helpPositionJumpOverViewZone(e){let t=new H(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){!e.position||this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}},ow=class{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){let i=new Date().getTime();i-this._lastSetMouseDownCountTime>ow.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}};ow.CLEAR_MOUSE_DOWN_COUNT_TIME=400;uN();ur();Fe();bs();ot();Oe();se();am();Ye();Ye();rt();Le();var Sa=!1,bo=class{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e){return new bo(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new bo(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){Sa&&console.log(`writeToTextArea ${e}: ${this.toString()}`),t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){let n=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,n,-1)}if(e>=this.selectionEnd){let n=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,1)}let t=this.value.substring(this.selectionStart,e);if(t.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);let i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;(o=t.indexOf(`
`,o+1))!==-1;)n++;return[e,i*t.length,n]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};Sa&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${e.toString()}`),console.log(`CURRENT STATE: ${t.toString()}`));let n=Math.min(wl(e.value,t.value),e.selectionStart,t.selectionStart),o=Math.min(qu(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd),s=e.value.substring(n,e.value.length-o),a=t.value.substring(n,t.value.length-o),l=e.selectionStart-n,c=e.selectionEnd-n,d=t.selectionStart-n,h=t.selectionEnd-n;if(Sa&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${l}, selectionEnd: ${c}`),console.log(`AFTER DIFFING CURRENT STATE: <${a}>, selectionStart: ${d}, selectionEnd: ${h}`)),d===h){let f=e.selectionStart-n;return Sa&&console.log(`REMOVE PREVIOUS: ${f} chars`),{text:a,replacePrevCharCnt:f,replaceNextCharCnt:0,positionDelta:0}}let u=c-l;return{text:a,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(Sa&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${e.toString()}`),console.log(`CURRENT STATE: ${t.toString()}`)),e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};let i=Math.min(wl(e.value,t.value),e.selectionEnd),n=Math.min(qu(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(i,e.value.length-n),s=t.value.substring(i,t.value.length-n),a=e.selectionStart-i,l=e.selectionEnd-i,c=t.selectionStart-i,d=t.selectionEnd-i;return Sa&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${o}>, selectionStart: ${a}, selectionEnd: ${l}`),console.log(`AFTER DIFFING CURRENT STATE: <${s}>, selectionStart: ${c}, selectionEnd: ${d}`)),{text:s,replacePrevCharCnt:l,replaceNextCharCnt:o.length-l,positionDelta:d-s.length}}};bo.EMPTY=new bo("",0,0,null,null);var gf=class{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){let i=e*t,n=i+1,o=i+t;return new D(n,1,o+1,1)}static fromEditorSelection(e,t,i,n,o){let s=gf._getPageOfLine(i.startLineNumber,n),a=gf._getRangeForPage(s,n),l=gf._getPageOfLine(i.endLineNumber,n),c=gf._getRangeForPage(l,n),d=a.intersectRanges(new D(1,1,i.startLineNumber,i.startColumn)),h=t.getValueInRange(d,1),u=t.getLineCount(),f=t.getLineMaxColumn(u),m=c.intersectRanges(new D(i.endLineNumber,i.endColumn,u,f)),_=t.getValueInRange(m,1),v;if(s===l||s+1===l)v=t.getValueInRange(i,1);else{let w=a.intersectRanges(i),y=c.intersectRanges(i);v=t.getValueInRange(w,1)+String.fromCharCode(8230)+t.getValueInRange(y,1)}return o&&(h.length>500&&(h=h.substring(h.length-500,h.length)),_.length>500&&(_=_.substring(0,500)),v.length>2*500&&(v=v.substring(0,500)+String.fromCharCode(8230)+v.substring(v.length-500,v.length))),new bo(h+v+_,h.length,h.length+v.length,new H(i.startLineNumber,i.startColumn),new H(i.endLineNumber,i.endColumn))}};Ci();var vL;(function(r){r.Tap="-monaco-textarea-synthetic-tap"})(vL||(vL={}));var CL={forceCopyWithSyntaxHighlighting:!1},Am=class{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}};Am.INSTANCE=new Am;var A8=class{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";let t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}},sT=class extends ${constructor(e,t,i,n){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=n,this._onFocus=this._register(new B),this.onFocus=this._onFocus.event,this._onBlur=this._register(new B),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new B),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new B),this.onCut=this._onCut.event,this._onPaste=this._register(new B),this.onPaste=this._onPaste.event,this._onType=this._register(new B),this.onType=this._onType.event,this._onCompositionStart=this._register(new B),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new B),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new B),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new B),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new pt(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new pt(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=bo.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let o=null;this._register(this._textArea.onKeyDown(s=>{let a=new Gt(s);(a.keyCode===109||this._currentComposition&&a.keyCode===1)&&a.stopPropagation(),a.equals(9)&&a.preventDefault(),o=a,this._onKeyDown.fire(a)})),this._register(this._textArea.onKeyUp(s=>{let a=new Gt(s);this._onKeyUp.fire(a)})),this._register(this._textArea.onCompositionStart(s=>{Sa&&console.log("[compositionstart]",s);let a=new A8;if(this._currentComposition){this._currentComposition=a;return}if(this._currentComposition=a,this._OS===2&&o&&o.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===s.data&&(o.code==="ArrowRight"||o.code==="ArrowLeft")){Sa&&console.log("[compositionstart] Handling long press case on macOS + arrow key",s),a.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:s.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:s.data});return}this._onCompositionStart.fire({data:s.data})})),this._register(this._textArea.onCompositionUpdate(s=>{Sa&&console.log("[compositionupdate]",s);let a=this._currentComposition;if(!a)return;if(this._browser.isAndroid){let c=bo.readFromTextArea(this._textArea),d=bo.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(d),this._onCompositionUpdate.fire(s);return}let l=a.handleCompositionUpdate(s.data);this._textAreaState=bo.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionUpdate.fire(s)})),this._register(this._textArea.onCompositionEnd(s=>{Sa&&console.log("[compositionend]",s);let a=this._currentComposition;if(!a)return;if(this._currentComposition=null,this._browser.isAndroid){let c=bo.readFromTextArea(this._textArea),d=bo.deduceAndroidCompositionInput(this._textAreaState,c);this._textAreaState=c,this._onType.fire(d),this._onCompositionEnd.fire();return}let l=a.handleCompositionUpdate(s.data);this._textAreaState=bo.readFromTextArea(this._textArea),this._onType.fire(l),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(s=>{if(Sa&&console.log("[input]",s),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;let a=bo.readFromTextArea(this._textArea),l=bo.deduceInput(this._textAreaState,a,this._OS===2);l.replacePrevCharCnt===0&&l.text.length===1&&ln(l.text.charCodeAt(0))||(this._textAreaState=a,(l.text!==""||l.replacePrevCharCnt!==0||l.replaceNextCharCnt!==0||l.positionDelta!==0)&&this._onType.fire(l))})),this._register(this._textArea.onCut(s=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(s),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(s=>{this._ensureClipboardGetsEditorSelection(s)})),this._register(this._textArea.onPaste(s=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),s.preventDefault(),!s.clipboardData)return;let[a,l]=aT.getTextData(s.clipboardData);!a||(l=l||Am.INSTANCE.get(a),this._onPaste.fire({text:a,metadata:l}))})),this._register(this._textArea.onFocus(()=>{let s=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!s&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return ne(document,"selectionchange",t=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;let i=Date.now(),n=i-e;if(e=i,n<5)return;let o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;let s=this._textArea.getValue();if(this._textAreaState.value!==s)return;let a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;let c=this._textAreaState.deduceEditorPosition(a),d=this._host.deduceModelPosition(c[0],c[1],c[2]),h=this._textAreaState.deduceEditorPosition(l),u=this._host.deduceModelPosition(h[0],h[1],h[2]),f=new ge(d.lineNumber,d.column,u.lineNumber,u.column);this._onSelectionChangeRequest.fire(f)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){let t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};Am.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&aT.setTextData(e.clipboardData,t.text,t.html,i)}},aT=class{static getTextData(e){let t=e.getData(Eo.text),i=null,n=e.getData("vscode-editor-data");if(typeof n=="string")try{i=JSON.parse(n),i.version!==1&&(i=null)}catch{}return t.length===0&&i===null&&e.files.length>0?[Array.prototype.slice.call(e.files,0).map(s=>s.name).join(`
`),null]:[t,i]}static setTextData(e,t,i,n){e.setData(Eo.text,t),typeof i=="string"&&e.setData("text/html",i),e.setData("vscode-editor-data",JSON.stringify(n))}},lT=class extends ${constructor(e){super(),this._actual=e,this.onKeyDown=this._register(Cc(this._actual,"keydown")).event,this.onKeyUp=this._register(Cc(this._actual,"keyup")).event,this.onCompositionStart=this._register(Cc(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(Cc(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(Cc(this._actual,"compositionend")).event,this.onInput=this._register(Cc(this._actual,"input")).event,this.onCut=this._register(Cc(this._actual,"cut")).event,this.onCopy=this._register(Cc(this._actual,"copy")).event,this.onPaste=this._register(Cc(this._actual,"paste")).event,this.onFocus=this._register(Cc(this._actual,"focus")).event,this.onBlur=this._register(Cc(this._actual,"blur")).event,this._onSyntheticTap=this._register(new B),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(ne(this._actual,vL.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){let e=ud(this._actual);return e?e.activeElement===this._actual:vC(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){let i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){let n=this._actual,o=null,s=ud(n);s?o=s.activeElement:o=document.activeElement;let a=o===n,l=n.selectionStart,c=n.selectionEnd;if(a&&l===t&&c===i){ao&&window.parent!==window&&n.focus();return}if(a){this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),ao&&window.parent!==window&&n.focus();return}try{let d=dG(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),hG(n,d)}catch{}}};var M8=class extends nw{constructor(e,t,i){super(e,t,i),this._register(Yt.addTarget(this.viewHelper.linesContentDomNode)),this._register(ne(this.viewHelper.linesContentDomNode,mi.Tap,o=>this.onTap(o))),this._register(ne(this.viewHelper.linesContentDomNode,mi.Change,o=>this.onChange(o))),this._register(ne(this.viewHelper.linesContentDomNode,mi.Contextmenu,o=>this._onContextMenu(new Ec(o,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(ne(this.viewHelper.linesContentDomNode,"pointerdown",o=>{let s=o.pointerType;if(s==="mouse"){this._lastPointerType="mouse";return}else s==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));let n=new QN(this.viewHelper.viewDomNode);this._register(n.onPointerMove(this.viewHelper.viewDomNode,o=>this._onMouseMove(o))),this._register(n.onPointerUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,(o,s)=>this._onMouseDown(o,s)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();let t=this._createMouseTarget(new Ec(e,!1,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:t.type===6&&t.detail.injectedText!==null})}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,t){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,t)}},R8=class extends nw{constructor(e,t,i){super(e,t,i),this._register(Yt.addTarget(this.viewHelper.linesContentDomNode)),this._register(ne(this.viewHelper.linesContentDomNode,mi.Tap,n=>this.onTap(n))),this._register(ne(this.viewHelper.linesContentDomNode,mi.Change,n=>this.onChange(n))),this._register(ne(this.viewHelper.linesContentDomNode,mi.Contextmenu,n=>this._onContextMenu(new Ec(n,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();let t=this._createMouseTarget(new Ec(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){let i=document.createEvent("CustomEvent");i.initEvent(vL.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}},cT=class extends ${constructor(e,t,i){super(),sa&&_C.pointerEvents?this.handler=this._register(new M8(e,t,i)):window.TouchEvent?this.handler=this._register(new R8(e,t,i)):this.handler=this._register(new nw(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}};Ne();ur();At();Ye();At();var il=class extends Ic{};rt();La();Ct();var Rh=class extends il{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new H(1,1),this._lastCursorViewPosition=new H(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){let e=this._context.configuration.options;this._lineHeight=e.get(61);let t=e.get(62);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(86);let i=e.get(133);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){let t=e.selections[0].getPosition();this._lastCursorViewPosition=t,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){let t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new H(e,1));if(t.column!==1)return"";let i=t.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(i):this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}let t=$i?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o='<div class="'+Rh.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',s=null;if(this._renderLineNumbers===2){s=new Array(n-i+1),this._lastCursorViewPosition.lineNumber>=i&&this._lastCursorViewPosition.lineNumber<=n&&(s[this._lastCursorViewPosition.lineNumber-i]=this._lastCursorModelPosition.lineNumber);{let c=0;for(let d=this._lastCursorViewPosition.lineNumber+1;d<=n;d++){let u=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new H(d,1)).column!==1;u||c++,d>=i&&(s[d-i]=u?0:c)}}{let c=0;for(let d=this._lastCursorViewPosition.lineNumber-1;d>=i;d--){let u=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new H(d,1)).column!==1;u||c++,d<=n&&(s[d-i]=u?0:c)}}}let a=this._context.viewModel.getLineCount(),l=[];for(let c=i;c<=n;c++){let d=c-i;if(!this._renderFinalNewline&&c===a&&this._context.viewModel.getLineLength(c)===0){l[d]="";continue}let h;if(s){let u=s[d];this._lastCursorViewPosition.lineNumber===c?h=`<span class="relative-current-line-number">${u}</span>`:u?h=String(u):h=""}else h=this._getLineRenderLineNumber(c);h?c===this._activeLineNumber?l[d]='<div class="active-line-number '+Rh.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+h+"</div>":l[d]=o+h+"</div>":l[d]=""}this._renderResult=l}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};Rh.CLASS_NAME="line-numbers";Lt((r,e)=>{let t=r.getColor(fT);t&&e.addRule(`.monaco-editor .line-numbers { color: ${t}; }`);let i=r.getColor(uQ);i&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)});var wd=class extends Pn{constructor(e){super(e);let t=this._context.configuration.options,i=t.get(133);this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=mt(document.createElement("div")),this._domNode.setClassName(wd.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=mt(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(wd.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(133);return this._canUseLayerHinting=!t.get(28),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");let t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);let i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}};wd.CLASS_NAME="glyph-margin";wd.OUTER_CLASS_NAME="margin";sC();rt();Le();Ci();var yd="monaco-mouse-cursor-text";Un();ho();var j8=class{constructor(e,t,i,n,o){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=n,this.distanceToModelLineEnd=o,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){let t=new H(this.modelLineNumber,this.distanceToModelLineStart+1),i=new H(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}},wL=ao,wT=class extends Pn{constructor(e,t,i){super(e),this._primaryCursorPosition=new H(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;let n=this._context.configuration.options,o=n.get(133);this._setAccessibilityOptions(n),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._contentHeight=o.height,this._fontInfo=n.get(46),this._lineHeight=n.get(61),this._emptySelectionClipboard=n.get(33),this._copyWithSyntaxHighlighting=n.get(21),this._visibleTextArea=null,this._selections=[new ge(1,1,1,1)],this._modelSelections=[new ge(1,1,1,1)],this._lastRenderPosition=null,this.textArea=mt(document.createElement("textarea")),_r.write(this.textArea,6),this.textArea.setClassName(`inputarea ${yd}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",g("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),n.get(30)&&n.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=mt(document.createElement("div")),this.textAreaCover.setPosition("absolute");let s={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:c=>this._context.viewModel.getLineMaxColumn(c),getValueInRange:(c,d)=>this._context.viewModel.getValueInRange(c,d)},a={getDataToCopy:()=>{let c=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,Ji),d=this._context.viewModel.model.getEOL(),h=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),u=Array.isArray(c)?c:null,f=Array.isArray(c)?c.join(d):c,m,_=null;if(CL.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&f.length<65536){let v=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);v&&(m=v.html,_=v.mode)}return{isFromEmptySelection:h,multicursorText:u,text:f,html:m,mode:_}},getScreenReaderContent:c=>{if(this._accessibilitySupport===1){let d=this._selections[0];if(at&&d.isEmpty()){let h=d.getStartPosition(),u=this._getWordBeforePosition(h);if(u.length===0&&(u=this._getCharacterBeforePosition(h)),u.length>0)return new bo(u,u.length,u.length,h,h)}if(fa&&!d.isEmpty()){let h="vscode-placeholder";return new bo(h,0,h.length,null,null)}return bo.EMPTY}if(k3){let d=this._selections[0];if(d.isEmpty()){let h=d.getStartPosition(),[u,f]=this._getAndroidWordAtPosition(h);if(u.length>0)return new bo(u,f,f,h,h)}return bo.EMPTY}return gf.fromEditorSelection(c,s,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(c,d,h)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(c,d,h)},l=this._register(new lT(this.textArea.domNode));this._textAreaInput=this._register(new sT(a,l,Nr,dc)),this._register(this._textAreaInput.onKeyDown(c=>{this._viewController.emitKeyDown(c)})),this._register(this._textAreaInput.onKeyUp(c=>{this._viewController.emitKeyUp(c)})),this._register(this._textAreaInput.onPaste(c=>{let d=!1,h=null,u=null;c.metadata&&(d=this._emptySelectionClipboard&&!!c.metadata.isFromEmptySelection,h=typeof c.metadata.multicursorText<"u"?c.metadata.multicursorText:null,u=c.metadata.mode),this._viewController.paste(c.text,d,h,u)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(c=>{c.replacePrevCharCnt||c.replaceNextCharCnt||c.positionDelta?(Sa&&console.log(` => compositionType: <<${c.text}>>, ${c.replacePrevCharCnt}, ${c.replaceNextCharCnt}, ${c.positionDelta}`),this._viewController.compositionType(c.text,c.replacePrevCharCnt,c.replaceNextCharCnt,c.positionDelta)):(Sa&&console.log(` => type: <<${c.text}>>`),this._viewController.type(c.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(c=>{this._viewController.setSelection(c)})),this._register(this._textAreaInput.onCompositionStart(c=>{let d=this.textArea.domNode,h=this._modelSelections[0],{distanceToModelLineStart:u,widthOfHiddenTextBefore:f}=(()=>{let _=d.value.substring(0,Math.min(d.selectionStart,d.selectionEnd)),v=_.lastIndexOf(`
`),w=_.substring(v+1),y=w.lastIndexOf("	"),x=w.length-y-1,k=h.getStartPosition(),N=Math.min(k.column-1,x),M=k.column-1-N,I=w.substring(0,w.length-N),O=Ume(I,this._fontInfo);return{distanceToModelLineStart:M,widthOfHiddenTextBefore:O}})(),{distanceToModelLineEnd:m}=(()=>{let _=d.value.substring(Math.max(d.selectionStart,d.selectionEnd)),v=_.indexOf(`
`),w=v===-1?_:_.substring(0,v),y=w.indexOf("	"),x=y===-1?w.length:w.length-y-1,k=h.getEndPosition(),N=Math.min(this._context.viewModel.model.getLineMaxColumn(k.lineNumber)-k.column,x);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(k.lineNumber)-k.column-N}})();this._context.viewModel.revealRange("keyboard",!0,D.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new j8(this._context,h.startLineNumber,u,f,m),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${yd} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(c=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${yd}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){let t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.viewModel.getLineContent(e.lineNumber),n=ns(t),o=!0,s=e.column,a=!0,l=e.column,c=0;for(;c<50&&(o||a);){if(o&&s<=1&&(o=!1),o){let d=i.charCodeAt(s-2);n.get(d)!==0?o=!1:s--}if(a&&l>i.length&&(a=!1),a){let d=i.charCodeAt(l-1);n.get(d)!==0?a=!1:l++}c++}return[i.substring(s-1,l-1),e.column-s]}_getWordBeforePosition(e){let t=this._context.viewModel.getLineContent(e.lineNumber),i=ns(this._context.configuration.options.get(119)),n=e.column,o=0;for(;n>1;){let s=t.charCodeAt(n-2);if(i.get(s)!==0||o>50)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){let i=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!ln(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){return e.get(2)===1?g("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",$i?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);let t=e.get(3);this._accessibilitySupport===2&&t===Ts.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(133);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(46),this._lineHeight=t.get(61),this._emptySelectionClipboard=t.get(33),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(114))),(e.hasChanged(30)||e.hasChanged(83))&&(t.get(30)&&t.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){var t;this._primaryCursorPosition=new H(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(t=this._visibleTextArea)===null||t===void 0||t.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){let i=this._visibleTextArea.visibleTextareaStart,n=this._visibleTextArea.visibleTextareaEnd,o=this._visibleTextArea.startPosition,s=this._visibleTextArea.endPosition;if(o&&s&&i&&n&&n.left>=this._scrollLeft&&i.left<=this._scrollLeft+this._contentWidth){let a=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,l=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart)),c=this._visibleTextArea.widthOfHiddenLineTextBefore,d=this._contentLeft+i.left-this._scrollLeft,h=n.left-i.left+1;if(d<this._contentLeft){let w=this._contentLeft-d;d+=w,c+=w,h-=w}h>this._contentWidth&&(h=this._contentWidth);let u=this._context.viewModel.getViewLineData(o.lineNumber),f=u.tokens.findTokenIndexAtOffset(o.column-1),m=u.tokens.findTokenIndexAtOffset(s.column-1),_=f===m,v=this._visibleTextArea.definePresentation(_?u.tokens.getPresentation(f):null);this.textArea.domNode.scrollTop=l*this._lineHeight,this.textArea.domNode.scrollLeft=c,this._doRender({lastRenderPosition:null,top:a,left:d,width:h,height:this._lineHeight,useCover:!1,color:(ki.getColorMap()||[])[v.foreground],italic:v.italic,bold:v.bold,underline:v.underline,strikethrough:v.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}let e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}let t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(at){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:e,width:wL?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;let i=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:e,width:wL?0:1,height:wL?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:wL?0:1,height:wL?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;let t=this.textArea,i=this.textAreaCover;In(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?Z.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);let n=this._context.configuration.options;n.get(52)?i.setClassName("monaco-editor-background textAreaCover "+wd.OUTER_CLASS_NAME):n.get(62).renderType!==0?i.setClassName("monaco-editor-background textAreaCover "+Rh.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};function Ume(r,e){if(r.length===0)return 0;let t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";let i=document.createElement("span");In(i,e),i.style.whiteSpace="pre",i.append(r),t.appendChild(i),document.body.appendChild(t);let n=i.offsetWidth;return document.body.removeChild(t),n}Ne();ur();ti();Vs();xt();lo();rt();Le();Ci();v_();Oc();yT();var $me=()=>!0,Kme=()=>!1,qme=r=>r===" "||r==="	",pf=class{constructor(e,t,i,n){this.languageConfigurationService=n,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;let o=i.options,s=o.get(133);this.readOnly=o.get(83),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=o.get(106),this.lineHeight=o.get(61),this.pageSize=Math.max(1,Math.floor(s.height/this.lineHeight)-2),this.useTabStops=o.get(118),this.wordSeparators=o.get(119),this.emptySelectionClipboard=o.get(33),this.copyWithSyntaxHighlighting=o.get(21),this.multiCursorMergeOverlapping=o.get(71),this.multiCursorPaste=o.get(73),this.autoClosingBrackets=o.get(5),this.autoClosingQuotes=o.get(8),this.autoClosingDelete=o.get(6),this.autoClosingOvertype=o.get(7),this.autoSurround=o.get(11),this.autoIndent=o.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();let a=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(a)for(let l of a)this.surroundingPairs[l.open]=l.close}static shouldRecreate(e){return e.hasChanged(133)||e.hasChanged(119)||e.hasChanged(33)||e.hasChanged(71)||e.hasChanged(73)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(118)||e.hasChanged(61)||e.hasChanged(83)}get electricChars(){var e;if(!this._electricChars){this._electricChars={};let t=(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||e===void 0?void 0:e.getElectricCharacters();if(t)for(let i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){let n=rm(t,i-1),o=this.languageConfigurationService.getLanguageConfiguration(n.languageId).electricCharacter;return o?o.onElectricCharacter(e,n,i-n.firstCharOffset):null}normalizeIndentation(e){return gb(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return qme;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e);case"always":return $me;case"never":return Kme}}_getLanguageDefinedShouldAutoClose(e){let t=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet();return i=>t.indexOf(i)!==-1}visibleColumnFromColumn(e,t){return Mi.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){let n=Mi.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),o=e.getLineMinColumn(t);if(n<o)return o;let s=e.getLineMaxColumn(t);return n>s?s:n}},Pt=class{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new W8(e)}static fromViewState(e){return new z8(e)}static fromModelSelection(e){let t=ge.liftSelection(e),i=new $n(D.fromPositions(t.getSelectionStart()),0,t.getPosition(),0);return Pt.fromModelState(i)}static fromModelSelections(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}},W8=class{constructor(e){this.modelState=e,this.viewState=null}},z8=class{constructor(e){this.modelState=null,this.viewState=e}},$n=class{constructor(e,t,i,n){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=$n._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new $n(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new H(t,i),n):new $n(new D(t,i,t,i),n,new H(t,i),n)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?ge.fromPositions(e.getStartPosition(),t):ge.fromPositions(e.getEndPosition(),t)}},tr=class{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}};function Fh(r){return r==="'"||r==='"'||r==="`"}rt();Le();var Bh=class{static columnSelect(e,t,i,n,o,s){let a=Math.abs(o-i)+1,l=i>o,c=n>s,d=n<s,h=[];for(let u=0;u<a;u++){let f=i+(l?-u:u),m=e.columnFromVisibleColumn(t,f,n),_=e.columnFromVisibleColumn(t,f,s),v=e.visibleColumnFromColumn(t,new H(f,m)),w=e.visibleColumnFromColumn(t,new H(f,_));d&&(v>s||w<n)||c&&(w>n||v<s)||h.push(new $n(new D(f,m,f,m),0,new H(f,_),0))}if(h.length===0)for(let u=0;u<a;u++){let f=i+(l?-u:u),m=t.getLineMaxColumn(f);h.push(new $n(new D(f,m,f,m),0,new H(f,m),0))}return{viewStates:h,reversed:l,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:s}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,Bh.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0,o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=o;l<=s;l++){let c=t.getLineMaxColumn(l),d=e.visibleColumnFromColumn(t,new H(l,c));n=Math.max(n,d)}let a=i.toViewVisualColumn;return a<n&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,n){let o=n?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){let o=n?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}};Ye();Ci();var Kn=class{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return ge.fromPositions(n.getEndPosition())}},ST=class{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return ge.fromRange(n,0)}},mb=class{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return ge.fromPositions(n.getStartPosition())}},pb=class{constructor(e,t,i,n,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return ge.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}},Mm=class{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}};Oc();Oc();rt();Le();Ye();var yL=class{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}},ni=class{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-v3(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){let i=t.lineNumber-1;return new H(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){let n=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),s=hf.atomicPosition(o,t.column-1,i,0);if(s!==-1&&s+1>=n)return new H(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,i){let n=e.stickyTabStops?ni.leftPositionAtomicSoftTabs(t,i,e.tabSize):ni.leftPosition(t,i);return new yL(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,o){let s,a;if(i.hasSelection()&&!n)s=i.selection.startLineNumber,a=i.selection.startColumn;else{let l=i.position.delta(void 0,-(o-1)),c=t.normalizePosition(ni.clipPositionColumn(l,t),0),d=ni.left(e,t,c);s=d.lineNumber,a=d.column}return i.move(n,s,a,0)}static clipPositionColumn(e,t){return new H(e.lineNumber,ni.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+CS(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new H(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,o){if(i<e.getLineIndentColumn(t)){let s=e.getLineContent(t),a=hf.atomicPosition(s,i-1,n,1);if(a!==-1)return new H(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){let n=e.stickyTabStops?ni.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):ni.rightPosition(t,i.lineNumber,i.column);return new yL(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,o){let s,a;if(i.hasSelection()&&!n)s=i.selection.endLineNumber,a=i.selection.endColumn;else{let l=i.position.delta(void 0,o-1),c=t.normalizePosition(ni.clipPositionColumn(l,t),1),d=ni.right(e,t,c);s=d.lineNumber,a=d.column}return i.move(n,s,a,0)}static vertical(e,t,i,n,o,s,a,l){let c=Mi.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+o,d=t.getLineCount(),h=i===1&&n===1,u=i===d&&n===t.getLineMaxColumn(i),f=s<i?h:u;if(i=s,i<1?(i=1,a?n=t.getLineMinColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):i>d?(i=d,a?n=t.getLineMaxColumn(i):n=Math.min(t.getLineMaxColumn(i),n)):n=e.columnFromVisibleColumn(t,i,c),f?o=0:o=c-Mi.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),l!==void 0){let m=new H(i,n),_=t.normalizePosition(m,l);o=o+(n-_.column),i=_.lineNumber,n=_.column}return new yL(i,n,o)}static down(e,t,i,n,o,s,a){return this.vertical(e,t,i,n,o,i+s,a,4)}static moveDown(e,t,i,n,o){let s,a;i.hasSelection()&&!n?(s=i.selection.endLineNumber,a=i.selection.endColumn):(s=i.position.lineNumber,a=i.position.column);let l=ni.down(e,t,s,a,i.leftoverVisibleColumns,o,!0);return i.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(e,t,i){let n=i.selection,o=ni.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=ni.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new $n(new D(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new H(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(e,t,i,n,o,s,a){return this.vertical(e,t,i,n,o,i-s,a,3)}static moveUp(e,t,i,n,o){let s,a;i.hasSelection()&&!n?(s=i.selection.startLineNumber,a=i.selection.startColumn):(s=i.position.lineNumber,a=i.position.column);let l=ni.up(e,t,s,a,i.leftoverVisibleColumns,o,!0);return i.move(n,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){let n=i.selection,o=ni.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=ni.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new $n(new D(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new H(s.lineNumber,s.column),s.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,n){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,n){let o=t.getLineCount(),s=i.position.lineNumber;for(;s<o&&this._isBlankLine(t,s);)s++;for(;s<o&&!this._isBlankLine(t,s);)s++;return i.move(n,s,t.getLineMinColumn(s),0)}static moveToBeginningOfLine(e,t,i,n){let o=i.position.lineNumber,s=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||s,l;return i.position.column===a?l=s:l=a,i.move(n,o,l,0)}static moveToEndOfLine(e,t,i,n,o){let s=i.position.lineNumber,a=t.getLineMaxColumn(s);return i.move(n,s,a,o?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){let o=t.getLineCount(),s=t.getLineMaxColumn(o);return i.move(n,o,s,0)}};Le();rt();var Nc=class{static deleteRight(e,t,i,n){let o=[],s=e!==3;for(let a=0,l=n.length;a<l;a++){let c=n[a],d=c;if(d.isEmpty()){let h=c.getPosition(),u=ni.right(t,i,h);d=new D(u.lineNumber,u.column,h.lineNumber,h.column)}if(d.isEmpty()){o[a]=null;continue}d.startLineNumber!==d.endLineNumber&&(s=!0),o[a]=new Kn(d,"")}return[s,o]}static isAutoClosingPairDelete(e,t,i,n,o,s,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=s.length;l<c;l++){let d=s[l],h=d.getPosition();if(!d.isEmpty())return!1;let u=o.getLineContent(h.lineNumber);if(h.column<2||h.column>=u.length+1)return!1;let f=u.charAt(h.column-2),m=n.get(f);if(!m)return!1;if(Fh(f)){if(i==="never")return!1}else if(t==="never")return!1;let _=u.charAt(h.column-1),v=!1;for(let w of m)w.open===f&&w.close===_&&(v=!0);if(!v)return!1;if(e==="auto"){let w=!1;for(let y=0,x=a.length;y<x;y++){let k=a[y];if(h.lineNumber===k.startLineNumber&&h.column===k.startColumn){w=!0;break}}if(!w)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++){let a=i[o].getPosition(),l=new D(a.lineNumber,a.column-1,a.lineNumber,a.column+1);n[o]=new Kn(l,"")}return[!0,n]}static deleteLeft(e,t,i,n,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,o))return this._runAutoClosingPairDelete(t,i,n);let s=[],a=e!==2;for(let l=0,c=n.length;l<c;l++){let d=Nc.getDeleteRange(n[l],i,t);if(d.isEmpty()){s[l]=null;continue}d.startLineNumber!==d.endLineNumber&&(a=!0),s[l]=new Kn(d,"")}return[a,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;let n=e.getPosition();if(i.useTabStops&&n.column>1){let o=t.getLineContent(n.lineNumber),s=En(o),a=s===-1?o.length+1:s+1;if(n.column<=a){let l=i.visibleColumnFromColumn(t,n),c=Mi.prevIndentTabStop(l,i.indentSize),d=i.columnFromVisibleColumn(t,n.lineNumber,c);return new D(n.lineNumber,d,n.lineNumber,n.column)}}return D.fromPositions(Nc.getPositionAfterDeleteLeft(n,t),n)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){let i=$Y(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){let i=e.lineNumber-1;return new H(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){let n=[],o=null;i.sort((s,a)=>H.compare(s.getStartPosition(),a.getEndPosition()));for(let s=0,a=i.length;s<a;s++){let l=i[s];if(l.isEmpty())if(e.emptySelectionClipboard){let c=l.getPosition(),d,h,u,f;c.lineNumber<t.getLineCount()?(d=c.lineNumber,h=1,u=c.lineNumber+1,f=1):c.lineNumber>1&&o?.endLineNumber!==c.lineNumber?(d=c.lineNumber-1,h=t.getLineMaxColumn(c.lineNumber-1),u=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber)):(d=c.lineNumber,h=1,u=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber));let m=new D(d,h,u,f);o=m,m.isEmpty()?n[s]=null:n[s]=new Kn(m,"")}else n[s]=null;else n[s]=new Kn(l,"")}return new tr(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}};ti();Ye();sC();rt();Le();var Qt=class{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let o=i.column-2;o>=0;o--){let s=e.charCodeAt(o),a=t.get(s);if(a===0){if(n===2)return this._createWord(e,n,a,o+1,this._findEndOfWord(e,t,n,o+1));n=1}else if(a===2){if(n===1)return this._createWord(e,n,a,o+1,this._findEndOfWord(e,t,n,o+1));n=2}else if(a===1&&n!==0)return this._createWord(e,n,a,o+1,this._findEndOfWord(e,t,n,o+1))}return n!==0?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){let o=e.length;for(let s=n;s<o;s++){let a=e.charCodeAt(s),l=t.get(a);if(l===1||i===1&&l===2||i===2&&l===0)return s}return o}static _findNextWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0,o=e.length;for(let s=i.column-1;s<o;s++){let a=e.charCodeAt(s),l=t.get(a);if(l===0){if(n===2)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,s-1),s);n=1}else if(l===2){if(n===1)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,s-1),s);n=2}else if(l===1&&n!==0)return this._createWord(e,n,l,this._findStartOfWord(e,t,n,s-1),s)}return n!==0?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let o=n;o>=0;o--){let s=e.charCodeAt(o),a=t.get(s);if(a===1||i===1&&a===2||i===2&&a===0)return o+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,s=i.column;s===1&&o>1&&(o=o-1,s=t.getLineMaxColumn(o));let a=Qt._findPreviousWordOnLine(e,t,new H(o,s));if(n===0)return new H(o,a?a.start+1:1);if(n===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=Qt._findPreviousWordOnLine(e,t,new H(o,a.start+1))),new H(o,a?a.start+1:1);if(n===3){for(;a&&a.wordType===2;)a=Qt._findPreviousWordOnLine(e,t,new H(o,a.start+1));return new H(o,a?a.start+1:1)}return a&&s<=a.end+1&&(a=Qt._findPreviousWordOnLine(e,t,new H(o,a.start+1))),new H(o,a?a.end+1:1)}static _moveWordPartLeft(e,t){let i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===1)return i>1?new H(i-1,e.getLineMaxColumn(i-1)):t;let o=e.getLineContent(i);for(let s=t.column-1;s>1;s--){let a=o.charCodeAt(s-2),l=o.charCodeAt(s-1);if(a===95&&l!==95)return new H(i,s);if((dh(a)||vS(a))&&Cl(l))return new H(i,s);if(Cl(a)&&Cl(l)&&s+1<n){let c=o.charCodeAt(s);if(dh(c)||vS(c))return new H(i,s)}}return new H(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,s=i.column,a=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(a=!0,o=o+1,s=1);let l=Qt._findNextWordOnLine(e,t,new H(o,s));if(n===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=Qt._findNextWordOnLine(e,t,new H(o,l.end+1))),l?s=l.end+1:s=t.getLineMaxColumn(o);else if(n===3){for(a&&(s=0);l&&(l.wordType===2||l.start+1<=s);)l=Qt._findNextWordOnLine(e,t,new H(o,l.end+1));l?s=l.start+1:s=t.getLineMaxColumn(o)}else l&&!a&&s>=l.start+1&&(l=Qt._findNextWordOnLine(e,t,new H(o,l.end+1))),l?s=l.start+1:s=t.getLineMaxColumn(o);return new H(o,s)}static _moveWordPartRight(e,t){let i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new H(i+1,1):t;let o=e.getLineContent(i);for(let s=t.column+1;s<n;s++){let a=o.charCodeAt(s-2),l=o.charCodeAt(s-1);if(a!==95&&l===95)return new H(i,s);if((dh(a)||vS(a))&&Cl(l))return new H(i,s);if(Cl(a)&&Cl(l)&&s+1<n){let c=o.charCodeAt(s);if(dh(c)||vS(c))return new H(i,s)}}return new H(i,n)}static _deleteWordLeftWhitespace(e,t){let i=e.getLineContent(t.lineNumber),n=t.column-2,o=es(i,n);return o+1<n?new D(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){let i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(Nc.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){let h=e.selection.getPosition();return new D(h.lineNumber,h.column-1,h.lineNumber,h.column+1)}let a=new H(o.positionLineNumber,o.positionColumn),l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(s){let h=this._deleteWordLeftWhitespace(n,a);if(h)return h}let d=Qt._findPreviousWordOnLine(i,n,a);return t===0?d?c=d.start+1:c>1?c=1:(l--,c=n.getLineMaxColumn(l)):(d&&c<=d.end+1&&(d=Qt._findPreviousWordOnLine(i,n,new H(l,d.start+1))),d?c=d.end+1:c>1?c=1:(l--,c=n.getLineMaxColumn(l))),new D(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;let n=new H(i.positionLineNumber,i.positionColumn),o=this._deleteInsideWordWhitespace(t,n);return o||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){let i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){let i=e.getLineContent(t.lineNumber),n=i.length;if(n===0)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let s=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,s))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;s+1<n&&this._charAtIsWhitespace(i,s+1);)s++;return new D(t.lineNumber,o+1,t.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){let n=t.getLineContent(i.lineNumber),o=n.length;if(o===0)return i.lineNumber>1?new D(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new D(i.lineNumber,1,i.lineNumber+1,1):new D(i.lineNumber,1,i.lineNumber,1);let s=h=>h.start+1<=i.column&&i.column<=h.end+1,a=(h,u)=>(h=Math.min(h,i.column),u=Math.max(u,i.column),new D(i.lineNumber,h,i.lineNumber,u)),l=h=>{let u=h.start+1,f=h.end+1,m=!1;for(;f-1<o&&this._charAtIsWhitespace(n,f-1);)m=!0,f++;if(!m)for(;u>1&&this._charAtIsWhitespace(n,u-2);)u--;return a(u,f)},c=Qt._findPreviousWordOnLine(e,t,i);if(c&&s(c))return l(c);let d=Qt._findNextWordOnLine(e,t,i);return d&&s(d)?l(d):c&&d?a(c.end+1,d.start+1):c?a(c.start+1,c.end+1):d?a(d.start+1,d.end+1):a(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;let i=t.getPosition(),n=Qt._moveWordPartLeft(e,i);return new D(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){let i=e.length;for(let n=t;n<i;n++){let o=e.charAt(n);if(o!==" "&&o!=="	")return n}return i}static _deleteWordRightWhitespace(e,t){let i=e.getLineContent(t.lineNumber),n=t.column-1,o=this._findFirstNonWhitespaceChar(i,n);return n+1<o?new D(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){let i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;let a=new H(o.positionLineNumber,o.positionColumn),l=a.lineNumber,c=a.column,d=n.getLineCount(),h=n.getLineMaxColumn(l);if(l===d&&c===h)return null;if(s){let f=this._deleteWordRightWhitespace(n,a);if(f)return f}let u=Qt._findNextWordOnLine(i,n,a);return t===2?u?c=u.end+1:c<h||l===d?c=h:(l++,u=Qt._findNextWordOnLine(i,n,new H(l,1)),u?c=u.start+1:c=n.getLineMaxColumn(l)):(u&&c>=u.start+1&&(u=Qt._findNextWordOnLine(i,n,new H(l,u.end+1))),u?c=u.start+1:c<h||l===d?c=h:(l++,u=Qt._findNextWordOnLine(i,n,new H(l,1)),u?c=u.start+1:c=n.getLineMaxColumn(l))),new D(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;let i=t.getPosition(),n=Qt._moveWordPartRight(e,i);return new D(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){let n=new D(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){let n=ns(t),o=Qt._findPreviousWordOnLine(n,e,i);if(o&&o.wordType===1&&o.start<=i.column-1&&i.column-1<=o.end)return Qt._createWordAtPosition(e,i.lineNumber,o);let s=Qt._findNextWordOnLine(n,e,i);return s&&s.wordType===1&&s.start<=i.column-1&&i.column-1<=s.end?Qt._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,n,o){let s=ns(e.wordSeparators),a=Qt._findPreviousWordOnLine(s,t,o),l=Qt._findNextWordOnLine(s,t,o);if(!n){let f,m;return a&&a.wordType===1&&a.start<=o.column-1&&o.column-1<=a.end?(f=a.start+1,m=a.end+1):l&&l.wordType===1&&l.start<=o.column-1&&o.column-1<=l.end?(f=l.start+1,m=l.end+1):(a?f=a.end+1:f=1,l?m=l.start+1:m=t.getLineMaxColumn(o.lineNumber)),new $n(new D(o.lineNumber,f,o.lineNumber,m),0,new H(o.lineNumber,m),0)}let c,d;a&&a.wordType===1&&a.start<o.column-1&&o.column-1<a.end?(c=a.start+1,d=a.end+1):l&&l.wordType===1&&l.start<o.column-1&&o.column-1<l.end?(c=l.start+1,d=l.end+1):(c=o.column,d=o.column);let h=o.lineNumber,u;if(i.selectionStart.containsPosition(o))u=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){u=c;let f=new H(h,u);i.selectionStart.containsPosition(f)&&(u=i.selectionStart.endColumn)}else{u=d;let f=new H(h,u);i.selectionStart.containsPosition(f)&&(u=i.selectionStart.startColumn)}return i.move(!0,h,u,0)}},_b=class extends Qt{static deleteWordPartLeft(e){let t=LT([Qt.deleteWordLeft(e,0),Qt.deleteWordLeft(e,2),Qt._deleteWordPartLeft(e.model,e.selection)]);return t.sort(D.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){let t=LT([Qt.deleteWordRight(e,0),Qt.deleteWordRight(e,2),Qt._deleteWordPartRight(e.model,e.selection)]);return t.sort(D.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){let n=LT([Qt.moveWordLeft(e,t,i,0),Qt.moveWordLeft(e,t,i,2),Qt._moveWordPartLeft(t,i)]);return n.sort(H.compare),n[2]}static moveWordPartRight(e,t,i){let n=LT([Qt.moveWordRight(e,t,i,0),Qt.moveWordRight(e,t,i,2),Qt._moveWordPartRight(t,i)]);return n.sort(H.compare),n[0]}};function LT(r){return r.filter(e=>Boolean(e))}rt();Le();var no=class{static addCursorDown(e,t,i){let n=[],o=0;for(let s=0,a=t.length;s<a;s++){let l=t[s];n[o++]=new Pt(l.modelState,l.viewState),i?n[o++]=Pt.fromModelState(ni.translateDown(e.cursorConfig,e.model,l.modelState)):n[o++]=Pt.fromViewState(ni.translateDown(e.cursorConfig,e,l.viewState))}return n}static addCursorUp(e,t,i){let n=[],o=0;for(let s=0,a=t.length;s<a;s++){let l=t[s];n[o++]=new Pt(l.modelState,l.viewState),i?n[o++]=Pt.fromModelState(ni.translateUp(e.cursorConfig,e.model,l.modelState)):n[o++]=Pt.fromViewState(ni.translateUp(e.cursorConfig,e,l.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o];n[o]=this._moveToLineStart(e,a,i)}return n}static _moveToLineStart(e,t,i){let n=t.viewState.position.column,o=t.modelState.position.column,s=n===o,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!s&&!(n===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return Pt.fromViewState(ni.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return Pt.fromModelState(ni.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=this._moveToLineEnd(e,l,i,n)}return o}static _moveToLineEnd(e,t,i,n){let o=t.viewState.position,s=e.getLineMaxColumn(o.lineNumber),a=o.column===s,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),d=s-o.column===c-l.column;return a||d?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return Pt.fromViewState(ni.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return Pt.fromModelState(ni.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){let s=t[n],a=s.modelState.selection.startLineNumber,l=e.model.getLineCount(),c=s.modelState.selection.endLineNumber,d;c===l?d=e.model.getLineMaxColumn(l):(c++,d=1),i[n]=Pt.fromModelState(new $n(new D(a,1,a,1),0,new H(c,d),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o];n[o]=Pt.fromModelState(ni.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o];n[o]=Pt.fromModelState(ni.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static selectAll(e,t){let i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return Pt.fromModelState(new $n(new D(1,1,1,1),0,new H(i,n),0))}static line(e,t,i,n,o){let s=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new H(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i||!t.modelState.hasSelection()){let c=e.model.getLineCount(),d=s.lineNumber+1,h=1;return d>c&&(d=c,h=e.model.getLineMaxColumn(d)),Pt.fromModelState(new $n(new D(s.lineNumber,1,d,h),0,new H(d,h),0))}let l=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<l)return Pt.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(s.lineNumber>l){let c=e.getLineCount(),d=a.lineNumber+1,h=1;return d>c&&(d=c,h=e.getLineMaxColumn(d)),Pt.fromViewState(t.viewState.move(t.modelState.hasSelection(),d,h,0))}else{let c=t.modelState.selectionStart.getEndPosition();return Pt.fromModelState(t.modelState.move(t.modelState.hasSelection(),c.lineNumber,c.column,0))}}static word(e,t,i,n){let o=e.model.validatePosition(n);return Pt.fromModelState(Qt.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new Pt(t.modelState,t.viewState);let i=t.viewState.position.lineNumber,n=t.viewState.position.column;return Pt.fromViewState(new $n(new D(i,n,i,n),0,new H(i,n),0))}static moveTo(e,t,i,n,o){let s=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new H(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return Pt.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,n,o,s){switch(i){case 0:return s===4?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return s===4?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return s===2?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return s===2?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return s===2?t.map(a=>Pt.fromViewState(ni.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,n))):t.map(a=>Pt.fromModelState(ni.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 5:return s===2?t.map(a=>Pt.fromViewState(ni.moveToNextBlankLine(e.cursorConfig,e,a.viewState,n))):t.map(a=>Pt.fromModelState(ni.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,n)));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){let s=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 11:{let l=this._firstLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 13:{let l=this._lastLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 12:{let l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],n,l,c)]}case 14:{let l=[];for(let c=0,d=t.length;c<d;c++){let h=t[c];l[c]=this.findPositionInViewportIfOutside(e,h,s,n)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){let o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new Pt(t.modelState,t.viewState);{let s;o>i.endLineNumber-1?s=i.endLineNumber-1:o<i.startLineNumber?s=i.startLineNumber:s=o;let a=ni.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,s,!1);return Pt.fromViewState(t.viewState.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map(o=>Pt.fromViewState(ni.moveLeft(e.cursorConfig,e,o.viewState,i,n)))}static _moveHalfLineLeft(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[o]=Pt.fromViewState(ni.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveRight(e,t,i,n){return t.map(o=>Pt.fromViewState(ni.moveRight(e.cursorConfig,e,o.viewState,i,n)))}static _moveHalfLineRight(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[o]=Pt.fromViewState(ni.moveRight(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveDownByViewLines(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=Pt.fromViewState(ni.moveDown(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=Pt.fromModelState(ni.moveDown(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=Pt.fromViewState(ni.moveUp(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){let o=[];for(let s=0,a=t.length;s<a;s++){let l=t[s];o[s]=Pt.fromModelState(ni.moveUp(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return Pt.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return Pt.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);n[o]=this._moveToViewPosition(e,a,i,l,c)}return n}},SL;(function(r){let e=function(i){if(!mo(i))return!1;let n=i;return!(!zo(n.to)||!cr(n.select)&&!ZE(n.select)||!cr(n.by)&&!zo(n.by)||!cr(n.value)&&!za(n.value))};r.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},r.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},r.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let n;switch(i.to){case r.RawDirection.Left:n=0;break;case r.RawDirection.Right:n=1;break;case r.RawDirection.Up:n=2;break;case r.RawDirection.Down:n=3;break;case r.RawDirection.PrevBlankLine:n=4;break;case r.RawDirection.NextBlankLine:n=5;break;case r.RawDirection.WrappedLineStart:n=6;break;case r.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case r.RawDirection.WrappedLineColumnCenter:n=8;break;case r.RawDirection.WrappedLineEnd:n=9;break;case r.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case r.RawDirection.ViewPortTop:n=11;break;case r.RawDirection.ViewPortBottom:n=13;break;case r.RawDirection.ViewPortCenter:n=12;break;case r.RawDirection.ViewPortIfOutside:n=14;break;default:return null}let o=0;switch(i.by){case r.RawUnit.Line:o=1;break;case r.RawUnit.WrappedLine:o=2;break;case r.RawUnit.Character:o=3;break;case r.RawUnit.HalfLine:o=4;break}return{direction:n,unit:o,select:!!i.select,value:i.value||1}}r.parse=t})(SL||(SL={}));ut();Ye();Ye();Oc();Le();Ci();om();io();function _f(r,e,t,i){let n=cm(e,t.startLineNumber,t.startColumn),o=i.getLanguageConfiguration(n.languageId);if(!o)return null;let s=n.getLineContent(),a=s.substr(0,t.startColumn-1-n.firstCharOffset),l;t.isEmpty()?l=s.substr(t.startColumn-1-n.firstCharOffset):l=cm(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-n.firstCharOffset);let c="";if(t.startLineNumber>1&&n.firstCharOffset===0){let _=cm(e,t.startLineNumber-1);_.languageId===n.languageId&&(c=_.getLineContent())}let d=o.onEnter(r,c,a,l);if(!d)return null;let h=d.indentAction,u=d.appendText,f=d.removeText||0;u?h===wn.Indent&&(u="	"+u):h===wn.Indent||h===wn.IndentOutdent?u="	":u="";let m=RO(e,t.startLineNumber,t.startColumn);return f&&(m=m.substring(0,m.length-f)),{indentAction:h,appendText:u,removeText:f,indentation:m}}io();var Yme=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Zme=function(r,e){return function(t,i){e(t,i,r)}},V8=Object.create(null);function bb(r,e){if(e<=0)return"";V8[r]||(V8[r]=["",r]);let t=V8[r];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+r;return t[e]}var $s=class U8{constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,o){let s=Mi.visibleColumnFromColumn(e,t,i);if(o){let a=bb(" ",n),c=Mi.prevIndentTabStop(s,n)/n;return bb(a,c)}else{let a="	",c=Mi.prevRenderTabStop(s,i)/i;return bb(a,c)}}static shiftIndent(e,t,i,n,o){let s=Mi.visibleColumnFromColumn(e,t,i);if(o){let a=bb(" ",n),c=Mi.nextIndentTabStop(s,n)/n;return bb(a,c)}else{let a="	",c=Mi.nextRenderTabStop(s,i)/i;return bb(a,c)}}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){let i=this._selection.startLineNumber,n=this._selection.endLineNumber;this._selection.endColumn===1&&i!==n&&(n=n-1);let{tabSize:o,indentSize:s,insertSpaces:a}=this._opts,l=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,d=0;for(let h=i;h<=n;h++,c=d){d=0;let u=e.getLineContent(h),f=En(u);if(this._opts.isUnshift&&(u.length===0||f===0)||!l&&!this._opts.isUnshift&&u.length===0)continue;if(f===-1&&(f=u.length),h>1&&Mi.visibleColumnFromColumn(u,f+1,o)%s!==0&&e.tokenization.isCheapToTokenize(h-1)){let v=_f(this._opts.autoIndent,e,new D(h-1,e.getLineMaxColumn(h-1),h-1,e.getLineMaxColumn(h-1)),this._languageConfigurationService);if(v){if(d=c,v.appendText)for(let w=0,y=v.appendText.length;w<y&&d<s&&v.appendText.charCodeAt(w)===32;w++)d++;v.removeText&&(d=Math.max(0,d-v.removeText));for(let w=0;w<d&&!(f===0||u.charCodeAt(f-1)!==32);w++)f--}}if(this._opts.isUnshift&&f===0)continue;let m;this._opts.isUnshift?m=U8.unshiftIndent(u,f+1,o,s,a):m=U8.shiftIndent(u,f+1,o,s,a),this._addEditOperation(t,new D(h,1,h,f+1),m),h===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);let c=a?bb(" ",s):"	";for(let d=i;d<=n;d++){let h=e.getLineContent(d),u=En(h);if(!(this._opts.isUnshift&&(h.length===0||u===0))&&!(!l&&!this._opts.isUnshift&&h.length===0)&&(u===-1&&(u=h.length),!(this._opts.isUnshift&&u===0)))if(this._opts.isUnshift){u=Math.min(u,s);for(let f=0;f<u;f++)if(h.charCodeAt(f)===9){u=f+1;break}this._addEditOperation(t,new D(d,1,d,u+1),"")}else this._addEditOperation(t,new D(d,1,d,1),c),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let n=t.getInverseEditOperations()[0];return new ge(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}let i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let n=this._selection.startColumn;return i.startColumn<=n?i:i.getDirection()===0?new ge(i.startLineNumber,n,i.endLineNumber,i.endColumn):new ge(i.endLineNumber,i.endColumn,i.startLineNumber,n)}return i}};$s=Yme([Zme(2,ii)],$s);Le();Ci();var xT=class{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new D(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new D(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let i=t.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new ge(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}},DT=class{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new D(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return new ge(n.endLineNumber,n.startColumn,n.endLineNumber,n.endColumn-this._charAfter.length)}};sC();Le();rt();om();io();v_();Ye();om();v_();io();function Gme(r,e,t){let i=r.tokenization.getLanguageIdAtPosition(e,0);if(e>1){let n,o=-1;for(n=e-1;n>=1;n--){if(r.tokenization.getLanguageIdAtPosition(n,0)!==i)return o;let s=r.getLineContent(n);if(t.shouldIgnore(s)||/^\s+$/.test(s)||s===""){o=n;continue}return n}}return-1}function LL(r,e,t,i=!0,n){if(r<4)return null;let o=n.getLanguageConfiguration(e.tokenization.getLanguageId()).indentRulesSupport;if(!o)return null;if(t<=1)return{indentation:"",action:null};let s=Gme(e,t,o);if(s<0)return null;if(s<1)return{indentation:"",action:null};let a=e.getLineContent(s);if(o.shouldIncrease(a)||o.shouldIndentNextLine(a))return{indentation:ri(a),action:wn.Indent,line:s};if(o.shouldDecrease(a))return{indentation:ri(a),action:null,line:s};{if(s===1)return{indentation:ri(e.getLineContent(s)),action:null,line:s};let l=s-1,c=o.getIndentMetadata(e.getLineContent(l));if(!(c&3)&&c&4){let d=0;for(let h=l-1;h>0;h--)if(!o.shouldIndentNextLine(e.getLineContent(h))){d=h;break}return{indentation:ri(e.getLineContent(d+1)),action:null,line:d+1}}if(i)return{indentation:ri(e.getLineContent(s)),action:null,line:s};for(let d=s;d>0;d--){let h=e.getLineContent(d);if(o.shouldIncrease(h))return{indentation:ri(h),action:wn.Indent,line:d};if(o.shouldIndentNextLine(h)){let u=0;for(let f=d-1;f>0;f--)if(!o.shouldIndentNextLine(e.getLineContent(d))){u=f;break}return{indentation:ri(e.getLineContent(u+1)),action:null,line:u+1}}else if(o.shouldDecrease(h))return{indentation:ri(h),action:null,line:d}}return{indentation:ri(e.getLineContent(1)),action:null,line:1}}}function vb(r,e,t,i,n,o){if(r<4)return null;let s=o.getLanguageConfiguration(t);if(!s)return null;let a=o.getLanguageConfiguration(t).indentRulesSupport;if(!a)return null;let l=LL(r,e,i,void 0,o),c=e.getLineContent(i);if(l){let d=l.line;if(d!==void 0){let h=s.onEnter(r,"",e.getLineContent(d),"");if(h){let u=ri(e.getLineContent(d));return h.removeText&&(u=u.substring(0,u.length-h.removeText)),h.indentAction===wn.Indent||h.indentAction===wn.IndentOutdent?u=n.shiftIndent(u):h.indentAction===wn.Outdent&&(u=n.unshiftIndent(u)),a.shouldDecrease(c)&&(u=n.unshiftIndent(u)),h.appendText&&(u+=h.appendText),ri(u)}}return a.shouldDecrease(c)?l.action===wn.Indent?l.indentation:n.unshiftIndent(l.indentation):l.action===wn.Indent?n.shiftIndent(l.indentation):l.indentation}return null}function BQ(r,e,t,i,n){if(r<4)return null;e.tokenization.forceTokenization(t.startLineNumber);let o=e.tokenization.getLineTokens(t.startLineNumber),s=rm(o,t.startColumn-1),a=s.getLineContent(),l=!1,c;s.firstCharOffset>0&&o.getLanguageId(0)!==s.languageId?(l=!0,c=a.substr(0,t.startColumn-1-s.firstCharOffset)):c=o.getLineContent().substring(0,t.startColumn-1);let d;t.isEmpty()?d=a.substr(t.startColumn-1-s.firstCharOffset):d=cm(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-s.firstCharOffset);let h=n.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!h)return null;let u=c,f=ri(c),m={tokenization:{getLineTokens:y=>e.tokenization.getLineTokens(y),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(y,x)=>e.getLanguageIdAtPosition(y,x)},getLineContent:y=>y===t.startLineNumber?u:e.getLineContent(y)},_=ri(o.getLineContent()),v=LL(r,m,t.startLineNumber+1,void 0,n);if(!v){let y=l?_:f;return{beforeEnter:y,afterEnter:y}}let w=l?_:v.indentation;return v.action===wn.Indent&&(w=i.shiftIndent(w)),h.shouldDecrease(d)&&(w=i.unshiftIndent(w)),{beforeEnter:l?_:f,afterEnter:w}}function jQ(r,e,t,i,n,o){if(r<4)return null;let s=cm(e,t.startLineNumber,t.startColumn);if(s.firstCharOffset)return null;let a=o.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!a)return null;let l=s.getLineContent(),c=l.substr(0,t.startColumn-1-s.firstCharOffset),d;if(t.isEmpty()?d=l.substr(t.startColumn-1-s.firstCharOffset):d=cm(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-s.firstCharOffset),!a.shouldDecrease(c+d)&&a.shouldDecrease(c+i+d)){let h=LL(r,e,t.startLineNumber,!1,o);if(!h)return null;let u=h.indentation;return h.action!==wn.Indent&&(u=n.unshiftIndent(u)),u}return null}function kT(r,e,t){let i=t.getLanguageConfiguration(r.getLanguageId()).indentRulesSupport;return!i||e<1||e>r.getLineCount()?null:i.getIndentMetadata(r.getLineContent(e))}var Vi=class{static indent(e,t,i){if(t===null||i===null)return[];let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new $s(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return n}static outdent(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new $s(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return n}static shiftIndent(e,t,i){return i=i||1,$s.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,$s.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){let o=[];for(let s=0,a=i.length;s<a;s++)o[s]=new Kn(i[s],n[s]);return new tr(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){let s=[];for(let a=0,l=i.length;a<l;a++){let c=i[a],d=c.getPosition();if(o&&!c.isEmpty()&&(o=!1),o&&n.indexOf(`
`)!==n.length-1&&(o=!1),o){let h=new D(d.lineNumber,1,d.lineNumber,1);s[a]=new Mm(h,n,c,!0)}else s[a]=new Kn(c,n)}return new tr(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,o){if(n||t.length===1)return null;if(o&&o.length===t.length)return o;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substr(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substr(0,i.length-1));let s=Mr(i);if(s.length===t.length)return s}return null}static paste(e,t,i,n,o,s){let a=this._distributePasteToCursors(e,i,n,o,s);return a?(i=i.sort(D.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,o="",s=LL(e.autoIndent,t,i,!1,e.languageConfigurationService);if(s)n=s.action,o=s.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){let d=t.getLineContent(a);if(es(d)>=0)break}if(a<1)return null;let l=t.getLineMaxColumn(a),c=_f(e.autoIndent,t,new D(a,l,a,l),e.languageConfigurationService);c&&(o=c.indentation+c.appendText)}return n&&(n===wn.Indent&&(o=Vi.shiftIndent(e,o)),n===wn.Outdent&&(o=Vi.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,n){let o="",s=i.getStartPosition();if(e.insertSpaces){let a=e.visibleColumnFromColumn(t,s),l=e.indentSize,c=l-a%l;for(let d=0;d<c;d++)o+=" "}else o="	";return new Kn(i,o,n)}static tab(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++){let a=i[o];if(a.isEmpty()){let l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.tokenization.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";let d=e.normalizeIndentation(c);if(!l.startsWith(d)){n[o]=new Kn(new D(a.startLineNumber,1,a.startLineNumber,l.length+1),d,!0);continue}}n[o]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){let l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){n[o]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}n[o]=new $s(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return n}static compositionType(e,t,i,n,o,s,a,l){let c=n.map(d=>this._compositionType(i,d,o,s,a,l));return new tr(4,c,{shouldPushStackElementBefore:ET(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,o,s){if(!t.isEmpty())return null;let a=t.getPosition(),l=Math.max(1,a.column-n),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+o),d=new D(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(d)===i&&s===0?null:new pb(d,i,0,s)}static _typeCommand(e,t,i){return i?new mb(e,t,!0):new Kn(e,t,!0)}static _enter(e,t,i,n){if(e.autoIndent===0)return Vi._typeCommand(n,`
`,i);if(!t.tokenization.isCheapToTokenize(n.getStartPosition().lineNumber)||e.autoIndent===1){let l=t.getLineContent(n.startLineNumber),c=ri(l).substring(0,n.startColumn-1);return Vi._typeCommand(n,`
`+e.normalizeIndentation(c),i)}let o=_f(e.autoIndent,t,n,e.languageConfigurationService);if(o){if(o.indentAction===wn.None)return Vi._typeCommand(n,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===wn.Indent)return Vi._typeCommand(n,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===wn.IndentOutdent){let l=e.normalizeIndentation(o.indentation),c=e.normalizeIndentation(o.indentation+o.appendText),d=`
`+c+`
`+l;return i?new mb(n,d,!0):new pb(n,d,-1,c.length-l.length,!0)}else if(o.indentAction===wn.Outdent){let l=Vi.unshiftIndent(e,o.indentation);return Vi._typeCommand(n,`
`+e.normalizeIndentation(l+o.appendText),i)}}let s=t.getLineContent(n.startLineNumber),a=ri(s).substring(0,n.startColumn-1);if(e.autoIndent>=4){let l=BQ(e.autoIndent,t,n,{unshiftIndent:c=>Vi.unshiftIndent(e,c),shiftIndent:c=>Vi.shiftIndent(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)},e.languageConfigurationService);if(l){let c=e.visibleColumnFromColumn(t,n.getEndPosition()),d=n.endColumn,h=t.getLineContent(n.endLineNumber),u=En(h);if(u>=0?n=n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,u+1)):n=n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new mb(n,`
`+e.normalizeIndentation(l.afterEnter),!0);{let f=0;return d<=u+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),f=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new pb(n,`
`+e.normalizeIndentation(l.afterEnter),0,f,!0)}}}return Vi._typeCommand(n,`
`+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,o=i.length;n<o;n++)if(!t.tokenization.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){let o=RO(t,i.startLineNumber,i.startColumn),s=jQ(e.autoIndent,t,i,n,{shiftIndent:a=>Vi.shiftIndent(e,a),unshiftIndent:a=>Vi.unshiftIndent(e,a)},e.languageConfigurationService);if(s===null)return null;if(s!==e.normalizeIndentation(o)){let a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return a===0?Vi._typeCommand(new D(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+n,!1):Vi._typeCommand(new D(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,o){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let s=0,a=i.length;s<a;s++){let l=i[s];if(!l.isEmpty())return!1;let c=l.getPosition(),d=t.getLineContent(c.lineNumber);if(d.charAt(c.column-1)!==o)return!1;let u=Fh(o);if((c.column>2?d.charCodeAt(c.column-2):0)===92&&u)return!1;if(e.autoClosingOvertype==="auto"){let m=!1;for(let _=0,v=n.length;_<v;_++){let w=n[_];if(c.lineNumber===w.startLineNumber&&c.column===w.startColumn){m=!0;break}}if(!m)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){let s=[];for(let a=0,l=n.length;a<l;a++){let d=n[a].getPosition(),h=new D(d.lineNumber,d.column,d.lineNumber,d.column+1);s[a]=new Kn(h,o)}return new tr(4,s,{shouldPushStackElementBefore:ET(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){let i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],s=n.some(l=>t.startsWith(l.open)),a=o.some(l=>t.startsWith(l.close));return!s&&a}static _findAutoClosingPairOpen(e,t,i,n){let o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!o)return null;let s=null;for(let a of o)if(s===null||a.open.length>s.open.length){let l=!0;for(let c of i)if(t.getValueInRange(new D(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+n!==a.open){l=!1;break}l&&(s=a)}return s}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;let i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[],o=null;for(let s of n)s.open!==t.open&&t.open.includes(s.open)&&t.close.endsWith(s.close)&&(!o||s.open.length>o.open.length)&&(o=s);return o}static _getAutoClosingPairClose(e,t,i,n,o){let s=Fh(n),a=s?e.autoClosingQuotes:e.autoClosingBrackets,l=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;if(a==="never")return null;for(let m of i)if(!m.isEmpty())return null;let c=i.map(m=>{let _=m.getPosition();return o?{lineNumber:_.lineNumber,beforeColumn:_.column-n.length,afterColumn:_.column}:{lineNumber:_.lineNumber,beforeColumn:_.column,afterColumn:_.column}}),d=this._findAutoClosingPairOpen(e,t,c.map(m=>new H(m.lineNumber,m.beforeColumn)),n);if(!d)return null;let h=this._findContainedAutoClosingPair(e,d),u=h?h.close:"",f=!0;for(let m of c){let{lineNumber:_,beforeColumn:v,afterColumn:w}=m,y=t.getLineContent(_),x=y.substring(0,v-1),k=y.substring(w-1);if(k.startsWith(u)||(f=!1),k.length>0){let O=k.charAt(0);if(!Vi._isBeforeClosingBrace(e,k)&&!l(O))return null}if(d.open.length===1&&(n==="'"||n==='"')&&a!=="always"){let O=ns(e.wordSeparators);if(x.length>0){let R=x.charCodeAt(x.length-1);if(O.get(R)===0)return null}}if(!t.tokenization.isCheapToTokenize(_))return null;t.tokenization.forceTokenization(_);let N=t.tokenization.getLineTokens(_),M=rm(N,v-1);if(!d.shouldAutoClose(M,v-M.firstCharOffset))return null;let I=d.findNeutralCharacter();if(I){let O=t.tokenization.getTokenTypeIfInsertingCharacter(_,v,I);if(!d.isOK(O))return null}}return f?d.close.substring(0,d.close.length-u.length):d.close}static _runAutoClosingOpenCharType(e,t,i,n,o,s,a){let l=[];for(let c=0,d=n.length;c<d;c++){let h=n[c];l[c]=new xL(h,o,!s,a)}return new tr(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Fh(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,i,n){if(!Vi._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;let o=Fh(n);for(let s of i){if(s.isEmpty())return!1;let a=!0;for(let l=s.startLineNumber;l<=s.endLineNumber;l++){let c=t.getLineContent(l),d=l===s.startLineNumber?s.startColumn-1:0,h=l===s.endLineNumber?s.endColumn-1:c.length,u=c.substring(d,h);if(/[^ \t]/.test(u)){a=!1;break}}if(a)return!1;if(o&&s.startLineNumber===s.endLineNumber&&s.startColumn+1===s.endColumn){let l=t.getValueInRange(s);if(Fh(l))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){let s=[];for(let a=0,l=n.length;a<l;a++){let c=n[a],d=t.surroundingPairs[o];s[a]=new xT(c,o,d)}return new tr(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,n,o){if(!t.electricChars.hasOwnProperty(o)||!n.isEmpty())return null;let s=n.getPosition();i.tokenization.forceTokenization(s.lineNumber);let a=i.tokenization.getLineTokens(s.lineNumber),l;try{l=t.onElectricCharacter(o,a,s.column)}catch(c){return Pe(c),null}if(!l)return null;if(l.matchOpenBracket){let c=(a.getLineContent()+o).lastIndexOf(l.matchOpenBracket)+1,d=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:s.lineNumber,column:c},500);if(d){if(d.startLineNumber===s.lineNumber)return null;let h=i.getLineContent(d.startLineNumber),u=ri(h),f=t.normalizeIndentation(u),m=i.getLineContent(s.lineNumber),_=i.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,v=m.substring(_-1,s.column-1),w=f+v+o,y=new D(s.lineNumber,1,s.lineNumber,s.column),x=new Kn(y,w);return new tr(H8(w,e),[x],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,o,s){if(!n)return null;let a=null;for(let h of n)if(a===null)a=h.insertedText;else if(a!==h.insertedText)return null;if(!a||a.length!==1)return null;let l=a,c=!1;for(let h of n)if(h.deletedText.length!==0){c=!0;break}if(c){if(!Vi._shouldSurroundChar(t,l)||!t.surroundingPairs.hasOwnProperty(l))return null;let h=Fh(l);for(let m of n)if(m.deletedSelectionStart!==0||m.deletedSelectionEnd!==m.deletedText.length||/^[ \t]+$/.test(m.deletedText)||h&&Fh(m.deletedText))return null;let u=[];for(let m of o){if(!m.isEmpty())return null;u.push(m.getPosition())}if(u.length!==n.length)return null;let f=[];for(let m=0,_=u.length;m<_;m++)f.push(new DT(u[m],n[m].deletedText,l));return new tr(4,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,i,o,s,l)){let h=o.map(u=>new Kn(new D(u.positionLineNumber,u.positionColumn,u.positionLineNumber,u.positionColumn+1),"",!1));return new tr(4,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}let d=this._getAutoClosingPairClose(t,i,o,l,!0);return d!==null?this._runAutoClosingOpenCharType(e,t,i,o,l,!0,d):null}static typeWithInterceptors(e,t,i,n,o,s,a){if(!e&&a===`
`){let d=[];for(let h=0,u=o.length;h<u;h++)d[h]=Vi._enter(i,n,!1,o[h]);return new tr(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){let d=[],h=!1;for(let u=0,f=o.length;u<f;u++)if(d[u]=this._runAutoIndentType(i,n,o[u],a),!d[u]){h=!0;break}if(!h)return new tr(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(i,n,o,s,a))return this._runAutoClosingOvertype(t,i,n,o,a);if(!e){let d=this._getAutoClosingPairClose(i,n,o,a,!1);if(d)return this._runAutoClosingOpenCharType(t,i,n,o,a,!1,d)}if(!e&&this._isSurroundSelectionType(i,n,o,a))return this._runSurroundSelectionType(t,i,n,o,a);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){let d=this._typeInterceptorElectricChar(t,i,n,o[0],a);if(d)return d}let l=[];for(let d=0,h=o.length;d<h;d++)l[d]=new Kn(o[d],a);let c=H8(a,t);return new tr(c,l,{shouldPushStackElementBefore:ET(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){let s=[];for(let l=0,c=n.length;l<c;l++)s[l]=new Kn(n[l],o);let a=H8(o,e);return new tr(a,s,{shouldPushStackElementBefore:ET(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];let n=[];for(let o=0,s=i.length;o<s;o++){let a=i[o].positionLineNumber;if(a===1)n[o]=new mb(new D(1,1,1,1),`
`);else{a--;let l=t.getLineMaxColumn(a);n[o]=this._enter(e,t,!1,new D(a,l,a,l))}}return n}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];let n=[];for(let o=0,s=i.length;o<s;o++){let a=i[o].positionLineNumber,l=t.getLineMaxColumn(a);n[o]=this._enter(e,t,!1,new D(a,l,a,l))}return n}static lineBreakInsert(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=this._enter(e,t,!0,i[o]);return n}},xL=class extends pb{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new D(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new D(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}},IT=class{constructor(e,t,i,n,o,s){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=n,this.insertedSelectionStart=o,this.insertedSelectionEnd=s}};function H8(r,e){return r===" "?e===5||e===6?6:5:4}function ET(r,e){return zQ(r)&&!zQ(e)?!0:r===5?!1:WQ(r)!==WQ(e)}function WQ(r){return r===6||r===5?"space":r}function zQ(r){return r===4||r===5||r===6}rt();Le();Ui();St();ym();var hi=0,Wn=class extends zi{runEditorCommand(e,t,i){let n=t._getViewModel();!n||this.runCoreEditorCommand(n,i||{})}},OT;(function(r){let e=function(i){if(!mo(i))return!1;let n=i;return!(!zo(n.to)||!cr(n.by)&&!zo(n.by)||!cr(n.value)&&!za(n.value)||!cr(n.revealCursor)&&!ZE(n.revealCursor))};r.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},r.RawDirection={Up:"up",Down:"down"},r.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"};function t(i){let n;switch(i.to){case r.RawDirection.Up:n=1;break;case r.RawDirection.Down:n=2;break;default:return null}let o;switch(i.by){case r.RawUnit.Line:o=1;break;case r.RawUnit.WrappedLine:o=2;break;case r.RawUnit.Page:o=3;break;case r.RawUnit.HalfPage:o=4;break;case r.RawUnit.Editor:o=5;break;default:o=2}let s=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:n,unit:o,value:s,revealCursor:a,select:!!i.select}}r.parse=t})(OT||(OT={}));var rw;(function(r){let e=function(t){if(!mo(t))return!1;let i=t;return!(!za(i.lineNumber)&&!zo(i.lineNumber)||!cr(i.at)&&!zo(i.at))};r.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},r.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(rw||(rw={}));var DL=class{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{let n=t.get(kt).getFocusedCodeEditor();return n&&n.hasTextFocus()?this._runEditorCommand(t,n,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{let n=document.activeElement;return n&&["input","textarea"].indexOf(n.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{let n=t.get(kt).getActiveCodeEditor();return n?(n.focus(),this._runEditorCommand(t,n,i)):!1})}_runEditorCommand(e,t,i){let n=this.runEditorCommand(e,t,i);return n||!0}},To;(function(r){class e extends Wn{constructor(y){super(y),this._minimalReveal=y.minimalReveal,this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){y.model.pushStackElement(),y.setCursorStates(x.source,3,[no.moveTo(y,y.getPrimaryCursorState(),this._inSelectionMode,x.position,x.viewPosition)])&&y.revealPrimaryCursor(x.source,!0,this._minimalReveal)}}r.MoveTo=me(new e({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),r.MoveToSelect=me(new e({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class t extends Wn{runCoreEditorCommand(y,x){y.model.pushStackElement();let k=this._getColumnSelectResult(y,y.getPrimaryCursorState(),y.getCursorColumnSelectData(),x);y.setCursorStates(x.source,3,k.viewStates.map(N=>Pt.fromViewState(N))),y.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:k.fromLineNumber,fromViewVisualColumn:k.fromVisualColumn,toViewLineNumber:k.toLineNumber,toViewVisualColumn:k.toVisualColumn}),k.reversed?y.revealTopMostCursor(x.source):y.revealBottomMostCursor(x.source)}}r.ColumnSelect=me(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(w,y,x,k){let N=w.model.validatePosition(k.position),M=w.coordinatesConverter.validateViewPosition(new H(k.viewPosition.lineNumber,k.viewPosition.column),N),I=k.doColumnSelect?x.fromViewLineNumber:M.lineNumber,O=k.doColumnSelect?x.fromViewVisualColumn:k.mouseColumn-1;return Bh.columnSelect(w.cursorConfig,w,I,O,M.lineNumber,k.mouseColumn-1)}}),r.CursorColumnSelectLeft=me(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(w,y,x,k){return Bh.columnSelectLeft(w.cursorConfig,w,x)}}),r.CursorColumnSelectRight=me(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(w,y,x,k){return Bh.columnSelectRight(w.cursorConfig,w,x)}});class i extends t{constructor(y){super(y),this._isPaged=y.isPaged}_getColumnSelectResult(y,x,k,N){return Bh.columnSelectUp(y.cursorConfig,y,k,this._isPaged)}}r.CursorColumnSelectUp=me(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:3600,linux:{primary:0}}})),r.CursorColumnSelectPageUp=me(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:3595,linux:{primary:0}}}));class n extends t{constructor(y){super(y),this._isPaged=y.isPaged}_getColumnSelectResult(y,x,k,N){return Bh.columnSelectDown(y.cursorConfig,y,k,this._isPaged)}}r.CursorColumnSelectDown=me(new n({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:3602,linux:{primary:0}}})),r.CursorColumnSelectPageDown=me(new n({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:3596,linux:{primary:0}}}));class o extends Wn{constructor(){super({id:"cursorMove",precondition:void 0,description:SL.description})}runCoreEditorCommand(y,x){let k=SL.parse(x);!k||this._runCursorMove(y,x.source,k)}_runCursorMove(y,x,k){y.model.pushStackElement(),y.setCursorStates(x,3,o._move(y,y.getCursorStates(),k)),y.revealPrimaryCursor(x,!0)}static _move(y,x,k){let N=k.select,M=k.value;switch(k.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return no.simpleMove(y,x,k.direction,N,M,k.unit);case 11:case 13:case 12:case 14:return no.viewportMove(y,x,k.direction,N,M);default:return null}}}r.CursorMoveImpl=o,r.CursorMove=me(new o);class s extends Wn{constructor(y){super(y),this._staticArgs=y.args}runCoreEditorCommand(y,x){let k=this._staticArgs;this._staticArgs.value===-1&&(k={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:x.pageSize||y.cursorConfig.pageSize}),y.model.pushStackElement(),y.setCursorStates(x.source,3,no.simpleMove(y,y.getCursorStates(),k.direction,k.select,k.value,k.unit)),y.revealPrimaryCursor(x.source,!0)}}r.CursorLeft=me(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),r.CursorLeftSelect=me(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:1039}})),r.CursorRight=me(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),r.CursorRightSelect=me(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:1041}})),r.CursorUp=me(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),r.CursorUpSelect=me(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),r.CursorPageUp=me(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:11}})),r.CursorPageUpSelect=me(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:1035}})),r.CursorDown=me(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),r.CursorDownSelect=me(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),r.CursorPageDown=me(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:12}})),r.CursorPageDownSelect=me(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:1036}})),r.CreateCursor=me(new class extends Wn{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(w,y){let x;y.wholeLine?x=no.line(w,w.getPrimaryCursorState(),!1,y.position,y.viewPosition):x=no.moveTo(w,w.getPrimaryCursorState(),!1,y.position,y.viewPosition);let k=w.getCursorStates();if(k.length>1){let N=x.modelState?x.modelState.position:null,M=x.viewState?x.viewState.position:null;for(let I=0,O=k.length;I<O;I++){let R=k[I];if(!(N&&!R.modelState.selection.containsPosition(N))&&!(M&&!R.viewState.selection.containsPosition(M))){k.splice(I,1),w.model.pushStackElement(),w.setCursorStates(y.source,3,k);return}}}k.push(x),w.model.pushStackElement(),w.setCursorStates(y.source,3,k)}}),r.LastCursorMoveToSelect=me(new class extends Wn{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(w,y){let x=w.getLastAddedCursorIndex(),k=w.getCursorStates(),N=k.slice(0);N[x]=no.moveTo(w,k[x],!0,y.position,y.viewPosition),w.model.pushStackElement(),w.setCursorStates(y.source,3,N)}});class a extends Wn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){y.model.pushStackElement(),y.setCursorStates(x.source,3,no.moveToBeginningOfLine(y,y.getCursorStates(),this._inSelectionMode)),y.revealPrimaryCursor(x.source,!0)}}r.CursorHome=me(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),r.CursorHomeSelect=me(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends Wn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){y.model.pushStackElement(),y.setCursorStates(x.source,3,this._exec(y.getCursorStates())),y.revealPrimaryCursor(x.source,!0)}_exec(y){let x=[];for(let k=0,N=y.length;k<N;k++){let M=y[k],I=M.modelState.position.lineNumber;x[k]=Pt.fromModelState(M.modelState.move(this._inSelectionMode,I,1,0))}return x}}r.CursorLineStart=me(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:0,mac:{primary:287}}})),r.CursorLineStartSelect=me(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends Wn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){y.model.pushStackElement(),y.setCursorStates(x.source,3,no.moveToEndOfLine(y,y.getCursorStates(),this._inSelectionMode,x.sticky||!1)),y.revealPrimaryCursor(x.source,!0)}}r.CursorEnd=me(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:hi,kbExpr:F.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:g("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),r.CursorEndSelect=me(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:hi,kbExpr:F.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:g("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class d extends Wn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){y.model.pushStackElement(),y.setCursorStates(x.source,3,this._exec(y,y.getCursorStates())),y.revealPrimaryCursor(x.source,!0)}_exec(y,x){let k=[];for(let N=0,M=x.length;N<M;N++){let I=x[N],O=I.modelState.position.lineNumber,R=y.model.getLineMaxColumn(O);k[N]=Pt.fromModelState(I.modelState.move(this._inSelectionMode,O,R,0))}return k}}r.CursorLineEnd=me(new d({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:0,mac:{primary:291}}})),r.CursorLineEndSelect=me(new d({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:0,mac:{primary:1315}}}));class h extends Wn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){y.model.pushStackElement(),y.setCursorStates(x.source,3,no.moveToBeginningOfBuffer(y,y.getCursorStates(),this._inSelectionMode)),y.revealPrimaryCursor(x.source,!0)}}r.CursorTop=me(new h({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:2062,mac:{primary:2064}}})),r.CursorTopSelect=me(new h({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:3086,mac:{primary:3088}}}));class u extends Wn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){y.model.pushStackElement(),y.setCursorStates(x.source,3,no.moveToEndOfBuffer(y,y.getCursorStates(),this._inSelectionMode)),y.revealPrimaryCursor(x.source,!0)}}r.CursorBottom=me(new u({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:2061,mac:{primary:2066}}})),r.CursorBottomSelect=me(new u({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:3085,mac:{primary:3090}}}));class f extends Wn{constructor(){super({id:"editorScroll",precondition:void 0,description:OT.description})}runCoreEditorCommand(y,x){let k=OT.parse(x);!k||this._runEditorScroll(y,x.source,k)}_runEditorScroll(y,x,k){let N=this._computeDesiredScrollTop(y,k);if(k.revealCursor){let M=y.getCompletelyVisibleViewRangeAtScrollTop(N);y.setCursorStates(x,3,[no.findPositionInViewportIfOutside(y,y.getPrimaryCursorState(),M,k.select)])}y.viewLayout.setScrollPosition({scrollTop:N},0)}_computeDesiredScrollTop(y,x){if(x.unit===1){let M=y.getCompletelyVisibleViewRange(),I=y.coordinatesConverter.convertViewRangeToModelRange(M),O;x.direction===1?O=Math.max(1,I.startLineNumber-x.value):O=Math.min(y.model.getLineCount(),I.startLineNumber+x.value);let R=y.coordinatesConverter.convertModelPositionToViewPosition(new H(O,1));return y.viewLayout.getVerticalOffsetForLineNumber(R.lineNumber)}if(x.unit===5){let M=0;return x.direction===2&&(M=y.model.getLineCount()-y.cursorConfig.pageSize),y.viewLayout.getVerticalOffsetForLineNumber(M)}let k;x.unit===3?k=y.cursorConfig.pageSize*x.value:x.unit===4?k=Math.round(y.cursorConfig.pageSize/2)*x.value:k=x.value;let N=(x.direction===1?-1:1)*k;return y.viewLayout.getCurrentScrollTop()+N*y.cursorConfig.lineHeight}}r.EditorScrollImpl=f,r.EditorScroll=me(new f),r.ScrollLineUp=me(new class extends Wn{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(w,y){r.EditorScroll._runEditorScroll(w,y.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),r.ScrollPageUp=me(new class extends Wn{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(w,y){r.EditorScroll._runEditorScroll(w,y.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),r.ScrollEditorTop=me(new class extends Wn{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus}})}runCoreEditorCommand(w,y){r.EditorScroll._runEditorScroll(w,y.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),r.ScrollLineDown=me(new class extends Wn{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(w,y){r.EditorScroll._runEditorScroll(w,y.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),r.ScrollPageDown=me(new class extends Wn{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(w,y){r.EditorScroll._runEditorScroll(w,y.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),r.ScrollEditorBottom=me(new class extends Wn{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus}})}runCoreEditorCommand(w,y){r.EditorScroll._runEditorScroll(w,y.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class m extends Wn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){y.model.pushStackElement(),y.setCursorStates(x.source,3,[no.word(y,y.getPrimaryCursorState(),this._inSelectionMode,x.position)]),y.revealPrimaryCursor(x.source,!0)}}r.WordSelect=me(new m({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),r.WordSelectDrag=me(new m({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),r.LastCursorWordSelect=me(new class extends Wn{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(w,y){let x=w.getLastAddedCursorIndex(),k=w.getCursorStates(),N=k.slice(0),M=k[x];N[x]=no.word(w,M,M.modelState.hasSelection(),y.position),w.model.pushStackElement(),w.setCursorStates(y.source,3,N)}});class _ extends Wn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){y.model.pushStackElement(),y.setCursorStates(x.source,3,[no.line(y,y.getPrimaryCursorState(),this._inSelectionMode,x.position,x.viewPosition)]),y.revealPrimaryCursor(x.source,!1)}}r.LineSelect=me(new _({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),r.LineSelectDrag=me(new _({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class v extends Wn{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,x){let k=y.getLastAddedCursorIndex(),N=y.getCursorStates(),M=N.slice(0);M[k]=no.line(y,N[k],this._inSelectionMode,x.position,x.viewPosition),y.model.pushStackElement(),y.setCursorStates(x.source,3,M)}}r.LastCursorLineSelect=me(new v({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),r.LastCursorLineSelectDrag=me(new v({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),r.CancelSelection=me(new class extends Wn{constructor(){super({id:"cancelSelection",precondition:F.hasNonEmptySelection,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(w,y){w.model.pushStackElement(),w.setCursorStates(y.source,3,[no.cancelSelection(w,w.getPrimaryCursorState())]),w.revealPrimaryCursor(y.source,!0)}}),r.RemoveSecondaryCursors=me(new class extends Wn{constructor(){super({id:"removeSecondaryCursors",precondition:F.hasMultipleSelections,kbOpts:{weight:hi+1,kbExpr:F.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(w,y){w.model.pushStackElement(),w.setCursorStates(y.source,3,[w.getPrimaryCursorState()]),w.revealPrimaryCursor(y.source,!0),Z_(g("removedCursor","Removed secondary cursors"))}}),r.RevealLine=me(new class extends Wn{constructor(){super({id:"revealLine",precondition:void 0,description:rw.description})}runCoreEditorCommand(w,y){let x=y,k=x.lineNumber||0,N=typeof k=="number"?k+1:parseInt(k)+1;N<1&&(N=1);let M=w.model.getLineCount();N>M&&(N=M);let I=new D(N,1,N,w.model.getLineMaxColumn(N)),O=0;if(x.at)switch(x.at){case rw.RawAtArgument.Top:O=3;break;case rw.RawAtArgument.Center:O=1;break;case rw.RawAtArgument.Bottom:O=4;break;default:break}let R=w.coordinatesConverter.convertModelRangeToViewRange(I);w.revealRange(y.source,!1,R,O,0)}}),r.SelectAll=new class extends DL{constructor(){super(kG)}runDOMCommand(){ao&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(w,y,x){let k=y._getViewModel();!k||this.runCoreEditorCommand(k,x)}runCoreEditorCommand(w,y){w.model.pushStackElement(),w.setCursorStates("keyboard",3,[no.selectAll(w,w.getPrimaryCursorState())])}},r.SetSelection=me(new class extends Wn{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(w,y){w.model.pushStackElement(),w.setCursorStates(y.source,3,[Pt.fromModelSelection(y.selection)])}})})(To||(To={}));var Xme=Se.and(F.textInputFocus,F.columnSelection);function sw(r,e){Ko.registerKeybindingRule({id:r,primary:e,when:Xme,weight:hi+1})}sw(To.CursorColumnSelectLeft.id,1039);sw(To.CursorColumnSelectRight.id,1041);sw(To.CursorColumnSelectUp.id,1040);sw(To.CursorColumnSelectPageUp.id,1035);sw(To.CursorColumnSelectDown.id,1042);sw(To.CursorColumnSelectPageDown.id,1036);function VQ(r){return r.register(),r}var Rm;(function(r){class e extends zi{runEditorCommand(i,n,o){let s=n._getViewModel();!s||this.runCoreEditingCommand(n,s,o||{})}}r.CoreEditingCommand=e,r.LineBreakInsert=me(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:F.writable,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Vi.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection)))}}),r.Outdent=me(new class extends e{constructor(){super({id:"outdent",precondition:F.writable,kbOpts:{weight:hi,kbExpr:Se.and(F.editorTextFocus,F.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Vi.outdent(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),r.Tab=me(new class extends e{constructor(){super({id:"tab",precondition:F.writable,kbOpts:{weight:hi,kbExpr:Se.and(F.editorTextFocus,F.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,n){t.pushUndoStop(),t.executeCommands(this.id,Vi.tab(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),r.DeleteLeft=me(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,n){let[o,s]=Nc.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());o&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(2)}}),r.DeleteRight=me(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:hi,kbExpr:F.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,n){let[o,s]=Nc.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));o&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(3)}}),r.Undo=new class extends DL{constructor(){super(f8)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(t,i,n){if(!(!i.hasModel()||i.getOption(83)===!0))return i.getModel().undo()}},r.Redo=new class extends DL{constructor(){super(g8)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(t,i,n){if(!(!i.hasModel()||i.getOption(83)===!0))return i.getModel().redo()}}})(Rm||(Rm={}));var NT=class extends J_{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){let i=e.get(kt).getFocusedCodeEditor();!i||i.trigger("keyboard",this._handlerId,t)}};function Cb(r,e){VQ(new NT("default:"+r,r)),VQ(new NT(r,r,e))}Cb("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});Cb("replacePreviousChar");Cb("compositionType");Cb("compositionStart");Cb("compositionEnd");Cb("paste");Cb("cut");rt();At();var TT=class{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){To.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){let t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new H(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){let t=this.configuration.options,i=$i&&t.get(98),n=t.get(18);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){To.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){To.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),To.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),To.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){To.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){To.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){To.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){To.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){To.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){To.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){To.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){To.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){To.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}};var Fm=class{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;(t=this.onKeyDown)===null||t===void 0||t.call(this,e)}emitKeyUp(e){var t;(t=this.onKeyUp)===null||t===void 0||t.call(this,e)}emitContextMenu(e){var t;(t=this.onContextMenu)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;(t=this.onMouseMove)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;(t=this.onMouseLeave)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;(t=this.onMouseDown)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;(t=this.onMouseUp)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;(t=this.onMouseDrag)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;(t=this.onMouseDrop)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var t;(t=this.onMouseWheel)===null||t===void 0||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return Fm.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){let i=Object.assign({},e);return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),i}};Zu();var $8,kL=class{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){let t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;let i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){let l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>n)return null;let o=0,s=0;for(let l=i;l<=n;l++){let c=l-this._rendLineNumberStart;e<=l&&l<=t&&(s===0?(o=c,s=1):s++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(o,s)}onLinesChanged(e,t){let i=e+t-1;if(this.getCount()===0)return!1;let n=this.getStartLineNumber(),o=this.getEndLineNumber(),s=!1;for(let a=e;a<=i;a++)a>=n&&a<=o&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(e,t){if(this.getCount()===0)return null;let i=t-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o)return this._lines.splice(e-this._rendLineNumberStart,o-e+1);let s=[];for(let h=0;h<i;h++)s[h]=this._createLine();let a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),d=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(s).concat(c),d}onTokensChanged(e){if(this.getCount()===0)return!1;let t=this.getStartLineNumber(),i=this.getEndLineNumber(),n=!1;for(let o=0,s=e.length;o<s;o++){let a=e[o];if(a.toLineNumber<t||a.fromLineNumber>i)continue;let l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let d=l;d<=c;d++){let h=d-this._rendLineNumberStart;this._lines[h].onTokensChanged(),n=!0}}return n}},aw=class{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new kL(()=>this._host.createVisibleLine())}_createDomNode(){let e=mt(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(133)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){let t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){let o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onLinesInserted(e){let t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){let o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){let t=this._linesCollection._get(),i=new Sd(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}},Sd=class{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){let o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let s=t;s<=i;s++)o.lines[s-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t){let s=t,a=Math.min(i,o.rendLineNumberStart-1);s<=a&&(this._insertLinesBefore(o,s,a,n,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart<t){let s=Math.min(o.linesLength,t-o.rendLineNumberStart);s>0&&(this._removeLinesBefore(o,s),o.linesLength-=s)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){let s=o.rendLineNumberStart+o.linesLength,a=i;s<=a&&(this._insertLinesAfter(o,s,a,n,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){let s=Math.max(0,i-o.rendLineNumberStart+1),l=o.linesLength-1-s+1;l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)}return this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){let s=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){let c=s+l;a[l].layoutLine(c,n[c-o])}}_insertLinesBefore(e,t,i,n,o){let s=[],a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){let n=e.lines[i].getDomNode();n&&this.domNode.removeChild(n)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){let s=[],a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){let i=e.linesLength-t;for(let n=0;n<t;n++){let o=e.lines[i+n].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){Sd._ttPolicy&&(i=Sd._ttPolicy.createHTML(i));let o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){let l=e.lines[a];n[a]&&(l.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){let n=document.createElement("div");Sd._ttPolicy&&(t=Sd._ttPolicy.createHTML(t)),n.innerHTML=t;for(let o=0;o<e.linesLength;o++){let s=e.lines[o];if(i[o]){let a=n.firstChild,l=s.getDomNode();l.parentNode.replaceChild(a,l),s.setDomNode(a)}}}_finishRendering(e,t,i){let n=Sd._sb,o=e.linesLength,s=e.lines,a=e.rendLineNumberStart,l=[];{n.reset();let c=!1;for(let d=0;d<o;d++){let h=s[d];l[d]=!1,!(h.getDomNode()||!h.renderLine(d+a,i[d],this.viewportData,n))&&(l[d]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,n.build(),l)}{n.reset();let c=!1,d=[];for(let h=0;h<o;h++){let u=s[h];d[h]=!1,!(l[h]||!u.renderLine(h+a,i[h],this.viewportData,n))&&(d[h]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,n.build(),d)}}};Sd._ttPolicy=($8=window.trustedTypes)===null||$8===void 0?void 0:$8.createPolicy("editorViewLayer",{createHTML:r=>r});Sd._sb=Ya(1e5);var PT=class extends Pn{constructor(e){super(e),this._visibleLines=new aw(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new K8(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){let t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,n=t.length;i<n;i++){let o=t[i];o.prepareRender(e),o.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}},K8=class{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=mt(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(61)}renderLine(e,t,i,n){let o="";for(let s=0,a=this._dynamicOverlays.length;s<a;s++)o+=this._dynamicOverlays[s].render(i.startLineNumber,e);return this._renderedContent===o?!1:(this._renderedContent=o,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(o),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}},AT=class extends PT{constructor(e){super(e);let i=this._context.configuration.options.get(133);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){let i=this._context.configuration.options.get(133);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}},MT=class extends PT{constructor(e){super(e);let t=this._context.configuration.options,i=t.get(133);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),In(this.domNode,t.get(46))}onConfigurationChanged(e){let t=this._context.configuration.options;In(this.domNode,t.get(46));let i=t.get(133);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);let t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}};Fe();var wb=class{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}},RT=class extends Pn{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=mt(document.createElement("div")),_r.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=mt(document.createElement("div")),_r.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){let t=new Y8(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,n){this._widgets[e.getId()].setPosition(t,i,n),this.setShouldRender()}removeWidget(e){let t=e.getId();if(this._widgets.hasOwnProperty(t)){let i=this._widgets[t];delete this._widgets[t];let n=i.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].prepareRender(e)}render(e){let t=Object.keys(this._widgets);for(let i of t)this._widgets[i].render(e)}},Y8=class{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=mt(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;let n=this._context.configuration.options,o=n.get(133);this._fixedOverflowWidgets=n.get(38),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){let t=this._context.configuration.options;if(this._lineHeight=t.get(61),e.hasChanged(133)){let i=t.get(133);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range,this._affinity)}_setPosition(e,t){var i;if(this._range=e,this._viewRange=null,this._affinity=t,this._range){let n=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(n,(i=this._affinity)!==null&&i!==void 0?i:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,t,i){this._setPosition(e,i),this._preference=t,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,n,o){let s=e.top,a=s,l=t.top+this._lineHeight,c=o.viewportHeight-l,d=s-n,h=a>=n,u=l,f=c>=n,m=e.left,_=t.left;return m+i>o.scrollLeft+o.viewportWidth&&(m=o.scrollLeft+o.viewportWidth-i),_+i>o.scrollLeft+o.viewportWidth&&(_=o.scrollLeft+o.viewportWidth-i),m<o.scrollLeft&&(m=o.scrollLeft),_<o.scrollLeft&&(_=o.scrollLeft),{fitsAbove:h,aboveTop:d,aboveLeft:m,fitsBelow:f,belowTop:u,belowLeft:_}}_layoutHorizontalSegmentInPage(e,t,i,n){let o=Math.max(0,t.left-n),s=Math.min(t.left+t.width+n,e.width),a=t.left+i-hd.scrollX;if(a+n>s){let l=a-(s-n);a-=l,i-=l}if(a<o){let l=a-o;a-=l,i-=l}return[i,a]}_layoutBoxInPage(e,t,i,n,o){let s=e.top-n,a=t.top+this._lineHeight,l=dn(this._viewDomNode.domNode),c=l.top+s-hd.scrollY,d=l.top+a-hd.scrollY,h=_m(document.body),[u,f]=this._layoutHorizontalSegmentInPage(h,l,e.left-o.scrollLeft+this._contentLeft,i),[m,_]=this._layoutHorizontalSegmentInPage(h,l,t.left-o.scrollLeft+this._contentLeft,i),v=22,w=22,y=c>=v,x=d+n<=h.height-w;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(c,v),aboveLeft:f,fitsBelow:x,belowTop:d,belowLeft:_}:{fitsAbove:y,aboveTop:s,aboveLeft:u,fitsBelow:x,belowTop:a,belowLeft:m}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new wb(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];let t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let i=t[0],n=t[0];for(let h of t)h.lineNumber<i.lineNumber&&(i=h),h.lineNumber>n.lineNumber&&(n=h);let o=1073741824;for(let h of i.ranges)h.left<o&&(o=h.left);let s=1073741824;for(let h of n.ranges)h.left<s&&(s=h.left);let a=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,l=new wb(a,o),c=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop,d=new wb(c,s);return[l,d]}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;let[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=q8(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{let a=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(a.width),this._cachedDomNodeOffsetHeight=Math.round(a.height)}}let n;this.allowEditorOverflow?n=this._layoutBoxInPage(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):n=this._layoutBoxInViewport(t,i,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let o=1;o<=2;o++)for(let s of this._preference)if(s===1){if(!n)return null;if(o===2||n.fitsAbove)return{coordinate:new wb(n.aboveTop,n.aboveLeft),position:1}}else if(s===2){if(!n)return null;if(o===2||n.fitsBelow)return{coordinate:new wb(n.belowTop,n.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&q8(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&q8(this._actual.afterRender,this._actual,this._renderData.position)}};function q8(r,e,...t){try{return r.call(e,...t)}catch{return null}}La();Ft();Ct();Ci();Tl();var FT=class extends il{constructor(e){super(),this._context=e;let t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(61),this._renderLineHighlight=t.get(87),this._renderLineHighlightOnlyWhenFocus=t.get(88),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new ge(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1,t=this._selections.map(n=>n.positionLineNumber);t.sort((n,o)=>n-o),go(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,e=!0);let i=this._selections.every(n=>n.isEmpty());return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(61),this._renderLineHighlight=t.get(87),this._renderLineHighlightOnlyWhenFocus=t.get(88),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}let t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length,s=0,a=[];for(let l=i;l<=n;l++){let c=l-i;for(;s<o&&this._cursorLineNumbers[s]<l;)s++;s<o&&this._cursorLineNumbers[s]===l?a[c]=t:a[c]=""}this._renderData=a}render(e,t){if(!this._renderData)return"";let i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}},BT=class extends FT{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}},jT=class extends FT{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}};Lt((r,e)=>{let t=r.getColor(F8);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||r.defines(B8)){let i=r.getColor(B8);i&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),Qn(r.type)&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});Le();var WT=class extends il{constructor(e){super(),this._context=e;let t=this._context.configuration.options;this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let l=0,c=t.length;l<c;l++){let d=t[l];d.options.className&&(i[n++]=d)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;let d=l.options.className,h=c.options.className;return d<h?-1:d>h?1:D.compareRangesUsingStarts(l.range,c.range)});let o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=[];for(let l=o;l<=s;l++){let c=l-o;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){let n=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){let c=t[a];if(!c.options.isWholeLine)continue;let d='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',h=Math.max(c.range.startLineNumber,o),u=Math.min(c.range.endLineNumber,s);for(let f=h;f<=u;f++){let m=f-o;i[m]+=d}}}_renderNormalDecorations(e,t,i){let n=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=null,a=!1,l=null;for(let c=0,d=t.length;c<d;c++){let h=t[c];if(h.options.isWholeLine)continue;let u=h.options.className,f=Boolean(h.options.showIfCollapsed),m=h.range;if(f&&m.endColumn===1&&m.endLineNumber!==m.startLineNumber&&(m=new D(m.startLineNumber,m.startColumn,m.endLineNumber-1,this._context.viewModel.getLineMaxColumn(m.endLineNumber-1))),s===u&&a===f&&D.areIntersectingOrTouching(l,m)){l=D.plusRange(l,m);continue}s!==null&&this._renderNormalDecoration(e,l,s,a,n,o,i),s=u,a=f,l=m}s!==null&&this._renderNormalDecoration(e,l,s,a,n,o,i)}_renderNormalDecoration(e,t,i,n,o,s,a){let l=e.linesVisibleRangesForRange(t,i==="findMatch");if(!!l)for(let c=0,d=l.length;c<d;c++){let h=l[c];if(h.outsideRenderedLine)continue;let u=h.lineNumber-s;if(n&&h.ranges.length===1){let f=h.ranges[0];if(f.width<this._typicalHalfwidthCharacterWidth){let m=Math.round(f.left+f.width/2),_=Math.max(0,Math.round(m-this._typicalHalfwidthCharacterWidth/2));h.ranges[0]=new Pm(_,this._typicalHalfwidthCharacterWidth)}}for(let f=0,m=h.ranges.length;f<m;f++){let _=h.ranges[f],v='<div class="cdr '+i+'" style="left:'+String(_.left)+"px;width:"+String(_.width)+"px;height:"+o+'px;"></div>';a[u]+=v}}}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};Fe();ur();Fe();vc();vc();Fe();Fe();bs();vc();se();var Po=class extends ${onclick(e,t){this._register(ne(e,ye.CLICK,i=>t(new Rr(i))))}onmousedown(e,t){this._register(ne(e,ye.MOUSE_DOWN,i=>t(new Rr(i))))}onmouseover(e,t){this._register(ne(e,ye.MOUSE_OVER,i=>t(new Rr(i))))}onmouseleave(e,t){this._register(ne(e,ye.MOUSE_LEAVE,i=>t(new Rr(i))))}onkeydown(e,t){this._register(ne(e,ye.KEY_DOWN,i=>t(new Gt(i))))}onkeyup(e,t){this._register(ne(e,ye.KEY_UP,i=>t(new Gt(i))))}oninput(e,t){this._register(ne(e,ye.INPUT,t))}onblur(e,t){this._register(ne(e,ye.BLUR,t))}onfocus(e,t){this._register(ne(e,ye.FOCUS,t))}ignoreGesture(e){Yt.ignoreTarget(e)}};ot();Fe();var Bm=11,zT=class extends Po{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=Bm+"px",this.domNode.style.height=Bm+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new Pl),this._register(Ti(this.bgDomNode,ye.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(Ti(this.domNode,ye.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new od),this._pointerdownScheduleRepeatTimer=this._register(new On)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}};ot();se();var VT=class extends ${constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new On)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)===null||e===void 0||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)===null||t===void 0||t.setClassName(this._invisibleClassName+(e?" fade":"")))}};At();var Qme=140,lw=class extends Po{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new VT(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new Pl),this._shouldRender=!0,this.domNode=mt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(ne(this.domNode.domNode,ye.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new zT(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=mt(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(ne(this.slider.domNode,ye.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=n?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{let o=dn(this.domNode.domNode);t=e.pageX-o.left,i=e.pageY-o.top}let n=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>{let s=this._sliderOrthogonalPointerPosition(o),a=Math.abs(s-i);if(Ji&&a>Qme){this._setDesiredScrollPositionNow(n.getScrollPosition());return}let c=this._sliderPointerPosition(o)-t;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}};var bf=class{constructor(e,t,i,n,o,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new bf(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){let s=Math.max(0,i-e),a=Math.max(0,s-2*t),l=n>0&&n>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};let c=Math.round(Math.max(20,Math.floor(i*a/n))),d=(a-c)/(n-i),h=o*d;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:d,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){let e=bf._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize,i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}};bn();var UT=class extends lw{constructor(e,t,i){let n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new bf(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){let s=(t.arrowSize-Bm)/2,a=(t.horizontalScrollbarSize-Bm)/2;this._createArrow({className:"scra",icon:p.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new bc(null,1,0))}),this._createArrow({className:"scra",icon:p.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new bc(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}};vc();bn();var HT=class extends lw{constructor(e,t,i){let n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new bf(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){let s=(t.arrowSize-Bm)/2,a=(t.verticalScrollbarSize-Bm)/2;this._createArrow({className:"scra",icon:p.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new bc(null,0,1))}),this._createArrow({className:"scra",icon:p.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new bc(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}};ot();Oe();se();At();Oe();se();var cw=class{constructor(e,t,i,n,o,s,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,n=n|0,o=o|0,s=s|0,a=a|0),this.rawScrollLeft=n,this.rawScrollTop=a,t<0&&(t=0),n+t>i&&(n=i-t),n<0&&(n=0),o<0&&(o=0),a+o>s&&(a=s-o),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=n,this.height=o,this.scrollHeight=s,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new cw(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new cw(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){let i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}},Ld=class extends ${constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new B),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new cw(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var i;let n=this._state.withScrollDimensions(e,t);this._setState(n,Boolean(this._smoothScrolling)),(i=this._smoothScrolling)===null||i===void 0||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;t?n=new yb(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):n=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{let i=this._state.withScrollPosition(e);this._smoothScrolling=yb.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}},$T=class{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}};function Z8(r,e){let t=e-r;return function(i){return r+t*tpe(i)}}function Jme(r,e,t){return function(i){return i<t?r(i/t):e((i-t)/(1-t))}}var yb=class{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let o,s;return e<t?(o=e+.75*i,s=t-.75*i):(o=e-.75*i,s=t+.75*i),Jme(Z8(e,o),Z8(s,t),.33)}return Z8(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){let t=(e-this.startTime)/this.duration;if(t<1){let i=this.scrollLeft(t),n=this.scrollTop(t);return new $T(i,n,!1)}return new $T(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return yb.start(e,t,i)}static start(e,t,i){i=i+10;let n=Date.now()-10;return new yb(e,t,n,i)}};function epe(r){return Math.pow(r,3)}function tpe(r){return 1-epe(1-r)}var ipe=500,UQ=50,HQ=!0,G8=class{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}},EL=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,n=this._rear;do{let o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}while(!0);return t<=.5}accept(e,t,i){let n=new G8(e,t,i);n.score=this._computeScore(n),this._front===-1&&this._rear===-1?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5,i=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};EL.INSTANCE=new EL;var IL=class extends Po{constructor(e,t,i){super(),this._onScroll=this._register(new B),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new B),e.style.overflow="hidden",this._options=npe(t),this._scrollable=i,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));let n={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new HT(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new UT(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=mt(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=mt(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=mt(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onmouseleave(this._listenOnDomNode,o=>this._onMouseLeave(o)),this._hideTimeout=this._register(new On),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=ft(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,at&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=ft(this._mouseWheelToDispose),e)){let i=n=>{this._onMouseWheel(new bc(n))};this._mouseWheelToDispose.push(ne(this._listenOnDomNode,ye.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){let t=EL.INSTANCE;if(HQ){let o=window.devicePixelRatio/x3();Ji||$i?t.accept(Date.now(),e.deltaX/o,e.deltaY/o):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(o)>=Math.abs(s)?s=0:o=0),this._options.flipAxes&&([o,s]=[s,o]);let a=!at&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);let l=this._scrollable.getFutureScrollPosition(),c={};if(o){let d=UQ*o,h=l.scrollTop-(d<0?Math.floor(d):Math.ceil(d));this._verticalScrollbar.writeScrollPosition(c,h)}if(s){let d=UQ*s,h=l.scrollLeft-(d<0?Math.floor(d):Math.ceil(d));this._horizontalScrollbar.writeScrollPosition(c,h)}c=this._scrollable.validateScrollPosition(c),(l.scrollLeft!==c.scrollLeft||l.scrollTop!==c.scrollTop)&&(HQ&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(c):this._scrollable.setScrollPositionNow(c),i=!0)}let n=i;!n&&this._options.alwaysConsumeMouseWheel&&(n=!0),!n&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(n=!0),n&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),ipe)}},dw=class extends IL{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let i=new Ld({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:n=>zs(n)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}},jm=class extends IL{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}},Tc=class extends IL{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;let i=new Ld({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:n=>zs(n)});super(e,t,i),this._register(i),this._element=e,this.onScroll(n=>{n.scrollTopChanged&&(this._element.scrollTop=n.scrollTop),n.scrollLeftChanged&&(this._element.scrollLeft=n.scrollLeft)}),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}};function npe(r){let e={lazyRender:typeof r.lazyRender<"u"?r.lazyRender:!1,className:typeof r.className<"u"?r.className:"",useShadows:typeof r.useShadows<"u"?r.useShadows:!0,handleMouseWheel:typeof r.handleMouseWheel<"u"?r.handleMouseWheel:!0,flipAxes:typeof r.flipAxes<"u"?r.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof r.consumeMouseWheelIfScrollbarIsNeeded<"u"?r.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof r.alwaysConsumeMouseWheel<"u"?r.alwaysConsumeMouseWheel:!1,scrollYToX:typeof r.scrollYToX<"u"?r.scrollYToX:!1,mouseWheelScrollSensitivity:typeof r.mouseWheelScrollSensitivity<"u"?r.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof r.fastScrollSensitivity<"u"?r.fastScrollSensitivity:5,scrollPredominantAxis:typeof r.scrollPredominantAxis<"u"?r.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof r.mouseWheelSmoothScroll<"u"?r.mouseWheelSmoothScroll:!0,arrowSize:typeof r.arrowSize<"u"?r.arrowSize:11,listenOnDomNode:typeof r.listenOnDomNode<"u"?r.listenOnDomNode:null,horizontal:typeof r.horizontal<"u"?r.horizontal:1,horizontalScrollbarSize:typeof r.horizontalScrollbarSize<"u"?r.horizontalScrollbarSize:10,horizontalSliderSize:typeof r.horizontalSliderSize<"u"?r.horizontalSliderSize:0,horizontalHasArrows:typeof r.horizontalHasArrows<"u"?r.horizontalHasArrows:!1,vertical:typeof r.vertical<"u"?r.vertical:1,verticalScrollbarSize:typeof r.verticalScrollbarSize<"u"?r.verticalScrollbarSize:10,verticalHasArrows:typeof r.verticalHasArrows<"u"?r.verticalHasArrows:!1,verticalSliderSize:typeof r.verticalSliderSize<"u"?r.verticalSliderSize:0,scrollByPage:typeof r.scrollByPage<"u"?r.scrollByPage:!1};return e.horizontalSliderSize=typeof r.horizontalSliderSize<"u"?r.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof r.verticalSliderSize<"u"?r.verticalSliderSize:e.verticalScrollbarSize,at&&(e.className+=" mac"),e}Ct();Ai();var KT=class extends Pn{constructor(e,t,i,n){super(e);let o=this._context.configuration.options,s=o.get(94),a=o.get(69),l=o.get(36),c=o.get(97),d={listenOnDomNode:i.domNode,className:"editor-scrollable "+Q_(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new jm(t.domNode,d,this._context.viewLayout.getScrollable())),_r.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=mt(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();let h=(u,f,m)=>{let _={};if(f){let v=u.scrollTop;v&&(_.scrollTop=this._context.viewLayout.getCurrentScrollTop()+v,u.scrollTop=0)}if(m){let v=u.scrollLeft;v&&(_.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+v,u.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(_,1)};this._register(ne(i.domNode,"scroll",u=>h(i.domNode,!0,!0))),this._register(ne(t.domNode,"scroll",u=>h(t.domNode,!0,!1))),this._register(ne(n.domNode,"scroll",u=>h(n.domNode,!0,!1))),this._register(ne(this.scrollbarDomNode.domNode,"scroll",u=>h(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){let e=this._context.configuration.options,t=e.get(133);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(67).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}onConfigurationChanged(e){if(e.hasChanged(94)||e.hasChanged(69)||e.hasChanged(36)){let t=this._context.configuration.options,i=t.get(94),n=t.get(69),o=t.get(36),s=t.get(97),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:o,scrollPredominantAxis:s};this.scrollbar.updateOptions(a)}return e.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+Q_(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}};Lt((r,e)=>{let t=r.getColor(kc);t&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${t} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${t} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${t} 6px 6px 6px -6px inset;
			}
		`);let i=r.getColor(Eh);i&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${i};
			}
		`);let n=r.getColor(Ih);n&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${n};
			}
		`);let o=r.getColor(Oh);o&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${o};
			}
		`)});var Wm=class{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}},Sb=class extends il{_render(e,t,i){let n=[];for(let a=e;a<=t;a++){let l=a-e;n[l]=[]}if(i.length===0)return n;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let o=null,s=0;for(let a=0,l=i.length;a<l;a++){let c=i[a],d=c.className,h=Math.max(c.startLineNumber,e)-e,u=Math.min(c.endLineNumber,t)-e;o===d?(h=Math.max(s+1,h),s=Math.max(s,u)):(o=d,s=u);for(let f=h;f<=s;f++)n[f].push(o)}return n}},qT=class extends Sb{constructor(e){super(),this._context=e;let t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(61),this._glyphMargin=t.get(52),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(61),this._glyphMargin=t.get(52),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.options.glyphMarginClassName;l&&(i[n++]=new Wm(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),s=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),l='" style="left:'+s+"px;width:"+a+"px;height:"+o+'px;"></div>',c=[];for(let d=t;d<=i;d++){let h=d-t,u=n[h];u.length===0?c[h]="":c[h]='<div class="cgmr codicon '+u.join(" ")+l}this._renderResult=c}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};La();Ct();rt();Ft();ti();Q8();ZT();var QT=class extends il{constructor(e){super(),this._context=e,this._primaryPosition=null;let t=this._context.configuration.options,i=t.get(134),n=t.get(46);this._lineHeight=t.get(61),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(134),n=t.get(46);return this._lineHeight=t.get(61),this._spaceWidth=n.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;let n=e.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(n)?!1:(this._primaryPosition=n,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,n,o;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}let s=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,c=this._lineHeight,d=this._primaryPosition,h=this.getGuidesByLine(s,a,d),u=[];for(let f=s;f<=a;f++){let m=f-s,_=h[m],v="",w=(i=(t=e.visibleRangeForPosition(new H(f,1)))===null||t===void 0?void 0:t.left)!==null&&i!==void 0?i:0;for(let y of _){let x=y.column===-1?w+(y.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new H(f,y.column)).left;if(x>l||this._maxIndentLeft>0&&x>this._maxIndentLeft)break;let k=y.horizontalLine?y.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",N=y.horizontalLine?((o=(n=e.visibleRangeForPosition(new H(f,y.horizontalLine.endColumn)))===null||n===void 0?void 0:n.left)!==null&&o!==void 0?o:x+this._spaceWidth)-x:this._spaceWidth;v+=`<div class="core-guide ${y.className} ${k}" style="left:${x}px;height:${c}px;width:${N}px"></div>`}u[m]=v}this._renderResult=u}getGuidesByLine(e,t,i){let n=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?vf.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?vf.EnabledForActive:vf.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,o=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null,s=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&i){let h=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);s=h.startLineNumber,a=h.endLineNumber,l=h.indent}let{indentSize:c}=this._context.viewModel.model.getOptions(),d=[];for(let h=e;h<=t;h++){let u=new Array;d.push(u);let f=n?n[h-e]:[],m=new Qc(f),_=o?o[h-e]:[];for(let v=1;v<=_;v++){let w=(v-1)*c+1,y=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||f.length===0)&&s<=h&&h<=a&&v===l;u.push(...m.takeWhile(k=>k.visibleColumn<w)||[]);let x=m.peek();(!x||x.visibleColumn!==w||x.horizontalLine)&&u.push(new Pc(w,-1,y?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}u.push(...m.takeWhile(v=>!0)||[])}return d}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};function XT(r){if(!(r&&r.isTransparent()))return r}Lt((r,e)=>{let t=r.getColor(ub);t&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${t} inset; }`);let i=r.getColor(fb)||t;i&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${i} inset; }`);let n=[{bracketColor:mT,guideColor:DQ,guideColorActive:TQ},{bracketColor:pT,guideColor:kQ,guideColorActive:PQ},{bracketColor:_T,guideColor:EQ,guideColorActive:AQ},{bracketColor:bT,guideColor:IQ,guideColorActive:MQ},{bracketColor:vT,guideColor:OQ,guideColorActive:RQ},{bracketColor:CT,guideColor:NQ,guideColorActive:FQ}],o=new OL,s=n.map(a=>{var l,c;let d=r.getColor(a.bracketColor),h=r.getColor(a.guideColor),u=r.getColor(a.guideColorActive),f=XT((l=XT(h))!==null&&l!==void 0?l:d?.transparent(.3)),m=XT((c=XT(u))!==null&&c!==void 0?c:d);if(!(!f||!m))return{guideColor:f,guideColorActive:m}}).filter(dY);if(s.length>0){for(let a=0;a<30;a++){let l=s[a%s.length];e.addRule(`.monaco-editor .${o.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${o.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${o.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${o.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});At();ot();rt();Le();var J8=class{constructor(){this._currentVisibleRange=new D(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}},eB=class{constructor(e,t,i,n,o,s,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=n,this.startScrollTop=o,this.stopScrollTop=s,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}},tB=class{constructor(e,t,i,n,o){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=n,this.scrollType=o,this.type="selections";let s=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,c=t.length;l<c;l++){let d=t[l];s=Math.min(s,d.startLineNumber),a=Math.max(a,d.endLineNumber)}this.minLineNumber=s,this.maxLineNumber=a}},xb=class extends Pn{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new aw(this),this.domNode=this._visibleLines.domNode;let i=this._context.configuration,n=this._context.configuration.options,o=n.get(46),s=n.get(134),a=n.get(133);this._lineHeight=n.get(61),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=n.get(91),this._horizontalScrollbarHeight=a.horizontalScrollbarHeight,this._cursorSurroundingLines=n.get(25),this._cursorSurroundingLinesStyle=n.get(26),this._canUseLayerHinting=!n.get(28),this._viewLineOptions=new pL(i,this._context.theme.type),_r.write(this.domNode,7),this.domNode.setClassName(`view-lines ${yd}`),In(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new pt(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new pt(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new J8,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new el(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(134)&&(this._maxLineWidth=0);let t=this._context.configuration.options,i=t.get(46),n=t.get(134),o=t.get(133);return this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(91),this._horizontalScrollbarHeight=o.horizontalScrollbarHeight,this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),In(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){let e=this._context.configuration,t=new pL(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;let i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=!1;for(let o=t;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n}onDecorationsChanged(e){{let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onDecorationsChanged()}return!0}onFlushed(e){let t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){let t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new eB(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new tB(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;let o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,o),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){let t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){let i=this._getViewLineDomNode(e);if(i===null)return null;let n=this._getLineNumberFor(i);if(n===-1||n<1||n>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(n)===1)return new H(n,1);let o=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(n<o||n>s)return null;let a=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t),l=this._context.viewModel.getLineMinColumn(n);return a<l&&(a=l),new H(n,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===el.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){let o=this._visibleLines.getVisibleLine(n);if(e===o.getDomNode())return n}return-1}getLineWidth(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;let i=e.endLineNumber,n=D.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;let o=[],s=0,a=new mL(this.domNode.domNode,this._textRangeRestingSpot),l=0;t&&(l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new H(n.startLineNumber,1)).lineNumber);let c=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let h=n.startLineNumber;h<=n.endLineNumber;h++){if(h<c||h>d)continue;let u=h===n.startLineNumber?n.startColumn:1,f=h===n.endLineNumber?n.endColumn:this._context.viewModel.getLineMaxColumn(h),m=this._visibleLines.getVisibleLine(h).getVisibleRangesForRange(h,u,f,a);if(!!m){if(t&&h<i){let _=l;l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new H(h+1,1)).lineNumber,_!==l&&(m.ranges[m.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[s++]=new tT(m.outsideRenderedLine,h,Pm.from(m.ranges))}}return s===0?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,new mL(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){let t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new iT(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){let t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=1,o=!0;for(let s=t;s<=i;s++){let a=this._visibleLines.getVisibleLine(s);if(e&&!a.getWidthIsFast()){o=!1;continue}n=Math.max(n,a.getWidth())}return o&&t===1&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1,i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++){let s=this._visibleLines.getVisibleLine(o);if(s.needsMonospaceFontCheck()){let a=s.getWidth();a>t&&(t=a,e=o)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=n;o++)this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){let i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();let n=this._computeScrollLeftToReveal(i);n&&(this._isViewportWrapping||this._ensureMaxLineWidth(n.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:n.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),$i&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){let i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++)if(this._visibleLines.getVisibleLine(o).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");let t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){let t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o,s){let a=e.top,l=e.height,c=a+l,d,h,u;if(o&&o.length>0){let _=o[0].startLineNumber,v=o[0].endLineNumber;for(let w=1,y=o.length;w<y;w++){let x=o[w];_=Math.min(_,x.startLineNumber),v=Math.max(v,x.endLineNumber)}d=!1,h=this._context.viewLayout.getVerticalOffsetForLineNumber(_),u=this._context.viewLayout.getVerticalOffsetForLineNumber(v)+this._lineHeight}else if(n)d=!0,h=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),u=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight;else return-1;if((t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default")i||(h-=this._lineHeight);else{let _=Math.min(l/this._lineHeight/2,this._cursorSurroundingLines);h-=_*this._lineHeight,u+=Math.max(0,_-1)*this._lineHeight}(s===0||s===4)&&(u+=i?this._horizontalScrollbarHeight:this._lineHeight);let m;if(u-h>l){if(!d)return-1;m=h}else if(s===5||s===6)if(s===6&&a<=h&&u<=c)m=a;else{let _=Math.max(5*this._lineHeight,l*.2),v=h-_,w=u-l;m=Math.max(w,v)}else if(s===1||s===2)if(s===2&&a<=h&&u<=c)m=a;else{let _=(h+u)/2;m=Math.max(0,_-l/2)}else m=this._computeMinimumScrolling(a,c,h,u,s===3,s===4);return m}_computeScrollLeftToReveal(e){let t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width,o=1073741824,s=0;if(e.type==="range"){let l=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!l)return null;for(let c of l.ranges)o=Math.min(o,Math.round(c.left)),s=Math.max(s,Math.round(c.left+c.width))}else for(let l of e.selections){if(l.startLineNumber!==l.endLineNumber)return null;let c=this._visibleRangesForLineRange(l.startLineNumber,l.startColumn,l.endColumn);if(!c)return null;for(let d of c.ranges)o=Math.min(o,Math.round(d.left)),s=Math.max(s,Math.round(d.left+d.width))}return e.minimalReveal||(o=Math.max(0,o-xb.HORIZONTAL_EXTRA_PX),s+=this._revealHorizontalRightPadding),e.type==="selections"&&s-o>t.width?null:{scrollLeft:this._computeMinimumScrolling(i,n,o,s),maxHorizontalOffset:s}}_computeMinimumScrolling(e,t,i,n,o,s){e=e|0,t=t|0,i=i|0,n=n|0,o=!!o,s=!!s;let a=t-e;if(n-i<a){if(o)return i;if(s)return Math.max(0,n-a);if(i<e)return i;if(n>t)return Math.max(0,n-a)}else return i;return e}};xb.HORIZONTAL_EXTRA_PX=30;var JT=class extends Sb{constructor(e){super(),this._context=e;let i=this._context.configuration.options.get(133);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let i=this._context.configuration.options.get(133);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.options.linesDecorationsClassName;l&&(i[n++]=new Wm(a.range.startLineNumber,a.range.endLineNumber,l));let c=a.options.firstLineDecorationClassName;c&&(i[n++]=new Wm(a.range.startLineNumber,a.range.startLineNumber,c))}return i}prepareRender(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._decorationsLeft.toString(),s=this._decorationsWidth.toString(),a='" style="left:'+o+"px;width:"+s+'px;"></div>',l=[];for(let c=t;c<=i;c++){let d=c-t,h=n[d],u="";for(let f=0,m=h.length;f<m;f++)u+='<div class="cldr '+h[f]+a;l[d]=u}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}};var eP=class extends Sb{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){let t=e.getDecorationsInViewport(),i=[],n=0;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=a.options.marginClassName;l&&(i[n++]=new Wm(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=[];for(let s=t;s<=i;s++){let a=s-t,l=n[a],c="";for(let d=0,h=l.length;d<h;d++)c+='<div class="cmdr '+l[d]+'" style=""></div>';o[a]=c}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}};Fe();se();At();Ye();Le();var ws=class{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=ws._clamp(e),this.g=ws._clamp(t),this.b=ws._clamp(i),this.a=ws._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}};ws.Empty=new ws(0,0,0,0);Oe();se();Un();var wf=class extends ${constructor(){super(),this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(ki.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=sI(new wf)),this._INSTANCE}_updateColorMap(){let e=ki.getColorMap();if(!e){this._colors=[ws.Empty],this._backgroundIsLight=!0;return}this._colors=[ws.Empty];for(let i=1;i<e.length;i++){let n=e[i].rgba;this._colors[i]=new ws(n.r,n.g,n.b,Math.round(n.a*255))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}};wf._INSTANCE=null;Ai();Ct();Ci();var $Q=(()=>{let r=[];for(let e=32;e<=126;e++)r.push(e);return r.push(65533),r})(),KQ=(r,e)=>(r-=32,r<0||r>96?e<=2?(r+96)%96:96-1:r);BS();var zm=class{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=zm.soften(e,12/15),this.charDataLight=zm.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=O_(e[n]*t);return i}renderChar(e,t,i,n,o,s,a,l,c,d,h){let u=1*this.scale,f=2*this.scale,m=h?1:f;if(t+u>e.width||i+m>e.height){console.warn("bad render request outside image data");return}let _=d?this.charDataLight:this.charDataNormal,v=KQ(n,c),w=e.width*4,y=a.r,x=a.g,k=a.b,N=o.r-y,M=o.g-x,I=o.b-k,O=Math.max(s,l),R=e.data,K=v*u*f,q=i*w+t*4;for(let te=0;te<m;te++){let ie=q;for(let xe=0;xe<u;xe++){let Ae=_[K++]/255*(s/255);R[ie++]=y+N*Ae,R[ie++]=x+M*Ae,R[ie++]=k+I*Ae,R[ie++]=O}q+=w}}blockRenderChar(e,t,i,n,o,s,a,l){let c=1*this.scale,d=2*this.scale,h=l?1:d;if(t+c>e.width||i+h>e.height){console.warn("bad render request outside image data");return}let u=e.width*4,f=.5*(o/255),m=s.r,_=s.g,v=s.b,w=n.r-m,y=n.g-_,x=n.b-v,k=m+w*f,N=_+y*f,M=v+x*f,I=Math.max(o,a),O=e.data,R=i*u+t*4;for(let K=0;K<h;K++){let q=R;for(let te=0;te<c;te++)O[q++]=k,O[q++]=N,O[q++]=M,O[q++]=I;R+=u}}};u_();var qQ={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},YQ=r=>{let e=new Uint8ClampedArray(r.length/2);for(let t=0;t<r.length;t+=2)e[t>>1]=qQ[r[t]]<<4|qQ[r[t+1]]&15;return e},iB={1:Ua(()=>YQ("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Ua(()=>YQ("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};BS();var Vm=class{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return iB[e]?i=new zm(iB[e](),e):i=Vm.createFromSampleData(Vm.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){let t=document.createElement("canvas"),i=t.getContext("2d");t.style.height=`${16}px`,t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold ${16}px ${e}`,i.textBaseline="middle";let n=0;for(let o of $Q)i.fillText(String.fromCharCode(o),n,16/2),n+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");let n=Vm._downsample(e,t);return new zm(n,t)}static _downsampleChar(e,t,i,n,o){let s=1*o,a=2*o,l=n,c=0;for(let d=0;d<a;d++){let h=d/a*16,u=(d+1)/a*16;for(let f=0;f<s;f++){let m=f/s*10,_=(f+1)/s*10,v=0,w=0;for(let x=h;x<u;x++){let k=t+Math.floor(x)*3840,N=1-(x-Math.floor(x));for(let M=m;M<_;M++){let I=1-(M-Math.floor(M)),O=k+Math.floor(M)*4,R=I*N;w+=R,v+=e[O]*e[O+3]/255*R}}let y=v/w;c=Math.max(c,y),i[l++]=O_(y)}}return c}static _downsample(e,t){let i=2*t*1*t,n=i*96,o=new Uint8ClampedArray(n),s=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,o,s,t)),s+=i,a+=10*4;if(l>0){let c=255/l;for(let d=0;d<n;d++)o[d]*=c}return o}};Rs();u_();var ope=140,rpe=2,kb=class{constructor(e,t,i){let n=e.options,o=n.get(131),s=n.get(133),a=s.minimap,l=n.get(46),c=n.get(67);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(96),this.showSlider=c.showSlider,this.autohide=c.autohide,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(61),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=s.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Ua(()=>Vm.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=kb._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=kb._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){let i=e.getColor(JX);return i?new ws(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){let t=e.getColor(eQ);return t?ws._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}},Db=class{constructor(e,t,i,n,o,s,a,l){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=s,this.startLineNumber=a,this.endLineNumber=l}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,o,s,a,l,c,d,h){let u=e.pixelRatio,f=e.minimapLineHeight,m=Math.floor(e.canvasInnerHeight/f),_=e.lineHeight;if(e.minimapHeightIsEditorHeight){let N=l*e.lineHeight+(e.scrollBeyondLastLine?o-e.lineHeight:0),M=Math.max(1,Math.floor(o*o/N)),I=Math.max(0,e.minimapHeight-M),O=I/(d-o),R=c*O,K=I>0,q=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new Db(c,d,K,O,R,M,1,Math.min(a,q))}let v;if(s&&i!==a){let N=i-t+1;v=Math.floor(N*f/u)}else{let N=o/_;v=Math.floor(N*f/u)}let w;e.scrollBeyondLastLine?w=(a-1)*f/u:w=Math.max(0,a*f/u-v),w=Math.min(e.minimapHeight-v,w);let y=w/(d-o),x=c*y,k=0;if(e.scrollBeyondLastLine&&(k=o/_-1),m>=a+k){let M=a,I=w>0;return new Db(c,d,I,y,x,v,1,M)}else{let N=Math.max(1,Math.floor(t-x*u/f));h&&h.scrollHeight===d&&(h.scrollTop>c&&(N=Math.min(N,h.startLineNumber)),h.scrollTop<c&&(N=Math.max(N,h.startLineNumber)));let M=Math.min(a,N+m-1),I=(c-n)/_,O=(t-N+I)*f/u;return new Db(c,d,!0,y,O,v,N,M)}}},uw=class{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}};uw.INVALID=new uw(-1);var tP=class{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new kL(()=>uw.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;let i=this._renderedLines._get().lines;for(let n=0,o=i.length;n<o;n++)if(i[n].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){let e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}},NL=class{constructor(e,t,i,n){this._backgroundFillData=NL._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;let e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){let n=i.r,o=i.g,s=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4),c=0;for(let d=0;d<t;d++)for(let h=0;h<e;h++)l[c]=n,l[c+1]=o,l[c+2]=s,l[c+3]=a,c+=4;return l}},Eb=class{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];let n=e.pixelRatio,o=e.lineHeight,s=e.scrollBeyondLastLine,{minimapLineCount:a}=zu.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:s,height:e.editorHeight,lineHeight:o,pixelRatio:n}),l=t/a,c=l/2;if(!i||i.minimapLines.length===0){let x=[];if(x[0]=1,a>1){for(let k=0,N=a-1;k<N;k++)x[k]=Math.round(k*l+c);x[a-1]=t}return[new Eb(l,x),[]]}let d=i.minimapLines,h=d.length,u=[],f=0,m=0,_=1,v=10,w=[],y=null;for(let x=0;x<a;x++){let k=Math.max(_,Math.round(x*l)),N=Math.max(k,Math.round((x+1)*l));for(;f<h&&d[f]<k;){if(w.length<v){let I=f+1+m;y&&y.type==="deleted"&&y._oldIndex===f-1?y.deleteToLineNumber++:(y={type:"deleted",_oldIndex:f,deleteFromLineNumber:I,deleteToLineNumber:I},w.push(y)),m--}f++}let M;if(f<h&&d[f]<=N)M=d[f],f++;else if(x===0?M=1:x+1===a?M=t:M=Math.round(x*l+c),w.length<v){let I=f+1+m;y&&y.type==="inserted"&&y._i===x-1?y.insertToLineNumber++:(y={type:"inserted",_i:x,insertFromLineNumber:I,insertToLineNumber:I},w.push(y)),m++}u[x]=M,_=M}if(w.length<v)for(;f<h;){let x=f+1+m;y&&y.type==="deleted"&&y._oldIndex===f-1?y.deleteToLineNumber++:(y={type:"deleted",_oldIndex:f,deleteFromLineNumber:x,deleteToLineNumber:x},w.push(y)),m--,f++}else w=[{type:"flush"}];return[new Eb(l,u),w]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){let o=this.minimapLines[i];if(o<e||o>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){let t=e.toLineNumber-e.fromLineNumber+1,i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){let t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}},iP=class extends Pn{constructor(e){super(e),this.tokensColorTracker=wf.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new kb(this._context.configuration,this._context.theme,this.tokensColorTracker);let[t]=Eb.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new fw(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){let e=new kb(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){let t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return t?this._actual.onLinesChanged(t[0],t[1]-t[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){let[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(let i of e.ranges){let n=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);n&&t.push({fromLineNumber:n[0],toLineNumber:n[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));let n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;let e=Boolean(this._samplingState),[t,i]=Eb.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(let n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let n=[];for(let o=0,s=t-e+1;o<s;o++)i[o]?n[o]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(let e of this._selections){let[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new ge(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){let o=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];i=new D(o,1,s,this._context.viewModel.getLineMaxColumn(s))}else i=new D(e,1,t,this._context.viewModel.getLineMaxColumn(t));let n=this._context.viewModel.getDecorationsInViewport(i);if(this._samplingState){let o=[];for(let s of n){if(!s.options.minimap)continue;let a=s.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),c=this._samplingState.modelLineToMinimapLine(a.endLineNumber);o.push(new fC(new D(l,a.startColumn,c,a.endColumn),s.options))}return o}return n}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new D(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}},fw=class extends ${constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(S8),this._domNode=mt(document.createElement("div")),_r.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=mt(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=mt(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=mt(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=mt(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=mt(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=Ti(this._domNode.domNode,ye.POINTER_DOWN,i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.button===0&&this._lastRenderData){let c=dn(this._slider.domNode),d=c.top+c.height/2;this._startSliderDragging(i,d,this._lastRenderData.renderedLayout)}return}let o=this._model.options.minimapLineHeight,s=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.offsetY,l=Math.floor(s/o)+this._lastRenderData.renderedLayout.startLineNumber;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderPointerMoveMonitor=new Pl,this._sliderPointerDownListener=Ti(this._slider.domNode,ye.POINTER_DOWN,i=>{i.preventDefault(),i.stopPropagation(),i.button===0&&this._lastRenderData&&this._startSliderDragging(i,i.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Yt.addTarget(this._domNode.domNode),this._sliderTouchStartListener=ne(this._domNode.domNode,mi.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=ne(this._domNode.domNode,mi.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=Ti(this._domNode.domNode,mi.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i){if(!e.target||!(e.target instanceof Element))return;let n=e.pageX;this._slider.toggleClassName("active",!0);let o=(s,a)=>{let l=Math.abs(a-n);if(Ji&&l>ope){this._model.setScrollTop(i.scrollTop);return}let c=s-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(c))};e.pageY!==t&&o(e.pageY,n),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>o(s.pageY,s.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){let t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){let e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new NL(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(S8),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");let i=Db.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;let t=this._model.getSelections();t.sort(D.compareRangesUsingStarts);let i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((u,f)=>(u.options.zIndex||0)-(f.options.zIndex||0));let{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,s=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,n,o);let d=new nP(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,d,e,s),this._renderDecorationsLineHighlights(c,i,d,e,s);let h=new nP(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,h,e,s,l,a,n),this._renderDecorationsHighlights(c,i,h,e,s,l,a,n)}}_renderSelectionLineHighlights(e,t,i,n,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let s=0,a=0;for(let l of t){let c=Math.max(n.startLineNumber,l.startLineNumber),d=Math.min(n.endLineNumber,l.endLineNumber);if(c>d)continue;for(let f=c;f<=d;f++)i.set(f,!0);let h=(c-n.startLineNumber)*o,u=(d-n.startLineNumber)*o+o;a>=h||(a>s&&e.fillRect(Uu,s,e.canvas.width,a-s),s=h),a=u}a>s&&e.fillRect(Uu,s,e.canvas.width,a-s)}_renderDecorationsLineHighlights(e,t,i,n,o){let s=new Map;for(let a=t.length-1;a>=0;a--){let l=t[a],c=l.options.minimap;if(!c||c.position!==is.Inline)continue;let d=Math.max(n.startLineNumber,l.range.startLineNumber),h=Math.min(n.endLineNumber,l.range.endLineNumber);if(d>h)continue;let u=c.getColor(this._theme.value);if(!u||u.isTransparent())continue;let f=s.get(u.toString());f||(f=u.transparent(.5).toString(),s.set(u.toString(),f)),e.fillStyle=f;for(let m=d;m<=h;m++){if(i.has(m))continue;i.set(m,!0);let _=(d-n.startLineNumber)*o;e.fillRect(Uu,_,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,n,o,s,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(let c of t){let d=Math.max(n.startLineNumber,c.startLineNumber),h=Math.min(n.endLineNumber,c.endLineNumber);if(!(d>h))for(let u=d;u<=h;u++)this.renderDecorationOnLine(e,i,c,this._selectionColor,n,u,o,o,s,a,l)}}_renderDecorationsHighlights(e,t,i,n,o,s,a,l){for(let c of t){let d=c.options.minimap;if(!d)continue;let h=Math.max(n.startLineNumber,c.range.startLineNumber),u=Math.min(n.endLineNumber,c.range.endLineNumber);if(h>u)continue;let f=d.getColor(this._theme.value);if(!(!f||f.isTransparent()))for(let m=h;m<=u;m++)switch(d.position){case is.Inline:this.renderDecorationOnLine(e,i,c.range,f,n,m,o,o,s,a,l);continue;case is.Gutter:{let _=(m-n.startLineNumber)*o,v=2;this.renderDecoration(e,f,v,_,rpe,o);continue}}}}renderDecorationOnLine(e,t,i,n,o,s,a,l,c,d,h){let u=(s-o.startLineNumber)*l;if(u+a<0||u>this._model.options.canvasInnerHeight)return;let{startLineNumber:f,endLineNumber:m}=i,_=f===s?i.startColumn:1,v=m===s?i.endColumn:this._model.getLineMaxColumn(s),w=this.getXOffsetForPosition(t,s,_,c,d,h),y=this.getXOffsetForPosition(t,s,v,c,d,h);this.renderDecoration(e,n,w,u,y-w,a)}getXOffsetForPosition(e,t,i,n,o,s){if(i===1)return Uu;if((i-1)*o>=s)return s;let l=e.get(t);if(!l){let c=this._model.getLineContent(t);l=[Uu];let d=Uu;for(let h=1;h<c.length+1;h++){let u=c.charCodeAt(h-1),f=u===9?n*o:yl(u)?2*o:o,m=d+f;if(m>=s){l[h]=s;break}l[h]=m,d=m}e.set(t,l)}return i-1<l.length?l[i-1]:s}renderDecoration(e,t,i,n,o,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,s)}renderLines(e){let t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){let Ae=this._lastRenderData._get();return new tP(e,Ae.imageData,Ae.lines)}let o=this._getBuffer();if(!o)return null;let[s,a,l]=fw._renderUntouchedLines(o,t,i,n,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),d=this._model.getOptions().tabSize,h=this._model.options.defaultBackgroundColor,u=this._model.options.backgroundColor,f=this._model.options.foregroundAlpha,m=this._model.tokensColorTracker,_=m.backgroundIsLight(),v=this._model.options.renderMinimap,w=this._model.options.charRenderer(),y=this._model.options.fontScale,x=this._model.options.minimapCharWidth,N=(v===1?2:2+1)*y,M=n>N?Math.floor((n-N)/2):0,I=u.a/255,O=new ws(Math.round((u.r-h.r)*I+h.r),Math.round((u.g-h.g)*I+h.g),Math.round((u.b-h.b)*I+h.b),255),R=0,K=[];for(let Ae=0,Re=i-t+1;Ae<Re;Ae++)l[Ae]&&fw._renderLine(o,O,u.a,_,v,x,m,f,w,R,M,d,c[Ae],y,n),K[Ae]=new uw(R),R+=n;let q=s===-1?0:s,ie=(a===-1?o.height:a)-q;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,q,o.width,ie),new tP(e,o,K)}static _renderUntouchedLines(e,t,i,n,o){let s=[];if(!o){for(let O=0,R=i-t+1;O<R;O++)s[O]=!0;return[-1,-1,s]}let a=o._get(),l=a.imageData.data,c=a.rendLineNumberStart,d=a.lines,h=d.length,u=e.width,f=e.data,m=(i-t+1)*n*u*4,_=-1,v=-1,w=-1,y=-1,x=-1,k=-1,N=0;for(let O=t;O<=i;O++){let R=O-t,K=O-c,q=K>=0&&K<h?d[K].dy:-1;if(q===-1){s[R]=!0,N+=n;continue}let te=q*u*4,ie=(q+n)*u*4,xe=N*u*4,Ae=(N+n)*u*4;y===te&&k===xe?(y=ie,k=Ae):(w!==-1&&(f.set(l.subarray(w,y),x),_===-1&&w===0&&w===x&&(_=y),v===-1&&y===m&&w===x&&(v=w)),w=te,y=ie,x=xe,k=Ae),s[R]=!1,N+=n}w!==-1&&(f.set(l.subarray(w,y),x),_===-1&&w===0&&w===x&&(_=y),v===-1&&y===m&&w===x&&(v=w));let M=_===-1?-1:_/(u*4),I=v===-1?-1:v/(u*4);return[M,I,s]}static _renderLine(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_){let v=f.content,w=f.tokens,y=e.width-s,x=_===1,k=Uu,N=0,M=0;for(let I=0,O=w.getCount();I<O;I++){let R=w.getEndOffset(I),K=w.getForeground(I),q=a.getColor(K);for(;N<R;N++){if(k>y)return;let te=v.charCodeAt(N);if(te===9){let ie=u-(N+M)%u;M+=ie-1,k+=ie*s}else if(te===32)k+=s;else{let ie=yl(te)?2:1;for(let xe=0;xe<ie;xe++)if(o===2?c.blockRenderChar(e,k,d+h,q,l,t,i,x):c.renderChar(e,k,d+h,te,q,l,t,i,m,n,x),k+=s,k>y)return}}}}},nP=class{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let n=0,o=this._endLineNumber-this._startLineNumber+1;n<o;n++)this._values[n]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}};Lt((r,e)=>{let t=r.getColor(tQ);t&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${t}; }`);let i=r.getColor(iQ);i&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${i}; }`);let n=r.getColor(nQ);n&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${n}; }`);let o=r.getColor(kc);o&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${o} -6px 0 6px -6px inset; }`)});var oP=class extends Pn{constructor(e){super(e);let i=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,this._domNode=mt(document.createElement("div")),_r.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){let i=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){let t=mt(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){let i=this._widgets[e.getId()];return i.preference===t?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){let t=e.getId();if(this._widgets.hasOwnProperty(t)){let n=this._widgets[t].domNode.domNode;delete this._widgets[t],n.parentNode.removeChild(n),this.setShouldRender()}}_renderWidget(e){let t=e.domNode;if(e.preference===null){t.setTop("");return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){let i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(t.setTop(0),t.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);let t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++){let o=t[i];this._renderWidget(this._widgets[o])}}};ho();rt();Un();La();var nB=class{constructor(e,t){let i=e.options;this.lineHeight=i.get(61),this.pixelRatio=i.get(131),this.overviewRulerLanes=i.get(76),this.renderBorder=i.get(75);let n=t.getColor(mQ);this.borderColor=n?n.toString():null,this.hideCursor=i.get(54);let o=t.getColor(uT);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;let s=i.get(67),a=s.enabled,l=s.side,c=t.getColor(pQ),d=ki.getDefaultBackground(),h=null;c!==void 0?h=c:a&&(h=d),h===null||l==="left"?this.backgroundColor=null:this.backgroundColor=Z.Format.CSS.formatHex(h);let f=i.get(133).overviewRuler;this.top=f.top,this.right=f.right,this.domWidth=f.width,this.domHeight=f.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);let[m,_]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=m,this.w=_}_initLanes(e,t,i){let n=t-e;if(i>=3){let o=Math.floor(n/3),s=Math.floor(n/3),a=n-o-s,l=e,c=l+o,d=l+o+a;return[[0,l,c,l,d,l,c,l],[0,o,a,o+a,s,o+a+s,a+s,o+a+s]]}else if(i===2){let o=Math.floor(n/2),s=n-o,a=e,l=a+o;return[[0,a,a,a,l,a,a,a],[0,o,o,o,s,o+s,o+s,o+s]]}else{let o=e,s=n;return[[0,o,o,o,o,o,o,o],[0,s,s,s,s,s,s,s]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}},rP=class extends Pn{constructor(e){super(e),this._domNode=mt(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=ki.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){let t=new nB(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(H.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");let e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,o=this._context.viewLayout.getScrollHeight(),s=t/o,a=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,c=l/2|0,d=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?d.clearRect(0,0,e,t):(d.fillStyle=this._settings.backgroundColor,d.fillRect(0,0,e,t));let h=this._settings.x,u=this._settings.w;a.sort(gC.cmp);for(let f of a){let m=f.color,_=f.data;d.fillStyle=m;let v=0,w=0,y=0;for(let x=0,k=_.length/3;x<k;x++){let N=_[3*x],M=_[3*x+1],I=_[3*x+2],O=n.getVerticalOffsetForLineNumber(M)*s|0,R=(n.getVerticalOffsetForLineNumber(I)+i)*s|0;if(R-O<l){let q=(O+R)/2|0;q<c?q=c:q+c>t&&(q=t-c),O=q-c,R=q+c}O>y+1||N!==v?(x!==0&&d.fillRect(h[v],w,u[v],y-w),v=N,w=O,y=R):R>y&&(y=R)}d.fillRect(h[v],w,u[v],y-w)}if(!this._settings.hideCursor&&this._settings.cursorColor){let f=2*this._settings.pixelRatio|0,m=f/2|0,_=this._settings.x[7],v=this._settings.w[7];d.fillStyle=this._settings.cursorColor;let w=-100,y=-100;for(let x=0,k=this._cursorPositions.length;x<k;x++){let N=this._cursorPositions[x],M=n.getVerticalOffsetForLineNumber(N.lineNumber)*s|0;M<m?M=m:M+m>t&&(M=t-m);let I=M-m,O=I+f;I>y+1?(x!==0&&d.fillRect(_,w,v,y-w),w=I,y=O):O>y&&(y=O)}d.fillRect(_,w,v,y-w)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(d.beginPath(),d.lineWidth=1,d.strokeStyle=this._settings.borderColor,d.moveTo(0,0),d.lineTo(0,t),d.stroke(),d.moveTo(0,0),d.lineTo(e,0),d.stroke())}};var sP=class{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}},Um=class{constructor(e,t,i,n){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}},aP=class{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Um.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){let e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=Math.floor(this._outerHeight),o=i/n,s=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){let d=this._zones[l];if(!e){let k=d.getColorZones();if(k){a.push(k);continue}}let h=this._getVerticalOffsetForLine(d.startLineNumber),u=d.heightInLines===0?this._getVerticalOffsetForLine(d.endLineNumber)+t:h+d.heightInLines*t,f=Math.floor(o*h),m=Math.floor(o*u),_=Math.floor((f+m)/2),v=m-_;v<s&&(v=s),_-v<0&&(_=v),_+v>i&&(_=i-v);let w=d.color,y=this._color2Id[w];y||(y=++this._lastAssignedId,this._color2Id[w]=y,this._id2Color[y]=w);let x=new sP(_-v,_+v,y);d.setColorZone(x),a.push(x)}return this._colorZonesInvalid=!1,a.sort(sP.compare),a}};var lP=class extends Ic{constructor(e,t){super(),this._context=e;let i=this._context.configuration.options;this._domNode=mt(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new aP(n=>this._context.viewLayout.getVerticalOffsetForLineNumber(n)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(61)),this._zoneManager.setPixelRatio(i.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return e.hasChanged(61)&&(this._zoneManager.setLineHeight(t.get(61)),this._render()),e.hasChanged(131)&&(this._zoneManager.setPixelRatio(t.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;let e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,s=0,a=0;for(let l of t){let c=l.colorId,d=l.from,h=l.to;c!==o?(e.fillRect(0,s,n,a-s),o=c,e.fillStyle=i[o],s=d,a=h):a>=d?a=Math.max(a,h):(e.fillRect(0,s,n,a-s),s=d,a=h)}e.fillRect(0,s,n,a-s)}};La();Ct();var cP=class extends Pn{constructor(e){super(e),this.domNode=mt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];let t=this._context.configuration.options;this._rulers=t.get(93),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return this._rulers=t.get(93),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){let e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){let{tabSize:n}=this._context.viewModel.model.getOptions(),o=n,s=t-e;for(;s>0;){let a=mt(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(o),this.domNode.appendChild(a),this._renderedRulers.push(a),s--}return}let i=e-t;for(;i>0;){let n=this._renderedRulers.pop();this.domNode.removeChild(n),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){let n=this._renderedRulers[t],o=this._rulers[t];n.setBoxShadow(o.color?`1px 0 0 0 ${o.color} inset`:""),n.setHeight(Math.min(e.scrollHeight,1e6)),n.setLeft(o.column*this._typicalHalfwidthCharacterWidth)}}};Lt((r,e)=>{let t=r.getColor(fQ);t&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${t} inset; }`)});Ai();Ct();var dP=class extends Pn{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;let i=this._context.configuration.options.get(94);this._useShadows=i.useShadows,this._domNode=mt(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){let e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){let t=this._context.configuration.options.get(133);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.verticalScrollbarWidth}onConfigurationChanged(e){let i=this._context.configuration.options.get(94);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}};Lt((r,e)=>{let t=r.getColor(kc);t&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${t} 0 6px 6px -6px inset; }`)});Ai();Ct();var oB=class{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}},rB=class{constructor(e,t){this.lineNumber=e,this.ranges=t}};function spe(r){return new oB(r)}function ape(r){return new rB(r.lineNumber,r.ranges.map(spe))}var Sn=class extends il{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;let t=this._context.configuration.options;this._lineHeight=t.get(61),this._roundedSelection=t.get(92),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){let t=this._context.configuration.options;return this._lineHeight=t.get(61),this._roundedSelection=t.get(92),this._typicalHalfwidthCharacterWidth=t.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){let n=this._typicalHalfwidthCharacterWidth/4,o=null,s=null;if(i&&i.length>0&&t.length>0){let a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!o&&c<i.length;c++)i[c].lineNumber===a&&(o=i[c].ranges[0]);let l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!s&&c>=0;c--)i[c].lineNumber===l&&(s=i[c].ranges[0]);o&&!o.startStyle&&(o=null),s&&!s.startStyle&&(s=null)}for(let a=0,l=t.length;a<l;a++){let c=t[a].ranges[0],d=c.left,h=c.left+c.width,u={top:0,bottom:0},f={top:0,bottom:0};if(a>0){let m=t[a-1].ranges[0].left,_=t[a-1].ranges[0].left+t[a-1].ranges[0].width;hP(d-m)<n?u.top=2:d>m&&(u.top=1),hP(h-_)<n?f.top=2:m<h&&h<_&&(f.top=1)}else o&&(u.top=o.startStyle.top,f.top=o.endStyle.top);if(a+1<l){let m=t[a+1].ranges[0].left,_=t[a+1].ranges[0].left+t[a+1].ranges[0].width;hP(d-m)<n?u.bottom=2:m<d&&d<_&&(u.bottom=1),hP(h-_)<n?f.bottom=2:h<_&&(f.bottom=1)}else s&&(u.bottom=s.startStyle.bottom,f.bottom=s.endStyle.bottom);c.startStyle=u,c.endStyle=f}}_getVisibleRangesWithStyle(e,t,i){let o=(t.linesVisibleRangesForRange(e,!0)||[]).map(ape);return!this._visibleRangesHaveGaps(o)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,o,i),o}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(n.length===0)return;let o=!!n[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=n[0].lineNumber,c=n[n.length-1].lineNumber;for(let d=0,h=n.length;d<h;d++){let u=n[d],f=u.lineNumber,m=f-t,_=i&&(f===c||f===l)?a:s,v=i&&f===l?1:0,w="",y="";for(let x=0,k=u.ranges.length;x<k;x++){let N=u.ranges[x];if(o){let I=N.startStyle,O=N.endStyle;if(I.top===1||I.bottom===1){w+=this._createSelectionPiece(v,_,Sn.SELECTION_CLASS_NAME,N.left-Sn.ROUNDED_PIECE_WIDTH,Sn.ROUNDED_PIECE_WIDTH);let R=Sn.EDITOR_BACKGROUND_CLASS_NAME;I.top===1&&(R+=" "+Sn.SELECTION_TOP_RIGHT),I.bottom===1&&(R+=" "+Sn.SELECTION_BOTTOM_RIGHT),w+=this._createSelectionPiece(v,_,R,N.left-Sn.ROUNDED_PIECE_WIDTH,Sn.ROUNDED_PIECE_WIDTH)}if(O.top===1||O.bottom===1){w+=this._createSelectionPiece(v,_,Sn.SELECTION_CLASS_NAME,N.left+N.width,Sn.ROUNDED_PIECE_WIDTH);let R=Sn.EDITOR_BACKGROUND_CLASS_NAME;O.top===1&&(R+=" "+Sn.SELECTION_TOP_LEFT),O.bottom===1&&(R+=" "+Sn.SELECTION_BOTTOM_LEFT),w+=this._createSelectionPiece(v,_,R,N.left+N.width,Sn.ROUNDED_PIECE_WIDTH)}}let M=Sn.SELECTION_CLASS_NAME;if(o){let I=N.startStyle,O=N.endStyle;I.top===0&&(M+=" "+Sn.SELECTION_TOP_LEFT),I.bottom===0&&(M+=" "+Sn.SELECTION_BOTTOM_LEFT),O.top===0&&(M+=" "+Sn.SELECTION_TOP_RIGHT),O.bottom===0&&(M+=" "+Sn.SELECTION_BOTTOM_RIGHT)}y+=this._createSelectionPiece(v,_,M,N.left,N.width)}e[m][0]+=w,e[m][1]+=y}}prepareRender(e){let t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let s=i;s<=n;s++){let a=s-i;t[a]=["",""]}let o=[];for(let s=0,a=this._selections.length;s<a;s++){let l=this._selections[s];if(l.isEmpty()){o[s]=null;continue}let c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[s]);o[s]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map(([s,a])=>s+a)}render(e,t){if(!this._renderResult)return"";let i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}};Sn.SELECTION_CLASS_NAME="selected-text";Sn.SELECTION_TOP_LEFT="top-left-radius";Sn.SELECTION_BOTTOM_LEFT="bottom-left-radius";Sn.SELECTION_TOP_RIGHT="top-right-radius";Sn.SELECTION_BOTTOM_RIGHT="bottom-right-radius";Sn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";Sn.ROUNDED_PIECE_WIDTH=10;Lt((r,e)=>{let t=r.getColor(_d);t&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);let i=r.getColor(hL);i&&e.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);let n=r.getColor(eX);n&&!n.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${n}; }`)});function hP(r){return r<0?-r:r}ot();Fe();Ye();rt();Le();var uP=class{constructor(e,t,i,n,o,s){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=o,this.textContentClassName=s}},TL=class{constructor(e){this._context=e;let t=this._context.configuration.options,i=t.get(46);this._cursorStyle=t.get(24),this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=mt(document.createElement("div")),this._domNode.setClassName(`cursor ${yd}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),In(this._domNode,i),this._domNode.setDisplay("none"),this._position=new H(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(46);return this._cursorStyle=t.get(24),this._lineHeight=t.get(61),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),In(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_getGraphemeAwarePosition(){let{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[n,o]=VY(i,t-1);return[new H(e,n+1),i.substring(n,o)]}_prepareRender(e){let t="",[i,n]=this._getGraphemeAwarePosition();if(this._cursorStyle===ko.Line||this._cursorStyle===ko.LineThin){let u=e.visibleRangeForPosition(i);if(!u||u.outsideRenderedLine)return null;let f;this._cursorStyle===ko.Line?(f=i8(this._lineCursorWidth>0?this._lineCursorWidth:2),f>2&&(t=n)):f=i8(1);let m=u.left;f>=2&&m>=1&&(m-=1);let _=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta;return new uP(_,m,f,this._lineHeight,t,"")}let o=e.linesVisibleRangesForRange(new D(i.lineNumber,i.column,i.lineNumber,i.column+n.length),!1);if(!o||o.length===0)return null;let s=o[0];if(s.outsideRenderedLine||s.ranges.length===0)return null;let a=s.ranges[0],l=n==="	"?this._typicalHalfwidthCharacterWidth:a.width<1?this._typicalHalfwidthCharacterWidth:a.width,c="";if(this._cursorStyle===ko.Block){let u=this._context.viewModel.getViewLineData(i.lineNumber);t=n;let f=u.tokens.findTokenIndexAtOffset(i.column-1);c=u.tokens.getClassName(f)}let d=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.bigNumbersDelta,h=this._lineHeight;return(this._cursorStyle===ko.Underline||this._cursorStyle===ko.UnderlineThin)&&(d+=this._lineHeight-2,h=2),new uP(d,a.left,l,h,t,c)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${yd} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}};La();Ct();Tl();var Hm=class extends Pn{constructor(e){super(e);let t=this._context.configuration.options;this._readOnly=t.get(83),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new TL(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=mt(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new On,this._cursorFlatBlinkInterval=new od,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){let t=this._context.configuration.options;this._readOnly=t.get(83),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){let i=t.length-this._secondaryCursors.length;for(let n=0;n<i;n++){let o=new TL(this._context);this._domNode.domNode.insertBefore(o.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(o)}}else if(this._secondaryCursors.length>t.length){let i=this._secondaryCursors.length-t.length;for(let n=0;n<i;n++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){let t=[];for(let n=0,o=e.selections.length;n<o;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));let i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){let t=i=>{for(let n=0,o=e.ranges.length;n<o;n++)if(e.ranges[n].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(let i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();let e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Hm.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Hm.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case ko.Line:e+=" cursor-line-style";break;case ko.Block:e+=" cursor-block-style";break;case ko.Underline:e+=" cursor-underline-style";break;case ko.LineThin:e+=" cursor-line-thin-style";break;case ko.BlockOutline:e+=" cursor-block-outline-style";break;case ko.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0,n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let o=0,s=this._secondaryCursors.length;o<s;o++){let a=this._secondaryCursors[o].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}};Hm.BLINK_INTERVAL=500;Lt((r,e)=>{let t=r.getColor(uT);if(t){let i=r.getColor(hQ);i||(i=t.opposite()),e.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${t}; }`),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),Qn(r.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});ut();rt();var sB=()=>{throw new Error("Invalid change accessor")},fP=class extends Pn{constructor(e){super(e);let t=this._context.configuration.options,i=t.get(133);this._lineHeight=t.get(61),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=mt(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=mt(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){let e=this._context.viewLayout.getWhitespaces(),t=new Map;for(let n of e)t.set(n.id,n);let i=!1;return this._context.viewModel.changeWhitespace(n=>{let o=Object.keys(this._zones);for(let s=0,a=o.length;s<a;s++){let l=o[s],c=this._zones[l],d=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=d.isInHiddenArea;let h=t.get(l);h&&(h.afterLineNumber!==d.afterViewLineNumber||h.height!==d.heightInPx)&&(n.changeOneWhitespace(l,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(c.delegate,d.heightInPx),i=!0)}}),i}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(133);return this._lineHeight=t.get(61),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn<"u"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn<"u")t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{let s=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new H(s,this._context.viewModel.model.getLineMaxColumn(s))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});let n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity),o=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace(i=>{let n={addZone:o=>(t=!0,this._addZone(i,o)),removeZone:o=>{!o||(t=this._removeZone(i,o)||t)},layoutZone:o=>{!o||(t=this._layoutZone(i,o)||t)}};lpe(e,n),n.addZone=sB,n.removeZone=sB,n.layoutZone=sB}),t}_addZone(e,t){let i=this._computeWhitespaceProps(t),o={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:mt(t.domNode),marginDomNode:t.marginDomNode?mt(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){let i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){let i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=n.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){let t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){Pe(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){Pe(i)}}prepareRender(e){}render(e){let t=e.viewportData.whitespaceViewportData,i={},n=!1;for(let s of t)this._zones[s.id].isInHiddenArea||(i[s.id]=s,n=!0);let o=Object.keys(this._zones);for(let s=0,a=o.length;s<a;s++){let l=o[s],c=this._zones[l],d=0,h=0,u="none";i.hasOwnProperty(l)?(d=i[l].verticalOffset-e.bigNumbersDelta,h=i[l].height,u="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(d),c.domNode.setHeight(h),c.domNode.setDisplay(u),c.marginDomNode&&(c.marginDomNode.setTop(d),c.marginDomNode.setHeight(h),c.marginDomNode.setDisplay(u))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}};function lpe(r,e){try{return r(e)}catch(t){Pe(t)}}rt();Le();var gP=class{constructor(e){this._theme=e}get type(){return this._theme.type}get value(){return this._theme}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}};var mP=class{constructor(e,t,i){this.configuration=e,this.theme=new gP(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}};Le();var pP=class{constructor(e,t,i,n){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new D(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}};Ct();var _P=class extends Pn{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.domNode=mt(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1,i=this._context.configuration.options.get(133),n=i.contentWidth-i.verticalScrollbarWidth;return this.contentWidth!==n&&(this.contentWidth=n,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){let t=0,i=e.getDecorationsInViewport();for(let n of i){if(!n.options.blockClassName)continue;let o=this.blocks[t];o||(o=this.blocks[t]=mt(document.createElement("div")),this.domNode.appendChild(o));let s=e.getVerticalOffsetForLineNumber(n.range.startLineNumber),a=e.getVerticalOffsetForLineNumber(n.range.endLineNumber+1);o.setClassName("blockDecorations-block "+n.options.blockClassName),o.setLeft(e.scrollLeft),o.setWidth(this.contentWidth),o.setTop(s),o.setHeight(a-s),t++}for(let n=t;n<this.blocks.length;n++)this.blocks[n].domNode.remove();this.blocks.length=t}};var bP=class extends Ic{constructor(e,t,i,n,o,s){super(),this._selections=[new ge(1,1,1,1)],this._renderAnimationFrame=null;let a=new TT(t,n,o,e);this._context=new mP(t,i,n),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new wT(this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=mt(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=mt(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=mt(document.createElement("div")),_r.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new KT(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new xb(this._context,this._linesContent),this._viewZones=new fP(this._context),this._viewParts.push(this._viewZones);let l=new rP(this._context);this._viewParts.push(l);let c=new dP(this._context);this._viewParts.push(c);let d=new AT(this._context);this._viewParts.push(d),d.addDynamicOverlay(new BT(this._context)),d.addDynamicOverlay(new Sn(this._context)),d.addDynamicOverlay(new QT(this._context)),d.addDynamicOverlay(new WT(this._context));let h=new MT(this._context);this._viewParts.push(h),h.addDynamicOverlay(new jT(this._context)),h.addDynamicOverlay(new qT(this._context)),h.addDynamicOverlay(new eP(this._context)),h.addDynamicOverlay(new JT(this._context)),h.addDynamicOverlay(new Rh(this._context));let u=new wd(this._context);u.getDomNode().appendChild(this._viewZones.marginDomNode),u.getDomNode().appendChild(h.getDomNode()),this._viewParts.push(u),this._contentWidgets=new RT(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Hm(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new oP(this._context),this._viewParts.push(this._overlayWidgets);let f=new cP(this._context);this._viewParts.push(f);let m=new _P(this._context);this._viewParts.push(m);let _=new iP(this._context);if(this._viewParts.push(_),l){let v=this._scrollbar.getOverviewRulerLayoutInfo();v.parent.insertBefore(l.getDomNode(),v.insertBefore)}this._linesContent.appendChild(d.getDomNode()),this._linesContent.appendChild(f.domNode),this._linesContent.appendChild(m.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(u.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(c.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(_.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),s?s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new cT(this._context,a,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{let e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new rT(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new H(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){let t=this._context.configuration.options.get(133);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){let e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+Q_(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=J7(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){cpe(()=>this._actualRender())}_getViewPartsToRender(){let e=[],t=0;for(let i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!vC(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;let t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);let i=new pP(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());let n=new eT(this._context.viewLayout,i,this._viewLines);for(let o of e)o.prepareRender(n);for(let o of e)o.render(n),o.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){let i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),n=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();let o=this._viewLines.visibleRangeForPosition(new H(n.lineNumber,n.column));return o?o.left:-1}getTargetAtClientPoint(e,t){let i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?Fm.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new lP(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(let i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i;let n=e.position&&e.position.range||null;if(n===null){let s=e.position?e.position.position:null;s!==null&&(n=new D(s.lineNumber,s.column,s.lineNumber,s.column))}let o=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,n,o,(i=(t=e.position)===null||t===void 0?void 0:t.positionAffinity)!==null&&i!==void 0?i:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){let t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}};function cpe(r){try{return r()}catch(e){Pe(e)}}ut();Ye();Ft();rt();Le();Ci();var Ib=class{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new $n(new D(1,1,1,1),0,new H(1,1),0),new $n(new D(1,1,1,1),0,new H(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){!this._trackSelection||(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Pt(this.modelState,this.viewState)}readSelectionFromMarkers(e){let t=e.model._getTrackedRange(this._selTrackedRange);return ge.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){let i=t.position,n=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),s=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,n,i,s),l=this._validatePositionWithCache(e,o,n,a);return i.equals(s)&&n.equals(a)&&o.equals(l)?t:new $n(D.fromPositions(a,l),t.selectionStartLeftoverVisibleColumns+n.column-a.column,s,t.leftoverVisibleColumns+i.column-s.column)}_setState(e,t,i){if(i&&(i=Ib._validateViewState(e.viewModel,i)),t){let n=e.model.validateRange(t.selectionStart),o=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,s=e.model.validatePosition(t.position),a=t.position.equals(s)?t.leftoverVisibleColumns:0;t=new $n(n,o,s,a)}else{if(!i)return;let n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new $n(n,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){let n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new $n(n,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{let n=e.coordinatesConverter.convertModelPositionToViewPosition(new H(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new H(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new D(n.lineNumber,n.column,o.lineNumber,o.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new $n(s,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}};rt();Le();Ci();var PL=class{constructor(e){this.context=e,this.cursors=[new Ib(e)],this.lastAddedCursorIndex=0}dispose(){for(let e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(let e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(let e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(let e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return lY(this.cursors,Fg(e=>e.viewState.position,H.compare)).viewState.position}getBottomMostViewPosition(){return qE(this.cursors,Fg(e=>e.viewState.position,H.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(Pt.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){let t=this.cursors.length-1,i=e.length;if(t<i){let n=i-t;for(let o=0;o<n;o++)this._addSecondaryCursor()}else if(t>i){let n=t-i;for(let o=0;o<n;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let n=0;n<i;n++)this.cursors[n+1].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Ib(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;let e=this.cursors.slice(0),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(Fg(i=>i.selection,D.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){let n=t[i],o=t[i+1],s=n.selection,a=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||s.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(s.getEndPosition()):l=a.getStartPosition().isBefore(s.getEndPosition()),l){let c=n.index<o.index?i:i+1,d=n.index<o.index?i+1:i,h=t[d].index,u=t[c].index,f=t[d].selection,m=t[c].selection;if(!f.equalsSelection(m)){let _=f.plusRange(m),v=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,w=m.selectionStartLineNumber===m.startLineNumber&&m.selectionStartColumn===m.startColumn,y;h===this.lastAddedCursorIndex?(y=v,this.lastAddedCursorIndex=u):y=w;let x;y?x=new ge(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn):x=new ge(_.endLineNumber,_.endColumn,_.startLineNumber,_.startColumn),t[c].selection=x;let k=Pt.fromModelSelection(x);e[u].setState(this.context,k.modelState,k.viewState)}for(let _ of t)_.index>h&&_.index--;e.splice(h,1),t.splice(d,1),this._removeSecondaryCursor(h-1),i--}}}};var AL=class{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}};Le();Ci();$m();var SP=class{constructor(){this.type=0}},LP=class{constructor(){this.type=1}},xP=class{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}},DP=class{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}},Sf=class{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}},Ob=class{constructor(){this.type=5}},kP=class{constructor(e){this.type=6,this.isFocused=e}},EP=class{constructor(){this.type=7}},Nb=class{constructor(){this.type=8}},RL=class{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}},mw=class{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}},pw=class{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}},Km=class{constructor(e,t,i,n,o,s,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=n,this.verticalType=o,this.revealHorizontal=s,this.scrollType=a,this.type=12}},IP=class{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}},OP=class{constructor(e){this.theme=e,this.type=14}},NP=class{constructor(e){this.type=15,this.ranges=e}},TP=class{constructor(){this.type=16}},PP=class{constructor(){this.type=17}};se();Oe();se();var AP=class extends ${constructor(){super(),this._onEvent=this._register(new B),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){let n=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(n){this._outgoingEvents[t]=n;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;let e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new aB),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){let e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(let i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){let e=this._viewEventQueue;this._viewEventQueue=null;let t=this._eventHandlers.slice(0);for(let i of t)i.handleEvents(e)}}},aB=class{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}},_w=class{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new _w(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}},bw=class{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new bw(this.oldHasFocus,e.hasFocus)}},vw=class{constructor(e,t,i,n,o,s,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=s,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new vw(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}},MP=class{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}},RP=class{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}},Tb=class{constructor(e,t,i,n,o,s,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=s,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;let i=e.length,n=t.length;if(i!==n)return!1;for(let o=0;o<i;o++)if(!e[o].equalsSelection(t[o]))return!1;return!0}isNoOp(){return Tb._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new Tb(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}},FP=class{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}},BP=class{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}},jP=class{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}},WP=class{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}},zP=class{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}},VP=class{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}},UP=class{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}};var jh=class extends ${constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new AL(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new PL(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=ft(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new AL(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){let i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;n!==null&&n.length>jh.MAX_CURSOR_COUNT&&(n=n.slice(0,jh.MAX_CURSOR_COUNT),o=!0);let s=Pb.from(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,s,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n,o,s){let a=this._cursors.getViewPositions(),l=null,c=null;a.length>1?c=this._cursors.getViewSelections():l=D.fromPositions(a[0],a[0]),e.emitViewEvent(new Km(t,i,l,c,n,o,s))}saveState(){let e=[],t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){let o=t[i];e.push({inSelectionMode:!o.isEmpty(),selectionStart:{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn},position:{lineNumber:o.positionLineNumber,column:o.positionColumn}})}return e}restoreState(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){let s=t[n],a=1,l=1;s.position&&s.position.lineNumber&&(a=s.position.lineNumber),s.position&&s.position.column&&(l=s.position.column);let c=a,d=l;s.selectionStart&&s.selectionStart.lineNumber&&(c=s.selectionStart.lineNumber),s.selectionStart&&s.selectionStart.column&&(d=s.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:d,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,Pt.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof gw){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{let i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;let n=i.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new PL(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){let o=Pt.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,o)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{let o=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Pt.fromModelSelections(o))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;let e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,Pt.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});let o=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],n);this._autoClosedActions.push(new HP(this._model,o,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();let t=lB.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],n=[];for(let o=0;o<e.commands.length;o++){let s=e.commands[o];s instanceof xL&&s.enclosingRange&&s.closeCharacterRange&&(i.push(s.closeCharacterRange),n.push(s.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){let s=Pb.from(this._model,this);if(s.equals(n))return!1;let a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new DP(l,a)),!n||n.cursorState.length!==s.cursorState.length||s.cursorState.some((c,d)=>!c.modelState.equals(n.cursorState[d].modelState))){let c=n?n.cursorState.map(h=>h.modelState.selection):null,d=n?n.modelVersionId:0;e.emitOutgoingEvent(new Tb(c,a,d,s.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,n=e.length;i<n;i++){let o=e[i];if(!o.text||o.text.indexOf(`
`)>=0)return null;let s=o.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!s)return null;let a=s[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;let c=l[0].open,d=o.text.length-s[2].length-1,h=o.text.lastIndexOf(c,d-1);if(h===-1)return null;t.push([h,d])}return t}executeEdits(e,t,i,n){let o=null;t==="snippet"&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);let s=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(o)for(let h=0,u=o.length;h<u;h++){let[f,m]=o[h],_=c[h],v=_.range.startLineNumber,w=_.range.startColumn-1+f,y=_.range.startColumn-1+m;s.push(new D(v,y+1,v,y+2)),a.push(new D(v,w+1,v,y+2))}let d=n(c);return d&&(this._isHandling=!0),d});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),s.length>0&&this._pushAutoClosedAction(s,a)}_executeEdit(e,t,i,n=0){if(this.context.cursorConfig.readOnly)return;let o=Pb.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(s){Pe(s)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,o,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return HP.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new Ab(this._model,this.getSelections())}endComposition(e,t){let i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{t==="keyboard"&&this._executeEditOperation(Vi.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){let n=t.length,o=0;for(;o<n;){let s=CS(t,o),a=t.substr(o,s);this._executeEditOperation(Vi.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),o+=s}}else this._executeEditOperation(Vi.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,n,o,s){if(t.length===0&&i===0&&n===0){if(o!==0){let a=this.getSelections().map(l=>{let c=l.getPosition();return new ge(c.lineNumber,c.column+o,c.lineNumber,c.column+o)});this.setSelections(e,s,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(Vi.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,o))},e,s)}paste(e,t,i,n,o){this._executeEdit(()=>{this._executeEditOperation(Vi.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))},e,o,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(Nc.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new tr(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new tr(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}};jh.MAX_CURSOR_COUNT=1e4;var Pb=class{constructor(e,t){this.modelVersionId=e,this.cursorState=t}static from(e,t){return new Pb(e.getVersionId(),t.getCursorStates())}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}},HP=class{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(let i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){let i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){let n=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(n&&(t.push(n),n.startLineNumber!==n.endLineNumber))return!1}t.sort(D.compareRangesUsingStarts),e.sort(D.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}},lB=class{static executeCommands(e,t,i){let n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i);for(let s=0,a=n.trackedRanges.length;s<a;s++)n.model._setTrackedRange(n.trackedRanges[s],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;let i=this._getEditOperations(e,t);if(i.operations.length===0)return null;let n=i.operations,o=this._getLoserCursorMap(n);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let s=[];for(let c=0,d=n.length;c<d;c++)o.hasOwnProperty(n[c].identifier.major.toString())||s.push(n[c]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,s,c=>{let d=[];for(let f=0;f<e.selectionsBefore.length;f++)d[f]=[];for(let f of c)!f.identifier||d[f.identifier.major].push(f);let h=(f,m)=>f.identifier.minor-m.identifier.minor,u=[];for(let f=0;f<e.selectionsBefore.length;f++)d[f].length>0?(d[f].sort(h),u[f]=t[f].computeCursorState(e.model,{getInverseEditOperations:()=>d[f],getTrackedSelection:m=>{let _=parseInt(m,10),v=e.model._getTrackedRange(e.trackedRanges[_]);return e.trackedRangesDirection[_]===0?new ge(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new ge(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}})):u[f]=e.selectionsBefore[f];return u});a||(a=e.selectionsBefore);let l=[];for(let c in o)o.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,d)=>d-c);for(let c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o];if(a){let l=this._getEditOperationsFromCommand(e,o,a);i=i.concat(l.operations),n=n||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let n=[],o=0,s=(h,u,f=!1)=>{D.isEmpty(h)&&u===""||n.push({identifier:{major:t,minor:o++},range:h,text:u,forceMoveMarkers:f,isAutoWhitespaceEdit:i.insertsAutoWhitespace})},a=!1,d={addEditOperation:s,addTrackedEditOperation:(h,u,f)=>{a=!0,s(h,u,f)},trackSelection:(h,u)=>{let f=ge.liftSelection(h),m;if(f.isEmpty())if(typeof u=="boolean")u?m=2:m=3;else{let w=e.model.getLineMaxColumn(f.startLineNumber);f.startColumn===w?m=2:m=3}else m=1;let _=e.trackedRanges.length,v=e.model._setTrackedRange(null,f,m);return e.trackedRanges[_]=v,e.trackedRangesDirection[_]=f.getDirection(),_.toString()}};try{i.getEditOperations(e.model,d)}catch(h){return Pe(h),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,n)=>-D.compareRangesUsingEnds(i.range,n.range));let t={};for(let i=1;i<e.length;i++){let n=e[i-1],o=e[i];if(D.getStartPosition(n.range).isBefore(D.getEndPosition(o.range))){let s;n.identifier.major>o.identifier.major?s=n.identifier.major:s=o.identifier.major,t[s.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===s&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}},cB=class{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}},Ab=class{constructor(e,t){this._original=Ab._capture(e,t)}static _capture(e,t){let i=[];for(let n of t){if(n.startLineNumber!==n.endLineNumber)return null;i.push(new cB(e.getLineContent(n.startLineNumber),n.startColumn-1,n.endColumn-1))}return i}deduceOutcome(e,t){if(!this._original)return null;let i=Ab._capture(e,t);if(!i||this._original.length!==i.length)return null;let n=[];for(let o=0,s=this._original.length;o<s;o++)n.push(Ab._deduceOutcome(this._original[o],i[o]));return n}static _deduceOutcome(e,t){let i=Math.min(e.startSelection,t.startSelection,wl(e.text,t.text)),n=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,qu(e.text,t.text)),o=e.text.substring(i,e.text.length-n),s=t.text.substring(i,t.text.length-n);return new IT(o,e.startSelection-i,e.endSelection-i,s,t.startSelection-i,t.endSelection-i)}};Oc();rt();Le();Ci();var Cw=class{constructor(e,t,i,n,o,s){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=s}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}};ES();Ui();Ao();La();Ai();Ft();ot();ho();se();At();Ye();rt();Le();$m();Un();fc();Ye();mh();Un();PS();var Wpe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},KJ={getInitialState:()=>dm,tokenizeEncoded:(r,e,t)=>eC(0,t)};function YJ(r,e,t){return Wpe(this,void 0,void 0,function*(){if(!t)return qJ(e,r.languageIdCodec,KJ);let i=yield ki.getOrCreate(t);return qJ(e,r.languageIdCodec,i||KJ)})}function ZJ(r,e,t,i,n,o,s){let a="<div>",l=i,c=0,d=!0;for(let h=0,u=e.getCount();h<u;h++){let f=e.getEndOffset(h);if(f<=i)continue;let m="";for(;l<f&&l<n;l++){let _=r.charCodeAt(l);switch(_){case 9:{let v=o-(l+c)%o;for(c+=v-1;v>0;)s&&d?(m+="&#160;",d=!1):(m+=" ",d=!0),v--;break}case 60:m+="&lt;",d=!1;break;case 62:m+="&gt;",d=!1;break;case 38:m+="&amp;",d=!1;break;case 0:m+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:m+="\uFFFD",d=!1;break;case 13:m+="&#8203",d=!1;break;case 32:s&&d?(m+="&#160;",d=!1):(m+=" ",d=!0);break;default:m+=String.fromCharCode(_),d=!1}}if(a+=`<span style="${e.getInlineStyle(h,t)}">${m}</span>`,f>n||l>=n)break}return a+="</div>",a}function qJ(r,e,t){let i='<div class="monaco-tokenized-source">',n=Mr(r),o=t.getInitialState();for(let s=0,a=n.length;s<a;s++){let l=n[s];s>0&&(i+="<br/>");let c=t.tokenizeEncoded(l,!0,o);tn.convertToEndOffset(c.tokens,l.length);let h=new tn(c.tokens,l,e).inflate(),u=0;for(let f=0,m=h.getCount();f<m;f++){let _=h.getClassName(f),v=h.getEndOffset(f);i+=`<span class="${_}">${V0(l.substring(u,v))}</span>`,u=v}o=c.endState}return i+="</div>",i}Oe();se();Ye();var i9=class{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;let t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}},n9=class{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}},Qm=class{constructor(e,t,i,n){this._instanceId=cO(++Qm.INSTANCE_COUNT),this._pendingChanges=new i9,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){let s=n+o>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?o=s:n=s+1:t<e[s].afterLineNumber?o=s:n=s+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(n,o,s,a)=>{t=!0,n=n|0,o=o|0,s=s|0,a=a|0;let l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new n9(l,n,o,s,a)),l},changeOneWhitespace:(n,o,s)=>{t=!0,o=o|0,s=s|0,this._pendingChanges.change({id:n,newAfterLineNumber:o,newHeight:s})},removeWhitespace:n=>{t=!0,this._pendingChanges.remove({id:n})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(let l of e)this._insertWhitespace(l);for(let l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(let l of i){let c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}let n=new Set;for(let l of i)n.add(l.id);let o=new Map;for(let l of t)o.set(l.id,l);let s=l=>{let c=[];for(let d of l)if(!n.has(d.id)){if(o.has(d.id)){let h=o.get(d.id);d.afterLineNumber=h.newAfterLineNumber,d.height=h.newHeight}c.push(d)}return c},a=s(this._arr).concat(s(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){let t=Qm.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){let t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){let n=this._findWhitespaceIndex(e);if(n!==-1&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){let o=this._arr[n];this._removeWhitespace(n),o.afterLineNumber=t,this._insertWhitespace(o)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){let o=this._arr[i].afterLineNumber;e<=o&&o<=t?this._arr[i].afterLineNumber=e-1:o>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){let o=this._arr[i].afterLineNumber;e<=o&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();let e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;let t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;let t=this._arr,i=0,n=t.length-1;for(;i<=n;){let s=(n-i|0)/2|0,a=i+s|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else n=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;let i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;let i;e>1?i=this._lineHeight*(e-1):i=0;let n=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0));return i+n+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;let i=this._lineHeight*e,n=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0));return i+n+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();let t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();let t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;let t=this._lineCount|0,i=this._lineHeight,n=1,o=t;for(;n<o;){let s=(n+o)/2|0,a=this.getVerticalOffsetForLineNumber(s)|0;if(e>=a+i)n=s+1;else{if(e>=a)return s;o=s}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;let i=this._lineHeight,n=this.getLineNumberAtOrAfterVerticalOffset(e)|0,o=this.getVerticalOffsetForLineNumber(n)|0,s=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(n)|0,l=this.getWhitespacesCount()|0,c,d;a===-1?(a=l,d=s+1,c=0):(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let h=o,u=h,f=5e5,m=0;o>=f&&(m=Math.floor(o/f)*f,m=Math.floor(m/i)*i,u-=m);let _=[],v=e+(t-e)/2,w=-1;for(let N=n;N<=s;N++){if(w===-1){let M=h,I=h+i;(M<=v&&v<I||M>v)&&(w=N)}for(h+=i,_[N-n]=u,u+=i;d===N;)u+=c,h+=c,a++,a>=l?d=s+1:(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(h>=t){s=N;break}}w===-1&&(w=s);let y=this.getVerticalOffsetForLineNumber(s)|0,x=n,k=s;return x<k&&o<e&&x++,x<k&&y+i>t&&k--,{bigNumbersDelta:m,startLineNumber:n,endLineNumber:s,relativeVerticalOffset:_,centeredLineNumber:w,completelyVisibleStartLineNumber:x,completelyVisibleEndLineNumber:k}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;let t=this.getAfterLineNumberForWhitespaceIndex(e),i;t>=1?i=this._lineHeight*t:i=0;let n;return e>0?n=this.getWhitespacesAccumulatedHeight(e-1):n=0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;let n=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(e>=n+o)return-1;for(;t<i;){let s=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(e>=a+l)t=s+1;else{if(e>=a)return s;i=s}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;let t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;let i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;let n=this.getHeightForWhitespaceIndex(t),o=this.getIdForWhitespaceIndex(t),s=this.getAfterLineNumberForWhitespaceIndex(t);return{id:o,afterLineNumber:s,verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;let i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];let o=[];for(let s=i;s<=n;s++){let a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(a>=t)break;o.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:a,height:l})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}};Qm.INSTANCE_COUNT=0;var zpe=125,Vb=class{constructor(e,t,i,n){e=e|0,t=t|0,i=i|0,n=n|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),n<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}},o9=class extends ${constructor(e,t){super(),this._onDidContentSizeChange=this._register(new B),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Vb(0,0,0,0),this._scrollable=this._register(new Ld({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;let t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);let i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new _w(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}},mA=class extends ${constructor(e,t,i){super(),this._configuration=e;let n=this._configuration.options,o=n.get(133),s=n.get(77);this._linesLayout=new Qm(t,n.get(61),s.top,s.bottom),this._scrollable=this._register(new o9(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Vb(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?zpe:0)}onConfigurationChanged(e){let t=this._configuration.options;if(e.hasChanged(61)&&this._linesLayout.setLineHeight(t.get(61)),e.hasChanged(77)){let i=t.get(77);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(133)){let i=t.get(133),n=i.contentWidth,o=i.height,s=this._scrollable.getScrollDimensions(),a=s.contentWidth;this._scrollable.setScrollDimensions(new Vb(n,s.contentWidth,o,this._getContentHeight(n,o,a)))}else this._updateHeight();e.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){let n=this._configuration.options.get(94);return n.horizontal===2||e>=t?0:n.horizontalScrollbarSize}_getContentHeight(e,t,i){let n=this._configuration.options,o=this._linesLayout.getLinesTotalHeight();return n.get(96)?o+=Math.max(0,t-n.get(61)-n.get(77).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){let e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new Vb(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){let e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new qS(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){let e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new qS(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){let t=this._configuration.options,i=t.get(134),n=t.get(46),o=t.get(133);if(i.isViewportWrapping){let s=t.get(67);return e>o.contentWidth+n.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?e+o.verticalScrollbarWidth:e}else{let s=t.get(95)*n.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+s+o.verticalScrollbarWidth,a)}}setMaxLineWidth(e){let t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Vb(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){let e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),n=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-n,scrollLeft:e.scrollLeft}}changeWhitespace(e){let t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){let e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){let t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){let e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){let i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}};rt();Le();var pA=class{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){let t=e.id,i=this._decorationsCache[t];if(!i){let n=e.range,o=e.options,s;if(o.isWholeLine){let a=this._coordinatesConverter.convertModelPositionToViewPosition(new H(n.startLineNumber,1),0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new H(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);s=new D(a.lineNumber,a.column,l.lineNumber,l.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new fC(s,o),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e){let t=new D(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(t).inlineDecorations[0]}_getDecorationsInRange(e){let t=this._linesCollection.getDecorationsInRange(e,this.editorId,h_(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber,o=[],s=0,a=[];for(let l=i;l<=n;l++)a[l-i]=[];for(let l=0,c=t.length;l<c;l++){let d=t[l],h=d.options;if(!_A(this.model,d))continue;let u=this._getOrCreateViewModelDecoration(d),f=u.range;if(o[s++]=u,h.inlineClassName){let m=new ef(f,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),_=Math.max(i,f.startLineNumber),v=Math.min(n,f.endLineNumber);for(let w=_;w<=v;w++)a[w-i].push(m)}if(h.beforeContentClassName&&i<=f.startLineNumber&&f.startLineNumber<=n){let m=new ef(new D(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn),h.beforeContentClassName,1);a[f.startLineNumber-i].push(m)}if(h.afterContentClassName&&i<=f.endLineNumber&&f.endLineNumber<=n){let m=new ef(new D(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn),h.afterContentClassName,2);a[f.endLineNumber-i].push(m)}}return{decorations:o,inlineDecorations:a}}};function _A(r,e){return!(e.options.hideInCommentTokens&&bA(r,e)||e.options.hideInStringTokens&&vA(r,e))}function bA(r,e){return GJ(r,e.range,t=>t===1)}function vA(r,e){return GJ(r,e.range,t=>t===2)}function GJ(r,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){let n=r.tokenization.getLineTokens(i),o=i===e.startLineNumber,s=i===e.endLineNumber,a=o?n.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<n.getCount()&&!(s&&n.getStartOffset(a)>e.endColumn-1);){if(!t(n.getStandardTokenType(a)))return!1;a++}}return!0}Ft();rt();Le();ZT();Ao();$m();mh();rt();$m();function CA(r,e){return r===null?e?Aw.INSTANCE:Mw.INSTANCE:new s9(r,e)}var s9=class{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();let n=i>0?this._projectionData.breakOffsets[i-1]:0,o=this._projectionData.breakOffsets[i],s;if(this._projectionData.injectionOffsets!==null){let a=this._projectionData.injectionOffsets.map((c,d)=>new os(0,0,c+1,this._projectionData.injectionOptions[d],0));s=os.applyInjectedText(e.getLineContent(t),a).substring(n,o)}else s=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(s=XJ(this._projectionData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){let n=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],n),n[0]}getViewLinesData(e,t,i,n,o,s,a){this._assertVisible();let l=this._projectionData,c=l.injectionOffsets,d=l.injectionOptions,h=null;if(c){h=[];let f=0,m=0;for(let _=0;_<l.getOutputLineCount();_++){let v=new Array;h[_]=v;let w=_>0?l.breakOffsets[_-1]:0,y=l.breakOffsets[_];for(;m<c.length;){let x=d[m].content.length,k=c[m]+f,N=k+x;if(k>y)break;if(w<N){let M=d[m];if(M.inlineClassName){let I=_>0?l.wrappedTextIndentLength:0,O=I+Math.max(k-w,0),R=I+Math.min(N-w,y);O!==R&&v.push(new hN(O,R,M.inlineClassName,M.inlineClassNameAffectsLetterSpacing))}}if(N<=y)f+=x,m++;else break}}}let u;c?u=e.tokenization.getLineTokens(t).withInserted(c.map((f,m)=>({offset:f,text:d[m].content,tokenMetadata:tn.defaultTokenMetadata}))):u=e.tokenization.getLineTokens(t);for(let f=i;f<i+n;f++){let m=o+f-i;if(!s[m]){a[m]=null;continue}a[m]=this._getViewLineData(u,h?h[f]:null,f)}}_getViewLineData(e,t,i){this._assertVisible();let n=this._projectionData,o=i>0?n.wrappedTextIndentLength:0,s=i>0?n.breakOffsets[i-1]:0,a=n.breakOffsets[i],l=e.sliceAndInflate(s,a,o),c=l.getLineContent();i>0&&(c=XJ(n.wrappedTextIndentLength)+c);let d=this._projectionData.getMinOutputOffset(i)+1,h=c.length+1,u=i+1<this.getViewLineCount(),f=i===0?0:n.breakOffsetsVisibleColumn[i-1];return new B_(c,u,d,h,f,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();let i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){let n=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(n)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}},Aw=class{constructor(){}isVisible(){return!0}setVisible(e){return e?this:Mw.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.tokenization.getLineTokens(t),o=n.getLineContent();return new B_(o,!1,1,o.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,o,s,a){if(!s[o]){a[o]=null;return}a[o]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new H(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}};Aw.INSTANCE=new Aw;var Mw=class{constructor(){}isVisible(){return!1}setVisible(e){return e?Aw.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,s,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}};Mw.INSTANCE=new Mw;var r9=[""];function XJ(r){if(r>=r9.length)for(let e=1;e<=r;e++)r9[e]=Vpe(e);return r9[r]}function Vpe(r){return new Array(r+1).join(" ")}var wA=class{constructor(e,t,i,n,o,s,a,l,c){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=o,this.tabSize=s,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new a9(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));let i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),o=i.length,s=this.createLineBreaksComputer(),a=new Qc(os.fromDecorations(n));for(let _=0;_<o;_++){let v=a.takeWhile(w=>w.lineNumber===_+1);s.addRequest(i[_],v,t?t[_]:null)}let l=s.finalize(),c=[],d=this.hiddenAreasDecorationIds.map(_=>this.model.getDecorationRange(_)).sort(D.compareRangesUsingStarts),h=1,u=0,f=-1,m=f+1<d.length?u+1:o+2;for(let _=0;_<o;_++){let v=_+1;v===m&&(f++,h=d[f].startLineNumber,u=d[f].endLineNumber,m=f+1<d.length?u+1:o+2);let w=v>=h&&v<=u,y=CA(l[_],!w);c[_]=y.getViewLineCount(),this.modelLineProjections[_]=y}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new GO(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){let t=e.map(u=>this.model.validateRange(u)),i=Upe(t),n=this.hiddenAreasDecorationIds.map(u=>this.model.getDecorationRange(u)).sort(D.compareRangesUsingStarts);if(i.length===n.length){let u=!1;for(let f=0;f<i.length;f++)if(!i[f].equalsRange(n[f])){u=!0;break}if(!u)return!1}let o=i.map(u=>({range:u,options:Ge.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,o);let s=i,a=1,l=0,c=-1,d=c+1<s.length?l+1:this.modelLineProjections.length+2,h=!1;for(let u=0;u<this.modelLineProjections.length;u++){let f=u+1;f===d&&(c++,a=s[c].startLineNumber,l=s[c].endLineNumber,d=c+1<s.length?l+1:this.modelLineProjections.length+2);let m=!1;if(f>=a&&f<=l?this.modelLineProjections[u].isVisible()&&(this.modelLineProjections[u]=this.modelLineProjections[u].setVisible(!1),m=!0):(h=!0,this.modelLineProjections[u].isVisible()||(this.modelLineProjections[u]=this.modelLineProjections[u].setVisible(!0),m=!0)),m){let _=this.modelLineProjections[u].getViewLineCount();this.projectedModelLineLineCounts.setValue(u,_)}}return h||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){let o=this.fontInfo.equals(e),s=this.wrappingStrategy===t,a=this.wrappingColumn===i,l=this.wrappingIndent===n;if(o&&s&&a&&l)return!1;let c=o&&s&&!a&&l;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let d=null;if(c){d=[];for(let h=0,u=this.modelLineProjections.length;h<u;h++)d[h]=this.modelLineProjections[h].getProjectionData()}return this._constructLines(!1,d),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;let n=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,o=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new mw(n,o)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;let o=t>2&&!this.modelLineProjections[t-2].isVisible(),s=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,a=0,l=[],c=[];for(let d=0,h=n.length;d<h;d++){let u=CA(n[d],!o);l.push(u);let f=u.getViewLineCount();a+=f,c[d]=f}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new pw(s,s+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];let n=t-1,o=this.modelLineProjections[n].getViewLineCount(),s=this.modelLineProjections[n].isVisible(),a=CA(i,s);this.modelLineProjections[n]=a;let l=this.modelLineProjections[n].getViewLineCount(),c=!1,d=0,h=-1,u=0,f=-1,m=0,_=-1;o>l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,h=d+l-1,m=h+1,_=m+(o-l)-1,c=!0):o<l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,h=d+o-1,u=h+1,f=u+(l-o)-1,c=!0):(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,h=d+l-1),this.projectedModelLineLineCounts.setValue(n,l);let v=d<=h?new RL(d,h-d+1):null,w=u<=f?new pw(u,f):null,y=m<=_?new mw(m,_):null;return[c,v,w,y]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;let t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);let n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(n.lineNumber,o.lineNumber,s.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,n=t.remainder;return new yA(i+1,n)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){let t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new H(e.modelLineNumber,n)}getModelEndPositionOfViewLine(e){let t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),n=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new H(e.modelLineNumber,n)}getViewLineInfosGroupedByModelRanges(e,t){let i=this.getViewLineInfo(e),n=this.getViewLineInfo(t),o=new Array,s=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=n.modelLineNumber;l++){let c=this.modelLineProjections[l-1];if(c.isVisible()){let d=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,h=l===n.modelLineNumber?n.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let u=d;u<h;u++)a.push(new yA(l,u))}if(!c.isVisible()&&s){let d=new H(l-1,this.model.getLineMaxColumn(l-1)+1),h=D.fromPositions(s,d);o.push(new SA(h,a)),a=[],s=null}else c.isVisible()&&!s&&(s=new H(l,1))}if(s){let l=D.fromPositions(s,this.getModelEndPositionOfViewLine(n));o.push(new SA(l,a))}return o}getViewLinesBracketGuides(e,t,i,n){let o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,s=[];for(let a of this.getViewLineInfosGroupedByModelRanges(e,t)){let l=a.modelRange.startLineNumber,c=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,o,n);for(let d of a.viewLines){let u=c[d.modelLineNumber-l].map(f=>{if(f.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesAfterColumn).lineNumber>=d.modelLineWrappedLineIdx||f.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesBeforeOrAtColumn).lineNumber<d.modelLineWrappedLineIdx)return;if(!f.horizontalLine)return f;let m=-1;if(f.column!==-1){let w=this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,f.column);if(w.lineNumber===d.modelLineWrappedLineIdx)m=w.column;else if(w.lineNumber<d.modelLineWrappedLineIdx)m=this.getMinColumnOfViewLine(d);else if(w.lineNumber>d.modelLineWrappedLineIdx)return}let _=this.convertModelPositionToViewPosition(d.modelLineNumber,f.horizontalLine.endColumn),v=this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,f.horizontalLine.endColumn);return v.lineNumber===d.modelLineWrappedLineIdx?new Pc(f.visibleColumn,m,f.className,new Cf(f.horizontalLine.top,_.column),-1,-1):v.lineNumber<d.modelLineWrappedLineIdx||f.visibleColumn!==-1?void 0:new Pc(f.visibleColumn,m,f.className,new Cf(f.horizontalLine.top,this.getMaxColumnOfViewLine(d)),-1,-1)});s.push(u.filter(f=>!!f))}}return s}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t)),o=[],s=[],a=[],l=i.lineNumber-1,c=n.lineNumber-1,d=null;for(let m=l;m<=c;m++){let _=this.modelLineProjections[m];if(_.isVisible()){let v=_.getViewLineNumberOfModelPosition(0,m===l?i.column:1),w=_.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(m+1)),y=w-v+1,x=0;y>1&&_.getViewLineMinColumn(this.model,m+1,w)===1&&(x=v===0?1:2),s.push(y),a.push(x),d===null&&(d=new H(m+1,0))}else d!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,m)),d=null)}d!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,n.lineNumber)),d=null);let h=t-e+1,u=new Array(h),f=0;for(let m=0,_=o.length;m<_;m++){let v=o[m],w=Math.min(h-f,s[m]),y=a[m],x;y===2?x=0:y===1?x=1:x=w;for(let k=0;k<w;k++)k===x&&(v=0),u[f++]=v}return u}getViewLineContent(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){let t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let n=this.projectedModelLineLineCounts.getIndexOf(e-1),o=e,s=n.index,a=n.remainder,l=[];for(let c=s,d=this.model.getLineCount();c<d;c++){let h=this.modelLineProjections[c];if(!h.isVisible())continue;let u=c===s?a:0,f=h.getViewLineCount()-u,m=!1;if(o+f>t&&(m=!0,f=t-o+1),h.getViewLinesData(this.model,c+1,u,f,o-e,i,l),o+=f,m)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let n=this.projectedModelLineLineCounts.getIndexOf(e-1),o=n.index,s=n.remainder,a=this.modelLineProjections[o],l=a.getViewLineMinColumn(this.model,o+1,s),c=a.getViewLineMaxColumn(this.model,o+1,s);t<l&&(t=l),t>c&&(t=c);let d=a.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new H(o+1,d)).equals(i)?new H(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){let i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new D(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){let i=this.getViewLineInfo(e),n=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new H(i.modelLineNumber,n))}convertViewRangeToModelRange(e){let t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new D(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){let n=this.model.validatePosition(new H(e,t)),o=n.lineNumber,s=n.column,a=o-1,l=!1;for(;a>0&&!this.modelLineProjections[a].isVisible();)a--,l=!0;if(a===0&&!this.modelLineProjections[a].isVisible())return new H(1,1);let c=1+this.projectedModelLineLineCounts.getPrefixSum(a),d;return l?d=this.modelLineProjections[a].getViewPositionOfModelPosition(c,this.model.getLineMaxColumn(a+1),i):d=this.modelLineProjections[o-1].getViewPositionOfModelPosition(c,s,i),d}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){let i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return D.fromPositions(i)}else{let i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new D(i.lineNumber,i.column,n.lineNumber,n.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){let o=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(o,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;let n=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i){let n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new D(n.lineNumber,1,o.lineNumber,o.column),t,i);let s=[],a=n.lineNumber-1,l=o.lineNumber-1,c=null;for(let f=a;f<=l;f++)if(this.modelLineProjections[f].isVisible())c===null&&(c=new H(f+1,f===a?n.column:1));else if(c!==null){let _=this.model.getLineMaxColumn(f);s=s.concat(this.model.getDecorationsInRange(new D(c.lineNumber,c.column,f,_),t,i)),c=null}c!==null&&(s=s.concat(this.model.getDecorationsInRange(new D(c.lineNumber,c.column,o.lineNumber,o.column),t,i)),c=null),s.sort((f,m)=>{let _=D.compareRangesUsingStarts(f.range,m.range);return _===0?f.id<m.id?-1:f.id>m.id?1:0:_});let d=[],h=0,u=null;for(let f of s){let m=f.id;u!==m&&(u=m,d[h++]=f)}return d}getInjectedTextAt(e){let t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){let i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){let t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}};function Upe(r){if(r.length===0)return[];let e=r.slice();e.sort(D.compareRangesUsingStarts);let t=[],i=e[0].startLineNumber,n=e[0].endLineNumber;for(let o=1,s=e.length;o<s;o++){let a=e[o];a.startLineNumber>n+1?(t.push(new D(i,1,n,1)),i=a.startLineNumber,n=a.endLineNumber):a.endLineNumber>n&&(n=a.endLineNumber)}return t.push(new D(i,1,n,1)),t}var yA=class{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}},SA=class{constructor(e,t){this.modelRange=e,this.viewLines=t}},a9=class{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}},LA=class{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new l9(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new mw(t,i)}onModelLinesInserted(e,t,i,n){return new pw(t,i)}onModelLineChanged(e,t,i){return[!1,new RL(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){let i=t-e+1,n=new Array(i);for(let o=0;o<i;o++)n[o]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new B_(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){let n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let o=[];for(let s=e;s<=t;s++){let a=s-e;o[a]=i[a]?this.getViewLineData(s):null}return o}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}},l9=class{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){let t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}};var Hpe=!0,xA=class extends ${constructor(e,t,i,n,o,s,a,l){if(super(),this.languageConfigurationService=a,this._themeService=l,this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new AP,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new pf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new pt(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new pt(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=lx.create(this.model),Hpe&&this.model.isTooLargeForTokenization())this._lines=new LA(this.model);else{let c=this._configuration.options,d=c.get(46),h=c.get(127),u=c.get(134),f=c.get(126);this._lines=new wA(this._editorId,this.model,n,o,d,this.model.getOptions().tabSize,h,u.wrappingColumn,f)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new jh(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new mA(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll(c=>{c.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),c.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new IP(c)),this._eventDispatcher.emitOutgoingEvent(new vw(c.oldScrollWidth,c.oldScrollLeft,c.oldScrollHeight,c.oldScrollTop,c.scrollWidth,c.scrollLeft,c.scrollHeight,c.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(c=>{this._eventDispatcher.emitOutgoingEvent(c)})),this._decorations=new pA(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(c=>{try{let d=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(d,c)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(wf.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new TP)})),this._register(this._themeService.onDidColorThemeChange(c=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new OP(c))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){let e=this.viewLayout.getLinesViewportData(),t=new D(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),i=this._toModelVisibleRanges(t);for(let n of i)this.model.tokenization.tokenizeViewport(n.startLineNumber,n.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new kP(e)),this._eventDispatcher.emitOutgoingEvent(new bw(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new SP)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new LP)}_onConfigurationChanged(e,t){let i=null;if(this._viewportStart.isValid){let d=new H(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));i=this.coordinatesConverter.convertViewPositionToModelPosition(d)}let n=!1,o=this._configuration.options,s=o.get(46),a=o.get(127),l=o.get(134),c=o.get(126);if(this._lines.setWrappingSettings(s,a,l.wrappingColumn,c)&&(e.emitViewEvent(new Ob),e.emitViewEvent(new Nb),e.emitViewEvent(new Sf(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(83)&&(this._decorations.reset(),e.emitViewEvent(new Sf(null))),e.emitViewEvent(new xP(t)),this.viewLayout.onConfigurationChanged(t),n&&i){let d=this.coordinatesConverter.convertModelPositionToViewPosition(i),h=this.viewLayout.getVerticalOffsetForLineNumber(d.lineNumber);this.viewLayout.setScrollPosition({scrollTop:h+this._viewportStart.startLineDelta},1)}pf.shouldRecreate(t)&&(this.cursorConfig=new pf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{let i=this._eventDispatcher.beginEmitViewEvents(),n=!1,o=!1,s=e instanceof xd?e.rawContentChangedEvent.changes:e.changes,a=e instanceof xd?e.rawContentChangedEvent.versionId:null,l=this._lines.createLineBreaksComputer();for(let h of s)switch(h.changeType){case 4:{for(let u=0;u<h.detail.length;u++){let f=h.detail[u],m=h.injectedTexts[u];m&&(m=m.filter(_=>!_.ownerId||_.ownerId===this._editorId)),l.addRequest(f,m,null)}break}case 2:{let u=null;h.injectedText&&(u=h.injectedText.filter(f=>!f.ownerId||f.ownerId===this._editorId)),l.addRequest(h.detail,u,null);break}}let c=l.finalize(),d=new Qc(c);for(let h of s)switch(h.changeType){case 1:{this._lines.onModelFlushed(),i.emitViewEvent(new Ob),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),n=!0;break}case 3:{let u=this._lines.onModelLinesDeleted(a,h.fromLineNumber,h.toLineNumber);u!==null&&(i.emitViewEvent(u),this.viewLayout.onLinesDeleted(u.fromLineNumber,u.toLineNumber)),n=!0;break}case 4:{let u=d.takeCount(h.detail.length),f=this._lines.onModelLinesInserted(a,h.fromLineNumber,h.toLineNumber,u);f!==null&&(i.emitViewEvent(f),this.viewLayout.onLinesInserted(f.fromLineNumber,f.toLineNumber)),n=!0;break}case 2:{let u=d.dequeue(),[f,m,_,v]=this._lines.onModelLineChanged(a,h.lineNumber,u);o=f,m&&i.emitViewEvent(m),_&&(i.emitViewEvent(_),this.viewLayout.onLinesInserted(_.fromLineNumber,_.toLineNumber)),v&&(i.emitViewEvent(v),this.viewLayout.onLinesDeleted(v.fromLineNumber,v.toLineNumber));break}case 5:break}a!==null&&this._lines.acceptVersionId(a),this.viewLayout.onHeightMaybeChanged(),!n&&o&&(i.emitViewEvent(new Nb),i.emitViewEvent(new Sf(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}let t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){let i=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(i){let n=this.coordinatesConverter.convertModelPositionToViewPosition(i.getStartPosition()),o=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber);this.viewLayout.setScrollPosition({scrollTop:o+this._viewportStart.startLineDelta},1)}}try{let i=this._eventDispatcher.beginEmitViewEvents();e instanceof xd&&i.emitOutgoingEvent(new zP(e.contentChangedEvent)),this._cursor.onModelContentChanged(i,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let i=0,n=e.ranges.length;i<n;i++){let o=e.ranges[i],s=this.coordinatesConverter.convertModelPositionToViewPosition(new H(o.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new H(o.toLineNumber,this.model.getLineMaxColumn(o.toLineNumber))).lineNumber;t[i]={fromLineNumber:s,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new NP(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new UP(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new EP),this.cursorConfig=new pf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new WP(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new pf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new jP(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{let t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new Ob),t.emitViewEvent(new Nb),t.emitViewEvent(new Sf(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new pf(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new VP(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Sf(e)),this._eventDispatcher.emitOutgoingEvent(new BP(e))}))}setHiddenAreas(e){let t=!1;try{let i=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(i.emitViewEvent(new Ob),i.emitViewEvent(new Nb),i.emitViewEvent(new Sf(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new RP)}getVisibleRangesPlusViewportAboveBelow(){let e=this._configuration.options.get(133),t=this._configuration.options.get(61),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),o=Math.max(1,n.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new D(o,this.getLineMinColumn(o),s,this.getLineMaxColumn(s)))}getVisibleRanges(){let e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){let t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];let n=[],o=0,s=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,c=t.endColumn;for(let d=0,h=i.length;d<h;d++){let u=i[d].startLineNumber,f=i[d].endLineNumber;f<s||u>l||(s<u&&(n[o++]=new D(s,a,u-1,this.model.getLineMaxColumn(u-1))),s=f+1,a=1)}return(s<l||s===l&&a<c)&&(n[o++]=new D(s,a,l,c)),n}getCompletelyVisibleViewRange(){let e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new D(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){let t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new D(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){let e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new H(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);let t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,n){return this._lines.getViewLinesBracketGuides(e,t,i,n)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){let t=En(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){let t=es(this.getLineContent(e));return t===-1?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){let n=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,n)}getViewLineRenderingData(e){let t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),s=this._lines.getViewLineData(e);return s.inlineDecorations&&(t=[...t,...s.inlineDecorations.map(a=>a.toInlineDecoration(e))]),new mr(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,n,s.tokens,t,o,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let n=this._lines.getViewLinesData(e,t,i);return new dN(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){let t=this.model.getOverviewRulerDecorations(this._editorId,h_(this._configuration.options)),i=new c9;for(let n of t){let o=n.options,s=o.overviewRuler;if(!s)continue;let a=s.position;if(a===0)continue;let l=s.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.startLineNumber,n.range.startColumn),d=this.coordinatesConverter.getViewLineNumberOfModelPosition(n.range.endLineNumber,n.range.endColumn);i.accept(l,o.zIndex,c,d,a)}return i.asArray}_invalidateDecorationsColorCache(){let e=this.model.getOverviewRulerDecorations();for(let t of e){let i=t.options.overviewRuler;i&&i.invalidateCachedColor();let n=t.options.minimap;n&&n.invalidateCachedColor()}}getValueInRange(e,t){let i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}deduceModelPositionRelativeToViewPosition(e,t,i){let n=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);let s=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(s)}getPlainTextToCopy(e,t,i){let n=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(D.compareRangesUsingStarts);let o=!1,s=!1;for(let l of e)l.isEmpty()?o=!0:s=!0;if(!s){if(!t)return"";let l=e.map(d=>d.startLineNumber),c="";for(let d=0;d<l.length;d++)d>0&&l[d-1]===l[d]||(c+=this.model.getLineContent(l[d])+n);return c}if(o&&t){let l=[],c=0;for(let d of e){let h=d.startLineNumber;d.isEmpty()?h!==c&&l.push(this.model.getLineContent(h)):l.push(this.model.getValueInRange(d,i?2:0)),c=h}return l.length===1?l[0]:l}let a=[];for(let l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){let i=this.model.getLanguageId();if(i===Io||e.length!==1)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;let d=n.startLineNumber;n=new D(d,this.model.getLineMinColumn(d),d,this.model.getLineMaxColumn(d))}let o=this._configuration.options.get(46),s=this._getColorMap(),l=/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===Ar.fontFamily,c;return l?c=Ar.fontFamily:(c=o.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${Ar.fontFamily}`),{mode:i,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${c};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,s)+"</div>"}}_getHTMLToCopy(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=this.getTabSize(),l="";for(let c=i;c<=o;c++){let d=this.model.tokenization.getLineTokens(c),h=d.getLineContent(),u=c===i?n-1:0,f=c===o?s-1:h.length;h===""?l+="<br>":l+=ZJ(h,d.inflate(),t,u,f,a,Ji)}return l}_getColorMap(){let e=ki.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=Z.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(n=>this._cursor.setStates(n,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(n=>this._cursor.setSelections(n,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new FP);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(n=>this._cursor.executeEdits(n,e,t,i))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,n,o){this._executeCursorEdit(s=>this._cursor.compositionType(s,e,t,i,n,o))}paste(e,t,i,n){this._executeCursorEdit(o=>this._cursor.paste(o,e,t,i,n))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(n=>this._cursor.revealPrimary(n,e,i,0,t,0))}revealTopMostCursor(e){let t=this._cursor.getTopMostViewPosition(),i=new D(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new Km(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){let t=this._cursor.getBottomMostViewPosition(),i=new D(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(n=>n.emitViewEvent(new Km(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,n,o){this._withViewEventsCollector(s=>s.emitViewEvent(new Km(e,!1,i,null,n,t,o)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new PP),this._eventDispatcher.emitOutgoingEvent(new MP))}_withViewEventsCollector(e){try{let t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}},lx=class{constructor(e,t,i,n,o){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=n,this._startLineDelta=o}static create(e){let t=e._setTrackedRange(null,new D(1,1,1,1),1);return new lx(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){let i=e.coordinatesConverter.convertViewPositionToModelPosition(new H(t,e.getLineMinColumn(t))),n=e.model._setTrackedRange(this._modelTrackedRange,new D(i.lineNumber,i.column,i.lineNumber,i.column),1),o=e.viewLayout.getVerticalOffsetForLineNumber(t),s=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=n,this._startLineDelta=s-o}invalidate(){this._isValid=!1}},c9=class{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,n,o){let s=this._asMap[e];if(s){let a=s.data,l=a[a.length-3],c=a[a.length-1];if(l===o&&c+1>=i){n>c&&(a[a.length-1]=n);return}a.push(o,i,n)}else{let a=new gC(e,t,[o,i,n]);this._asMap[e]=a,this.asArray.push(a)}}};hn();St();Xe();var Gh=class{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){let i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}};Ye();var cx;(function(r){r[r.Ignore=0]="Ignore",r[r.Info=1]="Info",r[r.Warning=2]="Warning",r[r.Error=3]="Error"})(cx||(cx={}));(function(r){let e="error",t="warning",i="warn",n="info",o="ignore";function s(l){return l?Ku(e,l)?r.Error:Ku(t,l)||Ku(i,l)?r.Warning:Ku(n,l)?r.Info:r.Ignore:r.Ignore}r.fromValue=s;function a(l){switch(l){case r.Error:return e;case r.Warning:return t;case r.Info:return n;default:return o}}r.toString=a})(cx||(cx={}));var Ri=cx;Xe();var kA=Ri,ui=We("notificationService"),DA=class{};Ct();ti();Ye();T_();$m();ti();rt();Rs();var Nf=class{constructor(e,t,i,n,o){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=n,this.wrappedTextIndentLength=o}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){let t=e>0?this.breakOffsets[e-1]:0,n=this.breakOffsets[e]-t;return e>0&&(n+=this.wrappedTextIndentLength),n}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let n=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&n>this.injectionOffsets[o];o++)n<this.injectionOffsets[o]+this.injectionOptions[o].content.length?n=this.injectionOffsets[o]:n-=this.injectionOptions[o].content.length;return n}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n]||t!==1&&e===this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,n=this.breakOffsets.length-1,o=0,s=0;for(;i<=n;){o=i+(n-i)/2|0;let l=this.breakOffsets[o];if(s=o>0?this.breakOffsets[o-1]:0,t===0)if(e<=s)n=o-1;else if(e>l)i=o+1;else break;else if(e<s)n=o-1;else if(e>=l)i=o+1;else break}let a=e-s;return o>0&&(a+=this.wrappedTextIndentLength),new Rw(o,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){let n=this.outputPositionToOffsetInInputWithInjections(e,t),o=this.normalizeOffsetInInputWithInjectionsAroundInjections(n,i);if(o!==n)return this.offsetInInputWithInjectionsToOutputPosition(o,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new Rw(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){let n=this.getOutputLineCount()-1;if(e<n&&t===this.getMaxOutputOffset(e))return new Rw(e+1,this.getMinOutputOffset(e+1))}return new Rw(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){let i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&QJ(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let n=i.offsetInInputWithInjections;if(JJ(this.injectionOptions[i.injectedTextIndex].cursorStops))return n;let o=i.injectedTextIndex-1;for(;o>=0&&this.injectionOffsets[o]===this.injectionOffsets[i.injectedTextIndex]&&!(QJ(this.injectionOptions[o].cursorStops)||(n-=this.injectionOptions[o].content.length,JJ(this.injectionOptions[o].cursorStops)));)o--;return n}}else if(t===1||t===4){let n=i.offsetInInputWithInjections+i.length,o=i.injectedTextIndex;for(;o+1<this.injectionOffsets.length&&this.injectionOffsets[o+1]===this.injectionOffsets[o];)n+=this.injectionOptions[o+1].content.length,o++;return n}else if(t===0||t===3){let n=i.offsetInInputWithInjections,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)n-=this.injectionOptions[o-1].content.length,o--;return n}Bg(t)}getInjectedText(e,t){let i=this.outputPositionToOffsetInInputWithInjections(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){let t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let n=0;for(let o=0;o<t.length;o++){let s=i[o].content.length,a=t[o]+n,l=t[o]+n+s;if(a>e)break;if(e<=l)return{injectedTextIndex:o,offsetInInputWithInjections:a,length:s};n+=s}}}};function QJ(r){return r==null?!0:r===qa.Right||r===qa.Both}function JJ(r){return r==null?!0:r===qa.Left||r===qa.Both}var Rw=class{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new H(e+this.outputLineIndex,this.outputOffset+1)}};var Fw=class{constructor(e,t){this.classifier=new d9(e,t)}static create(e){return new Fw(e.get(122),e.get(121))}createLineBreaksComputer(e,t,i,n){let o=[],s=[],a=[];return{addRequest:(l,c,d)=>{o.push(l),s.push(c),a.push(d)},finalize:()=>{let l=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,c=[];for(let d=0,h=o.length;d<h;d++){let u=s[d],f=a[d];f&&!f.injectionOptions&&!u?c[d]=$pe(this.classifier,f,o[d],t,i,l,n):c[d]=Kpe(this.classifier,o[d],u,t,i,l,n)}return h9.length=0,u9.length=0,c}}}},d9=class extends sd{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}},h9=[],u9=[];function $pe(r,e,t,i,n,o,s){if(n===-1)return null;let a=t.length;if(a<=1)return null;let l=e.breakOffsets,c=e.breakOffsetsVisibleColumn,d=tee(t,i,n,o,s),h=n-d,u=h9,f=u9,m=0,_=0,v=0,w=n,y=l.length,x=0;if(x>=0){let k=Math.abs(c[x]-w);for(;x+1<y;){let N=Math.abs(c[x+1]-w);if(N>=k)break;k=N,x++}}for(;x<y;){let k=x<0?0:l[x],N=x<0?0:c[x];_>k&&(k=_,N=v);let M=0,I=0,O=0,R=0;if(N<=w){let q=N,te=k===0?0:t.charCodeAt(k-1),ie=k===0?0:r.get(te),xe=!0;for(let Ae=k;Ae<a;Ae++){let Re=Ae,Ve=t.charCodeAt(Ae),nt,Dt;if(ln(Ve)?(Ae++,nt=0,Dt=2):(nt=r.get(Ve),Dt=dx(Ve,q,i,o)),Re>_&&f9(te,ie,Ve,nt)&&(M=Re,I=q),q+=Dt,q>w){Re>_?(O=Re,R=q-Dt):(O=Ae+1,R=q),q-I>h&&(M=0),xe=!1;break}te=Ve,ie=nt}if(xe){m>0&&(u[m]=l[l.length-1],f[m]=c[l.length-1],m++);break}}if(M===0){let q=N,te=t.charCodeAt(k),ie=r.get(te),xe=!1;for(let Ae=k-1;Ae>=_;Ae--){let Re=Ae+1,Ve=t.charCodeAt(Ae);if(Ve===9){xe=!0;break}let nt,Dt;if(hh(Ve)?(Ae--,nt=0,Dt=2):(nt=r.get(Ve),Dt=yl(Ve)?o:1),q<=w){if(O===0&&(O=Re,R=q),q<=w-h)break;if(f9(Ve,nt,te,ie)){M=Re,I=q;break}}q-=Dt,te=Ve,ie=nt}if(M!==0){let Ae=h-(R-I);if(Ae<=i){let Re=t.charCodeAt(O),Ve;ln(Re)?Ve=2:Ve=dx(Re,R,i,o),Ae-Ve<0&&(M=0)}}if(xe){x--;continue}}if(M===0&&(M=O,I=R),M<=_){let q=t.charCodeAt(_);ln(q)?(M=_+2,I=v+2):(M=_+1,I=v+dx(q,v,i,o))}for(_=M,u[m]=M,v=I,f[m]=I,m++,w=I+h;x<0||x<y&&c[x]<I;)x++;let K=Math.abs(c[x]-w);for(;x+1<y;){let q=Math.abs(c[x+1]-w);if(q>=K)break;K=q,x++}}return m===0?null:(u.length=m,f.length=m,h9=e.breakOffsets,u9=e.breakOffsetsVisibleColumn,e.breakOffsets=u,e.breakOffsetsVisibleColumn=f,e.wrappedTextIndentLength=d,e)}function Kpe(r,e,t,i,n,o,s){let a=os.applyInjectedText(e,t),l,c;if(t&&t.length>0?(l=t.map(I=>I.options),c=t.map(I=>I.column-1)):(l=null,c=null),n===-1)return l?new Nf(c,l,[a.length],[],0):null;let d=a.length;if(d<=1)return l?new Nf(c,l,[a.length],[],0):null;let h=tee(a,i,n,o,s),u=n-h,f=[],m=[],_=0,v=0,w=0,y=n,x=a.charCodeAt(0),k=r.get(x),N=dx(x,0,i,o),M=1;ln(x)&&(N+=1,x=a.charCodeAt(1),k=r.get(x),M++);for(let I=M;I<d;I++){let O=I,R=a.charCodeAt(I),K,q;ln(R)?(I++,K=0,q=2):(K=r.get(R),q=dx(R,N,i,o)),f9(x,k,R,K)&&(v=O,w=N),N+=q,N>y&&((v===0||N-w>u)&&(v=O,w=N-q),f[_]=v,m[_]=w,_++,y=w+u,v=0),x=R,k=K}return _===0&&(!t||t.length===0)?null:(f[_]=d,m[_]=N,new Nf(c,l,f,m,h))}function dx(r,e,t,i){return r===9?t-e%t:yl(r)||r<32?i:1}function eee(r,e){return e-r%e}function f9(r,e,t,i){return t!==32&&(e===2&&i!==2||e!==1&&i===1||e===3&&i!==2||i===3&&e!==1)}function tee(r,e,t,i,n){let o=0;if(n!==0){let s=En(r);if(s!==-1){for(let l=0;l<s;l++)o+=r.charCodeAt(l)===9?eee(o,e):1;let a=n===3?2:n===2?1:0;for(let l=0;l<a;l++)o+=eee(o,e);o+i>t&&(o=0)}}return o}Zu();Ye();$m();var g9,m9=(g9=window.trustedTypes)===null||g9===void 0?void 0:g9.createPolicy("domLineBreaksComputer",{createHTML:r=>r}),Bw=class{static create(){return new Bw}constructor(){}createLineBreaksComputer(e,t,i,n){let o=[],s=[];return{addRequest:(a,l,c)=>{o.push(a),s.push(l)},finalize:()=>qpe(o,e,t,i,n,s)}}};function qpe(r,e,t,i,n,o){var s;function a(O){let R=o[O];if(R){let K=os.applyInjectedText(r[O],R),q=R.map(ie=>ie.options),te=R.map(ie=>ie.column-1);return new Nf(te,q,[K.length],[],0)}else return null}if(i===-1){let O=[];for(let R=0,K=r.length;R<K;R++)O[R]=a(R);return O}let l=Math.round(i*e.typicalHalfwidthCharacterWidth),d=Math.round(t*(n===3?2:n===2?1:0)),h=Math.ceil(e.spaceWidth*d),u=document.createElement("div");In(u,e);let f=Ya(1e4),m=[],_=[],v=[],w=[],y=[];for(let O=0;O<r.length;O++){let R=os.applyInjectedText(r[O],o[O]),K=0,q=0,te=l;if(n!==0)if(K=En(R),K===-1)K=0;else{for(let Re=0;Re<K;Re++)q+=R.charCodeAt(Re)===9?t-q%t:1;let Ae=Math.ceil(e.spaceWidth*q);Ae+e.typicalFullwidthCharacterWidth>l?(K=0,q=0):te=l-Ae}let ie=R.substr(K),xe=Ype(ie,q,t,te,f,h);m[O]=K,_[O]=q,v[O]=ie,w[O]=xe[0],y[O]=xe[1]}let x=f.build(),k=(s=m9?.createHTML(x))!==null&&s!==void 0?s:x;u.innerHTML=k,u.style.position="absolute",u.style.top="10000",u.style.wordWrap="break-word",document.body.appendChild(u);let N=document.createRange(),M=Array.prototype.slice.call(u.children,0),I=[];for(let O=0;O<r.length;O++){let R=M[O],K=Zpe(N,R,v[O],w[O]);if(K===null){I[O]=a(O);continue}let q=m[O],te=_[O]+d,ie=y[O],xe=[];for(let nt=0,Dt=K.length;nt<Dt;nt++)xe[nt]=ie[K[nt]];if(q!==0)for(let nt=0,Dt=K.length;nt<Dt;nt++)K[nt]+=q;let Ae,Re,Ve=o[O];Ve?(Ae=Ve.map(nt=>nt.options),Re=Ve.map(nt=>nt.column-1)):(Ae=null,Re=null),I[O]=new Nf(Re,Ae,K,xe,te)}return document.body.removeChild(u),I}function Ype(r,e,t,i,n,o){if(o!==0){let u=String(o);n.appendASCIIString('<div style="text-indent: -'),n.appendASCIIString(u),n.appendASCIIString("px; padding-left: "),n.appendASCIIString(u),n.appendASCIIString("px; box-sizing: border-box; width:")}else n.appendASCIIString('<div style="width:');n.appendASCIIString(String(i)),n.appendASCIIString('px;">');let s=r.length,a=e,l=0,c=[],d=[],h=0<s?r.charCodeAt(0):0;n.appendASCIIString("<span>");for(let u=0;u<s;u++){u!==0&&u%16384===0&&n.appendASCIIString("</span><span>"),c[u]=l,d[u]=a;let f=h;h=u+1<s?r.charCodeAt(u+1):0;let m=1,_=1;switch(f){case 9:m=t-a%t,_=m;for(let v=1;v<=m;v++)v<m?n.write1(160):n.appendASCII(32);break;case 32:h===32?n.write1(160):n.appendASCII(32);break;case 60:n.appendASCIIString("&lt;");break;case 62:n.appendASCIIString("&gt;");break;case 38:n.appendASCIIString("&amp;");break;case 0:n.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:n.write1(65533);break;default:yl(f)&&_++,f<32?n.write1(9216+f):n.write1(f)}l+=m,a+=_}return n.appendASCIIString("</span>"),c[r.length]=l,d[r.length]=a,n.appendASCIIString("</div>"),[c,d]}function Zpe(r,e,t,i){if(t.length<=1)return null;let n=Array.prototype.slice.call(e.children,0),o=[];try{_9(r,n,i,0,null,t.length-1,null,o)}catch(s){return console.log(s),null}return o.length===0?null:(o.push(t.length),o)}function _9(r,e,t,i,n,o,s,a){if(i===o||(n=n||p9(r,e,t[i],t[i+1]),s=s||p9(r,e,t[o],t[o+1]),Math.abs(n[0].top-s[0].top)<=.1))return;if(i+1===o){a.push(o);return}let l=i+(o-i)/2|0,c=p9(r,e,t[l],t[l+1]);_9(r,e,t,i,n,l,c,a),_9(r,e,t,l,c,o,s,a)}function p9(r,e,t,i){return r.setStart(e[t/16384|0].firstChild,t%16384),r.setEnd(e[i/16384|0].firstChild,i%16384),r.getClientRects()}io();oi();var Gpe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Tf=function(r,e){return function(t,i){e(t,i,r)}},Xpe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Qpe=0,v9=class{constructor(e,t,i,n,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o}dispose(){ft(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}},Pf=class jw extends ${constructor(e,t,i,n,o,s,a,l,c,d,h,u){super(),this.languageConfigurationService=h,this._deliveryQueue=new dS,this._onDidDispose=this._register(new B),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new EA({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new EA({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new B({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();let f=Object.assign({},t);this._domElement=e,this._overflowWidgetsDomNode=f.overflowWidgetsDomNode,delete f.overflowWidgetsDomNode,this._id=++Qpe,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,f,d)),this._register(this._configuration.onDidChange(v=>{this._onDidChangeConfiguration.fire(v);let w=this._configuration.options;if(v.hasChanged(133)){let y=w.get(133);this._onDidLayoutChange.fire(y)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=o,this._commandService=s,this._themeService=l,this._register(new C9(this,this._contextKeyService)),this._register(new w9(this,this._contextKeyService,u)),this._instantiationService=n.createChild(new Gh([Te,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new y9(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let m;Array.isArray(i.contributions)?m=i.contributions:m=Lh.getEditorContributions();for(let v of m){if(this._contributions[v.id]){Pe(new Error(`Cannot have two contributions with the same id ${v.id}`));continue}try{let w=this._instantiationService.createInstance(v.ctor,this);this._contributions[v.id]=w}catch(w){Pe(w)}}Lh.getEditorActions().forEach(v=>{if(this._actions[v.id]){Pe(new Error(`Cannot have two actions with the same id ${v.id}`));return}let w=new Cw(v.id,v.label,v.alias,Va(v.precondition),()=>this._instantiationService.invokeFunction(y=>Promise.resolve(v.runEditorCommand(y,this,null))),this._contextKeyService);this._actions[w.id]=w});let _=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new SN(this._domElement,{onDragEnter:()=>{},onDragOver:v=>{if(!_())return;let w=this.getTargetAtClientPoint(v.clientX,v.clientY);w?.position&&this.showDropIndicatorAt(w.position)},onDrop:v=>Xpe(this,void 0,void 0,function*(){if(!_()||(this.removeDropIndicator(),!v.dataTransfer))return;let w=this.getTargetAtClientPoint(v.clientX,v.clientY);w?.position&&this._onDropIntoEditor.fire({position:w.position,event:v})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(e,t,i){return new FN(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return im.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();let e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){let n=e[t];this._contributions[n].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Qt.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),e):null}getValue(e=null){if(!this._modelData)return"";let t=!!(e&&e.preserveBOM),i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){!this._modelData||this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){let t=e;if(this._modelData===null&&t===null||this._modelData&&this._modelData.model===t)return;let i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();let o={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){let t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,n){let o=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(s.lineNumber,n)}getTopForLineNumber(e,t=!1){return this._modelData?jw._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?jw._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,i,n=!1){let o=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber,n)}getBottomForLineNumber(e,t=!1){return this._modelData?jw._getVerticalOffsetAfterPosition(this._modelData,e,1,t):-1}setHiddenAreas(e){var t;(t=this._modelData)===null||t===void 0||t.viewModel.setHiddenAreas(e.map(i=>D.lift(i)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;let t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return Mi.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(!!this._modelData){if(!H.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!D.isIRange(e))throw new Error("Invalid arguments");let o=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,s,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new D(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!H.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new D(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){let i=ge.isISelection(e),n=D.isIRange(e);if(!i&&!n)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(n){let o={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(o,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;let i=new ge(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new D(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!D.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(D.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(!!this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let n=0,o=e.length;n<o;n++)if(!ge.isISelection(e[n]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;let e={},t=Object.keys(this._contributions);for(let o of t){let s=this._contributions[o];typeof s.saveViewState=="function"&&(e[o]=s.saveViewState())}let i=this._modelData.viewModel.saveCursorState(),n=this._modelData.viewModel.saveState();return{cursorState:i,viewState:n,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;let t=e;if(t&&t.cursorState&&t.viewState){let i=t.cursorState;Array.isArray(i)?i.length>0&&this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]);let n=t.contributionsState||{},o=Object.keys(this._contributions);for(let a=0,l=o.length;a<l;a++){let c=o[a],d=this._contributions[c];typeof d.restoreViewState=="function"&&d.restoreViewState(n[c])}let s=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(s)}}getContribution(e){return this._contributions[e]||null}getActions(){let e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){let o=t[i];e.push(this._actions[o])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{let o=i;this._type(e,o.text||"");return}case"replacePreviousChar":{let o=i;this._compositionType(e,o.text||"",o.replaceCharCnt||0,0,0);return}case"compositionType":{let o=i;this._compositionType(e,o.text||"",o.replacePrevCharCnt||0,o.replaceNextCharCnt||0,o.positionDelta||0);return}case"paste":{let o=i;this._paste(e,o.text||"",o.pasteOnNewLine||!1,o.multicursorText||null,o.mode||null);return}case"cut":this._cut(e);return}let n=this.getAction(t);if(n){Promise.resolve(n.run()).then(void 0,Pe);return}!this._modelData||this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i)}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){!this._modelData||(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){!this._modelData||this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){if(!this._modelData||t.length===0)return;let s=this._modelData.viewModel,a=s.getSelection().getStartPosition();s.paste(t,i,n,e);let l=s.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new D(a.lineNumber,a.column,l.lineNumber,l.column),languageId:o})}_cut(e){!this._modelData||this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){let n=Lh.getEditorCommand(t);return n?(i=i||{},i.source=e,this._instantiationService.invokeFunction(o=>{Promise.resolve(n.runEditorCommand(o,this,i)).then(void 0,Pe)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(83))return!1;let n;return i?Array.isArray(i)?n=()=>i:n=i:n=()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){!this._modelData||this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){!this._modelData||this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new S9(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,h_(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,h_(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(t=>{t.deltaDecorations(e,[])})}removeDecorationsByType(e){let t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){let t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){let t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){let i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){let t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){let i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){let t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){let t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){let i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){let t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){let i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;let t=this._modelData.model.validatePosition(e),i=this._configuration.options,n=i.get(133),o=jw._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-this.getScrollLeft();return{top:o,left:s,height:i.get(61)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){In(e,this._configuration.options.get(46))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}let t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();let i=new xA(this._id,this._configuration,e,Bw.create(),Fw.create(this._configuration.options),s=>zs(s),this.languageConfigurationService,this._themeService);t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(s=>{switch(s.kind){case 0:this._onDidContentSizeChange.fire(s);break;case 1:this._editorTextFocus.setValue(s.hasFocus);break;case 2:this._onDidScrollChange.fire(s);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{s.reachedMaxCursorCount&&this._notificationService.warn(g("cursors.maximum","The number of cursors has been limited to {0}.",jh.MAX_CURSOR_COUNT));let a=[];for(let d=0,h=s.selections.length;d<h;d++)a[d]=s.selections[d].getPosition();let l={position:a[0],secondaryPositions:a.slice(1),reason:s.reason,source:s.source};this._onDidChangeCursorPosition.fire(l);let c={selection:s.selections[0],secondarySelections:s.selections.slice(1),modelVersionId:s.modelVersionId,oldSelections:s.oldSelections,oldModelVersionId:s.oldModelVersionId,source:s.source,reason:s.reason};this._onDidChangeCursorSelection.fire(c);break}case 7:this._onDidChangeModelDecorations.fire(s.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(s.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(s.event);break;case 10:this._onDidChangeModelContent.fire(s.event);break;case 11:this._onDidChangeModelOptions.fire(s.event);break;case 12:this._onDidChangeModelTokens.fire(s.event);break}}));let[n,o]=this._createView(i);if(o){this._domElement.appendChild(n.domNode.domNode);let s=Object.keys(this._contentWidgets);for(let a=0,l=s.length;a<l;a++){let c=s[a];n.addContentWidget(this._contentWidgets[c])}s=Object.keys(this._overlayWidgets);for(let a=0,l=s.length;a<l;a++){let c=s[a];n.addOverlayWidget(this._overlayWidgets[c])}n.render(!1,!0),n.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new v9(e,i,n,o,t)}_createView(e){let t;this.isSimpleWidget?t={paste:(o,s,a,l)=>{this._paste("keyboard",o,s,a,l)},type:o=>{this._type("keyboard",o)},compositionType:(o,s,a,l)=>{this._compositionType("keyboard",o,s,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(o,s,a,l)=>{let c={text:o,pasteOnNewLine:s,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:o=>{let s={text:o};this._commandService.executeCommand("type",s)},compositionType:(o,s,a,l)=>{if(a||l){let c={text:o,replacePrevCharCnt:s,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{let c={text:o,replaceCharCnt:s};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};let i=new Fm(e.coordinatesConverter);return i.onKeyDown=o=>this._onKeyDown.fire(o),i.onKeyUp=o=>this._onKeyUp.fire(o),i.onContextMenu=o=>this._onContextMenu.fire(o),i.onMouseMove=o=>this._onMouseMove.fire(o),i.onMouseLeave=o=>this._onMouseLeave.fire(o),i.onMouseDown=o=>this._onMouseDown.fire(o),i.onMouseUp=o=>this._onMouseUp.fire(o),i.onMouseDrag=o=>this._onMouseDrag.fire(o),i.onMouseDrop=o=>this._onMouseDrop.fire(o),i.onMouseDropCanceled=o=>this._onMouseDropCanceled.fire(o),i.onMouseWheel=o=>this._onMouseWheel.fire(o),[new bP(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;let e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){let t=[{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),options:jw.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};Pf.dropIntoEditorDecorationOptions=Ge.register({description:"workbench-dnd-target",className:"dnd-target"});Pf=Gpe([Tf(3,je),Tf(4,kt),Tf(5,yi),Tf(6,Te),Tf(7,Tt),Tf(8,ui),Tf(9,vs),Tf(10,ii),Tf(11,_e)],Pf);var EA=class extends ${constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new B(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new B(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){let t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}},C9=class extends ${constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=F.editorSimpleInput.bindTo(t),this._editorFocus=F.focus.bindTo(t),this._textInputFocus=F.textInputFocus.bindTo(t),this._editorTextFocus=F.editorTextFocus.bindTo(t),this._editorTabMovesFocus=F.tabMovesFocus.bindTo(t),this._editorReadonly=F.readOnly.bindTo(t),this._inDiffEditor=F.inDiffEditor.bindTo(t),this._editorColumnSelection=F.columnSelection.bindTo(t),this._hasMultipleSelections=F.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=F.hasNonEmptySelection.bindTo(t),this._canUndo=F.canUndo.bindTo(t),this._canRedo=F.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){let e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(132)),this._editorReadonly.set(e.get(83)),this._inDiffEditor.set(e.get(56)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){let e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){let e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}},w9=class extends ${constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=F.languageId.bindTo(t),this._hasCompletionItemProvider=F.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=F.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=F.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=F.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=F.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=F.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=F.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=F.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=F.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=F.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=F.hasReferenceProvider.bindTo(t),this._hasRenameProvider=F.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=F.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=F.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=F.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=F.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=F.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=F.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=F.isInWalkThroughSnippet.bindTo(t);let n=()=>this._update();this._register(e.onDidChangeModel(n)),this._register(e.onDidChangeModelLanguage(n)),this._register(i.completionProvider.onDidChange(n)),this._register(i.codeActionProvider.onDidChange(n)),this._register(i.codeLensProvider.onDidChange(n)),this._register(i.definitionProvider.onDidChange(n)),this._register(i.declarationProvider.onDidChange(n)),this._register(i.implementationProvider.onDidChange(n)),this._register(i.typeDefinitionProvider.onDidChange(n)),this._register(i.hoverProvider.onDidChange(n)),this._register(i.documentHighlightProvider.onDidChange(n)),this._register(i.documentSymbolProvider.onDidChange(n)),this._register(i.referenceProvider.onDidChange(n)),this._register(i.renameProvider.onDidChange(n)),this._register(i.documentFormattingEditProvider.onDidChange(n)),this._register(i.documentRangeFormattingEditProvider.onDidChange(n)),this._register(i.signatureHelpProvider.onDidChange(n)),this._register(i.inlayHintsProvider.onDidChange(n)),n()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){let e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===lt.walkThroughSnippet)})}},y9=class extends ${constructor(e){super(),this._onChange=this._register(new B),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(Ol(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}},S9=class{constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}get length(){return this._decorationIds.length}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations(n=>{this._isChangingDecorations||e.call(t,n)},i)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];let e=this._editor.getModel(),t=[];for(let i of this._decorationIds){let n=e.getDecorationRange(i);n&&t.push(n)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}}},Jpe=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),e_e=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function b9(r){return Jpe+encodeURIComponent(r.toString())+e_e}var t_e=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),i_e=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function n_e(r){return t_e+encodeURIComponent(r.toString())+i_e}Lt((r,e)=>{let t=r.getColor(KN);t&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${t}; }`);let i=r.getColor(Lc);i&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${b9(i)}") repeat-x bottom left; }`);let n=r.getColor(WG);n&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${n}; }`);let o=r.getColor(lf);o&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${o}; }`);let s=r.getColor(Cs);s&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${b9(s)}") repeat-x bottom left; }`);let a=r.getColor(zG);a&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);let l=r.getColor(sb);l&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);let c=r.getColor(pr);c&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${b9(c)}") repeat-x bottom left; }`);let d=r.getColor(VG);d&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${d}; }`);let h=r.getColor(HG);h&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${h}; }`);let u=r.getColor(UG);u&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${n_e(u)}") no-repeat bottom left; }`);let f=r.getColor(bQ);f&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${f.rgba.a}; }`);let m=r.getColor(_Q);m&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${m}; }`);let _=r.getColor(Wr)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${_}}`)});Ne();Fe();fO();Fe();Oe();var ai=class{constructor(e,t,i){let n=o=>this.emitter.fire(o);this.emitter=new B({onFirstListenerAdd:()=>e.addEventListener(t,n,i),onLastListenerRemove:()=>e.removeEventListener(t,n,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}};function IA(r){return r.preventDefault(),r.stopPropagation(),r}ot();Oe();se();At();var zw=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},o_e=!1,hx;(function(r){r.North="north",r.South="south",r.East="east",r.West="west"})(hx||(hx={}));var r_e=4,s_e=new B,a_e=300,l_e=new B,ux=class{constructor(){this.disposables=new J}get onPointerMove(){return this.disposables.add(new ai(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new ai(window,"mouseup")).event}dispose(){this.disposables.dispose()}};zw([yn],ux.prototype,"onPointerMove",null);zw([yn],ux.prototype,"onPointerUp",null);var fx=class{constructor(e){this.el=e,this.disposables=new J}get onPointerMove(){return this.disposables.add(new ai(this.el,mi.Change)).event}get onPointerUp(){return this.disposables.add(new ai(this.el,mi.End)).event}dispose(){this.disposables.dispose()}};zw([yn],fx.prototype,"onPointerMove",null);zw([yn],fx.prototype,"onPointerUp",null);var Ww=class{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}};zw([yn],Ww.prototype,"onPointerMove",null);zw([yn],Ww.prototype,"onPointerUp",null);var iee="pointer-events-disabled",oo=class extends ${constructor(e,t,i){super(),this.hoverDelay=a_e,this.hoverDelayer=this._register(new gr(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new B),this._onDidStart=this._register(new B),this._onDidChange=this._register(new B),this._onDidReset=this._register(new B),this._onDidEnd=this._register(new B),this.orthogonalStartSashDisposables=this._register(new J),this.orthogonalStartDragHandleDisposables=this._register(new J),this.orthogonalEndSashDisposables=this._register(new J),this.orthogonalEndDragHandleDisposables=this._register(new J),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=oe(e,he(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),at&&this.el.classList.add("mac");let n=this._register(new ai(this.el,"mousedown")).event;this._register(n(h=>this.onPointerStart(h,new ux),this));let o=this._register(new ai(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));let s=this._register(new ai(this.el,"mouseenter")).event;this._register(s(()=>oo.onMouseEnter(this)));let a=this._register(new ai(this.el,"mouseleave")).event;this._register(a(()=>oo.onMouseLeave(this))),this._register(Yt.addTarget(this.el));let l=Ie.map(this._register(new ai(this.el,mi.Start)).event,h=>{var u;return Object.assign(Object.assign({},h),{target:(u=h.initialTarget)!==null&&u!==void 0?u:null})});this._register(l(h=>this.onPointerStart(h,new fx(this.el)),this));let c=this._register(new ai(this.el,mi.Tap)).event,d=Ie.map(Ie.filter(Ie.debounce(c,(h,u)=>{var f;return{event:u,count:((f=h?.count)!==null&&f!==void 0?f:0)+1}},250),({count:h})=>h===2),({event:h})=>{var u;return Object.assign(Object.assign({},h),{target:(u=h.initialTarget)!==null&&u!==void 0?u:null})});this._register(d(this.onPointerDoublePress,this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=r_e,this._register(s_e.event(h=>{this.size=h,this.layout()}))),this._register(l_e.event(h=>this.hoverDelay=h)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",o_e),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){let t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=oe(this.el,he(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Ke(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new ai(this._orthogonalStartDragHandle,"mouseenter")).event(()=>oo.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new ai(this._orthogonalStartDragHandle,"mouseleave")).event(()=>oo.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){let t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=oe(this.el,he(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Ke(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new ai(this._orthogonalEndDragHandle,"mouseenter")).event(()=>oo.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new ai(this._orthogonalEndDragHandle,"mouseleave")).event(()=>oo.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){Xt.stop(e);let i=!1;if(!e.__orthogonalSashEvent){let m=this.getOrthogonalSash(e);m&&(i=!0,e.__orthogonalSashEvent=!0,m.onPointerStart(e,new Ww(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new Ww(t))),!this.state)return;let n=gG("iframe");for(let m of n)m.classList.add(iee);let o=e.pageX,s=e.pageY,a=e.altKey,l={startX:o,currentX:o,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);let c=No(this.el),d=()=>{let m="";i?m="all-scroll":this.orientation===1?this.state===1?m="s-resize":this.state===2?m="n-resize":m=at?"row-resize":"ns-resize":this.state===1?m="e-resize":this.state===2?m="w-resize":m=at?"col-resize":"ew-resize",c.textContent=`* { cursor: ${m} !important; }`},h=new J;d(),i||this.onDidEnablementChange.event(d,null,h);let u=m=>{Xt.stop(m,!1);let _={startX:o,currentX:m.pageX,startY:s,currentY:m.pageY,altKey:a};this._onDidChange.fire(_)},f=m=>{Xt.stop(m,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),h.dispose();for(let _ of n)_.classList.remove(iee)};t.onPointerMove(u,null,h),t.onPointerUp(f,null,h),h.add(t)}onPointerDoublePress(e){let t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&oo.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&oo.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){oo.onMouseLeave(this)}layout(){if(this.orientation===0){let e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{let e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){if(!(!e.target||!(e.target instanceof HTMLElement))&&e.target.classList.contains("orthogonal-drag-handle"))return e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}};ot();Oe();se();var rl=class{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(e.getScrollTop()!==0){let n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();let o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}}return new rl(t,i,e.getPosition())}restore(e){if(this._visiblePosition){let t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){let t=e.getPosition();if(!this._cursorPosition||!t)return;let i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}};lo();Ne();Fe();Fe();bs();ur();am();var Xh={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:Eo.text},Jm={CurrentDragAndDropData:void 0};Fe();Fe();ot();Di();ut();bn();xa();Ye();function aee(...r){return function(e,t){for(let i=0,n=r.length;i<n;i++){let o=r[i](e,t);if(o)return o}return null}}var JGe=lee.bind(void 0,!1),TA=lee.bind(void 0,!0);function lee(r,e,t){if(!t||t.length<e.length)return null;let i;return r?i=$0(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function c_e(r,e){let t=e.toLowerCase().indexOf(r.toLowerCase());return t===-1?null:[{start:t,end:t+r.length}]}function A9(r,e){return N9(r.toLowerCase(),e.toLowerCase(),0,0)}function N9(r,e,t,i){if(t===r.length)return[];if(i===e.length)return null;if(r[t]===e[i]){let n=null;return(n=N9(r,e,t+1,i+1))?dee({start:i,end:i+1},n):null}return N9(r,e,t,i+1)}function M9(r){return 97<=r&&r<=122}function PA(r){return 65<=r&&r<=90}function R9(r){return 48<=r&&r<=57}function d_e(r){return r===32||r===9||r===10||r===13}var h_e=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(r=>h_e.add(r.charCodeAt(0)));function cee(r){return M9(r)||PA(r)||R9(r)}function dee(r,e){return e.length===0?e=[r]:r.end===e[0].start?e[0].start=r.start:e.unshift(r),e}function hee(r,e){for(let t=e;t<r.length;t++){let i=r.charCodeAt(t);if(PA(i)||R9(i)||t>0&&!cee(r.charCodeAt(t-1)))return t}return r.length}function T9(r,e,t,i){if(t===r.length)return[];if(i===e.length)return null;if(r[t]!==e[i].toLowerCase())return null;{let n=null,o=i+1;for(n=T9(r,e,t+1,i+1);!n&&(o=hee(e,o))<e.length;)n=T9(r,e,t+1,o),o++;return n===null?null:dee({start:i,end:i+1},n)}}function u_e(r){let e=0,t=0,i=0,n=0,o=0;for(let d=0;d<r.length;d++)o=r.charCodeAt(d),PA(o)&&e++,M9(o)&&t++,cee(o)&&i++,R9(o)&&n++;let s=e/r.length,a=t/r.length,l=i/r.length,c=n/r.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:c}}function f_e(r){let{upperPercent:e,lowerPercent:t}=r;return t===0&&e>.6}function g_e(r){let{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:n}=r;return t>.2&&e<.8&&i>.6&&n<.2}function m_e(r){let e=0,t=0,i=0,n=0;for(let o=0;o<r.length;o++)i=r.charCodeAt(o),PA(i)&&e++,M9(i)&&t++,d_e(i)&&n++;return(e===0||t===0)&&n===0?r.length<=30:e<=5}function uee(r,e){if(!e||(e=e.trim(),e.length===0)||!m_e(r)||e.length>60)return null;let t=u_e(e);if(!g_e(t)){if(!f_e(t))return null;e=e.toLowerCase()}let i=null,n=0;for(r=r.toLowerCase();n<e.length&&(i=T9(r,e,0,n))===null;)n=hee(e,n+1);return i}var p_e=aee(TA,uee,c_e),__e=aee(TA,uee,A9),ree=new qs(1e4);function F9(r,e,t=!1){if(typeof r!="string"||typeof e!="string")return null;let i=ree.get(r);i||(i=new RegExp(WY(r),"i"),ree.set(r,i));let n=i.exec(e);return n?[{start:n.index,end:n.index+n[0].length}]:t?__e(r,e):p_e(r,e)}function fee(r,e,t,i,n,o){let s=Math.min(13,r.length);for(;t<s;t++){let a=Ub(r,e,t,i,n,o,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(a)return a}return[0,o]}function mx(r){if(typeof r>"u")return[];let e=[],t=r[1];for(let i=r.length-1;i>1;i--){let n=r[i]+t,o=e[e.length-1];o&&o.end===n?o.end=n+1:e.push({start:n,end:n+1})}return e}var tp=128;function B9(){let r=[],e=[];for(let t=0;t<=tp;t++)e[t]=0;for(let t=0;t<=tp;t++)r.push(e.slice(0));return r}function gee(r){let e=[];for(let t=0;t<=r;t++)e[t]=0;return e}var mee=gee(2*tp),P9=gee(2*tp),Qh=B9(),ep=B9(),gx=B9(),b_e=!1;function O9(r,e,t,i,n){function o(a,l,c=" "){for(;a.length<l;)a=c+a;return a}let s=` |   |${i.split("").map(a=>o(a,3)).join("|")}
`;for(let a=0;a<=t;a++)a===0?s+=" |":s+=`${e[a-1]}|`,s+=r[a].slice(0,n+1).map(l=>o(l.toString(),3)).join("|")+`
`;return s}function v_e(r,e,t,i){r=r.substr(e),t=t.substr(i),console.log(O9(ep,r,r.length,t,t.length)),console.log(O9(gx,r,r.length,t,t.length)),console.log(O9(Qh,r,r.length,t,t.length))}function OA(r,e){if(e<0||e>=r.length)return!1;let t=r.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!wS(t)}}function see(r,e){if(e<0||e>=r.length)return!1;switch(r.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function NA(r,e,t){return e[r]!==t[r]}function C_e(r,e,t,i,n,o,s=!1){for(;e<t&&n<o;)r[e]===i[n]&&(s&&(mee[e]=n),e+=1),n+=1;return e===t}var Ys;(function(r){r.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}r.isDefault=e})(Ys||(Ys={}));var Uw=class{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}};Uw.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function Ub(r,e,t,i,n,o,s=Uw.default){let a=r.length>tp?tp:r.length,l=i.length>tp?tp:i.length;if(t>=a||o>=l||a-t>l-o||!C_e(e,t,a,n,o,l,!0))return;w_e(a,l,t,o,e,n);let c=1,d=1,h=t,u=o,f=[!1];for(c=1,h=t;h<a;c++,h++){let y=mee[h],x=P9[h],k=h+1<a?P9[h+1]:l;for(d=y-o+1,u=y;u<k;d++,u++){let N=Number.MIN_SAFE_INTEGER,M=!1;u<=x&&(N=y_e(r,e,h,t,i,n,u,l,o,Qh[c-1][d-1]===0,f));let I=0;N!==Number.MAX_SAFE_INTEGER&&(M=!0,I=N+ep[c-1][d-1]);let O=u>y,R=O?ep[c][d-1]+(Qh[c][d-1]>0?-5:0):0,K=u>y+1&&Qh[c][d-1]>0,q=K?ep[c][d-2]+(Qh[c][d-2]>0?-5:0):0;if(K&&(!O||q>=R)&&(!M||q>=I))ep[c][d]=q,gx[c][d]=3,Qh[c][d]=0;else if(O&&(!M||R>=I))ep[c][d]=R,gx[c][d]=2,Qh[c][d]=0;else if(M)ep[c][d]=I,gx[c][d]=1,Qh[c][d]=Qh[c-1][d-1]+1;else throw new Error("not possible")}}if(b_e&&v_e(r,t,i,o),!f[0]&&!s.firstMatchCanBeWeak)return;c--,d--;let m=[ep[c][d],o],_=0,v=0;for(;c>=1;){let y=d;do{let x=gx[c][y];if(x===3)y=y-2;else if(x===2)y=y-1;else break}while(y>=1);_>1&&e[t+c-1]===n[o+d-1]&&!NA(y+o-1,i,n)&&_+1>Qh[c][y]&&(y=d),y===d?_++:_=1,v||(v=y),c--,d=y-1,m.push(d)}l===a&&s.boostFullMatch&&(m[0]+=2);let w=v-a;return m[0]-=w,m}function w_e(r,e,t,i,n,o){let s=r-1,a=e-1;for(;s>=t&&a>=i;)n[s]===o[a]&&(P9[s]=a,s--),a--}function y_e(r,e,t,i,n,o,s,a,l,c,d){if(e[t]!==o[s])return Number.MIN_SAFE_INTEGER;let h=1,u=!1;return s===t-i?h=r[t]===n[s]?7:5:NA(s,n,o)&&(s===0||!NA(s-1,n,o))?(h=r[t]===n[s]?7:5,u=!0):OA(o,s)&&(s===0||!OA(o,s-1))?h=5:(OA(o,s-1)||see(o,s-1))&&(h=5,u=!0),h>1&&t===i&&(d[0]=!0),u||(u=NA(s,n,o)||OA(o,s-1)||see(o,s-1)),t===i?s>l&&(h-=u?3:5):c?h+=u?2:0:h+=u?0:1,s+1===a&&(h-=u?3:5),h}function pee(r,e,t,i,n,o,s){return S_e(r,e,t,i,n,o,!0,s)}function S_e(r,e,t,i,n,o,s,a){let l=Ub(r,e,t,i,n,o,a);if(l&&!s)return l;if(r.length>=3){let c=Math.min(7,r.length-1);for(let d=t+1;d<c;d++){let h=L_e(r,d);if(h){let u=Ub(h,h.toLowerCase(),t,i,n,o,a);u&&(u[0]-=3,(!l||u[0]>l[0])&&(l=u))}}}return l}function L_e(r,e){if(e+1>=r.length)return;let t=r[e],i=r[e+1];if(t!==i)return r.slice(0,e)+i+t+r.slice(e+2)}Ye();var px="$(",j9=new RegExp(`\\$\\(${po.iconNameExpression}(?:${po.iconModifierExpression})?\\)`,"g"),x_e=new RegExp(po.iconNameCharacter),D_e=new RegExp(`(\\\\)?${j9.source}`,"g");function _ee(r){return r.replace(D_e,(e,t)=>t?e:`\\${e}`)}var k_e=new RegExp(`\\\\${j9.source}`,"g");function bee(r){return r.replace(k_e,e=>`\\${e}`)}var E_e=new RegExp(`(\\s)?(\\\\)?${j9.source}(\\s)?`,"g");function AA(r){return r.indexOf(px)===-1?r:r.replace(E_e,(e,t,i,n)=>i?e:t||n||"")}function Hb(r){let e=r.indexOf(px);return e===-1?{text:r}:I_e(r,e)}function I_e(r,e){let t=[],i="";function n(u){if(u){i+=u;for(let f of u)t.push(a)}}let o=-1,s="",a=0,l,c,d=e,h=r.length;for(n(r.substr(0,e));d<h;)l=r[d],c=r[d+1],l===px[0]&&c===px[1]?(o=d,n(s),s=px,d++):l===")"&&o!==-1?(a+=d-o+1,o=-1,s=""):o!==-1?x_e.test(l)?s+=l:(n(s),o=-1,s=""):n(l),d++;return n(s),{text:i,iconOffsets:t}}function _x(r,e,t=!1){let{text:i,iconOffsets:n}=e;if(!n||n.length===0)return F9(r,i,t);let o=U0(i," "),s=i.length-o.length,a=F9(r,o,t);if(a)for(let l of a){let c=n[l.start+s]+s;l.start+=c,l.end+=c}return a}Ye();var ro=class{constructor(e="",t=!1){var i,n,o;if(this.value=e,typeof this.value!="string")throw gs("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(i=t.isTrusted)!==null&&i!==void 0?i:void 0,this.supportThemeIcons=(n=t.supportThemeIcons)!==null&&n!==void 0?n:!1,this.supportHtml=(o=t.supportHtml)!==null&&o!==void 0?o:!1)}appendText(e,t=0){return this.value+=O_e(this.supportThemeIcons?_ee(e):e).replace(/([ \t]+)/g,(i,n)=>"&nbsp;".repeat(n.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){let i=new RegExp(_o(t),"g");return e.replace(i,(n,o)=>e.charAt(o-1)!=="\\"?`\\${n}`:n)}};function Af(r){return W9(r)?!r.value:Array.isArray(r)?r.every(Af):!0}function W9(r){return r instanceof ro?!0:r&&typeof r=="object"?typeof r.value=="string"&&(typeof r.isTrusted=="boolean"||r.isTrusted===void 0)&&(typeof r.supportThemeIcons=="boolean"||r.supportThemeIcons===void 0):!1}function O_e(r){return r.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function bx(r){return r.replace(/"/g,"&quot;")}function MA(r){return r&&r.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function vee(r){let e=[],t=r.split("|").map(n=>n.trim());r=t[0];let i=t[1];if(i){let n=/height=(\d+)/.exec(i),o=/width=(\d+)/.exec(i),s=n?n[1]:"",a=o?o[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(s));l&&e.push(`width="${a}"`),c&&e.push(`height="${s}"`)}return{href:r,dimensions:e}}se();ti();Ne();var z9=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function Cee(r,e){zo(e)?r.title=AA(e):e?.markdownNotSupportedFallback?r.title=e.markdownNotSupportedFallback:r.removeAttribute("title")}var V9=class{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}update(e,t,i){var n;return z9(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let o;if(e===void 0||zo(e)||e instanceof HTMLElement)o=e;else if(!N0(e.markdown))o=(n=e.markdown)!==null&&n!==void 0?n:e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(g("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new qi;let s=this._cancellationTokenSource.token;if(o=yield e.markdown(s),o===void 0&&(o=e.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(o,t,i)})}show(e,t,i){let n=this._hoverWidget;if(this.hasContent(e)){let o=Object.assign({content:e,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!n},i);this._hoverWidget=this.hoverDelegate.showHover(o,t)}n?.dispose()}hasContent(e){return e?W9(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)===null||e===void 0?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)===null||e===void 0||e.dispose(),(t=this._cancellationTokenSource)===null||t===void 0||t.dispose(!0),this._cancellationTokenSource=void 0}};function RA(r,e,t,i){let n,o,s=(h,u)=>{var f;h&&(o?.dispose(),o=void 0),u&&(n?.dispose(),n=void 0),(f=r.onDidHideHover)===null||f===void 0||f.call(r)},a=(h,u,f)=>new On(()=>z9(this,void 0,void 0,function*(){(!o||o.isDisposed)&&(o=new V9(r,f||e,h>0),yield o.update(t,u,i))}),h),l=()=>{if(n)return;let h=new J,u=_=>s(!1,_.fromElement===e);h.add(ne(e,ye.MOUSE_LEAVE,u,!0));let f=()=>s(!0,!0);h.add(ne(e,ye.MOUSE_DOWN,f,!0));let m={targetElements:[e],dispose:()=>{}};if(r.placement===void 0||r.placement==="mouse"){let _=v=>{m.x=v.x+10,v.target instanceof HTMLElement&&v.target.classList.contains("action-label")&&s(!0,!0)};h.add(ne(e,ye.MOUSE_MOVE,_,!0))}h.add(a(r.delay,!1,m)),n=h},c=ne(e,ye.MOUSE_OVER,l,!0);return{show:h=>{s(!1,!0),a(0,h)},hide:()=>{s(!0,!0)},update:(h,u)=>z9(this,void 0,void 0,function*(){t=h,yield o?.update(t,void 0,u)}),dispose:()=>{c.dispose(),s(!0,!0)}}}Fr();se();At();ti();Ne();var Zs=class extends ${constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Xn&&this._register(t.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}get action(){return this._action}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Nl)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){let t=this.element=e;this._register(Yt.addTarget(e));let i=this.options&&this.options.draggable;i&&(e.draggable=!0,ao&&this._register(ne(e,ye.DRAG_START,n=>{var o;return(o=n.dataTransfer)===null||o===void 0?void 0:o.setData(Xh.TEXT,this._action.label)}))),this._register(ne(t,mi.Tap,n=>this.onClick(n,!0))),this._register(ne(t,ye.MOUSE_DOWN,n=>{i||Xt.stop(n,!0),this._action.enabled&&n.button===0&&t.classList.add("active")})),at&&this._register(ne(t,ye.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register(ne(t,ye.CLICK,n=>{Xt.stop(n,!0),this.options&&this.options.isMenu||this.onClick(n)})),this._register(ne(t,ye.DBLCLICK,n=>{Xt.stop(n,!0)})),[ye.MOUSE_UP,ye.MOUSE_OUT].forEach(n=>{this._register(ne(t,n,o=>{Xt.stop(o),t.classList.remove("active")}))})}onClick(e,t=!1){var i;Xt.stop(e,!0);let n=Tr(this._context)?!((i=this.options)===null||i===void 0)&&i.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var e;if(!this.element)return;let t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.element.setAttribute("aria-label",t),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(t):(this.customHover=RA(this.options.hoverDelegate,this.element,t),this._store.add(this.customHover))):this.element.title=t}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}},Pd=class extends Zs{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=oe(this.element,he("a.action-label"))),this.label&&(this._action.id===Bn.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(oe(this.element,he("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let e=null;return this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=g({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(e=this.label)===null||e===void 0||e.classList.remove("codicon")}updateEnabled(){var e,t;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(e=this.element)===null||e===void 0||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(t=this.element)===null||t===void 0||t.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}};Fr();Oe();se();ti();var N_e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},nr=class extends ${constructor(e,t={}){var i,n,o,s,a,l;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new B),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new B({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new B),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new B),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(s=(o=this.options.triggerKeys)===null||o===void 0?void 0:o.keyDown)!==null&&s!==void 0?s:!1,keys:(l=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Nl,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let c,d;switch(this._orientation){case 0:c=[15],d=[17];break;case 1:c=[16],d=[18],this.domNode.className+=" vertical";break}this._register(ne(this.domNode,ye.KEY_DOWN,h=>{let u=new Gt(h),f=!0,m=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(u.equals(c[0])||u.equals(c[1]))?f=this.focusPrevious():d&&(u.equals(d[0])||u.equals(d[1]))?f=this.focusNext():u.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():u.equals(14)?f=this.focusFirst():u.equals(13)?f=this.focusLast():u.equals(2)&&m instanceof Zs&&m.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(u)?this._triggerKeys.keyDown?this.doTrigger(u):this.triggerKeyDown=!0:f=!1,f&&(u.preventDefault(),u.stopPropagation())})),this._register(ne(this.domNode,ye.KEY_UP,h=>{let u=new Gt(h);this.isTriggerKeyEvent(u)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(u)),u.preventDefault(),u.stopPropagation()):(u.equals(2)||u.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(Ol(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(bm()===this.domNode||!wc(bm(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){let t=this.viewItems.find(i=>i instanceof Zs&&i.isEnabled());t instanceof Zs&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof Zs&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){let t=this.actionsList.children[e];if(wc(bm(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){let i=Array.isArray(e)?e:[e],n=za(t.index)?t.index:null;i.forEach(o=>{let s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation");let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(o)),a||(a=new Pd(this.context,o,Object.assign({hoverDelegate:this.options.hoverDelegate},t))),this.options.allowContextMenu||this.viewItemDisposables.set(a,ne(s,ye.CONTEXT_MENU,l=>{Xt.stop(l,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof Zs&&this.viewItems.length===0&&a.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a),this._actionIds.push(o.id)):(this.actionsList.insertBefore(s,this.actionsList.children[n]),this.viewItems.splice(n,0,a),this._actionIds.splice(n,0,o.id),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){ft(this.viewItems),this.viewItemDisposables.forEach(e=>e.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],Yi(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){let n=this.viewItems.findIndex(o=>o.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Bn.ID));return this.updateFocus(),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;let t=this.focusedItem,i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Bn.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var n;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());let o=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(o){let s=!0;N0(o.focus)||(s=!1),this.options.focusOnlyEnabledItems&&N0(o.isEnabled)&&!o.isEnabled()&&(s=!1),o.action.id===Bn.ID&&(s=!1),s?(i||this.previouslyFocusedItem!==this.focusedItem)&&(o.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0)}}doTrigger(e){if(typeof this.focusedItem>"u")return;let t=this.viewItems[this.focusedItem];if(t instanceof Zs){let i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}run(e,t){return N_e(this,void 0,void 0,function*(){yield this._actionRunner.run(e,t)})}dispose(){ft(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}};Fr();se();xt();lo();mh();rt();La();F_();St();Ai();Ct();bn();ot();bn();Oe();ti();vi();Ne();IO();fr();Ct();var T_e={IconContribution:"base.contributions.icons"},wee;(function(r){function e(t,i){let n=t.defaults;for(;Vt.isThemeIcon(n);){let o=$b.getIcon(n.id);if(!o)return;n=o.defaults}return n}r.getDefinition=e})(wee||(wee={}));var yee;(function(r){function e(i){return{weight:i.weight,style:i.style,src:i.src.map(n=>({format:n.format,location:n.location.toString()}))}}r.toJSONObject=e;function t(i){let n=o=>zo(o)?o:void 0;if(i&&Array.isArray(i.src)&&i.src.every(o=>zo(o.format)&&zo(o.location)))return{weight:n(i.weight),style:n(i.style),src:i.src.map(o=>({format:o.format,location:Ee.parse(o.location)}))}}r.fromJSONObject=t})(yee||(yee={}));var U9=class{constructor(){this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:g("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:g("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${po.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){let o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;let l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return o}let s={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return n&&(a.deprecationMessage=n),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){let e=(o,s)=>o.id.localeCompare(s.id),t=o=>{for(;Vt.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");let n=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(let o of n.filter(s=>!!s.description).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${Vt.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(let o of n.filter(s=>!Vt.isThemeIcon(s.defaults)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join(`
`)}},$b=new U9;di.add(T_e.IconContribution,$b);function fn(r,e,t,i){return $b.registerIcon(r,e,t,i)}function H9(){return $b}function P_e(){for(let r of p.getAll())$b.registerIcon(r.id,r.definition,r.description)}P_e();var Lee="vscode://schemas/icons",xee=di.as(w_.JSONContribution);xee.registerSchema(Lee,$b.getIconSchema());var See=new pt(()=>xee.notifySchemaChanged(Lee),200);$b.onDidChange(()=>{See.isScheduled()||See.schedule()});var FA=fn("widget-close",p.close,g("widgetClose","Icon for the close action in widgets.")),UXe=fn("goto-previous-location",p.arrowUp,g("previousChangeIcon","Icon for goto previous editor location.")),HXe=fn("goto-next-location",p.arrowDown,g("nextChangeIcon","Icon for goto next editor location.")),$Xe=Vt.modify(p.sync,"spin"),KXe=Vt.modify(p.loading,"spin");Qo();var A_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},M_e=function(r,e){return function(t,i){e(t,i,r)}},R_e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},$9,BA=3,qb=class{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}},vx=class{constructor(e){this.entries=e}},F_e=fn("diff-review-insert",p.add,g("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),B_e=fn("diff-review-remove",p.remove,g("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),j_e=fn("diff-review-close",p.close,g("diffReviewCloseIcon","Icon for 'Close' in diff review.")),Cx=class Kb extends ${constructor(e,t){super(),this._languageService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=mt(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=mt(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new nr(this.actionBarContainer.domNode)),this._actionBar.push(new Xn("diffreview.close",g("label.close","Close"),"close-diff-review "+Vt.asClassName(j_e),!0,()=>R_e(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=mt(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=mt(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new Tc(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Ti(this.domNode.domNode,"click",i=>{i.preventDefault();let n=e8(i.target,"diff-review-row");n&&this._goToRow(n)})),this._register(Ti(this.domNode.domNode,"keydown",i=>{(i.equals(18)||i.equals(2066)||i.equals(530))&&(i.preventDefault(),this._goToRow(this._getNextRow())),(i.equals(16)||i.equals(2064)||i.equals(528))&&(i.preventDefault(),this._goToRow(this._getPrevRow())),(i.equals(9)||i.equals(2057)||i.equals(521)||i.equals(1033))&&(i.preventDefault(),this.hide()),(i.equals(10)||i.equals(3))&&(i.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let n=0,o=this._diffs.length;n<o;n++)if(this._diffs[n]===this._currentDiff){i=n;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;let t=this._diffs[e].entries;this._diffEditor.setPosition(new H(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let n=0,o=this._diffs.length;n<o;n++)if(this._diffs[n]===this._currentDiff){i=n;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;let t=this._diffs[e].entries;this._diffEditor.setPosition(new H(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),e!==-1&&(this._diffEditor.setPosition(new H(e,1)),this._diffEditor.revealPosition(new H(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){let e=this._diffEditor.getLineChanges();if(!e||e.length===0)return[];let t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return!t||!i?[]:Kb._mergeAdjacent(e,t.getLineCount(),i.getLineCount())}static _mergeAdjacent(e,t,i){if(!e||e.length===0)return[];let n=[],o=0;for(let c=0,d=e.length;c<d;c++){let h=e[c],u=h.originalStartLineNumber,f=h.originalEndLineNumber,m=h.modifiedStartLineNumber,_=h.modifiedEndLineNumber,v=[],w=0;{let y=f===0?u:u-1,x=_===0?m:m-1,k=1,N=1;if(c>0){let O=e[c-1];O.originalEndLineNumber===0?k=O.originalStartLineNumber+1:k=O.originalEndLineNumber+1,O.modifiedEndLineNumber===0?N=O.modifiedStartLineNumber+1:N=O.modifiedEndLineNumber+1}let M=y-BA+1,I=x-BA+1;if(M<k){let O=k-M;M=M+O,I=I+O}if(I<N){let O=N-I;M=M+O,I=I+O}v[w++]=new qb(M,y,I,x)}f!==0&&(v[w++]=new qb(u,f,0,0)),_!==0&&(v[w++]=new qb(0,0,m,_));{let y=f===0?u+1:f+1,x=_===0?m+1:_+1,k=t,N=i;if(c+1<d){let O=e[c+1];O.originalEndLineNumber===0?k=O.originalStartLineNumber:k=O.originalStartLineNumber-1,O.modifiedEndLineNumber===0?N=O.modifiedStartLineNumber:N=O.modifiedStartLineNumber-1}let M=y+BA-1,I=x+BA-1;if(M>k){let O=k-M;M=M+O,I=I+O}if(I>N){let O=N-I;M=M+O,I=I+O}v[w++]=new qb(y,M,x,I)}n[o++]=new vx(v)}let s=n[0].entries,a=[],l=0;for(let c=1,d=n.length;c<d;c++){let h=n[c].entries,u=s[s.length-1],f=h[0];if(u.getType()===0&&f.getType()===0&&f.originalLineStart<=u.originalLineEnd){s[s.length-1]=new qb(u.originalLineStart,f.originalLineEnd,u.modifiedLineStart,f.modifiedLineEnd),s=s.concat(h.slice(1));continue}a[l++]=new vx(s),s=h}return a[l++]=new vx(s),a}_findDiffIndex(e){let t=e.lineNumber;for(let i=0,n=this._diffs.length;i<n;i++){let o=this._diffs[i].entries,s=o[o.length-1].modifiedLineEnd;if(t<=s)return i}return 0}_render(){let e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel(),o=i.getOptions(),s=n.getOptions();if(!this._isVisible||!i||!n){Yi(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});let a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];let l=this._diffs[a].entries,c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),c.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),In(c,t.get(46));let d=0,h=0,u=0,f=0;for(let I=0,O=l.length;I<O;I++){let R=l[I],K=R.originalLineStart,q=R.originalLineEnd,te=R.modifiedLineStart,ie=R.modifiedLineEnd;K!==0&&(d===0||K<d)&&(d=K),q!==0&&(h===0||q>h)&&(h=q),te!==0&&(u===0||te<u)&&(u=te),ie!==0&&(f===0||ie>f)&&(f=ie)}let m=document.createElement("div");m.className="diff-review-row";let _=document.createElement("div");_.className="diff-review-cell diff-review-summary";let v=h-d+1,w=f-u+1;_.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${d},${v} +${u},${w} @@`)),m.setAttribute("data-line",String(u));let y=I=>I===0?g("no_lines_changed","no lines changed"):I===1?g("one_line_changed","1 line changed"):g("more_lines_changed","{0} lines changed",I),x=y(v),k=y(w);m.setAttribute("aria-label",g({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,d,x,u,k)),m.appendChild(_),m.setAttribute("role","listitem"),c.appendChild(m);let N=t.get(61),M=u;for(let I=0,O=l.length;I<O;I++){let R=l[I];Kb._renderSection(c,R,M,N,this._width,e,i,o,t,n,s,this._languageService.languageIdCodec),R.modifiedLineStart!==0&&(M=R.modifiedLineEnd)}Yi(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,n,o,s,a,l,c,d,h,u){let f=t.getType(),m="diff-review-row",_="",v="diff-review-spacer",w=null;switch(f){case 1:m="diff-review-row line-insert",_=" char-insert",w=F_e;break;case 2:m="diff-review-row line-delete",_=" char-delete",w=B_e;break}let y=t.originalLineStart,x=t.originalLineEnd,k=t.modifiedLineStart,N=t.modifiedLineEnd,M=Math.max(N-k,x-y),I=s.get(133),O=I.glyphMarginWidth+I.lineNumbersWidth,R=c.get(133),K=10+R.glyphMarginWidth+R.lineNumbersWidth;for(let q=0;q<=M;q++){let te=y===0?0:y+q,ie=k===0?0:k+q,xe=document.createElement("div");xe.style.minWidth=o+"px",xe.className=m,xe.setAttribute("role","listitem"),ie!==0&&(i=ie),xe.setAttribute("data-line",String(i));let Ae=document.createElement("div");Ae.className="diff-review-cell",Ae.style.height=`${n}px`,xe.appendChild(Ae);let Re=document.createElement("span");Re.style.width=O+"px",Re.style.minWidth=O+"px",Re.className="diff-review-line-number"+_,te!==0?Re.appendChild(document.createTextNode(String(te))):Re.innerText="\xA0",Ae.appendChild(Re);let Ve=document.createElement("span");Ve.style.width=K+"px",Ve.style.minWidth=K+"px",Ve.style.paddingRight="10px",Ve.className="diff-review-line-number"+_,ie!==0?Ve.appendChild(document.createTextNode(String(ie))):Ve.innerText="\xA0",Ae.appendChild(Ve);let nt=document.createElement("span");if(nt.className=v,w){let Ei=document.createElement("span");Ei.className=Vt.asClassName(w),Ei.innerText="\xA0\xA0",nt.appendChild(Ei)}else nt.innerText="\xA0\xA0";Ae.appendChild(nt);let Dt;if(ie!==0){let Ei=this._renderLine(d,c,h.tabSize,ie,u);Kb._ttPolicy&&(Ei=Kb._ttPolicy.createHTML(Ei)),Ae.insertAdjacentHTML("beforeend",Ei),Dt=d.getLineContent(ie)}else{let Ei=this._renderLine(a,s,l.tabSize,te,u);Kb._ttPolicy&&(Ei=Kb._ttPolicy.createHTML(Ei)),Ae.insertAdjacentHTML("beforeend",Ei),Dt=a.getLineContent(te)}Dt.length===0&&(Dt=g("blankLine","blank"));let Si="";switch(f){case 0:te===ie?Si=g({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Dt,te):Si=g("equalLine","{0} original line {1} modified line {2}",Dt,te,ie);break;case 1:Si=g("insertLine","+ {0} modified line {1}",Dt,ie);break;case 2:Si=g("deleteLine","- {0} original line {1}",Dt,te);break}xe.setAttribute("aria-label",Si),e.appendChild(xe)}}static _renderLine(e,t,i,n,o){let s=e.getLineContent(n),a=t.get(46),l=tn.createEmpty(s,o),c=mr.isBasicASCII(s,e.mightContainNonBasicASCII()),d=mr.containsRTL(s,c,e.mightContainRTL());return uC(new js(a.isMonospace&&!t.get(29),a.canUseHalfwidthRightwardsArrow,s,!1,c,d,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(107),t.get(90),t.get(85),t.get(47)!==Xo.OFF,null)).html}};Cx._ttPolicy=($9=window.trustedTypes)===null||$9===void 0?void 0:$9.createPolicy("diffReview",{createHTML:r=>r});Cx=A_e([M_e(1,ei)],Cx);Lt((r,e)=>{let t=r.getColor(fT);t&&e.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${t}; }`);let i=r.getColor(kc);i&&e.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${i} 0 -6px 6px -6px inset; }`)});var K9=class extends we{constructor(){super({id:"editor.action.diffReview.next",label:g("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Se.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){let i=Dee(e);i&&i.diffReviewNext()}},q9=class extends we{constructor(){super({id:"editor.action.diffReview.prev",label:g("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Se.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){let i=Dee(e);i&&i.diffReviewPrev()}};function Dee(r){let e=r.get(kt),t=e.listDiffEditors(),i=e.getActiveCodeEditor();if(!i)return null;for(let n=0,o=t.length;n<o;n++){let s=t[n];if(s.getModifiedEditor().getId()===i.getId()||s.getOriginalEditor().getId()===i.getId())return s}return null}le(K9);le(q9);rt();Le();Zu();ES();Ao();Mf();dC();F_();St();Xe();Ai();Ct();Xe();var Bl=We("contextViewService"),Gs=We("contextMenuService");Ne();Fe();Fr();se();Le();bn();var Y9=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},jA=class extends ${constructor(e,t,i,n,o,s){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=o,this._clipboardService=s,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";let a=i.getOption(61),l=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);let c=[],d=n.modifiedEndLineNumber===0;c.push(new Xn("diff.clipboard.copyDeletedContent",d?n.originalEndLineNumber>n.modifiedStartLineNumber?g("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):g("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):n.originalEndLineNumber>n.modifiedStartLineNumber?g("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):g("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Y9(this,void 0,void 0,function*(){let _=new D(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),v=n.originalModel.getValueInRange(_);yield this._clipboardService.writeText(v)})));let h=0,u;n.originalEndLineNumber>n.modifiedStartLineNumber&&(u=new Xn("diff.clipboard.copyDeletedLineContent",d?g("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber):g("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber),void 0,!0,()=>Y9(this,void 0,void 0,function*(){let _=n.originalModel.getLineContent(n.originalStartLineNumber+h);if(_===""){let v=n.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(v===0?`
`:`\r
`)}else yield this._clipboardService.writeText(_)})),c.push(u)),i.getOption(83)||c.push(new Xn("diff.inline.revertChange",g("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Y9(this,void 0,void 0,function*(){let _=new D(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),v=n.originalModel.getValueInRange(_);if(n.modifiedEndLineNumber===0){let w=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new D(n.modifiedStartLineNumber,w,n.modifiedStartLineNumber,w),text:l+v}])}else{let w=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new D(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,w),text:v}])}})));let m=(_,v)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:_,y:v}),getActions:()=>(u&&(u.label=d?g("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber+h):g("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",n.originalStartLineNumber+h)),c),autoSelectFirstItem:!0})};this._register(Ti(this._diffActions,"mousedown",_=>{let{top:v,height:w}=dn(this._diffActions),y=Math.floor(a/3);_.preventDefault(),m(_.posx,v+w+y)})),this._register(i.onMouseMove(_=>{_.target.type===8||_.target.type===5?_.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,h=this._updateLightBulbPosition(this._marginDomNode,_.event.browserEvent.y,a)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(_=>{!_.event.rightButton||(_.target.type===8||_.target.type===5)&&_.target.detail.viewZoneId===this._viewZoneId&&(_.event.preventDefault(),h=this._updateLightBulbPosition(this._marginDomNode,_.event.browserEvent.y,a),m(_.event.posx,_.event.posy+a))}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,e?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(e,t,i){let{top:n}=dn(e),o=t-n,s=Math.floor(o/i),a=s*i;if(this._diffActions.style.top=`${a}px`,this.diff.viewLineCounts){let l=0;for(let c=0;c<this.diff.viewLineCounts.length;c++)if(l+=this.diff.viewLineCounts[c],s<l)return c}return s}};Xe();var Ls=We("clipboardService");xt();ut();Rc();bn();Tl();var z_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Rf=function(r,e){return function(t,i){e(t,i,r)}},Z9,zA=class{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(t=>!this._zonesMap[String(t.id)])}clean(e){this._zones.length>0&&e.changeViewZones(t=>{for(let i of this._zones)t.removeZone(i)}),this._zones=[],this._zonesMap={},e.changeDecorations(t=>{this._decorations=t.deltaDecorations(this._decorations,[])})}apply(e,t,i,n){let o=n?rl.capture(e):null;e.changeViewZones(s=>{var a;for(let l of this._zones)s.removeZone(l);for(let l of this._inlineDiffMargins)l.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let l=0,c=i.zones.length;l<c;l++){let d=i.zones[l];d.suppressMouseDown=!0;let h=s.addZone(d);this._zones.push(h),this._zonesMap[String(h)]=!0,i.zones[l].diff&&d.marginDomNode&&(d.suppressMouseDown=!1,((a=i.zones[l].diff)===null||a===void 0?void 0:a.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new jA(h,d.marginDomNode,e,i.zones[l].diff,this._contextMenuService,this._clipboardService)))}}),o?.restore(e),e.changeDecorations(s=>{this._decorations=s.deltaDecorations(this._decorations,i.decorations)}),t?.setZones(i.overviewZones)}},V_e=0,U_e=fn("diff-insert",p.add,g("diffInsertIcon","Line decoration for inserts in the diff editor.")),Iee=fn("diff-remove",p.remove,g("diffRemoveIcon","Line decoration for removals in the diff editor.")),kee=(Z9=window.trustedTypes)===null||Z9===void 0?void 0:Z9.createPolicy("diffEditorWidget",{createHTML:r=>r}),jf=class Ur extends ${constructor(e,t,i,n,o,s,a,l,c,d,h,u){super(),this._editorProgressService=u,this._onDidDispose=this._register(new B),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new B),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new B),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=o,this._codeEditorService=l,this._contextKeyService=this._register(s.createScoped(e)),this._instantiationService=a.createChild(new Gh([Te,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=c,this._notificationService=d,this._id=++V_e,this._state=0,this._updatingDiffProgress=null,this._domElement=e,t=t||{},this._options=Eee(t,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof t.isInEmbeddedEditor<"u"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",t.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new pt(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Ur._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=mt(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Ti(this._overviewDomElement,ye.POINTER_DOWN,m=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(m)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new zA(h,n),this._modifiedEditorState=new zA(h,n),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new NC(this._containerDomElement,t.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),t.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(t,i.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(t,i.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(Cx,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Ad(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new HA(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(c.onDidColorThemeChange(m=>{this._strategy&&this._strategy.applyColors(m)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Ur._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));let f=Lh.getDiffEditorContributions();for(let m of f)try{this._register(a.createInstance(m.ctor,this))}catch(_){Pe(_)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=Q_(e.type),i}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(tm(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(e,t){let i=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(e),t);this._register(i.onDidScrollChange(o=>{this._isHandlingScrollEvent||!o.scrollTopChanged&&!o.scrollLeftChanged&&!o.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(o=>{!i.getModel()||(o.hasChanged(46)&&this._updateDecorationsRunner.schedule(),o.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));let n=this._contextKeyService.createKey("isInDiffLeftEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>n.set(!0))),this._register(i.onDidBlurEditorWidget(()=>n.set(!1))),this._register(i.onDidContentSizeChange(o=>{let s=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ur.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:s,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),i}_createRightHandSideEditor(e,t){let i=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e),t);this._register(i.onDidScrollChange(o=>{this._isHandlingScrollEvent||!o.scrollTopChanged&&!o.scrollLeftChanged&&!o.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(o=>{!i.getModel()||(o.hasChanged(46)&&this._updateDecorationsRunner.schedule(),o.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(i.onDidChangeModelOptions(o=>{o.tabSize&&this._updateDecorationsRunner.schedule()}));let n=this._contextKeyService.createKey("isInDiffRightEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>n.set(!0))),this._register(i.onDidBlurEditorWidget(()=>n.set(!1))),this._register(i.onDidContentSizeChange(o=>{let s=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ur.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:s,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),this._register(i.onMouseDown(o=>{var s,a;if(!o.event.rightButton&&o.target.position&&((s=o.target.element)===null||s===void 0?void 0:s.className.includes("arrow-revert-change"))){let l=o.target.position.lineNumber,c=(a=this._diffComputationResult)===null||a===void 0?void 0:a.changes.find(d=>d.modifiedStartLineNumber===l-1||d.modifiedStartLineNumber===l);c&&this.revertChange(c),o.event.stopPropagation(),this._updateDecorations();return}})),i}revertChange(e){let t=this._modifiedEditor,i=this._originalEditor.getModel(),n=this._modifiedEditor.getModel();if(!i||!n||!t)return;let o=e.originalEndLineNumber>0?new D(e.originalStartLineNumber,1,e.originalEndLineNumber,i.getLineMaxColumn(e.originalEndLineNumber)):null,s=o?i.getValueInRange(o):null,a=e.modifiedEndLineNumber>0?new D(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber,n.getLineMaxColumn(e.modifiedEndLineNumber)):null,l=n.getEOL();if(e.originalEndLineNumber===0&&a){let c=a;e.modifiedStartLineNumber>1?c=a.setStartPosition(e.modifiedStartLineNumber-1,n.getLineMaxColumn(e.modifiedStartLineNumber-1)):e.modifiedEndLineNumber<n.getLineCount()&&(c=a.setEndPosition(e.modifiedEndLineNumber+1,1)),t.executeEdits("diffEditor",[{range:c,text:""}])}else if(e.modifiedEndLineNumber===0&&s!==null){let c=e.modifiedStartLineNumber<n.getLineCount()?new H(e.modifiedStartLineNumber+1,1):new H(e.modifiedStartLineNumber,n.getLineMaxColumn(e.modifiedStartLineNumber));t.executeEdits("diffEditor",[{range:D.fromPositions(c,c),text:e.modifiedStartLineNumber<n.getLineCount()?s+l:l+s}])}else a&&s!==null&&t.executeEdits("diffEditor",[{range:a,text:s}])}_createInnerEditor(e,t,i,n){return e.createInstance(Pf,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return im.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(e){let t=Eee(e,this._options),i=K_e(this._options,t);this._options=t;let n=i.ignoreTrimWhitespace||i.renderIndicators||i.renderMarginRevertIcon,o=this._isVisible&&(i.maxComputationTime||i.maxFileSize);n?this._beginUpdateDecorations():o&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),i.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Ad(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new HA(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Ur._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),i.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e,t="api"){this._modifiedEditor.setPosition(e,t)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e,t="api"){this._modifiedEditor.setSelection(e,t)}setSelections(e,t="api"){this._modifiedEditor.setSelections(e,t)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){let e=this._originalEditor.saveViewState(),t=this._modifiedEditor.saveViewState();return{original:e,modified:t}}restoreViewState(e){if(e&&e.original&&e.modified){let t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._modifiedEditor.createDecorationsCollection(e)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;let e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),i=Ur.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Ur.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Ur.ONE_OVERVIEW_WIDTH,right:i+Ur.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Ur.ONE_OVERVIEW_WIDTH,height:e-t}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Ur.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t?!0:!e||!t?!1:e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;let e=this._originalEditor.getModel(),t=this._modifiedEditor.getModel();if(!e||!t)return;this._diffComputationToken++;let i=this._diffComputationToken,n=this._options.maxFileSize*1024*1024,o=s=>{let a=s.getValueLength();return n===0||a<=n};if(!o(e)||!o(t)){(!Ur._equals(e.uri,this._lastOriginalWarning)||!Ur._equals(t.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=e.uri,this._lastModifiedWarning=t.uri,this._notificationService.warn(g("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(e.uri,t.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(s=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=s,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},s=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;let e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){let t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){let t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:(t.wordWrapOverride1="off",t.wordWrapOverride2="off"),e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.dropIntoEditor={enabled:!t.readOnly},t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(e){let t=this._adjustOptionsForSubEditor(e);return e.modifiedAriaLabel&&(t.ariaLabel=e.modifiedAriaLabel),t.wordWrapOverride1=this._options.diffWordWrap,t.revealHorizontalRightPadding=Ts.revealHorizontalRightPadding.defaultValue+Ur.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){let e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=this._strategy.layout();this._originalDomNode.style.width=n+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-n+"px",this._modifiedDomNode.style.left=n+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-i+"px",this._overviewDomElement.style.width=Ur.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-Ur.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Ur.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:n,height:t-i}),this._modifiedEditor.layout({width:e-n-(this._options.renderOverviewRuler?Ur.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:t-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-i,e,i),this._layoutOverviewViewport()}_layoutOverviewViewport(){let e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){let e=this._modifiedEditor.getLayoutInfo();if(!e)return null;let t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),o=Math.max(0,n-2*0),s=i>0?o/i:0,a=Math.max(0,Math.floor(e.height*s)),l=Math.floor(t*s);return{height:a,top:l}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){let i=this._diffComputationResult?this._diffComputationResult.changes:[];if(i.length===0||e<t(i[0]))return null;let n=0,o=i.length-1;for(;n<o;){let s=Math.floor((n+o)/2),a=t(i[s]),l=s+1<=o?t(i[s+1]):1073741824;e<a?o=s-1:e>=l?n=s+1:(n=s,o=s)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.originalStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-i;return a<=o?n+Math.min(a,s):n+s-o+a}_getEquivalentLineForModifiedLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.modifiedStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-n;return a<=s?i+Math.min(a,o):i+o-s+a}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};jf.ONE_OVERVIEW_WIDTH=15;jf.ENTIRE_DIFF_OVERVIEW_WIDTH=30;jf.UPDATE_DIFF_DECORATIONS_DELAY=200;jf=z_e([Rf(3,Ls),Rf(4,or),Rf(5,Te),Rf(6,je),Rf(7,kt),Rf(8,Tt),Rf(9,ui),Rf(10,Gs),Rf(11,Da)],jf);var VA=class extends ${constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){let t=e.getColor(bX)||(e.getColor(w8)||WN).transparent(2),i=e.getColor(vX)||(e.getColor(y8)||zN).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,o,s){s=s.sort((d,h)=>d.afterLineNumber-h.afterLineNumber),o=o.sort((d,h)=>d.afterLineNumber-h.afterLineNumber);let a=this._getViewZones(e,o,s,i),l=this._getOriginalEditorDecorations(a,e,t,i),c=this._getModifiedEditorDecorations(a,e,t,i,n);return{original:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.original},modified:{decorations:c.decorations,overviewZones:c.overviewZones,zones:a.modified}}}},UA=class{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}},Bf=class{constructor(e,t,i,n,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=o}static _getViewLineCount(e,t,i){let n=e.getModel(),o=e._getViewModel();if(n&&o){let s=wx(n,o,t,i);return s.endLineNumber-s.startLineNumber+1}return i-t+1}getViewZones(){let e=this._originalEditor.getOption(61),t=this._modifiedEditor.getOption(61),i=this._originalEditor.getOption(134).wrappingColumn!==-1,n=this._modifiedEditor.getOption(134).wrappingColumn!==-1,o=i||n,s=this._originalEditor.getModel(),a=this._originalEditor._getViewModel().coordinatesConverter,l=this._modifiedEditor._getViewModel().coordinatesConverter,c={original:[],modified:[]},d=0,h=0,u=0,f=0,m=0,_=0,v=(M,I)=>M.afterLineNumber-I.afterLineNumber,w=(M,I)=>{if(I.domNode===null&&M.length>0){let O=M[M.length-1];if(O.afterLineNumber===I.afterLineNumber&&O.domNode===null){O.heightInLines+=I.heightInLines;return}}M.push(I)},y=new UA(this._modifiedForeignVZ),x=new UA(this._originalForeignVZ),k=1,N=1;for(let M=0,I=this._lineChanges.length;M<=I;M++){let O=M<I?this._lineChanges[M]:null;O!==null?(u=O.originalStartLineNumber+(O.originalEndLineNumber>0?-1:0),f=O.modifiedStartLineNumber+(O.modifiedEndLineNumber>0?-1:0),h=O.originalEndLineNumber>0?Bf._getViewLineCount(this._originalEditor,O.originalStartLineNumber,O.originalEndLineNumber):0,d=O.modifiedEndLineNumber>0?Bf._getViewLineCount(this._modifiedEditor,O.modifiedStartLineNumber,O.modifiedEndLineNumber):0,m=Math.max(O.originalStartLineNumber,O.originalEndLineNumber),_=Math.max(O.modifiedStartLineNumber,O.modifiedEndLineNumber)):(u+=1e7+h,f+=1e7+d,m=u,_=f);let R=[],K=[];if(o){let ie;O?O.originalEndLineNumber>0?ie=O.originalStartLineNumber-k:ie=O.modifiedStartLineNumber-N:ie=s.getLineCount()-k+1;for(let xe=0;xe<ie;xe++){let Ae=k+xe,Re=N+xe,Ve=a.getModelLineViewLineCount(Ae),nt=l.getModelLineViewLineCount(Re);Ve<nt?R.push({afterLineNumber:Ae,heightInLines:nt-Ve,domNode:null,marginDomNode:null}):Ve>nt&&K.push({afterLineNumber:Re,heightInLines:Ve-nt,domNode:null,marginDomNode:null})}O&&(k=(O.originalEndLineNumber>0?O.originalEndLineNumber:O.originalStartLineNumber)+1,N=(O.modifiedEndLineNumber>0?O.modifiedEndLineNumber:O.modifiedStartLineNumber)+1)}for(;y.current&&y.current.afterLineNumber<=_;){let ie;y.current.afterLineNumber<=f?ie=u-f+y.current.afterLineNumber:ie=m;let xe=null;O&&O.modifiedStartLineNumber<=y.current.afterLineNumber&&y.current.afterLineNumber<=O.modifiedEndLineNumber&&(xe=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),R.push({afterLineNumber:ie,heightInLines:y.current.height/t,domNode:null,marginDomNode:xe}),y.advance()}for(;x.current&&x.current.afterLineNumber<=m;){let ie;x.current.afterLineNumber<=u?ie=f-u+x.current.afterLineNumber:ie=_,K.push({afterLineNumber:ie,heightInLines:x.current.height/e,domNode:null}),x.advance()}if(O!==null&&$A(O)){let ie=this._produceOriginalFromDiff(O,h,d);ie&&R.push(ie)}if(O!==null&&KA(O)){let ie=this._produceModifiedFromDiff(O,h,d);ie&&K.push(ie)}let q=0,te=0;for(R=R.sort(v),K=K.sort(v);q<R.length&&te<K.length;){let ie=R[q],xe=K[te],Ae=ie.afterLineNumber-u,Re=xe.afterLineNumber-f;Ae<Re?(w(c.original,ie),q++):Re<Ae?(w(c.modified,xe),te++):ie.shouldNotShrink?(w(c.original,ie),q++):xe.shouldNotShrink?(w(c.modified,xe),te++):ie.heightInLines>=xe.heightInLines?(ie.heightInLines-=xe.heightInLines,te++):(xe.heightInLines-=ie.heightInLines,q++)}for(;q<R.length;)w(c.original,R[q]),q++;for(;te<K.length;)w(c.modified,K[te]),te++}return{original:Bf._ensureDomNodes(c.original),modified:Bf._ensureDomNodes(c.modified)}}static _ensureDomNodes(e){return e.map(t=>(t.domNode||(t.domNode=Tee()),t))}};function Ff(r,e,t,i,n){return{range:new D(r,e,t,i),options:n}}var xs={arrowRevertChange:Ge.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+Vt.asClassName(p.arrowRight)}),charDelete:Ge.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Ge.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Ge.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Ge.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Ge.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Ge.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Vt.asClassName(U_e),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Ge.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Ge.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Vt.asClassName(Iee),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Ge.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})},Ad=class extends VA{constructor(e,t){super(e),this._disableSash=t===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new oo(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(i=>this._onSashDrag(i)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){let t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){let i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?jf.ENTIRE_DIFF_OVERVIEW_WIDTH:0),n=Math.floor((e||.5)*i),o=Math.floor(.5*i);return n=this._disableSash?o:n||o,i>Ad.MINIMUM_EDITOR_WIDTH*2?(n<Ad.MINIMUM_EDITOR_WIDTH&&(n=Ad.MINIMUM_EDITOR_WIDTH),n>i-Ad.MINIMUM_EDITOR_WIDTH&&(n=i-Ad.MINIMUM_EDITOR_WIDTH)):n=o,this._sashPosition!==n&&(this._sashPosition=n),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){let i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?jf.ENTIRE_DIFF_OVERVIEW_WIDTH:0),n=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=n/i,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){let n=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new G9(e,t,i,n,o).getViewZones()}_getOriginalEditorDecorations(e,t,i,n){let o=this._dataSource.getOriginalEditor(),s=String(this._removeColor),a={decorations:[],overviewZones:[]},l=o.getModel(),c=o._getViewModel();for(let d of t)if(KA(d)){a.decorations.push({range:new D(d.originalStartLineNumber,1,d.originalEndLineNumber,1073741824),options:n?xs.lineDeleteWithSign:xs.lineDelete}),(!$A(d)||!d.charChanges)&&a.decorations.push(Ff(d.originalStartLineNumber,1,d.originalEndLineNumber,1073741824,xs.charDeleteWholeLine));let h=wx(l,c,d.originalStartLineNumber,d.originalEndLineNumber);if(a.overviewZones.push(new Um(h.startLineNumber,h.endLineNumber,0,s)),d.charChanges){for(let u of d.charChanges)if(Nee(u))if(i)for(let f=u.originalStartLineNumber;f<=u.originalEndLineNumber;f++){let m,_;f===u.originalStartLineNumber?m=u.originalStartColumn:m=l.getLineFirstNonWhitespaceColumn(f),f===u.originalEndLineNumber?_=u.originalEndColumn:_=l.getLineLastNonWhitespaceColumn(f),a.decorations.push(Ff(f,m,f,_,xs.charDelete))}else a.decorations.push(Ff(u.originalStartLineNumber,u.originalStartColumn,u.originalEndLineNumber,u.originalEndColumn,xs.charDelete))}}return a}_getModifiedEditorDecorations(e,t,i,n,o){let s=this._dataSource.getModifiedEditor(),a=String(this._insertColor),l={decorations:[],overviewZones:[]},c=s.getModel(),d=s._getViewModel();for(let h of t){if(o)if(h.modifiedEndLineNumber>0)l.decorations.push({range:new D(h.modifiedStartLineNumber,1,h.modifiedStartLineNumber,1),options:xs.arrowRevertChange});else{let u=e.modified.find(f=>f.afterLineNumber===h.modifiedStartLineNumber);u&&(u.marginDomNode=$_e())}if($A(h)){l.decorations.push({range:new D(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,1073741824),options:n?xs.lineInsertWithSign:xs.lineInsert}),(!KA(h)||!h.charChanges)&&l.decorations.push(Ff(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,1073741824,xs.charInsertWholeLine));let u=wx(c,d,h.modifiedStartLineNumber,h.modifiedEndLineNumber);if(l.overviewZones.push(new Um(u.startLineNumber,u.endLineNumber,0,a)),h.charChanges){for(let f of h.charChanges)if(Oee(f))if(i)for(let m=f.modifiedStartLineNumber;m<=f.modifiedEndLineNumber;m++){let _,v;m===f.modifiedStartLineNumber?_=f.modifiedStartColumn:_=c.getLineFirstNonWhitespaceColumn(m),m===f.modifiedEndLineNumber?v=f.modifiedEndColumn:v=c.getLineLastNonWhitespaceColumn(m),l.decorations.push(Ff(m,_,m,v,xs.charInsert))}else l.decorations.push(Ff(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,xs.charInsert))}}}return l}};Ad.MINIMUM_EDITOR_WIDTH=100;var G9=class extends Bf{constructor(e,t,i,n,o){super(e,t,i,n,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}},HA=class extends VA{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(i=>{this._decorationsLeft!==i.decorationsLeft&&(this._decorationsLeft=i.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){let o=this._dataSource.getOriginalEditor(),s=this._dataSource.getModifiedEditor();return new X9(e,t,i,o,s,n).getViewZones()}_getOriginalEditorDecorations(e,t,i,n){let o=String(this._removeColor),s={decorations:[],overviewZones:[]},a=this._dataSource.getOriginalEditor(),l=a.getModel(),c=a._getViewModel(),d=0;for(let h of t)if(KA(h)){for(s.decorations.push({range:new D(h.originalStartLineNumber,1,h.originalEndLineNumber,1073741824),options:xs.lineDeleteMargin});d<e.modified.length;){let m=e.modified[d];if(m.diff&&m.diff.originalStartLineNumber>=h.originalStartLineNumber)break;d++}let u=0;if(d<e.modified.length){let m=e.modified[d];m.diff&&m.diff.originalStartLineNumber===h.originalStartLineNumber&&m.diff.originalEndLineNumber===h.originalEndLineNumber&&m.diff.modifiedStartLineNumber===h.modifiedStartLineNumber&&m.diff.modifiedEndLineNumber===h.modifiedEndLineNumber&&(u=m.heightInLines)}let f=wx(l,c,h.originalStartLineNumber,h.originalEndLineNumber);s.overviewZones.push(new Um(f.startLineNumber,f.endLineNumber,u,o))}return s}_getModifiedEditorDecorations(e,t,i,n,o){let s=this._dataSource.getModifiedEditor(),a=String(this._insertColor),l={decorations:[],overviewZones:[]},c=s.getModel(),d=s._getViewModel();for(let h of t)if($A(h)){l.decorations.push({range:new D(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,1073741824),options:n?xs.lineInsertWithSign:xs.lineInsert});let u=wx(c,d,h.modifiedStartLineNumber,h.modifiedEndLineNumber);if(l.overviewZones.push(new Um(u.startLineNumber,u.endLineNumber,0,a)),h.charChanges){for(let f of h.charChanges)if(Oee(f))if(i)for(let m=f.modifiedStartLineNumber;m<=f.modifiedEndLineNumber;m++){let _,v;m===f.modifiedStartLineNumber?_=f.modifiedStartColumn:_=c.getLineFirstNonWhitespaceColumn(m),m===f.modifiedEndLineNumber?v=f.modifiedEndColumn:v=c.getLineLastNonWhitespaceColumn(m),l.decorations.push(Ff(m,_,m,v,xs.charInsert))}else l.decorations.push(Ff(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,xs.charInsert))}else l.decorations.push(Ff(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,1073741824,xs.charInsertWholeLine))}return l}layout(){return Math.max(5,this._decorationsLeft)}},X9=class extends Bf{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._originalModel=n.getModel(),this._renderIndicators=s,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){let e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){let e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){let n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){let n=document.createElement("div");n.className=`view-lines line-delete ${yd}`;let o=document.createElement("div");o.className="inline-deleted-margin-view-zone";let s={shouldNotShrink:!0,afterLineNumber:e.modifiedEndLineNumber===0?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(a),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(s),s}_finalize(e){let t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(46),o=t.get(29),s=n.typicalHalfwidthCharacterWidth,a=t.get(95),l=this._originalModel.mightContainNonBasicASCII(),c=this._originalModel.mightContainRTL(),d=t.get(61),u=t.get(133).decorationsWidth,f=t.get(107),m=t.get(90),_=t.get(85),v=t.get(47),w=this._lineBreaksComputer.finalize(),y=0;for(let x=0;x<this._pendingLineChange.length;x++){let k=this._pendingLineChange[x],N=this._pendingViewZones[x],M=N.domNode;In(M,n);let I=N.marginDomNode;In(I,n);let O=[];if(k.charChanges)for(let Re of k.charChanges)Nee(Re)&&O.push(new ef(new D(Re.originalStartLineNumber,Re.originalStartColumn,Re.originalEndLineNumber,Re.originalEndColumn),"char-delete",0));let R=O.length>0,K=Ya(1e4),q=0,te=0,ie=null;for(let Re=k.originalStartLineNumber;Re<=k.originalEndLineNumber;Re++){let Ve=Re-k.originalStartLineNumber,nt=this._originalModel.tokenization.getLineTokens(Re),Dt=nt.getLineContent(),Si=w[y++],Ei=Ho.filter(O,Re,1,Dt.length+1);if(Si){let Be=0;for(let fi of Si.breakOffsets){let rn=nt.sliceAndInflate(Be,fi,0),G=Dt.substring(Be,fi);q=Math.max(q,this._renderOriginalLine(te++,G,rn,Ho.extractWrapped(Ei,Be,fi),R,l,c,n,o,d,u,f,m,_,v,i,K,I)),Be=fi}for(ie||(ie=[]);ie.length<Ve;)ie[ie.length]=1;ie[Ve]=Si.breakOffsets.length,N.heightInLines+=Si.breakOffsets.length-1;let He=document.createElement("div");He.className="gutter-delete",e.original.push({afterLineNumber:Re,afterColumn:0,heightInLines:Si.breakOffsets.length-1,domNode:Tee(),marginDomNode:He})}else q=Math.max(q,this._renderOriginalLine(te++,Dt,nt,Ei,R,l,c,n,o,d,u,f,m,_,v,i,K,I))}q+=a;let xe=K.build(),Ae=kee?kee.createHTML(xe):xe;if(M.innerHTML=Ae,N.minWidthInPx=q*s,ie){let Re=k.originalEndLineNumber-k.originalStartLineNumber;for(;ie.length<=Re;)ie[ie.length]=1}N.diff.viewLineCounts=ie}e.original.sort((x,k)=>x.afterLineNumber-k.afterLineNumber)}_renderOriginalLine(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_,v,w,y){w.appendASCIIString('<div class="view-line'),o||w.appendASCIIString(" char-delete"),w.appendASCIIString('" style="top:'),w.appendASCIIString(String(e*d)),w.appendASCIIString('px;width:1000000px;">');let x=mr.isBasicASCII(t,s),k=mr.containsRTL(t,x,a),N=Ju(new js(l.isMonospace&&!c,l.canUseHalfwidthRightwardsArrow,t,!1,x,k,0,i,n,v,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,u,f,m,_!==Xo.OFF,null),w);if(w.appendASCIIString("</div>"),this._renderIndicators){let M=document.createElement("div");M.className=`delete-sign ${Vt.asClassName(Iee)}`,M.setAttribute("style",`position:absolute;top:${e*d}px;width:${h}px;height:${d}px;right:0;`),y.appendChild(M)}return N.characterMapping.getHorizontalOffset(N.characterMapping.length)}};function H_e(r,e){return Go(r,e,["off","on","inherit"])}function $A(r){return r.modifiedEndLineNumber>0}function KA(r){return r.originalEndLineNumber>0}function Oee(r){return r.modifiedStartLineNumber===r.modifiedEndLineNumber?r.modifiedEndColumn-r.modifiedStartColumn>0:r.modifiedEndLineNumber-r.modifiedStartLineNumber>0}function Nee(r){return r.originalStartLineNumber===r.originalEndLineNumber?r.originalEndColumn-r.originalStartColumn>0:r.originalEndLineNumber-r.originalStartLineNumber>0}function Tee(){let r=document.createElement("div");return r.className="diagonal-fill",r}function $_e(){let r=document.createElement("div");return r.className="arrow-revert-change "+Vt.asClassName(p.arrowRight),he("div",{},r)}function wx(r,e,t,i){let n=r.getLineCount();return t=Math.min(n,Math.max(1,t)),i=Math.min(n,Math.max(1,i)),e.coordinatesConverter.convertModelRangeToViewRange(new D(t,r.getLineMinColumn(t),i,r.getLineMaxColumn(i)))}function Eee(r,e){return{enableSplitViewResizing:it(r.enableSplitViewResizing,e.enableSplitViewResizing),renderSideBySide:it(r.renderSideBySide,e.renderSideBySide),renderMarginRevertIcon:it(r.renderMarginRevertIcon,e.renderMarginRevertIcon),maxComputationTime:QE(r.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:QE(r.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:it(r.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:it(r.renderIndicators,e.renderIndicators),originalEditable:it(r.originalEditable,e.originalEditable),diffCodeLens:it(r.diffCodeLens,e.diffCodeLens),renderOverviewRuler:it(r.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:H_e(r.diffWordWrap,e.diffWordWrap)}}function K_e(r,e){return{enableSplitViewResizing:r.enableSplitViewResizing!==e.enableSplitViewResizing,renderSideBySide:r.renderSideBySide!==e.renderSideBySide,renderMarginRevertIcon:r.renderMarginRevertIcon!==e.renderMarginRevertIcon,maxComputationTime:r.maxComputationTime!==e.maxComputationTime,maxFileSize:r.maxFileSize!==e.maxFileSize,ignoreTrimWhitespace:r.ignoreTrimWhitespace!==e.ignoreTrimWhitespace,renderIndicators:r.renderIndicators!==e.renderIndicators,originalEditable:r.originalEditable!==e.originalEditable,diffCodeLens:r.diffCodeLens!==e.diffCodeLens,renderOverviewRuler:r.renderOverviewRuler!==e.renderOverviewRuler,diffWordWrap:r.diffWordWrap!==e.diffWordWrap}}Lt((r,e)=>{let t=r.getColor(w8);t&&e.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${t}; }`);let i=r.getColor(gX)||t;i&&e.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${i}; }`);let n=r.getColor(pX)||i;n&&(e.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${n}; }`),e.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${n}; }`));let o=r.getColor(y8);o&&e.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${o}; }`);let s=r.getColor(mX)||o;s&&e.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${s}; }`);let a=r.getColor(_X)||s;a&&(e.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${a}; }`),e.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${a}; }`));let l=r.getColor(CX);l&&e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${Qn(r.type)?"dashed":"solid"} ${l}; }`);let c=r.getColor(wX);c&&e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${Qn(r.type)?"dashed":"solid"} ${c}; }`);let d=r.getColor(kc);d&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${d}; }`);let h=r.getColor(yX);h&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${h}; }`);let u=r.getColor(Eh);u&&e.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${u};
			}
		`);let f=r.getColor(Ih);f&&e.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${f};
			}
		`);let m=r.getColor(Oh);m&&e.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${m};
			}
		`);let _=r.getColor(SX);e.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${_} 12.5%,
			#0000 12.5%, #0000 50%,
			${_} 50%, ${_} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});Mf();io();Fe();Ws();Oe();se();Xc();Ct();var q_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Y_e=function(r,e){return function(t,i){e(t,i,r)}},Z_e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},qA=class extends ${constructor(e){super(),this._themeService=e,this._onCodeEditorAdd=this._register(new B),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new B),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new B),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new B),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Rn,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null,t=this.listCodeEditors();for(let i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){let t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorationsByType(e))))}setModelProperty(e,t,i){let n=e.toString(),o;this._modelProperties.has(n)?o=this._modelProperties.get(n):(o=new Map,this._modelProperties.set(n,o)),o.set(t,i)}getModelProperty(e,t){let i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}openCodeEditor(e,t,i){return Z_e(this,void 0,void 0,function*(){for(let n of this._codeEditorOpenHandlers){let o=yield n(e,t,i);if(o!==null)return o}return null})}registerCodeEditorOpenHandler(e){let t=this._codeEditorOpenHandlers.unshift(e);return Ke(t)}};qA=q_e([Y_e(0,Tt)],qA);lo();St();Bs();Ct();var G_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Pee=function(r,e){return function(t,i){e(t,i,r)}},X_e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},yx=class extends qA{constructor(e,t){super(t),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((i,n,o)=>X_e(this,void 0,void 0,function*(){return n?this.doOpenEditor(n,i):null}))}_checkContextKey(){let e=!1;for(let t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){let o=t.resource.scheme;if(o===lt.http||o===lt.https)return EN(t.resource.toString()),e}return null}let n=t.options?t.options.selection:null;if(n)if(typeof n.endLineNumber=="number"&&typeof n.endColumn=="number")e.setSelection(n),e.revealRangeInCenter(n,1);else{let o={lineNumber:n.startLineNumber,column:n.startColumn};e.setPosition(o),e.revealPositionInCenter(o,1)}return e}findModel(e,t){let i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};yx=G_e([Pee(0,Te),Pee(1,Tt)],yx);Ot(kt,yx);Fe();Oe();Xe();var Fc=We("layoutService");lo();Bs();var Aee=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Mee=function(r,e){return function(t,i){e(t,i,r)}},YA=class{constructor(e){this._codeEditorService=e,this.onDidLayout=Ie.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=_m(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}};YA=Aee([Mee(0,kt)],YA);var ZA=class extends YA{constructor(e,t){super(t),this._container=e}get hasContainer(){return!1}get container(){return this._container}};ZA=Aee([Mee(1,kt)],ZA);Ot(Fc,YA);ut();se();Ws();Ne();Xe();var Hw=We("dialogService");Bs();rx();var Q_e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ree=function(r,e){return function(t,i){e(t,i,r)}},GA=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},$w=!1;function XA(r){return r.scheme===lt.file?r.fsPath:r.path}var Fee=0,Kw=class{constructor(e,t,i,n,o,s,a){this.id=++Fee,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}},QA=class{constructor(e,t){this.resourceLabel=e,this.reason=t}},JA=class{constructor(){this.elements=new Map}createMessage(){let e=[],t=[];for(let[,n]of this.elements)(n.reason===0?e:t).push(n.resourceLabel);let i=[];return e.length>0&&i.push(g({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(g({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}},Q9=class{constructor(e,t,i,n,o,s,a){this.id=++Fee,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=s,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new JA),this.removedResources.has(t)||this.removedResources.set(t,new QA(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new JA),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new QA(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}},eM=class{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(let e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(let e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(let i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(let i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(let t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){let t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new ox(e,t)}restoreSnapshot(e){let t=e.elements.length,i=!0,n=0,o=-1;for(let a=0,l=this._past.length;a<l;a++,n++){let c=this._past[a];i&&(n>=t||c.id!==e.elements[n])&&(i=!1,o=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let a=this._future.length-1;a>=0;a--,n++){let l=this._future[a];i&&(n>=t||l.id!==e.elements[n])&&(i=!1,s=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}o!==-1&&(this._past=this._past.slice(0,o)),s!==-1&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){let e=[],t=[];for(let i of this._past)e.push(i.actual);for(let i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}},Sx=class{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}},Bee=new eM("","");Bee.locked=!0;var J9=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(let t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(let i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=If.None,i=Fl.None){if(e.type===0){let n=XA(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new Kw(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{let n=new Set,o=[],s=[];for(let a of e.resources){let l=XA(a),c=this.getUriComparisonKey(a);n.has(c)||(n.add(c),o.push(l),s.push(c))}o.length===1?this._pushElement(new Kw(e,o[0],s[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new Q9(e,o,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}$w&&this._print("pushElement")}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){let n=e.resourceLabels[t],o=e.strResources[t],s;this._editStacks.has(o)?s=this._editStacks.get(o):(s=new eM(n,o),this._editStacks.set(o,s)),s.pushElement(e)}}getLastElement(e){let t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){let i=this._editStacks.get(t);if(i.hasFutureElements())return null;let n=i.getClosestPastElement();return n?n.actual:null}return null}_splitPastWorkspaceElement(e,t){let i=e.actual.split(),n=new Map;for(let o of i){let s=XA(o.resource),a=this.getUriComparisonKey(o.resource),l=new Kw(o,s,a,0,0,0,0);n.set(l.strResource,l)}for(let o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){let i=e.actual.split(),n=new Map;for(let o of i){let s=XA(o.resource),a=this.getUriComparisonKey(o.resource),l=new Kw(o,s,a,0,0,0,0);n.set(l.strResource,l)}for(let o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,n)}}removeElements(e){let t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t)),$w&&this._print("removeElements")}setElementsValidFlag(e,t,i){let n=this.getUriComparisonKey(e);this._editStacks.has(n)&&this._editStacks.get(n).setElementsValidFlag(t,i),$w&&this._print("setElementsValidFlag")}createSnapshot(e){let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new ox(e,[])}restoreSnapshot(e){let t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){let i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}$w&&this._print("restoreSnapshot")}getElements(e){let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(let[n,o]of this._editStacks){let s=o.getClosestPastElement();!s||s.sourceId===e&&(!t||s.sourceOrder>t.sourceOrder)&&(t=s,i=n)}return[t,i]}canUndo(e){if(e instanceof Fl){let[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){Pe(e);for(let i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(let t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(let t of e.editStacks)t.locked=!0;return()=>{for(let t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){let s=this._acquireLocks(i),a;try{a=t()}catch(l){return s(),n.dispose(),this._onError(l,e)}return a?a.then(()=>(s(),n.dispose(),o()),l=>(s(),n.dispose(),this._onError(l,e))):(s(),n.dispose(),o())}_invokeWorkspacePrepare(e){return GA(this,void 0,void 0,function*(){if(typeof e.actual.prepareUndoRedo>"u")return $.None;let t=e.actual.prepareUndoRedo();return typeof t>"u"?$.None:t})}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t($.None);let i=e.actual.prepareUndoRedo();return i?R0(i)?t(i):i.then(n=>t(n)):t($.None)}_getAffectedEditStacks(e){let t=[];for(let i of e.strResources)t.push(this._editStacks.get(i)||Bee);return new Sx(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new qw(this._undo(e,0,!0));for(let o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new qw}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,g({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,g({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));let o=[];for(let a of i.editStacks)a.getClosestPastElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,g({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));let s=[];for(let a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,g({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,g({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){let n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(let[,t]of this._editStacks){let i=t.getClosestPastElement();if(!!i){if(i===e){let n=t.getSecondClosestPastElement();if(n&&n.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return GA(this,void 0,void 0,function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a=yield this._dialogService.show(Ri.Info,g("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[g({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),g("nok","Undo this File"),g("cancel","Cancel")],{cancelId:2});if(a.choice===2)return;if(a.choice===1)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);let l=this._checkWorkspaceUndo(e,t,i,!1);if(l)return l.returnValue;n=!0}let o;try{o=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}let s=this._checkWorkspaceUndo(e,t,i,!0);if(s)return o.dispose(),s.returnValue;for(let a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,o,()=>this._continueUndoInGroup(t.groupId,n))})}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){let n=g({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(n);return}return this._invokeResourcePrepare(t,n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new Sx([e]),n,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(let[n,o]of this._editStacks){let s=o.getClosestPastElement();!s||s.groupId===e&&(!t||s.groupOrder>t.groupOrder)&&(t=s,i=n)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;let[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof Fl){let[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;let n=this._editStacks.get(e),o=n.getClosestPastElement();if(!o)return;if(o.groupId){let[a,l]=this._findClosestUndoElementInGroup(o.groupId);if(o!==a&&l)return this._undo(l,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return o.type===1?this._workspaceUndo(e,o,i):this._resourceUndo(n,o,i)}finally{$w&&this._print("undo")}}_confirmAndContinueUndo(e,t,i){return GA(this,void 0,void 0,function*(){if((yield this._dialogService.show(Ri.Info,g("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[g("confirmDifferentSource.yes","Yes"),g("confirmDifferentSource.no","No")],{cancelId:1})).choice!==1)return this._undo(e,t,!0)})}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(let[n,o]of this._editStacks){let s=o.getClosestFutureElement();!s||s.sourceId===e&&(!t||s.sourceOrder<t.sourceOrder)&&(t=s,i=n)}return[t,i]}canRedo(e){if(e instanceof Fl){let[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}let t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new qw(this._redo(e));for(let o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new qw}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,g({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,g({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));let o=[];for(let a of i.editStacks)a.getClosestFutureElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,g({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));let s=[];for(let a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,g({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,g({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){let i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return GA(this,void 0,void 0,function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}let o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(let s of i.editStacks)s.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,n,()=>this._continueRedoInGroup(t.groupId))})}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){let i=g({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new Sx([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(let[n,o]of this._editStacks){let s=o.getClosestFutureElement();!s||s.groupId===e&&(!t||s.groupOrder<t.groupOrder)&&(t=s,i=n)}return[t,i]}_continueRedoInGroup(e){if(!e)return;let[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof Fl){let[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;let t=this._editStacks.get(e),i=t.getClosestFutureElement();if(!!i){if(i.groupId){let[n,o]=this._findClosestRedoElementInGroup(i.groupId);if(i!==n&&o)return this._redo(o)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{$w&&this._print("redo")}}}};J9=Q_e([Ree(0,Hw),Ree(1,ui)],J9);var qw=class{constructor(e){this.returnValue=e}};Ot(Xm,J9);Bc();Ye();Fe();bs();Oe();H_();se();At();vi();Xe();vi();ti();var eu=We("IWorkspaceEditService"),jc=class{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(Jh.is(t))return Jh.lift(t);if(ip.is(t))return ip.lift(t);throw new Error("Unsupported edit")})}},Jh=class extends jc{constructor(e,t,i=void 0,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i}static is(e){return e instanceof Jh?!0:mo(e)&&Ee.isUri(e.resource)&&mo(e.textEdit)}static lift(e){return e instanceof Jh?e:new Jh(e.resource,e.textEdit,e.versionId,e.metadata)}},ip=class extends jc{constructor(e,t,i={},n){super(n),this.oldResource=e,this.newResource=t,this.options=i}static is(e){return e instanceof ip?!0:mo(e)&&(Boolean(e.newResource)||Boolean(e.oldResource))}static lift(e){return e instanceof ip?e:new ip(e.oldResource,e.newResource,e.options,e.metadata)}};sS();Ne();Xu();fr();var Dx=Object.freeze({id:"editor",order:5,type:"object",title:g("editorConfigurationTitle","Editor"),scope:5}),rM=Object.assign(Object.assign({},Dx),{properties:{"editor.tabSize":{type:"number",default:Do.tabSize,minimum:1,markdownDescription:g("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Do.insertSpaces,markdownDescription:g("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Do.detectIndentation,markdownDescription:g("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:Do.trimAutoWhitespace,description:g("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Do.largeFileOptimizations,description:g("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:g("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[g("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),g("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),g("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:g("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[g("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),g("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),g("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:g("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:g("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:g("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:g("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:g("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:g("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:g("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:g("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:g("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:g("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:g("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:g("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:g("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:g("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:g("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[g("wordWrap.off","Lines will never wrap."),g("wordWrap.on","Lines will wrap at the viewport width."),g("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function tbe(r){return typeof r.type<"u"||typeof r.anyOf<"u"}for(let r of Vg){let e=r.schema;if(typeof e<"u")if(tbe(e))rM.properties[`editor.${r.name}`]=e;else for(let t in e)Object.hasOwnProperty.call(e,t)&&(rM.properties[t]=e[t])}var oM=null;function zee(){return oM===null&&(oM=Object.create(null),Object.keys(rM.properties).forEach(r=>{oM[r]=!0})),oM}function Vee(r){return zee()[`editor.${r}`]||!1}function Uee(r){return zee()[`diffEditor.${r}`]||!1}var ibe=di.as(ps.Configuration);ibe.registerConfiguration(rM);Wl();rt();Le();_s();Ga();zS();hn();to();Ft();xa();hr();ti();vi();to();var Hr=class{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?$3(this.contents,e):this.contents}getOverrideValue(e,t){let i=this.getContentsForOverrideIdentifer(t);return i?e?$3(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){let t=rc(this.contents),i=rc(this.overrides),n=[...this.keys];for(let o of e)if(!o.isEmpty()){this.mergeContents(t,o.contents);for(let s of o.overrides){let[a]=i.filter(l=>go(l.identifiers,s.identifiers));a?(this.mergeContents(a.contents,s.contents),a.keys.push(...s.keys),a.keys=la(a.keys)):i.push(rc(s))}for(let s of o.keys)n.indexOf(s)===-1&&n.push(s)}return new Hr(t,n,i)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(e){let t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;let i={};for(let n of la([...Object.keys(this.contents),...Object.keys(t)])){let o=this.contents[n],s=t[n];s&&(typeof o=="object"&&typeof s=="object"?(o=rc(o),this.mergeContents(o,s)):o=s),i[n]=o}return new Hr(i,this.keys,this.overrides)}mergeContents(e,t){for(let i of Object.keys(t)){if(i in e&&mo(e[i])&&mo(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=rc(t[i])}}checkAndFreeze(e){return this.frozen&&!Object.isFrozen(e)?fY(e):e}getContentsForOverrideIdentifer(e){let t=null,i=null,n=o=>{o&&(i?this.mergeContents(i,o):i=rc(o))};for(let o of this.overrides)go(o.identifiers,[e])?t=o.contents:o.identifiers.includes(e)&&n(o.contents);return n(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),OS(this.contents,e,t,i=>{throw new Error(i)})}removeValue(e){this.removeKey(e)&&aZ(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)e.indexOf(this.keys[i])===0&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return t!==-1?(this.keys.splice(t,1),!0):!1}},Yb=class{constructor(e,t,i,n,o=new Hr,s=new Hr,a=new uo,l=new Hr,c=new uo,d=!0){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=n,this._remoteUserConfiguration=o,this._workspaceConfiguration=s,this._folderConfigurations=a,this._memoryConfiguration=l,this._memoryConfigurationByResource=c,this._freeze=d,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new uo,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new Hr,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,t===void 0?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){let n=this.getConsolidatedConfigurationModel(e,t,i),o=this.getFolderConfigurationModelForResource(t.resource,i),s=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),l=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(e),c=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(e),d=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),h=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),u=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),f=i?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,m=o?t.overrideIdentifier?o.freeze().override(t.overrideIdentifier).getValue(e):o.freeze().getValue(e):void 0,_=t.overrideIdentifier?s.override(t.overrideIdentifier).getValue(e):s.getValue(e),v=n.getValue(e),w=la(n.overrides.map(y=>y.identifiers).flat()).filter(y=>n.getOverrideValue(e,y)!==void 0);return{defaultValue:a,policyValue:l,applicationValue:c,userValue:d,userLocalValue:h,userRemoteValue:u,workspaceValue:f,workspaceFolderValue:m,memoryValue:_,value:v,default:a!==void 0?{value:this._defaultConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,policy:l!==void 0?{value:l}:void 0,application:c!==void 0?{value:c,override:t.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,user:d!==void 0?{value:this.userConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userLocal:h!==void 0?{value:this.localUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userRemote:u!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspace:f!==void 0?{value:this._workspaceConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspaceFolder:m!==void 0?{value:o?.freeze().getValue(e),override:t.overrideIdentifier?o?.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,memory:_!==void 0?{value:s.getValue(e),override:t.overrideIdentifier?s.getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:w.length?w:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let n=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(n=n.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(e)!==void 0&&(n=n.merge(this._policyConfiguration)),n}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){let n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);let o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){let i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){let i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{let{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e},[])}}static parse(e){let t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.policy),n=this.parseConfigurationModel(e.application),o=this.parseConfigurationModel(e.user),s=this.parseConfigurationModel(e.workspace),a=e.folders.reduce((l,c)=>(l.set(Ee.revive(c[0]),this.parseConfigurationModel(c[1])),l),new uo);return new Yb(t,i,n,o,new Hr,s,a,new Hr,new uo,!1)}static parseConfigurationModel(e){return new Hr(e.contents,e.keys,e.overrides).freeze()}},sM=class{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;let o=new Set;e.keys.forEach(a=>o.add(a)),e.overrides.forEach(([,a])=>a.forEach(l=>o.add(l))),this.affectedKeys=[...o.values()];let s=new Hr;this.affectedKeys.forEach(a=>s.setValue(a,{})),this.affectedKeysTree=s.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Yb.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){let n=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(i=this.previous)===null||i===void 0?void 0:i.workspace):void 0,o=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!dr(n,o)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i=DO({[t]:!0},()=>{}),n;for(;typeof i=="object"&&(n=Object.keys(i)[0]);){if(e=e[n],!e)return!1;i=i[n]}return!0}};St();Xe();ot();Oe();se();Ne();var nbe=/^(cursor|delete)/,aM=class extends ${constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new B),this._currentChord=null,this._currentChordChecker=new od,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=np.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new On,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Ie.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){let i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(!!i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");let i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;let[n]=i.getDispatchParts();if(n===null)return this._log("\\ Keyboard event cannot be dispatched"),null;let o=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,s,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(g("first.chord","({0}) was pressed. Waiting for second key of chord...",t));let i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){let i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=np.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=np.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));let[o]=i.getParts();return this._ignoreSingleModifiers=new np(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,s=null;if(i){let[d]=e.getSingleModifierDispatchParts();o=d,s=d}else[o]=e.getDispatchParts(),s=this._currentChord?this._currentChord.keypress:null;if(o===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;let a=this._contextKeyService.getContext(t),l=e.getLabel(),c=this._getResolver().resolve(a,s,o);return this._logService.trace("KeybindingService#dispatch",l,c?.commandId),c&&c.enterChord?(n=!0,this._enterChordMode(o,l),this._log("+ Entering chord mode..."),n):(this._currentChord&&(!c||!c.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${l}".`),this._notificationService.status(g("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:10*1e3}),n=!0),this._leaveChordMode(),c&&c.commandId&&(c.bubble||(n=!0),this._log(`+ Invoking command ${c.commandId}.`),typeof c.commandArgs>"u"?this._commandService.executeCommand(c.commandId).then(void 0,d=>this._notificationService.warn(d)):this._commandService.executeCommand(c.commandId,c.commandArgs).then(void 0,d=>this._notificationService.warn(d)),nbe.test(c.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:c.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}},np=class{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}};np.EMPTY=new np(null);Xe();var gn=We("keybindingService");St();var op=class{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let n of e){let o=n.command;o&&o.charAt(0)!=="-"&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=op.handleRemovals([].concat(e).concat(t));for(let n=0,o=this._keybindings.length;n<o;n++){let s=this._keybindings[n];s.keypressParts.length!==0&&(s.when&&s.when.type===0||this._addKeyPress(s.keypressParts[0],s))}}static _isTargetedForRemoval(e,t,i,n){return!(t&&e.keypressParts[0]!==t||i&&e.keypressParts[1]!==i||n&&(!e.when||!CG(n,e.when)))}static handleRemovals(e){let t=new Map;for(let n=0,o=e.length;n<o;n++){let s=e[n];if(s.command&&s.command.charAt(0)==="-"){let a=s.command.substring(1);t.has(a)?t.get(a).push(s):t.set(a,[s])}}if(t.size===0)return e;let i=[];for(let n=0,o=e.length;n<o;n++){let s=e[n];if(!s.command||s.command.length===0){i.push(s);continue}if(s.command.charAt(0)==="-")continue;let a=t.get(s.command);if(!a||!s.isDefault){i.push(s);continue}let l=!1;for(let c of a){let d=c.keypressParts[0],h=c.keypressParts[1],u=c.when;if(this._isTargetedForRemoval(s,d,h,u)){l=!0;break}}if(!l){i.push(s);continue}}return i}_addKeyPress(e,t){let i=this._map.get(e);if(typeof i>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let n=i.length-1;n>=0;n--){let o=i[n];if(o.command===t.command)continue;let s=o.keypressParts.length>1,a=t.keypressParts.length>1;s&&a&&o.keypressParts[1]!==t.keypressParts[1]||op.whenIsEntirelyIncluded(o.when,t.when)&&this._removeFromLookupMap(o)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let i=0,n=t.length;i<n;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:l8(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){let i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return null;if(i.length===1)return i[0];for(let n=i.length-1;n>=0;n--){let o=i[n];if(t.contextMatchesRules(o.when))return o}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(t!==null){let s=this._map.get(t);if(typeof s>"u")return this._log("\\ No keybinding entries."),null;n=[];for(let a=0,l=s.length;a<l;a++){let c=s[a];c.keypressParts[1]===i&&n.push(c)}}else{let s=this._map.get(i);if(typeof s>"u")return this._log("\\ No keybinding entries."),null;n=s}let o=this._findCommand(e,n);return o?t===null&&o.keypressParts.length>1&&o.keypressParts[1]!==null?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${Hee(o.when)}, source: ${$ee(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${o.command}, when: ${Hee(o.when)}, source: ${$ee(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let n=t[i];if(!!op._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}};function Hee(r){return r?`${r.serialize()}`:"no when condition"}function $ee(r){return r.extensionId?r.isBuiltinExtension?`built-in extension ${r.extensionId}`:`user extension ${r.extensionId}`:r.isDefault?"built-in":"user"}ym();var kx=class{constructor(e,t,i,n,o,s,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?lM(e.getDispatchParts()):[],e&&this.keypressParts.length===0&&(this.keypressParts=lM(e.getSingleModifierDispatchParts())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=s,this.isBuiltinExtension=a}};function lM(r){let e=[];for(let t=0,i=r.length;t<i;t++){let n=r[t];if(!n)return e;e.push(n)}return e}bl();H_();ut();Ne();var Zw=class{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;let n=[];for(let o=0,s=t.length;o<s;o++){let a=t[o],l=i(a);if(l===null)return null;n[o]=obe(a,l,this.modifierLabels[e])}return n.join(" ")}},Gw=new Zw({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:g({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:g({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:g({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:g({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Kee=new Zw({ctrlKey:g({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:g({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:g({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:g({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:g({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:g({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:g({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),qee=new Zw({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),Bet=new Zw({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function obe(r,e,t){if(e===null)return"";let i=[];return r.ctrlKey&&i.push(t.ctrlKey),r.shiftKey&&i.push(t.shiftKey),r.altKey&&i.push(t.altKey),r.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}H_();var cM=class extends gN{constructor(e,t){if(super(),t.length===0)throw gs("parts");this._os=e,this._parts=t}getLabel(){return Gw.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return Kee.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:qee.toLabel(this._os,this._parts,e=>this._getElectronAccelerator(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new fN(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}};var rp=class extends cM{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Hu.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Hu.toString(e.keyCode)}_getElectronAccelerator(e){return Hu.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return rp.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Hu.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){let t=cI[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof El)return e;let t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new El(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){let i=lM(e.map(n=>this._resolveSimpleUserBinding(n)));return i.length>0?[new rp(new U_(i),t)]:[]}};Xe();var Md=We("labelService");Rc();Sm();Ne();xa();vi();Xe();var sp=We("contextService");function n6(r){let e=r;return typeof e?.id=="string"&&Ee.isUri(e.uri)}function Yee(r){if(r.configuration)return{id:r.id,configPath:r.configuration};if(r.folders.length===1)return{id:r.id,uri:r.folders[0].uri}}var dM=class{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}},hM="code-workspace",ttt=[{name:g("codeWorkspace","Code Workspace"),extensions:[hM]}];Ne();var Zee;(function(r){r.noSelection=g("noSelection","No selection"),r.singleSelectionRange=g("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),r.singleSelection=g("singleSelection","Line {0}, Column {1}"),r.multiSelectionRange=g("multiSelectionRange","{0} selections ({1} characters selected)"),r.multiSelection=g("multiSelection","{0} selections"),r.emergencyConfOn=g("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),r.openingDocs=g("openingDocs","Now opening the Editor Accessibility documentation page."),r.readonlyDiffEditor=g("readonlyDiffEditor"," in a read-only pane of a diff editor."),r.editableDiffEditor=g("editableDiffEditor"," in a pane of a diff editor."),r.readonlyEditor=g("readonlyEditor"," in a read-only code editor"),r.editableEditor=g("editableEditor"," in a code editor"),r.changeConfigToOnMac=g("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),r.changeConfigToOnWinLinux=g("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),r.auto_on=g("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),r.auto_off=g("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),r.tabFocusModeOnMsg=g("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),r.tabFocusModeOnMsgNoKb=g("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),r.tabFocusModeOffMsg=g("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),r.tabFocusModeOffMsgNoKb=g("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),r.openDocMac=g("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),r.openDocWinLinux=g("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),r.outroMsg=g("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),r.showAccessibilityHelpAction=g("showAccessibilityHelpAction","Show Accessibility Help")})(Zee||(Zee={}));var Gee;(function(r){r.inspectTokensAction=g("inspectTokens","Developer: Inspect Tokens")})(Gee||(Gee={}));var Xee;(function(r){r.gotoLineActionLabel=g("gotoLineActionLabel","Go to Line/Column...")})(Xee||(Xee={}));var Qee;(function(r){r.helpQuickAccessActionLabel=g("helpQuickAccess","Show all Quick Access Providers")})(Qee||(Qee={}));var Jee;(function(r){r.quickCommandActionLabel=g("quickCommandActionLabel","Command Palette"),r.quickCommandHelp=g("quickCommandActionHelp","Show And Run Commands")})(Jee||(Jee={}));var ete;(function(r){r.quickOutlineActionLabel=g("quickOutlineActionLabel","Go to Symbol..."),r.quickOutlineByCategoryActionLabel=g("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(ete||(ete={}));var Ex;(function(r){r.editorViewAccessibleLabel=g("editorViewAccessibleLabel","Editor content"),r.accessibilityHelpMessage=g("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(Ex||(Ex={}));var tte;(function(r){r.toggleHighContrast=g("toggleHighContrast","Toggle High Contrast Theme")})(tte||(tte={}));var uM;(function(r){r.bulkEditServiceSummary=g("bulkEditServiceSummary","Made {0} edits in {1} files")})(uM||(uM={}));Vr();lo();pc();Xe();var fM=We("workspaceTrustManagementService");uN();Fe();se();At();var Ro;(function(r){function e(o,s){if(o.start>=s.end||s.start>=o.end)return{start:0,end:0};let a=Math.max(o.start,s.start),l=Math.min(o.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}r.intersect=e;function t(o){return o.end-o.start<=0}r.isEmpty=t;function i(o,s){return!t(e(o,s))}r.intersects=i;function n(o,s){let a=[],l={start:o.start,end:Math.min(s.start,o.end)},c={start:Math.max(s.end,o.start),end:o.end};return t(l)||a.push(l),t(c)||a.push(c),a}r.relativeComplement=n})(Ro||(Ro={}));var ap;(function(r){r[r.AVOID=0]="AVOID",r[r.ALIGN=1]="ALIGN"})(ap||(ap={}));function Zb(r,e,t){let i=t.mode===ap.ALIGN?t.offset:t.offset+t.size,n=t.mode===ap.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=r-i?i:e<=n?n-e:Math.max(r-e,0):e<=n?n-e:e<=r-i?i:0}var Wf=class extends ${constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=$.None,this.toDisposeOnSetContainer=$.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=he(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,$o(this.view),this.setContainer(e,t),this._register(Ke(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(i=this.shadowRootHostElement)===null||i===void 0||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=he(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});let o=document.createElement("style");o.textContent=rbe,this.shadowRoot.appendChild(o),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(he("slot"))}else this.container.appendChild(this.view);let n=new J;Wf.BUBBLE_UP_EVENTS.forEach(o=>{n.add(Ti(this.container,o,s=>{this.onDOMEvent(s,!1)}))}),Wf.BUBBLE_DOWN_EVENTS.forEach(o=>{n.add(Ti(this.container,o,s=>{this.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=n}}show(e){var t,i;this.isVisible()&&this.hide(),Yi(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Jo(this.view),this.toDisposeOnClean=e.render(this.view)||$.None,this.delegate=e,this.doLayout(),(i=(t=this.delegate).focus)===null||i===void 0||i.call(t)}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(sa&&_C.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let e=this.delegate.getAnchor(),t;if(kN(e)){let h=dn(e),u=sG(e);t={top:h.top*u,left:h.left*u,width:h.width*u,height:h.height*u}}else t={top:e.y,left:e.x,width:e.width||1,height:e.height||2};let i=_a(this.view),n=iL(this.view),o=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0,l,c;if(a===0){let h={offset:t.top-window.pageYOffset,size:t.height,position:o===0?0:1},u={offset:t.left,size:t.width,position:s===0?0:1,mode:ap.ALIGN};l=Zb(window.innerHeight,n,h)+window.pageYOffset,Ro.intersects({start:l,end:l+n},{start:h.offset,end:h.offset+h.size})&&(u.mode=ap.AVOID),c=Zb(window.innerWidth,i,u)}else{let h={offset:t.left,size:t.width,position:s===0?0:1},u={offset:t.top,size:t.height,position:o===0?0:1,mode:ap.ALIGN};c=Zb(window.innerWidth,i,h),Ro.intersects({start:c,end:c+i},{start:h.offset,end:h.offset+h.size})&&(u.mode=ap.AVOID),l=Zb(window.innerHeight,n,u)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(o===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);let d=dn(this.container);this.view.style.top=`${l-(this.useFixedPosition?dn(this.view).top:d.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?dn(this.view).left:d.left)}px`,this.view.style.width="initial"}hide(e){let t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),$o(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!wc(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}};Wf.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];Wf.BUBBLE_DOWN_EVENTS=["click"];var rbe=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;se();var sbe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},abe=function(r,e){return function(t,i){e(t,i,r)}},gM=class extends ${constructor(e){super(),this.layoutService=e,this.currentViewDisposable=$.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new Wf(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?(t!==this.container||this.shadowRoot!==i)&&(this.container=t,this.setContainer(t,i?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=i,this.contextView.show(e);let n=Ke(()=>{this.currentViewDisposable===n&&this.hideContextView()});return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};gM=sbe([abe(0,Fc)],gM);Oe();se();ut();Oe();se();Ye();ot();oA();xa();Gg();At();Ye();var ite=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},mM="**",nte="/",pM="[/\\\\]",_M="[^/\\\\]",lbe=/\//g;function ote(r,e){switch(r){case 0:return"";case 1:return`${_M}*?`;default:return`(?:${pM}|${_M}+${pM}${e?`|${pM}${_M}+`:""})*?`}}function rte(r,e){if(!r)return[];let t=[],i=!1,n=!1,o="";for(let s of r){switch(s){case e:if(!i&&!n){t.push(o),o="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":n=!0;break;case"]":n=!1;break}o+=s}return o&&t.push(o),t}function dte(r){if(!r)return"";let e="",t=rte(r,nte);if(t.every(i=>i===mM))e=".*";else{let i=!1;t.forEach((n,o)=>{if(n===mM){if(i)return;e+=ote(2,o===t.length-1)}else{let s=!1,a="",l=!1,c="";for(let d of n){if(d!=="}"&&s){a+=d;continue}if(l&&(d!=="]"||!c)){let h;d==="-"?h=d:(d==="^"||d==="!")&&!c?h="^":d===nte?h="":h=_o(d),c+=h;continue}switch(d){case"{":s=!0;continue;case"[":l=!0;continue;case"}":{e+=`(?:${rte(a,",").map(f=>dte(f)).join("|")})`,s=!1,a="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=_M;continue;case"*":e+=ote(1);continue;default:e+=_o(d)}}o<t.length-1&&(t[o+1]!==mM||o+2<t.length)&&(e+=pM)}i=n===mM})}return e}var cbe=/^\*\*\/\*\.[\w\.-]+$/,dbe=/^\*\*\/([\w\.-]+)\/?$/,hbe=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,ube=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,fbe=/^\*\*((\/[\w\.-]+)+)\/?$/,gbe=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,ste=new qs(1e4),ate=function(){return!1},tu=function(){return null};function r6(r,e){if(!r)return tu;let t;typeof r!="string"?t=r.pattern:t=r,t=t.trim();let i=`${t}_${!!e.trimForExclusions}`,n=ste.get(i);if(n)return lte(n,r);let o;return cbe.test(t)?n=mbe(t.substr(4),t):(o=dbe.exec(o6(t,e)))?n=pbe(o[1],t):(e.trimForExclusions?ube:hbe).test(t)?n=_be(t,e):(o=fbe.exec(o6(t,e)))?n=cte(o[1].substr(1),t,!0):(o=gbe.exec(o6(t,e)))?n=cte(o[1],t,!1):n=bbe(t),ste.set(i,n),lte(n,r)}function lte(r,e){if(typeof e=="string")return r;let t=function(i,n){return KL(i,e.base,!$i)?r(i.substr(e.base.length+1),n):null};return t.allBasenames=r.allBasenames,t.allPaths=r.allPaths,t.basenames=r.basenames,t.patterns=r.patterns,t}function o6(r,e){return e.trimForExclusions&&r.endsWith("/**")?r.substr(0,r.length-2):r}function mbe(r,e){return function(t,i){return typeof t=="string"&&t.endsWith(r)?e:null}}function pbe(r,e){let t=`/${r}`,i=`\\${r}`,n=function(s,a){return typeof s!="string"?null:a?a===r?e:null:s===r||s.endsWith(t)||s.endsWith(i)?e:null},o=[r];return n.basenames=o,n.patterns=[e],n.allBasenames=o,n}function _be(r,e){let t=ute(r.slice(1,-1).split(",").map(a=>r6(a,e)).filter(a=>a!==tu),r),i=t.length;if(!i)return tu;if(i===1)return t[0];let n=function(a,l){for(let c=0,d=t.length;c<d;c++)if(t[c](a,l))return r;return null},o=t.find(a=>!!a.allBasenames);o&&(n.allBasenames=o.allBasenames);let s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(n.allPaths=s),n}function cte(r,e,t){let i=lh===kn.sep,n=i?r:r.replace(lbe,lh),o=lh+n,s=kn.sep+r,a;return t?a=function(l,c){return typeof l=="string"&&(l===n||l.endsWith(o)||!i&&(l===r||l.endsWith(s)))?e:null}:a=function(l,c){return typeof l=="string"&&(l===n||!i&&l===r)?e:null},a.allPaths=[(t?"*/":"./")+r],a}function bbe(r){try{let e=new RegExp(`^${dte(r)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?r:null}}catch{return tu}}function hte(r,e,t){return!r||typeof e!="string"?!1:s6(r)(e,void 0,t)}function s6(r,e={}){if(!r)return ate;if(typeof r=="string"||vbe(r)){let t=r6(r,e);if(t===tu)return ate;let i=function(n,o){return!!t(n,o)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return Cbe(r,e)}function vbe(r){let e=r;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function Cbe(r,e){let t=ute(Object.getOwnPropertyNames(r).map(a=>wbe(a,r[a],e)).filter(a=>a!==tu)),i=t.length;if(!i)return tu;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];let a=function(d,h){let u;for(let f=0,m=t.length;f<m;f++){let _=t[f](d,h);if(typeof _=="string")return _;WO(_)&&(u||(u=[]),u.push(_))}return u?(()=>ite(this,void 0,void 0,function*(){for(let f of u){let m=yield f;if(typeof m=="string")return m}return null}))():null},l=t.find(d=>!!d.allBasenames);l&&(a.allBasenames=l.allBasenames);let c=t.reduce((d,h)=>h.allPaths?d.concat(h.allPaths):d,[]);return c.length&&(a.allPaths=c),a}let n=function(a,l,c){let d,h;for(let u=0,f=t.length;u<f;u++){let m=t[u];m.requiresSiblings&&c&&(l||(l=ah(a)),d||(d=l.substr(0,l.length-DY(a).length)));let _=m(a,l,d,c);if(typeof _=="string")return _;WO(_)&&(h||(h=[]),h.push(_))}return h?(()=>ite(this,void 0,void 0,function*(){for(let u of h){let f=yield u;if(typeof f=="string")return f}return null}))():null},o=t.find(a=>!!a.allBasenames);o&&(n.allBasenames=o.allBasenames);let s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(n.allPaths=s),n}function wbe(r,e,t){if(e===!1)return tu;let i=r6(r,t);if(i===tu)return tu;if(typeof e=="boolean")return i;if(e){let n=e.when;if(typeof n=="string"){let o=(s,a,l,c)=>{if(!c||!i(s,a))return null;let d=n.replace("$(basename)",l),h=c(d);return WO(h)?h.then(u=>u?r:null):h?r:null};return o.requiresSiblings=!0,o}}return i}function ute(r,e){let t=r.filter(a=>!!a.basenames);if(t.length<2)return r;let i=t.reduce((a,l)=>{let c=l.basenames;return c?a.concat(c):a},[]),n;if(e){n=[];for(let a=0,l=i.length;a<l;a++)n.push(e)}else n=t.reduce((a,l)=>{let c=l.patterns;return c?a.concat(c):a},[]);let o=function(a,l){if(typeof a!="string")return null;if(!l){let d;for(d=a.length;d>0;d--){let h=a.charCodeAt(d-1);if(h===47||h===92)break}l=a.substr(d)}let c=i.indexOf(l);return c!==-1?n[c]:null};o.basenames=i,o.patterns=n,o.allBasenames=i;let s=r.filter(a=>!a.basenames);return s.push(o),s}am();Ws();Gg();Vr();Ye();fc();var Xw=[],a6=[],gte=[];function Ix(r,e=!1){ybe(r,!1,e)}function ybe(r,e,t){let i=Sbe(r,e);Xw.push(i),i.userConfigured?gte.push(i):a6.push(i),t&&!i.userConfigured&&Xw.forEach(n=>{n.mime===i.mime||n.userConfigured||(i.extension&&n.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&n.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&n.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&n.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function Sbe(r,e){return{id:r.id,mime:r.mime,filename:r.filename,extension:r.extension,filepattern:r.filepattern,firstline:r.firstline,userConfigured:e,filenameLowercase:r.filename?r.filename.toLowerCase():void 0,extensionLowercase:r.extension?r.extension.toLowerCase():void 0,filepatternLowercase:r.filepattern?s6(r.filepattern.toLowerCase()):void 0,filepatternOnPath:r.filepattern?r.filepattern.indexOf(kn.sep)>=0:!1}}function mte(){Xw=Xw.filter(r=>r.userConfigured),a6=[]}function pte(r,e){return Lbe(r,e).map(t=>t.id)}function Lbe(r,e){let t;if(r)switch(r.scheme){case lt.file:t=r.fsPath;break;case lt.data:{t=Vh.parseMetaData(r).get(Vh.META_DATA_LABEL);break}case lt.vscodeNotebookCell:t=void 0;break;default:t=r.path}if(!t)return[{id:"unknown",mime:Eo.unknown}];t=t.toLowerCase();let i=ah(t),n=fte(t,i,gte);if(n)return[n,{id:Io,mime:Eo.text}];let o=fte(t,i,a6);if(o)return[o,{id:Io,mime:Eo.text}];if(e){let s=xbe(e);if(s)return[s,{id:Io,mime:Eo.text}]}return[{id:"unknown",mime:Eo.unknown}]}function fte(r,e,t){var i;let n,o,s;for(let a=t.length-1;a>=0;a--){let l=t[a];if(e===l.filenameLowercase){n=l;break}if(l.filepattern&&(!o||l.filepattern.length>o.filepattern.length)){let c=l.filepatternOnPath?r:e;!((i=l.filepatternLowercase)===null||i===void 0)&&i.call(l,c)&&(o=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&e.endsWith(l.extensionLowercase)&&(s=l)}if(n)return n;if(o)return o;if(s)return s}function xbe(r){if(q0(r)&&(r=r.substr(1)),r.length>0)for(let e=Xw.length-1;e>=0;e--){let t=Xw[e];if(!t.firstline)continue;let i=r.match(t.firstline);if(i&&i.length>0)return t}}fc();Xu();fr();var bM=Object.prototype.hasOwnProperty,_te="vs.editor.nullLanguage",l6=class{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(_te,0),this._register(Io,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;let t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||_te}},lp=class extends ${constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,lp.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new l6,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(lm.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){lp.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},mte();let e=[].concat(lm.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(let t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{let i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(n=>{this._lowercaseNameMap[n.toLowerCase()]=i.identifier}),i.mimetypes.forEach(n=>{this._mimeTypesMap[n]=i.identifier})}),di.as(ps.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){let t=e.id,i;bM.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){let i=t.id,n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let a of t.extensions)Ix({id:i,mime:n,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)Ix({id:i,mime:n,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)Ix({id:i,mime:n,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{let l=new RegExp(a);zY(l)||Ix({id:i,mime:n,firstline:l},this._warnOnOverwrite)}catch(l){Pe(l)}}e.aliases.push(i);let o=null;if(typeof t.aliases<"u"&&Array.isArray(t.aliases)&&(t.aliases.length===0?o=[null]:o=t.aliases),o!==null)for(let a of o)!a||a.length===0||e.aliases.push(a);let s=o!==null&&o.length>0;if(!(s&&o[0]===null)){let a=(s?o[0]:null)||i;(s||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?bM.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){let t=e.toLowerCase();return bM.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&bM.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return!e&&!t?[]:pte(e,t)}};lp.instanceCount=0;Ft();Un();fc();var cp=class extends ${constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new B),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new B({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,cp.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new lp(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){cp.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){let i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return $E(i,null)}createById(e){return new vM(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new vM(this.onDidChange,()=>{let i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=Io),this._encounteredLanguages.has(e)||(this._encounteredLanguages.add(e),ki.getOrCreate(e),this._onDidEncounterLanguage.fire(e)),e}};cp.instanceCount=0;var vM=class{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new B({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var e;let t=this._selector();t!==this.languageId&&(this.languageId=t,(e=this._emitter)===null||e===void 0||e.fire(this.languageId))}};Fe();Oe();se();Sm();Ct();Fe();vc();ur();Fe();bs();vc();bn();function c6(r){let e=r.definition;for(;e instanceof p;)e=e.definition;return`.codicon-${r.id}:before { content: '${e.fontCharacter}'; }`}Fr();ot();bn();se();At();Ye();var h6=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,d6=/(&amp;)?(&amp;)([^\s&])/g,CM;(function(r){r[r.Right=0]="Right",r[r.Left=1]="Left"})(CM||(CM={}));var zf=class extends nr{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");let n=document.createElement("div");n.classList.add("monaco-menu"),n.setAttribute("role","presentation"),super(n,{orientation:1,actionViewItemProvider:a=>this.doGetActionViewItem(a,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...at||$i?[10]:[]],keyDown:!0}}),this.menuElement=n,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new J),this.initializeOrUpdateStyleSheet(e,{}),this._register(Yt.addTarget(n)),ne(n,ye.KEY_DOWN,a=>{new Gt(a).equals(2)&&a.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add(ne(n,ye.KEY_DOWN,a=>{let l=a.key.toLocaleLowerCase();if(this.mnemonics.has(l)){Xt.stop(a,!0);let c=this.mnemonics.get(l);if(c.length===1&&(c[0]instanceof wM&&c[0].container&&this.focusItemByElement(c[0].container),c[0].onClick(a)),c.length>1){let d=c.shift();d&&d.container&&(this.focusItemByElement(d.container),c.push(d)),this.mnemonics.set(l,c)}}})),$i&&this._register(ne(n,ye.KEY_DOWN,a=>{let l=new Gt(a);l.equals(14)||l.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Xt.stop(a,!0)):(l.equals(13)||l.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Xt.stop(a,!0))})),this._register(ne(this.domNode,ye.MOUSE_OUT,a=>{let l=a.relatedTarget;wc(l,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),a.stopPropagation())})),this._register(ne(this.actionsList,ye.MOUSE_OVER,a=>{let l=a.target;if(!(!l||!wc(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){let c=this.focusedItem;this.setFocusedItem(l),c!==this.focusedItem&&this.updateFocus()}}})),this._register(Yt.addTarget(this.actionsList)),this._register(ne(this.actionsList,mi.Tap,a=>{let l=a.initialTarget;if(!(!l||!wc(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){let c=this.focusedItem;this.setFocusedItem(l),c!==this.focusedItem&&this.updateFocus()}}}));let o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Tc(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));let s=this.scrollableElement.getDomNode();s.style.position="",this._register(ne(n,mi.Change,a=>{Xt.stop(a,!0);let l=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:l-a.translationY})})),this._register(ne(s,ye.MOUSE_UP,a=>{a.preventDefault()})),n.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(a=>{var l;return!((l=i.submenuIds)===null||l===void 0)&&l.has(a.id)?(console.warn(`Found submenu cycle: ${a.id}`),!1):!0}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(a=>!(a instanceof Ox)).forEach((a,l,c)=>{a.updatePositionInSet(l+1,c.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(of(e)?this.styleSheet=No(e):(zf.globalStyleSheet||(zf.globalStyleSheet=No()),this.styleSheet=zf.globalStyleSheet)),this.styleSheet.textContent=kbe(t,of(e))}style(e){let t=this.getContainer();this.initializeOrUpdateStyleSheet(t,e);let i=e.foregroundColor?`${e.foregroundColor}`:"",n=e.backgroundColor?`${e.backgroundColor}`:"",o=e.borderColor?`1px solid ${e.borderColor}`:"",s="5px",a=e.shadowColor?`0 2px 8px ${e.shadowColor}`:"";t.style.outline=o,t.style.borderRadius=s,t.style.color=i,t.style.backgroundColor=n,t.style.boxShadow=a,this.viewItems&&this.viewItems.forEach(l=>{(l instanceof Nx||l instanceof Ox)&&l.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){let t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){let i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Bn)return new Ox(t.context,e,{icon:!0});if(e instanceof fd){let n=new wM(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){let o=n.getMnemonic();if(o&&n.isEnabled()){let s=[];this.mnemonics.has(o)&&(s=this.mnemonics.get(o)),s.push(n),this.mnemonics.set(o,s)}}return n}else{let n={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){let s=t.getKeyBinding(e);if(s){let a=s.getLabel();a&&(n.keybinding=a)}}let o=new Nx(t.context,e,n);if(t.enableMnemonics){let s=o.getMnemonic();if(s&&o.isEnabled()){let a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(o),this.mnemonics.set(s,a)}}return o}}},Nx=class extends Zs{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){let n=this.getAction().label;if(n){let o=h6.exec(n);o&&(this.mnemonic=(o[1]?o[1]:o[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new pt(()=>{!this.element||(this._register(ne(this.element,ye.MOUSE_UP,n=>{if(Xt.stop(n,!0),ao){if(new Rr(n).rightButton)return;this.onClick(n)}else setTimeout(()=>{this.onClick(n)},0)})),this._register(ne(this.element,ye.CONTEXT_MENU,n=>{Xt.stop(n,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=oe(this.element,he("a.action-menu-item")),this._action.id===Bn.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=oe(this.item,he("span.menu-item-check"+p.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=oe(this.item,he("span.action-label")),this.options.label&&this.options.keybinding&&(oe(this.item,he("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(!!this.label&&this.options.label){Yi(this.label);let t=AA(this.getAction().label);if(t){let i=Dbe(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));let n=h6.exec(t);if(n){t=V0(t),d6.lastIndex=0;let o=d6.exec(t);for(;o&&o[1];)o=d6.exec(t);let s=a=>a.replace(/&amp;&amp;/g,"&amp;");o?this.label.append(U0(s(t.substr(0,o.index))," "),he("u",{"aria-hidden":"true"},o[3]),jY(s(t.substr(o.index+o[0].length))," ")):this.label.innerText=s(t).trim(),(e=this.item)===null||e===void 0||e.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;let e=this.getAction().checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;let e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():"",this.item.style.outline=n,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=t?t.toString():"")}style(e){this.menuStyle=e,this.applyStyle()}},wM=class extends Nx{constructor(e,t,i,n){super(e,e,n),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new J),this.mouseOver=!1,this.expandDirection=n&&n.expandDirection!==void 0?n.expandDirection:CM.Right,this.showScheduler=new pt(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new pt(()=>{this.element&&!wc(bm(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=oe(this.item,he("span.submenu-indicator"+p.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(ne(this.element,ye.KEY_UP,t=>{let i=new Gt(t);(i.equals(17)||i.equals(3))&&(Xt.stop(t,!0),this.createSubmenu(!0))})),this._register(ne(this.element,ye.KEY_DOWN,t=>{let i=new Gt(t);bm()===this.item&&(i.equals(17)||i.equals(3))&&Xt.stop(t,!0)})),this._register(ne(this.element,ye.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(ne(this.element,ye.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(ne(this.element,ye.FOCUS_OUT,t=>{this.element&&!wc(bm(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(e){Xt.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){let o={top:0,left:0};return o.left=Zb(e.width,t.width,{position:n===CM.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=Zb(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=oe(this.element,he("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");let t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new zf(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new G_],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);let n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},s=this.submenuContainer.getBoundingClientRect(),{top:a,left:l}=this.calculateSubmenuMenuLayout(new gi(window.innerWidth,window.innerHeight),gi.lift(s),o,this.expandDirection);this.submenuContainer.style.left=`${l-s.left}px`,this.submenuContainer.style.top=`${a-s.top}px`,this.submenuDisposables.add(ne(this.submenuContainer,ye.KEY_UP,c=>{new Gt(c).equals(15)&&(Xt.stop(c,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(ne(this.submenuContainer,ye.KEY_DOWN,c=>{new Gt(c).equals(15)&&Xt.stop(c,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){var e;if(super.applyStyle(),!this.menuStyle)return;let i=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=i?`${i}`:""),(e=this.parentData.submenu)===null||e===void 0||e.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}},Ox=class extends Pd{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}};function Dbe(r){let e=h6,t=e.exec(r);if(!t)return r;let i=!t[1];return r.replace(e,i?"$2$3":"").trim()}function kbe(r,e){let t=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${c6(p.menuSelection)}
${c6(p.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .6em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;let i=r.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);let n=r.scrollbarSliderBackground;n&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${n};
				}
			`);let o=r.scrollbarSliderHoverBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${o};
				}
			`);let s=r.scrollbarSliderActiveBackground;s&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${s};
				}
			`)}return t}Fr();ut();se();Ai();function zl(r,e){let t=Object.create(null);for(let i in e){let n=e[i];n&&(t[i]=kh(n,r))}return t}function u6(r,e,t){function i(){let n=zl(r.getColorTheme(),e);typeof t=="function"?t(n):t.style(n)}return i(),r.onDidColorThemeChange(i)}function bte(r,e,t){return u6(e,{badgeBackground:t?.badgeBackground||xm,badgeForeground:t?.badgeForeground||Dm,badgeBorder:Nt},r)}function Vf(r,e,t){return u6(e,Object.assign(Object.assign({},Tx),t||{}),r)}var Tx={listFocusBackground:LX,listFocusForeground:xX,listFocusOutline:DX,listActiveSelectionBackground:Ph,listActiveSelectionForeground:vd,listActiveSelectionIconForeground:MC,listFocusAndSelectionOutline:kX,listFocusAndSelectionBackground:Ph,listFocusAndSelectionForeground:vd,listInactiveSelectionBackground:EX,listInactiveSelectionIconForeground:OX,listInactiveSelectionForeground:IX,listInactiveFocusBackground:NX,listInactiveFocusOutline:TX,listHoverBackground:PX,listHoverForeground:AX,listDropBackground:MX,listSelectionOutline:Pi,listHoverOutline:Pi,listFilterWidgetBackground:RX,listFilterWidgetOutline:FX,listFilterWidgetNoMatchesOutline:BX,listFilterWidgetShadow:jX,treeIndentGuidesStroke:WX,tableColumnsBorder:zX,tableOddRowsBackgroundColor:VX,inputActiveOptionBorder:nb,inputActiveOptionForeground:rb,inputActiveOptionBackground:ob,inputBackground:Om,inputForeground:Nm,inputBorder:Tm,inputValidationInfoBackground:VC,inputValidationInfoForeground:UC,inputValidationInfoBorder:HC,inputValidationWarningBackground:$C,inputValidationWarningForeground:KC,inputValidationWarningBorder:qC,inputValidationErrorBackground:YC,inputValidationErrorForeground:ZC,inputValidationErrorBorder:GC},Ebe={shadowColor:ya,borderColor:UX,foregroundColor:HX,backgroundColor:$X,selectionForegroundColor:KX,selectionBackgroundColor:qX,selectionBorderColor:YX,separatorColor:ZX,scrollbarShadow:kc,scrollbarSliderBackground:Eh,scrollbarSliderHoverBackground:Ih,scrollbarSliderActiveBackground:Oh};function vte(r,e,t){return u6(e,Object.assign(Object.assign({},Ebe),t),r)}var yM=class{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){let t=e.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let i,n=kN(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:o=>{let s=e.getMenuClassName?e.getMenuClassName():"";s&&(o.className+=" "+s),this.options.blockMouse&&(this.block=o.appendChild(he(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",ne(this.block,ye.MOUSE_DOWN,c=>c.stopPropagation()));let a=new J,l=e.actionRunner||new Nl;return l.onBeforeRun(this.onActionRun,this,a),l.onDidRun(this.onDidActionRun,this,a),i=new zf(o,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:c=>this.keybindingService.lookupKeybinding(c.id)}),a.add(vte(i,this.themeService)),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add(ne(window,ye.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(ne(window,ye.MOUSE_DOWN,c=>{if(c.defaultPrevented)return;let d=new Rr(c),h=d.target;if(!d.rightButton){for(;h;){if(h===o)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),ms(a,i)},focus:()=>{i?.focus(!!e.autoSelectFirstItem)},onHide:o=>{var s;(s=e.onHide)===null||s===void 0||s.call(e,!!o),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!Ps(e.error)&&this.notificationService.error(e.error)}};var Ibe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Px=function(r,e){return function(t,i){e(t,i,r)}},SM=class extends ${constructor(e,t,i,n,o){super(),this._onDidShowContextMenu=new B,this._onDidHideContextMenu=new B,this.contextMenuHandler=new yM(i,e,t,n,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{var i;(i=e.onHide)===null||i===void 0||i.call(e,t),this._onDidHideContextMenu.fire()}})),Il.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};SM=Ibe([Px(0,Hs),Px(1,ui),Px(2,Bl),Px(3,gn),Px(4,Tt)],SM);Ct();Bs();Fe();Di();Xc();xa();X0();vi();function Gb(r){let e=JSON.parse(r);return e=f6(e),e}function f6(r,e=0){if(!r||e>200)return r;if(typeof r=="object"){switch(r.$mid){case 1:return Ee.revive(r);case 2:return new RegExp(r.source,r.flags);case 14:return new Date(r.source)}if(r instanceof sm||r instanceof Uint8Array)return r;if(Array.isArray(r))for(let t=0;t<r.length;++t)r[t]=f6(r[t],e+1);else for(let t in r)Object.hasOwnProperty.call(r,t)&&(r[t]=f6(r[t],e+1))}return r}Ws();Vr();vi();lo();hn();var Ax;(function(r){r[r.API=0]="API",r[r.USER=1]="USER"})(Ax||(Ax={}));Ds();var p6=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},LM=function(r,e){return function(t,i){e(t,i,r)}},Xb=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},g6=class{constructor(e){this._commandService=e}open(e,t){return Xb(this,void 0,void 0,function*(){if(!xx(e,lt.command))return!1;if(!t?.allowCommands)return!0;typeof e=="string"&&(e=Ee.parse(e));let i=[];try{i=Gb(decodeURIComponent(e.query))}catch{try{i=Gb(e.query)}catch{}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0})}};g6=p6([LM(0,yi)],g6);var m6=class{constructor(e){this._editorService=e}open(e,t){return Xb(this,void 0,void 0,function*(){typeof e=="string"&&(e=Ee.parse(e));let{selection:i,uri:n}=iM(e);return e=n,e.scheme===lt.file&&(e=CJ(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,source:t?.fromUserGesture?Ax.USER:Ax.API},t?.editorOptions)},this._editorService.getFocusedCodeEditor(),t?.openToSide),!0})}};m6=p6([LM(0,kt)],m6);var xM=class{constructor(e,t){this._openers=new Rn,this._validators=new Rn,this._resolvers=new Rn,this._resolvedUriTargets=new uo(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Rn,this._defaultExternalOpener={openExternal:i=>Xb(this,void 0,void 0,function*(){return e6(i,lt.http,lt.https)?EN(i):window.location.href=i,!0})},this._openers.push({open:(i,n)=>Xb(this,void 0,void 0,function*(){return n?.openExternal||e6(i,lt.mailto,lt.http,lt.https,lt.vsls)?(yield this._doOpenExternal(i,n),!0):!1})}),this._openers.push(new g6(t)),this._openers.push(new m6(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return Xb(this,void 0,void 0,function*(){let n=typeof e=="string"?Ee.parse(e):e,o=(i=this._resolvedUriTargets.get(n))!==null&&i!==void 0?i:e;for(let s of this._validators)if(!(yield s.shouldOpen(o,t)))return!1;for(let s of this._openers)if(yield s.open(e,t))return!0;return!1})}resolveExternalUri(e,t){return Xb(this,void 0,void 0,function*(){for(let i of this._resolvers)try{let n=yield i.resolveExternalUri(e,t);if(n)return this._resolvedUriTargets.has(n.resolved)||this._resolvedUriTargets.set(n.resolved,e),n}catch{}throw new Error("Could not resolve external URI: "+e.toString())})}_doOpenExternal(e,t){return Xb(this,void 0,void 0,function*(){let i=typeof e=="string"?Ee.parse(e):e,n;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch{n=i}let o;if(typeof e=="string"&&i.toString()===n.toString()?o=e:o=encodeURI(n.toString(!0)),t?.allowContributedOpeners){let s=typeof t?.allowContributedOpeners=="string"?t?.allowContributedOpeners:void 0;for(let a of this._externalOpeners)if(yield a.openExternal(o,{sourceUri:i,preferredOpenerId:s},Je.None))return!0}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},Je.None)})}dispose(){this._validators.clear()}};xM=p6([LM(0,kt),LM(1,yi)],xM);Mf();Qo();Ne();Xe();var Xi;(function(r){r[r.Hint=1]="Hint",r[r.Info=2]="Info",r[r.Warning=4]="Warning",r[r.Error=8]="Error"})(Xi||(Xi={}));(function(r){function e(s,a){return a-s}r.compare=e;let t=Object.create(null);t[r.Error]=g("sev.error","Error"),t[r.Warning]=g("sev.warning","Warning"),t[r.Info]=g("sev.info","Info");function i(s){return t[s]||""}r.toString=i;function n(s){switch(s){case Ri.Error:return r.Error;case Ri.Warning:return r.Warning;case Ri.Info:return r.Info;case Ri.Ignore:return r.Hint}}r.fromSeverity=n;function o(s){switch(s){case r.Error:return Ri.Error;case r.Warning:return Ri.Warning;case r.Info:return Ri.Info;case r.Hint:return Ri.Ignore}}r.toSeverity=o})(Xi||(Xi={}));var Mx;(function(r){let e="";function t(n){return i(n,!0)}r.makeKey=t;function i(n,o){let s=[e];return n.source?s.push(n.source.replace("\xA6","\\\xA6")):s.push(e),n.code?typeof n.code=="string"?s.push(n.code.replace("\xA6","\\\xA6")):s.push(n.code.value.replace("\xA6","\\\xA6")):s.push(e),n.severity!==void 0&&n.severity!==null?s.push(Xi.toString(n.severity)):s.push(e),n.message&&o?s.push(n.message.replace("\xA6","\\\xA6")):s.push(e),n.startLineNumber!==void 0&&n.startLineNumber!==null?s.push(n.startLineNumber.toString()):s.push(e),n.startColumn!==void 0&&n.startColumn!==null?s.push(n.startColumn.toString()):s.push(e),n.endLineNumber!==void 0&&n.endLineNumber!==null?s.push(n.endLineNumber.toString()):s.push(e),n.endColumn!==void 0&&n.endColumn!==null?s.push(n.endColumn.toString()):s.push(e),s.push(e),s.join("\xA6")}r.makeKeyOptionalMessage=i})(Mx||(Mx={}));var Xs=We("markerService");se();Rs();Ct();La();_s();Le();Ws();Oe();Ai();xa();var Obe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Cte=function(r,e){return function(t,i){e(t,i,r)}},_6=class extends ${constructor(e){super(),this.model=e,this._markersData=new Map,this._register(Ke(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){let i=[...this._markersData.keys()];this._markersData.clear();let n=this.model.deltaDecorations(i,t);for(let o=0;o<n.length;o++)this._markersData.set(n[o],e[o]);return i.length!==0||n.length!==0}getMarker(e){return this._markersData.get(e.id)}},DM=class extends ${constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new B),this._markerDecorations=new uo,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){let i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{let i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){let t=new _6(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var t;let i=this._markerDecorations.get(e.uri);i&&(i.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===lt.inMemory||e.uri.scheme===lt.internal||e.uri.scheme===lt.vscode)&&((t=this._markerService)===null||t===void 0||t.read({resource:e.uri}).map(n=>n.owner).forEach(n=>this._markerService.remove(n,[e.uri])))}_updateDecorations(e){let t=this._markerService.read({resource:e.model.uri,take:500}),i=t.map(n=>({range:this._createDecorationRange(e.model,n),options:this._createDecorationOption(n)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=D.lift(t);if(t.severity===Xi.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){let n=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(n===1||i.endColumn>=n)return i;let o=e.getWordAtPosition(i.getStartPosition());o&&(i=new D(i.startLineNumber,o.startColumn,i.endLineNumber,o.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){let n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new D(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,n,o,s;switch(e.severity){case Xi.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",n=0;break;case Xi.Warning:t="squiggly-warning",i=un(SQ),n=20,s={color:un(QX),position:is.Inline};break;case Xi.Info:t="squiggly-info",i=un(LQ),n=10;break;case Xi.Error:default:t="squiggly-error",i=un(yQ),n=30,s={color:un(XX),position:is.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:ts.Right},minimap:s,zIndex:n,inlineClassName:o}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}};DM=Obe([Cte(0,si),Cte(1,Xs)],DM);A6();xt();Ct();Di();Xe();St();lo();Di();Fe();bs();Fe();bs();Fe();bn();var Bbe=new RegExp(`(\\\\)?\\$\\((${po.iconNameExpression}(?:${po.iconModifierExpression})?)\\)`,"g");function Wc(r){let e=new Array,t,i=0,n=0;for(;(t=Bbe.exec(r))!==null;){n=t.index||0,e.push(r.substring(i,n)),i=(t.index||0)+t[0].length;let[,o,s]=t;e.push(o?`$(${s})`:jbe({id:s}))}return i<r.length&&e.push(r.substring(i)),e}function jbe(r){let e=he("span");return e.classList.add(...po.asClassNameArray(r)),e}ho();Oe();se();hr();var Wbe={buttonBackground:Z.fromHex("#0E639C"),buttonHoverBackground:Z.fromHex("#006BB3"),buttonSeparator:Z.white,buttonForeground:Z.white},Wx=class extends ${constructor(e,t){super(),this._onDidClick=this._register(new B),this.options=t||Object.create(null),Pr(this.options,Wbe,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(Yt.addTarget(this._element)),[ye.CLICK,mi.Tap].forEach(i=>{this._register(ne(this._element,i,n=>{if(!this.enabled){Xt.stop(n);return}this._onDidClick.fire(n)}))}),this._register(ne(this._element,ye.KEY_DOWN,i=>{let n=new Gt(i),o=!1;this.enabled&&(n.equals(3)||n.equals(10))?(this._onDidClick.fire(i),o=!0):n.equals(9)&&(this._element.blur(),o=!0),o&&Xt.stop(n,!0)})),this._register(ne(this._element,ye.MOUSE_OVER,i=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(ne(this._element,ye.MOUSE_OUT,i=>{this.applyStyles()})),this.focusTracker=this._register(Ol(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;this.options.secondary?e=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:e=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");let i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?yc(this._element,...Wc(e)):this._element.textContent=e,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}};Fe();ho();hr();Ye();var zbe={badgeBackground:Z.fromHex("#4D4D4D"),badgeForeground:Z.fromHex("#FFFFFF")},Jb=class{constructor(e,t){this.count=0,this.options=t||Object.create(null),Pr(this.options,zbe,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=oe(e,he(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=td(this.countFormat,this.count),this.element.title=td(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){let e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}};Fe();ot();ho();se();hr();var Dte="done",kte="active",M6="infinite",R6="infinite-long-running",Ete="discrete",Vbe={progressBarBackground:Z.fromHex("#0E70C0")},ev=class extends ${constructor(e,t){super(),this.options=t||Object.create(null),Pr(this.options,Vbe,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new pt(()=>Jo(this.element),0)),this.longRunningScheduler=this._register(new pt(()=>this.infiniteLongRunning(),ev.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(kte,M6,R6,Ete),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(Dte),this.element.classList.contains(M6)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Ete,Dte,R6),this.element.classList.add(kte,M6),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(R6)}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){let e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}};ev.LONG_RUNNING_INFINITE_THRESHOLD=1e4;Fr();Ft();ot();Di();bn();Oe();se();At();ti();Fe();var tv=class{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}},PM=new tv("id#");var F6={},Ube=new tv("quick-input-button-icon-");function zx(r){if(!r)return;let e,t=r.dark.toString();return F6[t]?e=F6[t]:(e=Ube.nextId(),nL(`.${e}, .hc-light .${e}`,`background-image: ${wh(r.light||r.dark)}`),nL(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${wh(r.dark)}`),F6[t]=e),e}var Ite={ctrlCmd:!1,alt:!1},Jw;(function(r){r[r.Blur=1]="Blur",r[r.Gesture=2]="Gesture",r[r.Other=3]="Other"})(Jw||(Jw={}));var Vl;(function(r){r[r.NONE=0]="NONE",r[r.FIRST=1]="FIRST",r[r.SECOND=2]="SECOND",r[r.LAST=3]="LAST"})(Vl||(Vl={}));var B6=class{constructor(e){this.options=e}},ort=new B6;Ne();Fe();bs();vc();Fe();Fe();function Ote(r,e={}){let t=AM(e);return t.textContent=r,t}function Nte(r,e={}){let t=AM(e);return Tte(t,Hbe(r,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function AM(r){let e=r.inline?"span":"div",t=document.createElement(e);return r.className&&(t.className=r.className),t}var j6=class{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){let e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}};function Tte(r,e,t,i){let n;if(e.type===2)n=document.createTextNode(e.content||"");else if(e.type===3)n=document.createElement("b");else if(e.type===4)n=document.createElement("i");else if(e.type===7&&i)n=document.createElement("code");else if(e.type===5&&t){let o=document.createElement("a");t.disposables.add(Ti(o,"click",s=>{t.callback(String(e.index),s)})),n=o}else e.type===8?n=document.createElement("br"):e.type===1&&(n=r);n&&r!==n&&r.appendChild(n),n&&Array.isArray(e.children)&&e.children.forEach(o=>{Tte(n,o,t,i)})}function Hbe(r,e){let t={type:1,children:[]},i=0,n=t,o=[],s=new j6(r);for(;!s.eos();){let a=s.next(),l=a==="\\"&&W6(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&$be(a,e)&&a===s.peek()){s.advance(),n.type===2&&(n=o.pop());let c=W6(a,e);if(n.type===c||n.type===5&&c===6)n=o.pop();else{let d={type:c,children:[]};c===5&&(d.index=i,i++),n.children.push(d),o.push(n),n=d}}else if(a===`
`)n.type===2&&(n=o.pop()),n.children.push({type:8});else if(n.type!==2){let c={type:2,content:a};n.children.push(c),o.push(n),n=c}else n.content+=a}return n.type===2&&(n=o.pop()),o.length,t}function $be(r,e){return W6(r,e)!==0}function W6(r,e){switch(r){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}Vs();ho();Oe();var MM=class{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}};var RM=class{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();let e=this._elements;this._navigator=new MM(e,0,e.length,e.length)}_reduceToLimit(){let e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){let e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(let t of e)this._history.add(t)}get _elements(){let e=[];return this._history.forEach(t=>e.push(t)),e}};hr();Ne();var Vx=he,Kbe={inputBackground:Z.fromHex("#3C3C3C"),inputForeground:Z.fromHex("#CCCCCC"),inputValidationInfoBorder:Z.fromHex("#55AAFF"),inputValidationInfoBackground:Z.fromHex("#063B49"),inputValidationWarningBorder:Z.fromHex("#B89500"),inputValidationWarningBackground:Z.fromHex("#352A05"),inputValidationErrorBorder:Z.fromHex("#BE1100"),inputValidationErrorBackground:Z.fromHex("#5A1D1D")},Ux=class extends Po{constructor(e,t,i){var n;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new B),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new B),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),Pr(this.options,Kbe,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(n=this.options.tooltip)!==null&&n!==void 0?n:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=oe(e,Vx(".monaco-inputbox.idle"));let o=this.options.flexibleHeight?"textarea":"input",s=oe(this.element,Vx(".ibwrapper"));if(this.input=oe(s,Vx(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=oe(s,Vx("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new dw(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),oe(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(c=>this.input.scrollTop=c.scrollTop));let a=this._register(new ai(document,"selectionchange")),l=Ie.filter(a.event,()=>{let c=document.getSelection();return c?.anchorNode===s});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new nr(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:iL(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return _a(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){let i=parseFloat(this.mirror.style.paddingLeft||"")||0,n=parseFloat(this.mirror.style.paddingRight||"")||0;t=i+n}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;let e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));let i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e?.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=_a(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:n=>{if(!this.message)return null;e=oe(n,Vx(".monaco-inputbox-container")),t();let o={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?Nte(this.message.content,o):Ote(this.message.content,o);s.classList.add(this.classForType(this.message.type));let a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background?a.background.toString():"",s.style.color=a.foreground?a.foreground.toString():"",s.style.border=a.border?`1px solid ${a.border}`:"",oe(e,s),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=g("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=g("alertWarningMessage","Warning: {0}",this.message.content):i=g("alertInfoMessage","Info: {0}",this.message.content),Tn(i),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;let e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="\xA0",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){let e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;let e=this.cachedContentHeight;this.cachedContentHeight=iL(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){let t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;i!==null&&n!==null&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}},e1=class extends Ux{constructor(e,t,i){let n=g({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),o=` or \u21C5 ${n}`,s=` (\u21C5 ${n})`;super(e,t,i),this._onDidFocus=this._register(new B),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new B),this.onDidBlur=this._onDidBlur.event,this.history=new RM(i.history,100);let a=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(o)&&!this.placeholder.endsWith(s)&&this.history.getHistory().length){let l=this.placeholder.endsWith(")")?o:s,c=this.placeholder+l;i.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=c:this.setPlaceHolder(c)}};this.observer=new MutationObserver((l,c)=>{l.forEach(d=>{d.target.textContent||a()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>a()),this.onblur(this.input,()=>{let l=c=>{if(this.placeholder.endsWith(c)){let d=this.placeholder.slice(0,this.placeholder.length-c.length);return i.showPlaceholderOnFocus?this.placeholder=d:this.setPlaceHolder(d),!0}else return!1};l(s)||l(o)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,Z_(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Z_(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}};se();var qbe=he,FM=class extends ${constructor(e){super(),this.parent=e,this.onKeyDown=t=>ne(this.inputBox.inputElement,ye.KEY_DOWN,i=>{t(new Gt(i))}),this.onMouseDown=t=>ne(this.inputBox.inputElement,ye.MOUSE_DOWN,i=>{t(new Rr(i))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=oe(this.parent,qbe(".quick-input-box")),this.inputBox=this._register(new Ux(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return this.inputBox.inputElement.type==="password"}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===Ri.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===Ri.Info?1:e===Ri.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===Ri.Info?1:e===Ri.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}};Fe();bs();Fe();Fe();hr();var Fd=class{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(i=t?.supportIcons)!==null&&i!==void 0?i:!1,this.domNode=oe(e,he("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=Fd.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&dr(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){let e=[],t=0;for(let i of this.highlights){if(i.end===i.start)continue;if(t<i.start){let s=this.text.substring(t,i.start);e.push(he("span",void 0,...this.supportIcons?Wc(s):[s])),t=i.end}let n=this.text.substring(i.start,i.end),o=he("span.highlight",void 0,...this.supportIcons?Wc(n):[n]);i.extraClasses&&o.classList.add(...i.extraClasses),e.push(o),t=i.end}if(t<this.text.length){let i=this.text.substring(t);e.push(he("span",void 0,...this.supportIcons?Wc(i):[i]))}yc(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,(o,s)=>{n=o===`\r
`?-1:0,s+=i;for(let a of t)a.end<=s||(a.start>=s&&(a.start+=n),a.end>=s&&(a.end+=n));return i+=n,"\u23CE"})}};se();hr();var Hx=class{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}},Uf=class extends ${constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new Hx(oe(e,he(".monaco-icon-label")))),this.labelContainer=oe(this.domNode.element,he(".monaco-icon-label-container"));let i=oe(this.labelContainer,he("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new Hx(oe(this.labelContainer,he("span.monaco-icon-description-container")))),t?.supportHighlights||t?.supportIcons?this.nameNode=new V6(i,!!t.supportIcons):this.nameNode=new z6(i),t?.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new Fd(oe(this.descriptionContainer.element,he("span.label-description")),{supportIcons:!!t.supportIcons}):this.descriptionNodeFactory=()=>this._register(new Hx(oe(this.descriptionContainer.element,he("span.label-description")))),this.hoverDelegate=t?.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){let n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover(i?.descriptionTitle?this.labelContainer:this.element,i?.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Fd?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,i?.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,i?.descriptionTitle||""),this.descriptionNode.empty=!t))}setupHover(e,t){let i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(!this.hoverDelegate)Cee(e,t);else{let n=RA(this.hoverDelegate,e,t);n&&this.customHovers.set(e,n)}}dispose(){super.dispose();for(let e of this.customHovers.values())e.dispose();this.customHovers.clear()}},z6=class{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&dr(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=oe(this.container,he("a.label-name",{id:t?.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){let n=e[i],o=t?.domId&&`${t?.domId}_${i}`;oe(this.container,he("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&oe(this.container,he("span.label-separator",void 0,t?.separator||"/"))}}}};function Ybe(r,e,t){if(!t)return;let i=0;return r.map(n=>{let o={start:i,end:i+n.length},s=t.map(a=>Ro.intersect(o,a)).filter(a=>!Ro.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=o.end+e.length,s})}var V6=class{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&dr(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new Fd(oe(this.container,he("a.label-name",{id:t?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,t?.matches,void 0,t?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;let i=t?.separator||"/",n=Ybe(e,i,t?.matches);for(let o=0;o<e.length;o++){let s=e[o],a=n?n[o]:void 0,l=t?.domId&&`${t?.domId}_${o}`,c=he("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new Fd(oe(this.container,c),{supportIcons:this.supportIcons}).set(s,a,void 0,t?.labelEscapeNewLines),o<e.length-1&&oe(c,he("span.label-separator",void 0,i))}}}};Fe();hr();Ne();var BM=he,t1=class{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=oe(e,BM(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&t1.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(oe(this.domNode,BM("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){Yi(this.domNode),this.keyElements.clear()}renderPart(e,t,i){let n=Gw.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(i?.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(i?.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(i?.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(i?.metaKey),n.separator);let o=t.keyLabel;o&&this.renderKey(e,o,Boolean(i?.keyCode),"")}renderKey(e,t,i,n){oe(e,this.createKeyElement(t,i?".highlight":"")),n&&oe(e,BM("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){oe(e,this.createKeyElement(g("unbound","Unbound")))}createKeyElement(e,t=""){let i=BM("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(let t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=(e=this.labelBackground)===null||e===void 0?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&dr(e.firstPart,t.firstPart)&&dr(e.chordPart,t.chordPart)}};Fr();Ft();bn();ot();var Pte=new Za(()=>{let r=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:r,collatorIsNumeric:r.resolvedOptions().numeric}}),Zrt=new Za(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),Grt=new Za(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function Zbe(r,e,t=!1){let i=r||"",n=e||"",o=Pte.value.collator.compare(i,n);return Pte.value.collatorIsNumeric&&o===0&&i!==n?i<n?-1:1:o}function Ate(r,e,t){let i=r.toLowerCase(),n=e.toLowerCase(),o=Gbe(r,e,t);if(o)return o;let s=i.endsWith(t),a=n.endsWith(t);if(s!==a)return s?-1:1;let l=Zbe(i,n);return l!==0?l:i.localeCompare(n)}function Gbe(r,e,t){let i=r.toLowerCase(),n=e.toLowerCase(),o=i.startsWith(t),s=n.startsWith(t);if(o!==s)return o?-1:1;if(o&&s){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}Oe();se();At();Ye();ti();Ne();var Rte=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Xbe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},iu=he,U6=class{constructor(e){this.hidden=!1,this._onChecked=new B,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}},iv=class{get templateId(){return iv.ID}renderTemplate(e){let t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=oe(e,iu(".quick-input-list-entry"));let i=oe(t.entry,iu("label.quick-input-list-label"));t.toDisposeTemplate.push(Ti(i,ye.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=oe(i,iu("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(Ti(t.checkbox,ye.CHANGE,c=>{t.element.checked=t.checkbox.checked}));let n=oe(i,iu(".quick-input-list-rows")),o=oe(n,iu(".quick-input-list-row")),s=oe(n,iu(".quick-input-list-row"));t.label=new Uf(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});let a=oe(o,iu(".quick-input-list-entry-keybinding"));t.keybinding=new t1(a,Nr);let l=oe(s,iu(".quick-input-list-label-meta"));return t.detail=new Uf(l,{supportHighlights:!0,supportIcons:!0}),t.separator=oe(t.entry,iu(".quick-input-list-separator")),t.actionBar=new nr(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=ft(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(c=>i.checkbox.checked=c));let{labelHighlights:n,descriptionHighlights:o,detailHighlights:s}=e,a=Object.create(null);a.matches=n||[],a.descriptionTitle=e.saneDescription,a.descriptionMatches=o||[],a.extraClasses=e.item.iconClasses,a.italic=e.item.italic,a.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,a),i.keybinding.set(e.item.keybinding),e.saneDetail&&i.detail.setLabel(e.saneDetail,void 0,{matches:s,title:e.saneDetail}),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();let l=e.item.buttons;l&&l.length?(i.actionBar.push(l.map((c,d)=>{let h=c.iconClass||(c.iconPath?zx(c.iconPath):void 0);c.alwaysVisible&&(h=h?`${h} always-visible`:"always-visible");let u=new Xn(`id-${d}`,"",h,!0,()=>Xbe(this,void 0,void 0,function*(){e.fireButtonTriggered({button:c,item:e.item})}));return u.tooltip=c.tooltip||"",u}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=ft(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=ft(e.toDisposeElement),e.toDisposeTemplate=ft(e.toDisposeTemplate)}};iv.ID="listelement";var H6=class{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return iv.ID}},Jn;(function(r){r[r.First=1]="First",r[r.Second=2]="Second",r[r.Last=3]="Last",r[r.Next=4]="Next",r[r.Previous=5]="Previous",r[r.NextPage=6]="NextPage",r[r.PreviousPage=7]="PreviousPage"})(Jn||(Jn={}));var i1=class{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new B,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new B,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new B,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new B,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new B,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new B,this.onKeyDown=this._onKeyDown.event,this._onLeave=new B,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=oe(this.parent,iu(".quick-input-list"));let n=new H6,o=new $6;this.list=i.createList("QuickInput",this.container,n,[new iv],{identityProvider:{getId:s=>s.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(s=>{let a=new Gt(s);switch(a.keyCode){case 10:this.toggleCheckbox();break;case 31:(at?s.metaKey:s.ctrlKey)&&this.list.setFocus(Wo(this.list.length));break;case 16:{let l=this.list.getFocus();l.length===1&&l[0]===0&&this._onLeave.fire();break}case 18:{let l=this.list.getFocus();l.length===1&&l[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(a)})),this.disposables.push(this.list.onMouseDown(s=>{s.browserEvent.button!==2&&s.browserEvent.preventDefault()})),this.disposables.push(ne(this.container,ye.CLICK,s=>{(s.x||s.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(s=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(s=>{typeof s.index=="number"&&(s.browserEvent.preventDefault(),this.list.setSelection([s.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Ie.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return Ie.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){let o=e[i];if(!o.hidden)if(o.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0,t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0,t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=ft(this.elementDisposables);let t=i=>this.fireButtonTriggered(i);this.inputElements=e,this.elements=e.reduce((i,n,o)=>{var s,a,l;if(n.type!=="separator"){let c=o&&e[o-1],d=n.label&&n.label.replace(/\r?\n/g," "),h=Hb(d).text.trim(),u=n.meta&&n.meta.replace(/\r?\n/g," "),f=n.description&&n.description.replace(/\r?\n/g," "),m=n.detail&&n.detail.replace(/\r?\n/g," "),_=n.ariaLabel||[d,f,m].map(w=>PY(w)).filter(w=>!!w).join(", "),v=this.parent.classList.contains("show-checkboxes");i.push(new U6({hasCheckbox:v,index:o,item:n,saneLabel:d,saneSortLabel:h,saneMeta:u,saneAriaLabel:_,saneDescription:f,saneDetail:m,labelHighlights:(s=n.highlights)===null||s===void 0?void 0:s.label,descriptionHighlights:(a=n.highlights)===null||a===void 0?void 0:a.description,detailHighlights:(l=n.highlights)===null||l===void 0?void 0:l.detail,checked:!1,separator:c&&c.type==="separator"?c:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(i=>i.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((i,n,o)=>(i.set(n.item,o),i),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){let t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;let t=new Set;for(let i of e)t.add(i);for(let i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===Jn.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=Jn.First),e===Jn.Previous&&this.list.getFocus()[0]===0&&(e=Jn.Last),e===Jn.Second&&this.list.length<2&&(e=Jn.First),e){case Jn.First:this.list.focusFirst();break;case Jn.Second:this.list.focusNth(1);break;case Jn.Last:this.list.focusLast();break;case Jn.Next:this.list.focusNext();break;case Jn.Previous:this.list.focusPrevious();break;case Jn.NextPage:this.list.focusNextPage();break;case Jn.PreviousPage:this.list.focusPreviousPage();break}let t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${Math.floor(e/44)*44}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;let t=e;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(n=>{n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!1;let o=n.index&&this.inputElements[n.index-1];n.separator=o&&o.type==="separator"?o:void 0});else{let n;this.elements.forEach(o=>{let s;this.matchOnLabelMode==="fuzzy"?s=this.matchOnLabel?Va(_x(e,Hb(o.saneLabel))):void 0:s=this.matchOnLabel?Va(Qbe(t,Hb(o.saneLabel))):void 0;let a=this.matchOnDescription?Va(_x(e,Hb(o.saneDescription||""))):void 0,l=this.matchOnDetail?Va(_x(e,Hb(o.saneDetail||""))):void 0,c=this.matchOnMeta?Va(_x(e,Hb(o.saneMeta||""))):void 0;if(s||a||l||c?(o.labelHighlights=s,o.descriptionHighlights=a,o.detailHighlights=l,o.hidden=!1):(o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=!o.item.alwaysShow),o.separator=void 0,!this.sortByLabel){let d=o.index&&this.inputElements[o.index-1];n=d&&d.type==="separator"?d:n,n&&!o.hidden&&(o.separator=n,n=void 0)}})}let i=this.elements.filter(n=>!n.hidden);if(this.sortByLabel&&e){let n=e.toLowerCase();i.sort((o,s)=>Jbe(o,s,n))}return this.elementsToIndexes=i.reduce((n,o,s)=>(n.set(o.item,s),n),new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;let e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(let i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=ft(this.elementDisposables),this.disposables=ft(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}};Rte([yn],i1.prototype,"onDidChangeFocus",null);Rte([yn],i1.prototype,"onDidChangeSelection",null);function Qbe(r,e){let{text:t,iconOffsets:i}=e;if(!i||i.length===0)return Mte(r,t);let n=U0(t," "),o=t.length-n.length,s=Mte(r,n);if(s)for(let a of s){let l=i[a.start+o]+o;a.start+=l,a.end+=l}return s}function Mte(r,e){let t=e.toLowerCase().indexOf(r.toLowerCase());return t!==-1?[{start:t,end:t+r.length}]:null}function Jbe(r,e,t){let i=r.labelHighlights||[],n=e.labelHighlights||[];return i.length&&!n.length?-1:!i.length&&n.length?1:i.length===0&&n.length===0?0:Ate(r.saneSortLabel,e.saneSortLabel,t)}var $6=class{getWidgetAriaLabel(){return g("quickInput","Quick Input")}getAriaLabel(e){var t;return!((t=e.separator)===null||t===void 0)&&t.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(!!e.hasCheckbox)return{value:e.checked,onDidChange:e.onChecked}}};var Fte=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},sl=he,K6={iconClass:p.quickInputBack.classNames,tooltip:g("quickInput.back","Back"),handle:-1},n1=class extends ${constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=n1.noPromptMessage,this._severity=Ri.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new B),this.onDidHideEmitter=this._register(new B),this.onDisposeEmitter=this._register(new B),this.visibleDisposables=this._register(new J),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){let t=this._ignoreFocusOut!==e&&!sa;this._ignoreFocusOut=e&&!sa,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(e=Jw.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;let e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");let t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new On,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();let n=this.buttons.filter(s=>s===K6);this.ui.leftActionBar.push(n.map((s,a)=>{let l=new Xn(`id-${a}`,"",s.iconClass||zx(s.iconPath),!0,()=>Fte(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(s)}));return l.tooltip=s.tooltip||"",l}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();let o=this.buttons.filter(s=>s!==K6);this.ui.rightActionBar.push(o.map((s,a)=>{let l=new Xn(`id-${a}`,"",s.iconClass||zx(s.iconPath),!0,()=>Fte(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(s)}));return l.tooltip=s.tooltip||"",l}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);let i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,yc(this.ui.message,...Wc(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?g("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==Ri.Ignore){let t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}};n1.noPromptMessage=g("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");var nv=class extends n1{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new B),this.onWillAcceptEmitter=this._register(new B),this.onDidAcceptEmitter=this._register(new B),this.onDidCustomEmitter=this._register(new B),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Vl.NONE:Vl.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new B),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new B),this.onDidTriggerItemButtonEmitter=this._register(new B),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Ite:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Jn.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(Jn.Next),this.canSelectMany&&this.ui.list.domFocus(),Xt.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Jn.Previous):this.ui.list.focus(Jn.Last),this.canSelectMany&&this.ui.list.domFocus(),Xt.stop(e,!0);break;case 12:this.ui.list.focus(Jn.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Xt.stop(e,!0);break;case 11:this.ui.list.focus(Jn.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Xt.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Jn.First),Xt.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Jn.Last),Xt.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&go(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&go(e,this._selectedItems,(i,n)=>i===n)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&go(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return ne(this.ui.container,ye.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;let t=new Gt(e),i=t.keyCode;this._quickNavigate.keybindings.some(s=>{let[a,l]=s.getParts();return l?!1:a.shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a.altKey&&i===6||a.ctrlKey&&i===5||a.metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;let e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);let i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let n=this.ariaLabel;if(n||(n=this.placeholder||nv.DEFAULT_ARIA_LABEL,this.title&&(n+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==n&&(this.ui.inputBox.ariaLabel=n),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Vl.NONE:this._itemActivation=Vl.FIRST;break;case Vl.SECOND:this.ui.list.focus(Jn.Second),this._itemActivation=Vl.FIRST;break;case Vl.LAST:this.ui.list.focus(Jn.Last),this._itemActivation=Vl.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Jn.First)),this.keepScrollPosition&&(this.scrollTop=e)}};nv.DEFAULT_ARIA_LABEL=g("quickInputBox.ariaLabel","Type to narrow down results.");var ov=class extends ${constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new B),this.onDidCustomEmitter=this._register(new B),this.onDidTriggerButtonEmitter=this._register(new B),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new B),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new B),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){let e=t=>{this.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,this.keyMods.alt=t.altKey};this._register(ne(window,ye.KEY_DOWN,e,!0)),this._register(ne(window,ye.KEY_UP,e,!0)),this._register(ne(window,ye.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;let e=oe(this.parentElement,sl(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";let t=No(e),i=oe(e,sl(".quick-input-titlebar")),n=this._register(new nr(i));n.domNode.classList.add("quick-input-left-action-bar");let o=oe(i,sl(".quick-input-title")),s=this._register(new nr(i));s.domNode.classList.add("quick-input-right-action-bar");let a=oe(e,sl(".quick-input-description")),l=oe(e,sl(".quick-input-header")),c=oe(l,sl("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",g("quickInput.checkAll","Toggle all checkboxes")),this._register(Ti(c,ye.CHANGE,K=>{let q=c.checked;I.setAllVisibleChecked(q)})),this._register(ne(c,ye.CLICK,K=>{(K.x||K.y)&&f.setFocus()}));let d=oe(l,sl(".quick-input-description")),h=oe(l,sl(".quick-input-and-message")),u=oe(h,sl(".quick-input-filter")),f=this._register(new FM(u));f.setAttribute("aria-describedby",`${this.idPrefix}message`);let m=oe(u,sl(".quick-input-visible-count"));m.setAttribute("aria-live","polite"),m.setAttribute("aria-atomic","true");let _=new Jb(m,{countFormat:g({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),v=oe(u,sl(".quick-input-count"));v.setAttribute("aria-live","polite");let w=new Jb(v,{countFormat:g({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),y=oe(l,sl(".quick-input-action")),x=new Wx(y);x.label=g("ok","OK"),this._register(x.onDidClick(K=>{this.onDidAcceptEmitter.fire()}));let k=oe(l,sl(".quick-input-action")),N=new Wx(k);N.label=g("custom","Custom"),this._register(N.onDidClick(K=>{this.onDidCustomEmitter.fire()}));let M=oe(h,sl(`#${this.idPrefix}message.quick-input-message`)),I=this._register(new i1(e,this.idPrefix+"list",this.options));this._register(I.onChangedAllVisibleChecked(K=>{c.checked=K})),this._register(I.onChangedVisibleCount(K=>{_.setCount(K)})),this._register(I.onChangedCheckedCount(K=>{w.setCount(K)})),this._register(I.onLeave(()=>{setTimeout(()=>{f.setFocus(),this.controller instanceof nv&&this.controller.canSelectMany&&I.clearFocus()},0)})),this._register(I.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));let O=new ev(e);O.getContainer().classList.add("quick-input-progress");let R=Ol(e);return this._register(R),this._register(ne(e,ye.FOCUS,K=>{this.previousFocusElement=K.relatedTarget instanceof HTMLElement?K.relatedTarget:void 0},!0)),this._register(R.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Jw.Blur),this.previousFocusElement=void 0})),this._register(ne(e,ye.FOCUS,K=>{f.setFocus()})),this._register(ne(e,ye.KEY_DOWN,K=>{let q=new Gt(K);switch(q.keyCode){case 3:Xt.stop(K,!0),this.onDidAcceptEmitter.fire();break;case 9:Xt.stop(K,!0),this.hide(Jw.Gesture);break;case 2:if(!q.altKey&&!q.ctrlKey&&!q.metaKey){let te=[".action-label.codicon"];e.classList.contains("show-checkboxes")?te.push("input"):te.push("input[type=text]"),this.getUI().list.isDisplayed()&&te.push(".monaco-list");let ie=e.querySelectorAll(te.join(", "));q.shiftKey&&q.target===ie[0]?(Xt.stop(K,!0),ie[ie.length-1].focus()):!q.shiftKey&&q.target===ie[ie.length-1]&&(Xt.stop(K,!0),ie[0].focus())}break}})),this.ui={container:e,styleSheet:t,leftActionBar:n,titleBar:i,title:o,description1:a,description2:d,rightActionBar:s,checkAll:c,filterContainer:u,inputBox:f,visibleCountContainer:m,visibleCount:_,countContainer:v,count:w,okContainer:y,ok:x,message:M,customButtonContainer:k,customButton:N,list:I,progressBar:O,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:K=>this.show(K),hide:()=>this.hide(),setVisibilities:K=>this.setVisibilities(K),setComboboxAccessibility:K=>this.setComboboxAccessibility(K),setEnabled:K=>this.setEnabled(K),setContextKey:K=>this.options.setContextKey(K)},this.updateStyles(),this.ui}pick(e,t={},i=Je.None){return new Promise((n,o)=>{let s=d=>{var h;s=n,(h=t.onKeyMods)===null||h===void 0||h.call(t,a.keyMods),n(d)};if(i.isCancellationRequested){s(void 0);return}let a=this.createQuickPick(),l,c=[a,a.onDidAccept(()=>{if(a.canSelectMany)s(a.selectedItems.slice()),a.hide();else{let d=a.activeItems[0];d&&(s(d),a.hide())}}),a.onDidChangeActive(d=>{let h=d[0];h&&t.onDidFocus&&t.onDidFocus(h)}),a.onDidChangeSelection(d=>{if(!a.canSelectMany){let h=d[0];h&&(s(h),a.hide())}}),a.onDidTriggerItemButton(d=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},d),{removeItem:()=>{let h=a.items.indexOf(d.item);if(h!==-1){let u=a.items.slice(),f=u.splice(h,1),m=a.activeItems.filter(v=>v!==f[0]),_=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=u,m&&(a.activeItems=m),a.keepScrollPosition=_}}}))),a.onDidChangeValue(d=>{l&&!d&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{ft(c),s(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.autoFocusOnList=t.autoFocusOnList===void 0||t.autoFocusOnList,a.quickNavigate=t.quickNavigate,a.hideInput=!!t.hideInput,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([d,h])=>{l=h,a.busy=!1,a.items=d,a.canSelectMany&&(a.selectedItems=d.filter(u=>u.type!=="separator"&&u.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,d=>{o(d),a.hide()})})}createQuickPick(){let e=this.getUI();return new nv(e)}show(e){let t=this.getUI();this.onShowEmitter.fire();let i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Ri.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),yc(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";let n=this.options.backKeybindingLabel();K6.tooltip=n?g("quickInput.backWithKeybinding","Back ({0})",n):g("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){let t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){let t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(let t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(let t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;let i=this.controller;if(i){let n=!(!((t=this.ui)===null||t===void 0)&&t.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!n){let o=this.previousFocusElement;for(;o&&!o.offsetParent;)o=Va(o.parentElement);o?.offsetParent?(o.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;let e=this.ui.container.style,t=Math.min(this.dimension.width*.62,ov.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){let{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:n,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);let s=[];this.styles.list.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&s.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&s.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&s.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),s.push("}"));let a=s.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}};ov.MAX_WIDTH=600;St();Xe();Fe();Ft();Di();Oe();se();Fe();bs();Vs();var jM=class{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(n=>n.splice(e,t,i))}};Ft();ot();ho();Oe();se();Yw();hr();At();ti();var Hf=class extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}};ur();Fe();Ft();ot();Oe();se();function Bte(r,e){let t=[];for(let i of e){if(r.start>=i.range.end)continue;if(r.end<i.range.start)break;let n=Ro.intersect(r,i.range);Ro.isEmpty(n)||t.push({range:n,size:i.size})}return t}function WM({start:r,end:e},t){return{start:r+t,end:e+t}}function eve(r){let e=[],t=null;for(let i of r){let n=i.range.start,o=i.range.end,s=i.size;if(t&&s===t.size){t.range.end=o;continue}t={range:{start:n,end:o},size:s},e.push(t)}return e}function tve(...r){return eve(r.reduce((e,t)=>e.concat(t),[]))}var $x=class{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){let n=i.length-t,o=Bte({start:0,end:e},this.groups),s=Bte({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:WM(l.range,n),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=tve(o,a,s),this._size=this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){let e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){let o=n.range.end-n.range.start,s=i+o*n.size;if(e<s)return t+Math.floor((e-i)/n.size);t+=o,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){let o=n.range.end-n.range.start,s=i+o;if(e<s)return t+(e-i)*n.size;t+=o*n.size,i=s}return-1}};Fe();function ive(r){var e;try{(e=r.parentElement)===null||e===void 0||e.removeChild(r)}catch{}}var zM=class{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){let i=he(".monaco-list-row"),o=this.getRenderer(e).renderTemplate(i);t={domNode:i,templateId:e,templateData:o}}return t}release(e){!e||this.releaseRow(e)}releaseRow(e){let{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),ive(t)),this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(let i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear()}getRenderer(e){let t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}};var fp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nu={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(r){return[r]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0},$f=class{constructor(e){this.elements=e}update(){}getData(){return this.elements}},q6=class{constructor(e){this.elements=e}update(){}getData(){return this.elements}},Y6=class{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){let i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}};function nve(r,e){return Array.isArray(r)&&Array.isArray(e)?go(r,e):r===e}var Z6=class{constructor(e){e?.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,n)=>n,e?.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e?.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e?.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}},ka=class{constructor(e,t,i,n=nu){var o,s,a,l,c,d,h,u,f,m;if(this.virtualDelegate=t,this.domId=`list_id_${++ka.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new gr(50),this.splicing=!1,this.dragOverAnimationStopDisposable=$.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=$.None,this.onDragLeaveTimeout=$.None,this.disposables=new J,this._onDidChangeContentHeight=new B,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new $x;for(let v of i)this.renderers.set(v.templateId,v);this.cache=this.disposables.add(new zM(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof n.mouseSupport=="boolean"?n.mouseSupport:!0),this._horizontalScrolling=(o=n.horizontalScrolling)!==null&&o!==void 0?o:nu.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof n.additionalScrollHeight>"u"?0:n.additionalScrollHeight,this.accessibilityProvider=new Z6(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((s=n.transformOptimization)!==null&&s!==void 0?s:nu.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(Yt.addTarget(this.rowsContainer)),this.scrollable=new Ld({forceIntegerValues:!0,smoothScrollDuration:(a=n.smoothScrolling)!==null&&a!==void 0&&a?125:0,scheduleAtNextAnimationFrame:v=>zs(v)}),this.scrollableElement=this.disposables.add(new jm(this.rowsContainer,{alwaysConsumeMouseWheel:(l=n.alwaysConsumeMouseWheel)!==null&&l!==void 0?l:nu.alwaysConsumeMouseWheel,horizontal:1,vertical:(c=n.verticalScrollMode)!==null&&c!==void 0?c:nu.verticalScrollMode,useShadows:(d=n.useShadows)!==null&&d!==void 0?d:nu.useShadows,mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(ne(this.rowsContainer,mi.Change,v=>this.onTouchChange(v))),this.disposables.add(ne(this.scrollableElement.getDomNode(),"scroll",v=>v.target.scrollTop=0)),this.disposables.add(ne(this.domNode,"dragover",v=>this.onDragOver(this.toDragEvent(v)))),this.disposables.add(ne(this.domNode,"drop",v=>this.onDrop(this.toDragEvent(v)))),this.disposables.add(ne(this.domNode,"dragleave",v=>this.onDragLeave(this.toDragEvent(v)))),this.disposables.add(ne(this.domNode,"dragend",v=>this.onDragEnd(v))),this.setRowLineHeight=(h=n.setRowLineHeight)!==null&&h!==void 0?h:nu.setRowLineHeight,this.setRowHeight=(u=n.setRowHeight)!==null&&u!==void 0?u:nu.setRowHeight,this.supportDynamicHeights=(f=n.supportDynamicHeights)!==null&&f!==void 0?f:nu.supportDynamicHeights,this.dnd=(m=n.dnd)!==null&&m!==void 0?m:nu.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:xN(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling),e.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){let n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},s=Ro.intersect(n,o),a=new Map;for(let M=s.end-1;M>=s.start;M--){let I=this.items[M];if(I.dragStartDisposable.dispose(),I.checkedDisposable.dispose(),I.row){let O=a.get(I.templateId);O||(O=[],a.set(I.templateId,O));let R=this.renderers.get(I.templateId);R&&R.disposeElement&&R.disposeElement(I.element,M,I.row.templateData,I.size),O.push(I.row)}I.row=null}let l={start:e+t,end:this.items.length},c=Ro.intersect(l,n),d=Ro.relativeComplement(l,n),h=i.map(M=>({id:String(this.itemId++),element:M,templateId:this.virtualDelegate.getTemplateId(M),size:this.virtualDelegate.getHeight(M),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(M),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:$.None,checkedDisposable:$.None})),u;e===0&&t>=this.items.length?(this.rangeMap=new $x,this.rangeMap.splice(0,0,h),u=this.items,this.items=h):(this.rangeMap.splice(e,t,h),u=this.items.splice(e,t,...h));let f=i.length-t,m=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),_=WM(c,f),v=Ro.intersect(m,_);for(let M=v.start;M<v.end;M++)this.updateItemInDOM(this.items[M],M);let w=Ro.relativeComplement(_,m);for(let M of w)for(let I=M.start;I<M.end;I++)this.removeItemFromDOM(I);let y=d.map(M=>WM(M,f)),k=[{start:e,end:e+i.length},...y].map(M=>Ro.intersect(m,M)),N=this.getNextToLastElement(k);for(let M of k)for(let I=M.start;I<M.end;I++){let O=this.items[I],R=a.get(O.templateId),K=R?.pop();this.insertItemInDOM(I,N,K)}for(let M of a.values())for(let I of M)this.cache.release(I);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),u.map(M=>M.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=zs(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(let t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10})}rerender(){if(!!this.supportDynamicHeights){for(let e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){let t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:typeof e=="number"?e:aG(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:xN(this.domNode)})}render(e,t,i,n,o,s=!1){let a=this.getRenderRange(t,i),l=Ro.relativeComplement(a,e),c=Ro.relativeComplement(e,a),d=this.getNextToLastElement(l);if(s){let h=Ro.intersect(e,a);for(let u=h.start;u<h.end;u++)this.updateItemInDOM(this.items[u],u)}for(let h of l)for(let u=h.start;u<h.end;u++)this.insertItemInDOM(u,d);for(let h of c)for(let u=h.start;u<h.end;u++)this.removeItemFromDOM(u);n!==void 0&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&o!==void 0&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){let n=this.items[e];n.row||(n.row=i??this.cache.alloc(n.templateId));let o=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",o);let s=this.accessibilityProvider.isChecked(n.element);if(typeof s=="boolean")n.row.domNode.setAttribute("aria-checked",String(!!s));else if(s){let c=d=>n.row.domNode.setAttribute("aria-checked",String(!!d));c(s.value),n.checkedDisposable=s.onDidChange(c)}n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);let a=this.renderers.get(n.templateId);if(!a)throw new Error(`No renderer found for template id ${n.templateId}`);a?.renderElement(n.element,e,n.row.templateData,n.size);let l=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!l,l&&(n.dragStartDisposable=ne(n.row.domNode,"dragstart",c=>this.onDragStart(n.element,l,c))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=ao?"-moz-fit-content":"fit-content",e.width=xN(e.row.domNode);let t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){let t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){let i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return Ie.map(this.disposables.add(new ai(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return Ie.map(this.disposables.add(new ai(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return Ie.filter(Ie.map(this.disposables.add(new ai(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseDown(){return Ie.map(this.disposables.add(new ai(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return Ie.map(this.disposables.add(new ai(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return Ie.any(Ie.map(this.disposables.add(new ai(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),Ie.map(this.disposables.add(new ai(this.domNode,mi.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return Ie.map(this.disposables.add(new ai(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return Ie.map(this.disposables.add(new ai(this.rowsContainer,mi.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toTouchEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toGestureEvent(e){let t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toDragEvent(e){let t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}onScroll(e){try{let t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var n,o;if(!i.dataTransfer)return;let s=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(Xh.TEXT,t),i.dataTransfer.setDragImage){let a;this.dnd.getDragLabel&&(a=this.dnd.getDragLabel(s,i)),typeof a>"u"&&(a=String(s.length));let l=he(".monaco-drag-image");l.textContent=a,document.body.appendChild(l),i.dataTransfer.setDragImage(l,-10,-10),setTimeout(()=>document.body.removeChild(l),0)}this.currentDragData=new $f(s),Jm.CurrentDragAndDropData=new q6(s),(o=(n=this.dnd).onDragStart)===null||o===void 0||o.call(n,this.currentDragData,i)}onDragOver(e){var t;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Jm.CurrentDragAndDropData&&Jm.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Jm.CurrentDragAndDropData)this.currentDragData=Jm.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new Y6}let i=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof i=="boolean"?i:i.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof i!="boolean"&&i.effect===0?"copy":"move";let n;if(typeof i!="boolean"&&i.feedback?n=i.feedback:typeof e.index>"u"?n=[-1]:n=[e.index],n=la(n).filter(o=>o>=-1&&o<this.length).sort((o,s)=>o-s),n=n[0]===-1?[-1]:n,nve(this.currentDragFeedback,n))return!0;if(this.currentDragFeedback=n,this.currentDragFeedbackDisposable.dispose(),n[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=Ke(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(let o of n){let s=this.items[o];s.dropTarget=!0,(t=s.row)===null||t===void 0||t.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=Ke(()=>{var o;for(let s of n){let a=this.items[s];a.dropTarget=!1,(o=a.row)===null||o===void 0||o.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=gc(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((i=(t=this.dnd).onDragLeave)===null||i===void 0||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;let t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Jm.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Jm.CurrentDragAndDropData=void 0,(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=$.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){let t=LN(this.domNode).top;this.dragOverAnimationDisposable=mG(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=gc(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;let t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){let t=this.scrollableElement.getDomNode(),i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){let n=i.getAttribute("data-index");if(n){let o=Number(n);if(!isNaN(o))return o}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){let n=this.getRenderRange(e,t),o,s;e===this.elementTop(n.start)?(o=n.start,s=0):n.end-n.start>1&&(o=n.start+1,s=this.elementTop(o)-e);let a=0;for(;;){let l=this.getRenderRange(e,t),c=!1;for(let d=l.start;d<l.end;d++){let h=this.probeDynamicHeight(d);h!==0&&this.rangeMap.splice(d,1,[this.items[d]]),a+=h,c=c||h!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();let d=Ro.relativeComplement(n,l);for(let u of d)for(let f=u.start;f<u.end;f++)this.items[f].row&&this.removeItemFromDOM(f);let h=Ro.relativeComplement(l,n);for(let u of h)for(let f=u.start;f<u.end;f++){let m=f+1,_=m<this.items.length?this.items[m].row:null,v=_?_.domNode:null;this.insertItemInDOM(f,v)}for(let u=l.start;u<l.end;u++)this.items[u].row&&this.updateItemInDOM(this.items[u],u);if(typeof o=="number"){let u=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(o)-s+u;this.setScrollTop(f,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){var t,i,n;let o=this.items[e];if(this.virtualDelegate.getDynamicHeight){let c=this.virtualDelegate.getDynamicHeight(o.element);if(c!==null){let d=o.size;return o.size=c,o.lastDynamicHeightWidth=this.renderWidth,c-d}}if(!o.hasDynamicHeight||o.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(o.element))return 0;let s=o.size;if(!this.setRowHeight&&o.row){let c=o.row.domNode.offsetHeight;return o.size=c,o.lastDynamicHeightWidth=this.renderWidth,c-s}let a=this.cache.alloc(o.templateId);a.domNode.style.height="",this.rowsContainer.appendChild(a.domNode);let l=this.renderers.get(o.templateId);return l&&(l.renderElement(o.element,e,a.templateData,void 0),(t=l.disposeElement)===null||t===void 0||t.call(l,o.element,e,a.templateData,void 0)),o.size=a.domNode.offsetHeight,(n=(i=this.virtualDelegate).setDynamicHeight)===null||n===void 0||n.call(i,o.element,o.size),o.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(a.domNode),this.cache.release(a),o.size-s}getNextToLastElement(e){let t=e[e.length-1];if(!t)return null;let i=this.items[t.end];return!i||!i.row?null:i.row.domNode}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e;if(this.items){for(let t of this.items)if(t.row){let i=this.renderers.get(t.row.templateId);i&&((e=i.disposeElement)===null||e===void 0||e.call(i,t.element,-1,t.row.templateData,void 0),i.disposeTemplate(t.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),ft(this.disposables)}};ka.InstanceCount=0;fp([yn],ka.prototype,"onMouseClick",null);fp([yn],ka.prototype,"onMouseDblClick",null);fp([yn],ka.prototype,"onMouseMiddleClick",null);fp([yn],ka.prototype,"onMouseDown",null);fp([yn],ka.prototype,"onMouseOver",null);fp([yn],ka.prototype,"onContextMenu",null);fp([yn],ka.prototype,"onTouchStart",null);fp([yn],ka.prototype,"onTap",null);var sv=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jte=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},G6=class{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){let n=this.renderedElements.findIndex(o=>o.templateData===i);if(n>=0){let o=this.renderedElements[n];this.trait.unrender(i),o.index=t}else{let o={index:t,templateData:i};this.renderedElements.push(o)}this.trait.renderIndex(t,i)}splice(e,t,i){let n=[];for(let o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(let{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){let t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}},r1=class{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new B,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new G6(this)}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));let o=i.length-t,s=e+t,a=[...this.sortedIndexes.filter(c=>c<e),...i.map((c,d)=>c?d+e:-1).filter(c=>c!==-1),...this.sortedIndexes.filter(c=>c>=s).map(c=>c+o)],l=this.length+o;if(this.sortedIndexes.length>0&&a.length===0&&l>0){let c=(n=this.sortedIndexes.find(d=>d>=e))!==null&&n!==void 0?n:l-1;a.push(Math.min(c,l-1))}this.renderer.splice(e,t,i.length),this._set(a,a),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(zte),t)}_set(e,t,i){let n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;let s=ej(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return I0(this.sortedIndexes,e,zte)>=0}dispose(){ft(this._onChange)}};sv([yn],r1.prototype,"renderer",null);var X6=class extends r1{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}},Kx=class{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));let n=this.trait.get().map(s=>this.identityProvider.getId(this.view.element(s)).toString()),o=i.map(s=>n.indexOf(this.identityProvider.getId(s).toString())>-1);this.trait.splice(e,t,o)}};function gp(r){return r.tagName==="INPUT"||r.tagName==="TEXTAREA"}function rv(r){return r.classList.contains("monaco-editor")?!0:r.classList.contains("monaco-list")||!r.parentElement?!1:rv(r.parentElement)}function oj(r){return r.tagName==="A"&&r.classList.contains("monaco-button")||r.tagName==="DIV"&&r.classList.contains("monaco-button-dropdown")?!0:r.classList.contains("monaco-list")||!r.parentElement?!1:oj(r.parentElement)}var VM=class{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new J,this.multipleSelectionDisposables=new J,this.onKeyDown.filter(n=>n.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(n=>n.keyCode===9).on(this.onEscape,this,this.disposables),i.multipleSelectionSupport!==!1&&this.onKeyDown.filter(n=>(at?n.metaKey:n.ctrlKey)&&n.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(Ie.chain(this.disposables.add(new ai(this.view.domNode,"keydown")).event).filter(e=>!gp(e.target)).map(e=>new Gt(e)))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(t=>(at?t.metaKey:t.ctrlKey)&&t.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);let t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Wo(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}};sv([yn],VM.prototype,"onKeyDown",null);var Kf;(function(r){r[r.Automatic=0]="Automatic",r[r.Trigger=1]="Trigger"})(Kf||(Kf={}));var o1;(function(r){r[r.Idle=0]="Idle",r[r.Typing=1]="Typing"})(o1||(o1={}));var ove=new class{mightProducePrintableCharacter(r){return r.ctrlKey||r.metaKey||r.altKey?!1:r.keyCode>=31&&r.keyCode<=56||r.keyCode>=21&&r.keyCode<=30||r.keyCode>=93&&r.keyCode<=102||r.keyCode>=80&&r.keyCode<=90}},Q6=class{constructor(e,t,i,n,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=n,this.delegate=o,this.enabled=!1,this.state=o1.Idle,this.mode=Kf.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new J,this.disposables=new J,this.updateOptions(e.options)}updateOptions(e){var t,i;!((t=e.typeNavigationEnabled)!==null&&t!==void 0)||t?this.enable():this.disable(),this.mode=(i=e.typeNavigationMode)!==null&&i!==void 0?i:Kf.Automatic}enable(){if(this.enabled)return;let e=!1,t=this.enabledDisposables.add(Ie.chain(this.enabledDisposables.add(new ai(this.view.domNode,"keydown")).event)).filter(o=>!gp(o.target)).filter(()=>this.mode===Kf.Automatic||this.triggered).map(o=>new Gt(o)).filter(o=>e||this.keyboardNavigationEventFilter(o)).filter(o=>this.delegate.mightProducePrintableCharacter(o)).forEach(IA).map(o=>o.browserEvent.key).event,i=Ie.debounce(t,()=>null,800,void 0,void 0,this.enabledDisposables);Ie.reduce(Ie.any(t,i),(o,s)=>s===null?null:(o||"")+s,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;let t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){let i=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));i&&Tn(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=o1.Idle,this.triggered=!1;return}let t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===o1.Idle?1:0;this.state=o1.Typing;for(let o=0;o<this.list.length;o++){let s=(i+o+n)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(typeof l>"u"||TA(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}},J6=class{constructor(e,t){this.list=e,this.view=t,this.disposables=new J,this.disposables.add(Ie.chain(this.disposables.add(new ai(t.domNode,"keydown")).event)).filter(n=>!gp(n.target)).map(n=>new Gt(n)).filter(n=>n.keyCode===2&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey&&!n.altKey).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;let t=this.list.getFocus();if(t.length===0)return;let i=this.view.domElement(t[0]);if(!i)return;let n=i.querySelector("[tabIndex]");if(!n||!(n instanceof HTMLElement)||n.tabIndex===-1)return;let o=window.getComputedStyle(n);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}};function rj(r){return at?r.browserEvent.metaKey:r.browserEvent.ctrlKey}function sj(r){return r.browserEvent.shiftKey}function rve(r){return r instanceof MouseEvent&&r.button===2}var Wte={isSelectionSingleChangeEvent:rj,isSelectionRangeChangeEvent:sj},qx=class{constructor(e){this.list=e,this.disposables=new J,this._onPointer=new B,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Wte),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Yt.addTarget(e.getHTMLElement()))),Ie.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Wte))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){rv(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(rv(e.browserEvent.target))return;let t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||gp(e.browserEvent.target)||rv(e.browserEvent.target))return;let t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(e))return this.changeSelection(e);if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),rve(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(gp(e.browserEvent.target)||rv(e.browserEvent.target)||this.isSelectionChangeEvent(e))return;let t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){let t=e.index,i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof i>"u"){let d=this.list.getFocus()[0];i=d??t,this.list.setAnchor(i)}let n=Math.min(i,t),o=Math.max(i,t),s=Wo(n,o+1),a=this.list.getSelection(),l=lve(ej(a,[i]),i);if(l.length===0)return;let c=ej(s,cve(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){let n=this.list.getSelection(),o=n.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),n.length===o.length?this.list.setSelection([...o,t],e.browserEvent):this.list.setSelection(o,e.browserEvent)}}dispose(){this.disposables.dispose()}},Yx=class{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){let t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):at||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionOutline&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { outline-color: ${e.listFocusAndSelectionOutline} !important; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }
			`),e.tableColumnsBorder&&i.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
			}`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}},sve={listFocusBackground:Z.fromHex("#7FB0D0"),listActiveSelectionBackground:Z.fromHex("#0E639C"),listActiveSelectionForeground:Z.fromHex("#FFFFFF"),listActiveSelectionIconForeground:Z.fromHex("#FFFFFF"),listFocusAndSelectionOutline:Z.fromHex("#90C2F9"),listFocusAndSelectionBackground:Z.fromHex("#094771"),listFocusAndSelectionForeground:Z.fromHex("#FFFFFF"),listInactiveSelectionBackground:Z.fromHex("#3F3F46"),listInactiveSelectionIconForeground:Z.fromHex("#FFFFFF"),listHoverBackground:Z.fromHex("#2A2D2E"),listDropBackground:Z.fromHex("#383B3D"),treeIndentGuidesStroke:Z.fromHex("#a9a9a9"),tableColumnsBorder:Z.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:Z.fromHex("#cccccc").transparent(.04)},ave={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function lve(r,e){let t=r.indexOf(e);if(t===-1)return[];let i=[],n=t-1;for(;n>=0&&r[n]===e-(t-n);)i.push(r[n--]);for(i.reverse(),n=t;n<r.length&&r[n]===e+(n-t);)i.push(r[n++]);return i}function ej(r,e){let t=[],i=0,n=0;for(;i<r.length||n<e.length;)if(i>=r.length)t.push(e[n++]);else if(n>=e.length)t.push(r[i++]);else if(r[i]===e[n]){t.push(r[i]),i++,n++;continue}else r[i]<e[n]?t.push(r[i++]):t.push(e[n++]);return t}function cve(r,e){let t=[],i=0,n=0;for(;i<r.length||n<e.length;)if(i>=r.length)t.push(e[n++]);else if(n>=e.length)t.push(r[i++]);else if(r[i]===e[n]){i++,n++;continue}else r[i]<e[n]?t.push(r[i++]):n++;return t}var zte=(r,e)=>r-e,tj=class{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let o=0;for(let s of this.renderers)s.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){var o;let s=0;for(let a of this.renderers)(o=a.disposeElement)===null||o===void 0||o.call(a,e,t,i[s],n),s+=1}disposeTemplate(e){let t=0;for(let i of this.renderers)i.disposeTemplate(e[t++])}},ij=class{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){let n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");let o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}},nj=class{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){let t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,n;(n=(i=this.dnd).onDragStart)===null||n===void 0||n.call(i,e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var o,s;(s=(o=this.dnd).onDragLeave)===null||s===void 0||s.call(o,e,t,i,n)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}},$r=class{constructor(e,t,i,n,o=ave){var s,a,l,c;this.user=e,this._options=o,this.focus=new r1("focused"),this.anchor=new r1("anchor"),this.eventBufferer=new $g,this._ariaLabel="",this.disposables=new J,this._onDidDispose=new B,this.onDidDispose=this._onDidDispose.event;let d=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(s=this._options.accessibilityProvider)===null||s===void 0?void 0:s.getWidgetRole():"list";this.selection=new X6(d!=="listbox"),Pr(o,sve,!1);let h=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(h.push(new ij(this.accessibilityProvider)),(l=(a=this.accessibilityProvider).onDidChangeActiveDescendant)===null||l===void 0||l.call(a,this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map(f=>new tj(f.templateId,[...h,f]));let u=Object.assign(Object.assign({},o),{dnd:o.dnd&&new nj(this,o.dnd)});if(this.view=new ka(t,i,n,u),this.view.domNode.setAttribute("role",d),o.styleController)this.styleController=o.styleController(this.view.domId);else{let f=No(this.view.domNode);this.styleController=new Yx(f,this.view.domId)}if(this.spliceable=new jM([new Kx(this.focus,this.view,o.identityProvider),new Kx(this.selection,this.view,o.identityProvider),new Kx(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new J6(this,this.view)),(typeof o.keyboardSupport!="boolean"||o.keyboardSupport)&&(this.keyboardController=new VM(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){let f=o.keyboardNavigationDelegate||ove;this.typeNavigationController=new Q6(this,this.view,o.keyboardNavigationLabelProvider,(c=o.keyboardNavigationEventFilter)!==null&&c!==void 0?c:()=>!0,f),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return Ie.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return Ie.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1,t=this.disposables.add(Ie.chain(this.disposables.add(new ai(this.view.domNode,"keydown")).event)).map(o=>new Gt(o)).filter(o=>e=o.keyCode===58||o.shiftKey&&o.keyCode===68).map(IA).filter(()=>!1).event,i=this.disposables.add(Ie.chain(this.disposables.add(new ai(this.view.domNode,"keyup")).event)).forEach(()=>e=!1).map(o=>new Gt(o)).filter(o=>o.keyCode===58||o.shiftKey&&o.keyCode===68).map(IA).map(({browserEvent:o})=>{let s=this.getFocus(),a=s.length?s[0]:void 0,l=typeof a<"u"?this.view.element(a):void 0,c=typeof a<"u"?this.view.domElement(a):this.view.domNode;return{index:a,element:l,anchor:c,browserEvent:o}}).event,n=this.disposables.add(Ie.chain(this.view.onContextMenu)).filter(o=>!e).map(({element:o,index:s,browserEvent:a})=>({element:o,index:s,anchor:{x:a.pageX+1,y:a.pageY},browserEvent:a})).event;return Ie.any(t,i,n)}get onKeyDown(){return this.disposables.add(new ai(this.view.domNode,"keydown")).event}get onDidFocus(){return Ie.signal(this.disposables.add(new ai(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new qx(this)}updateOptions(e={}){var t,i;this._options=Object.assign(Object.assign({},this._options),e),(t=this.typeNavigationController)===null||t===void 0||t.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(i=this.keyboardController)===null||i===void 0||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Hf(this.user,`Invalid start index: ${e}`);if(t<0)throw new Hf(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(let i of e)if(i<0||i>=this.length)throw new Hf(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Hf(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return $E(this.anchor.get(),void 0)}getAnchorElement(){let e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(let i of e)if(i<0||i>=this.length)throw new Hf(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(this.length===0)return;let o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,n);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,n){if(this.length===0)return;let o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);s>-1&&this.setFocus([s],i)}focusNextPage(e,t){return jte(this,void 0,void 0,function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;let n=this.getFocus()[0];if(n!==i&&(n===void 0||i>n)){let o=this.findPreviousIndex(i,!1,t);o>-1&&n!==o?this.setFocus([o],e):this.setFocus([i],e)}else{let o=this.view.getScrollTop(),s=o+this.view.renderHeight;i>n&&(s-=this.view.elementHeight(i)),this.view.setScrollTop(s),this.view.getScrollTop()!==o&&(this.setFocus([]),yield kl(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return jte(this,void 0,void 0,function*(){let i,n=this.view.getScrollTop();n===0?i=this.view.indexAt(n):i=this.view.indexAfter(n-1);let o=this.getFocus()[0];if(o!==i&&(o===void 0||o>=i)){let s=this.findNextIndex(i,!1,t);s>-1&&o!==s?this.setFocus([s],e):this.setFocus([i],e)}else{let s=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==s&&(this.setFocus([]),yield kl(0),yield this.focusPreviousPage(e,t))}})}focusLast(e,t){if(this.length===0)return;let i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;let n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new Hf(this.user,`Invalid index ${e}`);let i=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if(za(t)){let s=o-this.view.renderHeight;this.view.setScrollTop(s*vr(t,0,1)+n)}else{let s=n+o,a=i+this.view.renderHeight;n<i&&s>=a||(n<i||s>=a&&o>=this.view.renderHeight?this.view.setScrollTop(n):s>=a&&this.view.setScrollTop(s-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(e){return this.view.getElementDomId(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){let e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;let t=this.focus.get();if(t.length>0){let i;!((e=this.accessibilityProvider)===null||e===void 0)&&e.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){let e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}};sv([yn],$r.prototype,"onDidChangeFocus",null);sv([yn],$r.prototype,"onDidChangeSelection",null);sv([yn],$r.prototype,"onContextMenu",null);sv([yn],$r.prototype,"onKeyDown",null);sv([yn],$r.prototype,"onDidFocus",null);var aj=class{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:$.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;let o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,n);let s=new qi,a=o.resolve(e,s.token);i.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,n))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}},lj=class{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){let t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}};function dve(r,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new lj(r,e.accessibilityProvider)})}var UM=class{constructor(e,t,i,n,o={}){let s=()=>this.model,a=n.map(l=>new aj(l,s));this.list=new $r(e,t,i,a,dve(s,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Ie.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return Ie.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return Ie.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(n=>this._model.get(n)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Wo(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}};Fe();Fe();Ft();ho();Oe();se();Yw();ti();var hve={separatorBorder:Z.transparent},HM=class{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){var i,n;e!==this.visible&&(e?(this.size=vr(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e),(n=(i=this.view).setVisible)===null||n===void 0||n.call(i,e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}},cj=class extends HM{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}},dj=class extends HM{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}},qf;(function(r){r[r.Idle=0]="Idle",r[r.Busy=1]="Busy"})(qf||(qf={}));var Zx;(function(r){r.Distribute={type:"distribute"};function e(i){return{type:"split",index:i}}r.Split=e;function t(i){return{type:"invisible",cachedVisibleSize:i}}r.Invisible=t})(Zx||(Zx={}));var s1=class extends ${constructor(e,t={}){var i,n,o,s,a;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=qf.Idle,this._onDidSashChange=this._register(new B),this._onDidSashReset=this._register(new B),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(i=t.orientation)!==null&&i!==void 0?i:0,this.inverseAltBehavior=(n=t.inverseAltBehavior)!==null&&n!==void 0?n:!1,this.proportionalLayout=(o=t.proportionalLayout)!==null&&o!==void 0?o:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=oe(this.el,he(".sash-container")),this.viewContainer=he(".split-view-container"),this.scrollable=new Ld({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:zs}),this.scrollableElement=this._register(new jm(this.viewContainer,{vertical:this.orientation===0?(s=t.scrollbarVisibility)!==null&&s!==void 0?s:1:2,horizontal:this.orientation===1?(a=t.scrollbarVisibility)!==null&&a!==void 0?a:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(l=>{this.viewContainer.scrollTop=l.scrollTop,this.viewContainer.scrollLeft=l.scrollLeft})),oe(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||hve),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((l,c)=>{let d=cr(l.visible)||l.visible?l.size:{type:"invisible",cachedVisibleSize:l.size},h=l.view;this.doAddView(h,d,c,!0)}),this.contentSize=this.viewItems.reduce((l,c)=>l+c.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(let t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(let t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){let i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let n=0;n<this.viewItems.length;n++){let o=this.viewItems[n];o.size=vr(Math.round(this.proportions[n]*e),o.minimumSize,o.maximumSize)}else{let n=Wo(this.viewItems.length),o=n.filter(a=>this.viewItems[a].priority===1),s=n.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,o,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(let a of this.viewItems)a.enabled=!1;let n=this.sashItems.findIndex(a=>a.sash===e),o=ms(ne(document.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),ne(document.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{let c=this.viewItems.map(m=>m.size),d=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(n===this.sashItems.length-1){let _=this.viewItems[n];d=(_.minimumSize-_.size)/2,h=(_.maximumSize-_.size)/2}else{let _=this.viewItems[n+1];d=(_.size-_.maximumSize)/2,h=(_.size-_.minimumSize)/2}let u,f;if(!l){let m=Wo(n,-1),_=Wo(n+1,this.viewItems.length),v=m.reduce((O,R)=>O+(this.viewItems[R].minimumSize-c[R]),0),w=m.reduce((O,R)=>O+(this.viewItems[R].viewMaximumSize-c[R]),0),y=_.length===0?Number.POSITIVE_INFINITY:_.reduce((O,R)=>O+(c[R]-this.viewItems[R].minimumSize),0),x=_.length===0?Number.NEGATIVE_INFINITY:_.reduce((O,R)=>O+(c[R]-this.viewItems[R].viewMaximumSize),0),k=Math.max(v,x),N=Math.min(y,w),M=this.findFirstSnapIndex(m),I=this.findFirstSnapIndex(_);if(typeof M=="number"){let O=this.viewItems[M],R=Math.floor(O.viewMinimumSize/2);u={index:M,limitDelta:O.visible?k-R:k+R,size:O.size}}if(typeof I=="number"){let O=this.viewItems[I],R=Math.floor(O.viewMinimumSize/2);f={index:I,limitDelta:O.visible?N+R:N-R,size:O.size}}}this.sashDragState={start:a,current:a,index:n,sizes:c,minDelta:d,maxDelta:h,alt:l,snapBefore:u,snapAfter:f,disposable:o}};s(t,i)}onSashChange({current:e}){let{index:t,start:i,sizes:n,alt:o,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;let d=e-i,h=this.resize(t,d,n,void 0,void 0,s,a,l,c);if(o){let u=t===this.sashItems.length-1,f=this.viewItems.map(x=>x.size),m=u?t:t+1,_=this.viewItems[m],v=_.size-_.maximumSize,w=_.size-_.minimumSize,y=u?t-1:t+1;this.resize(y,-h,f,void 0,void 0,v,w)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(let t of this.viewItems)t.enabled=!0}onViewChange(e,t){let i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=vr(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==qf.Idle)throw new Error("Cant modify splitview");if(this.state=qf.Busy,e<0||e>=this.viewItems.length)return;let i=Wo(this.viewItems.length).filter(a=>a!==e),n=[...i.filter(a=>this.viewItems[a].priority===1),e],o=i.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=vr(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(n,o),this.state=qf.Idle}distributeViewSizes(){let e=[],t=0;for(let a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);let i=Math.floor(t/e.length);for(let a of e)a.size=vr(i,a.minimumSize,a.maximumSize);let n=Wo(this.viewItems.length),o=n.filter(a=>this.viewItems[a].priority===1),s=n.filter(a=>this.viewItems[a].priority===2);this.relayout(o,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==qf.Idle)throw new Error("Cant modify splitview");this.state=qf.Busy;let o=he(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));let s=e.onDidChange(u=>this.onViewChange(d,u)),a=Ke(()=>this.viewContainer.removeChild(o)),l=ms(s,a),c;typeof t=="number"?c=t:t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize;let d=this.orientation===0?new cj(o,e,c,l):new dj(o,e,c,l);if(this.viewItems.splice(i,0,d),this.viewItems.length>1){let u={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},f=this.orientation===0?new oo(this.sashContainer,{getHorizontalSashTop:O=>this.getSashPosition(O),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},u),{orientation:1})):new oo(this.sashContainer,{getVerticalSashLeft:O=>this.getSashPosition(O),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},u),{orientation:0})),m=this.orientation===0?O=>({sash:f,start:O.startY,current:O.currentY,alt:O.altKey}):O=>({sash:f,start:O.startX,current:O.currentX,alt:O.altKey}),v=Ie.map(f.onDidStart,m)(this.onSashStart,this),y=Ie.map(f.onDidChange,m)(this.onSashChange,this),k=Ie.map(f.onDidEnd,()=>this.sashItems.findIndex(O=>O.sash===f))(this.onSashEnd,this),N=f.onDidReset(()=>{let O=this.sashItems.findIndex(ie=>ie.sash===f),R=Wo(O,-1),K=Wo(O+1,this.viewItems.length),q=this.findFirstSnapIndex(R),te=this.findFirstSnapIndex(K);typeof q=="number"&&!this.viewItems[q].visible||typeof te=="number"&&!this.viewItems[te].visible||this._onDidSashReset.fire(O)}),M=ms(v,y,k,N,f),I={sash:f,disposable:M};this.sashItems.splice(i-1,0,I)}o.appendChild(e.element);let h;typeof t!="number"&&t.type==="split"&&(h=[t.index]),n||this.relayout([i],h),this.state=qf.Idle,!n&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}relayout(e,t){let i=this.viewItems.reduce((n,o)=>n+o.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(d=>d.size),n,o,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;let d=Wo(e,-1),h=Wo(e+1,this.viewItems.length);if(o)for(let I of o)KE(d,I),KE(h,I);if(n)for(let I of n)oS(d,I),oS(h,I);let u=d.map(I=>this.viewItems[I]),f=d.map(I=>i[I]),m=h.map(I=>this.viewItems[I]),_=h.map(I=>i[I]),v=d.reduce((I,O)=>I+(this.viewItems[O].minimumSize-i[O]),0),w=d.reduce((I,O)=>I+(this.viewItems[O].maximumSize-i[O]),0),y=h.length===0?Number.POSITIVE_INFINITY:h.reduce((I,O)=>I+(i[O]-this.viewItems[O].minimumSize),0),x=h.length===0?Number.NEGATIVE_INFINITY:h.reduce((I,O)=>I+(i[O]-this.viewItems[O].maximumSize),0),k=Math.max(v,x,s),N=Math.min(y,w,a),M=!1;if(l){let I=this.viewItems[l.index],O=t>=l.limitDelta;M=O!==I.visible,I.setVisible(O,l.size)}if(!M&&c){let I=this.viewItems[c.index],O=t<c.limitDelta;M=O!==I.visible,I.setVisible(O,c.size)}if(M)return this.resize(e,t,i,n,o,s,a);t=vr(t,k,N);for(let I=0,O=t;I<u.length;I++){let R=u[I],K=vr(f[I]+O,R.minimumSize,R.maximumSize);O-=K-f[I],R.size=K}for(let I=0,O=t;I<m.length;I++){let R=m[I],K=vr(_[I]-O,R.minimumSize,R.maximumSize);O+=K-_[I],R.size=K}return t}distributeEmptySpace(e){let t=this.viewItems.reduce((a,l)=>a+l.size,0),i=this.size-t,n=Wo(this.viewItems.length-1,-1),o=n.filter(a=>this.viewItems[a].priority===1),s=n.filter(a=>this.viewItems[a].priority===2);for(let a of s)KE(n,a);for(let a of o)oS(n,a);typeof e=="number"&&oS(n,e);for(let a=0;i!==0&&a<n.length;a++){let l=this.viewItems[n[a]],c=vr(l.size+i,l.minimumSize,l.maximumSize);i-=c-l.size,l.size=c}}layoutViews(){this.contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(let t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1,t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;let i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),n=[...this.viewItems].reverse();e=!1;let o=n.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;let s=n.map(l=>e=l.maximumSize-l.size>0||e).reverse(),a=0;for(let l=0;l<this.sashItems.length;l++){let{sash:c}=this.sashItems[l];a+=this.viewItems[l].size;let h=!(t[l]&&s[l+1]),u=!(i[l]&&o[l+1]);if(h&&u){let f=Wo(l,-1),m=Wo(l+1,this.viewItems.length),_=this.findFirstSnapIndex(f),v=this.findFirstSnapIndex(m),w=typeof _=="number"&&!this.viewItems[_].visible,y=typeof v=="number"&&!this.viewItems[v].visible;w&&o[l]&&(a>0||this.startSnappingEnabled)?c.state=1:y&&t[l]&&(a<this.contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else h&&!u?c.state=1:!h&&u?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(let t of e){let i=this.viewItems[t];if(!!i.visible&&i.snap)return t}for(let t of e){let i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}dispose(){super.dispose(),ft(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}};Oe();se();var av=class{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=av.TemplateId,this.renderedTemplates=new Set;let n=new Map(t.map(o=>[o.templateId,o]));this.renderers=[];for(let o of e){let s=n.get(o.templateId);if(!s)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(s)}}renderTemplate(e){let t=oe(e,he(".monaco-table-tr")),i=[],n=[];for(let s=0;s<this.columns.length;s++){let a=this.renderers[s],l=oe(t,he(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,i.push(l),n.push(a.renderTemplate(l))}let o={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(o),o}renderElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){let a=this.columns[o].project(e);this.renderers[o].renderElement(a,t,i.cellTemplateData[o],n)}}disposeElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){let s=this.renderers[o];if(s.disposeElement){let l=this.columns[o].project(e);s.disposeElement(l,t,i.cellTemplateData[o],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);Yi(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(let{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};av.TemplateId="row";function uve(r){return{getHeight(e){return r.getHeight(e)},getTemplateId(){return av.TemplateId}}}var hj=class{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new B,this.onDidLayout=this._onDidLayout.event,this.element=he(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:Ie.None}layout(e){this._onDidLayout.fire([this.index,e])}},lv=class{constructor(e,t,i,n,o,s){this.virtualDelegate=i,this.domId=`table_id_${++lv.InstanceCount}`,this.disposables=new J,this.cachedWidth=0,this.cachedHeight=0,this.domNode=oe(t,he(`.monaco-table.${this.domId}`));let a=n.map((d,h)=>new hj(d,h)),l={size:a.reduce((d,h)=>d+h.column.weight,0),views:a.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new s1(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;let c=new av(n,o,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new $r(e,this.domNode,uve(i),[c],s)),Ie.any(...a.map(d=>d.onDidLayout))(([d,h])=>c.layoutColumn(d,h),null,this.disposables),this.splitview.onDidSashReset(d=>{let h=n.reduce((f,m)=>f+m.weight,0),u=n[d].weight/h*this.cachedWidth;this.splitview.resizeView(d,u)},null,this.disposables),this.styleElement=No(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){let t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}};lv.InstanceCount=0;Fe();bs();Fe();bn();ho();Oe();var fve={inputActiveOptionBorder:Z.fromHex("#007ACC00"),inputActiveOptionForeground:Z.fromHex("#FFFFFF"),inputActiveOptionBackground:Z.fromHex("#0E639C50")},Bd=class extends Po{constructor(e){super(),this._onChange=this._register(new B),this.onChange=this._onChange.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},fve),e),this._checked=this._opts.isChecked;let t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...po.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}};bn();Ne();var gve=g("caseDescription","Match Case"),mve=g("wordsDescription","Match Whole Word"),pve=g("regexDescription","Use Regular Expression"),a1=class extends Bd{constructor(e){super({icon:p.caseSensitive,title:gve+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},l1=class extends Bd{constructor(e){super({icon:p.wholeWord,title:mve+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},c1=class extends Bd{constructor(e){super({icon:p.regex,title:pve+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}};Oe();Ne();var _ve=g("defaultLabel","input"),Gx=class extends Po{constructor(e,t,i,n){var o;super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new B),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new B),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new B),this._onKeyUp=this._register(new B),this._onCaseSensitiveKeyDown=this._register(new B),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new B),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||_ve,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;let s=n.appendCaseSensitiveLabel||"",a=n.appendWholeWordsLabel||"",l=n.appendRegexLabel||"",c=n.history||[],d=!!n.flexibleHeight,h=!!n.flexibleWidth,u=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new e1(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:c,showHistoryHint:n.showHistoryHint,flexibleHeight:d,flexibleWidth:h,flexibleMaxHeight:u})),this.regex=this._register(new c1({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(m=>{this._onDidOptionChange.fire(m),!m&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(m=>{this._onRegexKeyDown.fire(m)})),this.wholeWords=this._register(new l1({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(m=>{this._onDidOptionChange.fire(m),!m&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new a1({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(m=>{this._onDidOptionChange.fire(m),!m&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(m=>{this._onCaseSensitiveKeyDown.fire(m)}));let f=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,m=>{if(m.equals(15)||m.equals(17)||m.equals(9)){let _=f.indexOf(document.activeElement);if(_>=0){let v=-1;m.equals(17)?v=(_+1)%f.length:m.equals(15)&&(_===0?v=f.length-1:v=_-1),m.equals(9)?(f[_].blur(),this.inputBox.focus()):v>=0&&f[v].focus(),Xt.stop(m,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(let m of(o=n?.additionalToggles)!==null&&o!==void 0?o:[])this._register(m),this.controls.appendChild(m.domNode),this._register(m.onChange(_=>{this._onDidOptionChange.fire(_),!_&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(m);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((m,_)=>m+_.width(),0),this.domNode.appendChild(this.controls),e?.appendChild(this.domNode),this._register(ne(this.inputBox.inputElement,"compositionstart",m=>{this.imeSessionInProgress=!0})),this._register(ne(this.inputBox.inputElement,"compositionend",m=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,m=>this._onKeyDown.fire(m)),this.onkeyup(this.inputBox.inputElement,m=>this._onKeyUp.fire(m)),this.oninput(this.inputBox.inputElement,m=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,m=>this._onMouseDown.fire(m))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(let e of this.additionalToggles)e.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(let e of this.additionalToggles)e.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);for(let i of this.additionalToggles)i.style(e);let t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}};var mp;(function(r){r[r.Unknown=0]="Unknown",r[r.Twistie=1]="Twistie",r[r.Element=2]="Element",r[r.Filter=3]="Filter"})(mp||(mp={}));var Kr=class extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}},cv=class{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}};Ft();ot();Oe();aa();function Xx(r){return typeof r=="object"&&"visibility"in r&&"data"in r}function dv(r){switch(r){case!0:return 1;case!1:return 0;default:return r}}function uj(r){return typeof r.collapsible=="boolean"}var $M=class{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new $g,this._onDidChangeCollapseState=new B,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new B,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new B,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new gr(h7),this.collapseByDefault=typeof n.collapseByDefault>"u"?!1:n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=typeof n.autoExpandSingleChildren>"u"?!1:n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=wt.empty(),n={}){if(e.length===0)throw new Kr(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,o,s){var a;n===void 0&&(n=wt.empty()),s===void 0&&(s=(a=o.diffDepth)!==null&&a!==void 0?a:0);let{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,n,o);let c=[...n],d=t[t.length-1],h=new ma({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,d),...c,...l.children.slice(d+i)].map(v=>e.getId(v.element).toString())}).ComputeDiff(!1);if(h.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,c,o);let u=t.slice(0,-1),f=(v,w,y)=>{if(s>0)for(let x=0;x<y;x++)v--,w--,this.spliceSmart(e,[...u,v,0],Number.MAX_SAFE_INTEGER,c[w].children,o,s-1)},m=Math.min(l.children.length,d+i),_=c.length;for(let v of h.changes.sort((w,y)=>y.originalStart-w.originalStart))f(m,_,m-(v.originalStart+v.originalLength)),m=v.originalStart,_=v.modifiedStart-d,this.spliceSimple([...u,m],v.originalLength,wt.slice(c,_,_+v.modifiedLength),o);f(m,_,m)}spliceSimple(e,t,i=wt.empty(),{onDidCreateNode:n,onDidDeleteNode:o,diffIdentityProvider:s}){let{parentNode:a,listIndex:l,revealed:c,visible:d}=this.getParentNodeWithListIndex(e),h=[],u=wt.map(i,I=>this.createTreeNode(I,a,a.visible?1:0,c,h,n)),f=e[e.length-1],m=a.children.length>0,_=0;for(let I=f;I>=0&&I<a.children.length;I--){let O=a.children[I];if(O.visible){_=O.visibleChildIndex;break}}let v=[],w=0,y=0;for(let I of u)v.push(I),y+=I.renderNodeCount,I.visible&&(I.visibleChildIndex=_+w++);let x=w5(a.children,f,t,v);s?a.lastDiffIds?w5(a.lastDiffIds,f,t,v.map(I=>s.getId(I.element).toString())):a.lastDiffIds=a.children.map(I=>s.getId(I.element).toString()):a.lastDiffIds=void 0;let k=0;for(let I of x)I.visible&&k++;if(k!==0)for(let I=f+v.length;I<a.children.length;I++){let O=a.children[I];O.visible&&(O.visibleChildIndex-=k)}if(a.visibleChildrenCount+=w-k,c&&d){let I=x.reduce((O,R)=>O+(R.visible?R.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,y-I),this.list.splice(l,I,h)}if(x.length>0&&o){let I=O=>{o(O),O.children.forEach(I)};x.forEach(I)}this._onDidSplice.fire({insertedNodes:v,deletedNodes:x});let N=a.children.length>0;m!==N&&this.setCollapsible(e.slice(0,-1),N);let M=a;for(;M;){if(M.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}M=M.parent}}rerender(e){if(e.length===0)throw new Kr(this.user,"Invalid tree location");let{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){let{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){let i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);let n={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){let n=this.getTreeNode(e);typeof t>"u"&&(t=!n.collapsed);let o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,t){let{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!uj(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,i,n){let o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;let s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(uj(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!uj(t)&&t.recursive)for(let o of e.children)n=this._setNodeCollapseState(o,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){let e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,n,o,s){let a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,n&&o.push(a);let c=e.children||wt.empty(),d=n&&l!==0&&!a.collapsed,h=wt.map(c,m=>this.createTreeNode(m,a,l,d,o,s)),u=0,f=1;for(let m of h)a.children.push(m),f+=m.renderNodeCount,m.visible&&(m.visibleChildIndex=u++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=u,a.visible=l===2?u>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=f):(a.renderNodeCount=0,n&&o.pop()),s?.(a),a}updateNodeAfterCollapseChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(let i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){let t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),o===0)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}let s=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||o!==0){let l=0;for(let c of e.children)a=this._updateNodeAfterFilterChange(c,o,i,n&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===2?a:o===1,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){let i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):Xx(i)?(e.filterData=i.data,dv(i.visibility)):(e.filterData=void 0,dv(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;let[i,...n]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;let[i,...n]=e;if(i<0||i>t.children.length)throw new Kr(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};let{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new Kr(this.user,"Invalid tree location");let a=t.children[s];return{node:a,listIndex:i,revealed:n,visible:o&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){let[s,...a]=e;if(s<0||s>t.children.length)throw new Kr(this.user,"Invalid tree location");for(let l=0;l<s;l++)i+=t.children[l].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(a,t.children[s],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){let t=[],i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:oY(e)[0]}getFirstElementChild(e){let t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}};Fr();Ft();ot();bn();var KM=class{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){let i=this.map.get(e);!i||(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){let i=this.map.get(e);!i||i.forEach(t)}};Oe();se();Yw();ti();Ne();var gj=class extends $f{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}};function fj(r){return r instanceof $f?new gj(r):r}var mj=class{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=$.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,n;(n=(i=this.dnd).onDragStart)===null||n===void 0||n.call(i,fj(e),t)}onDragOver(e,t,i,n,o=!0){let s=this.dnd.onDragOver(fj(e),t&&t.element,i,n),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return s;if(a&&typeof s!="boolean"&&s.autoExpand&&(this.autoExpandDisposable=gc(()=>{let u=this.modelProvider(),f=u.getNodeLocation(t);u.isCollapsed(f)&&u.setCollapsed(f,!1),this.autoExpandNode=void 0},500)),typeof s=="boolean"||!s.accept||typeof s.bubble>"u"||s.feedback){if(!o){let u=typeof s=="boolean"?s:s.accept,f=typeof s=="boolean"?void 0:s.effect;return{accept:u,effect:f,feedback:[i]}}return s}if(s.bubble===1){let u=this.modelProvider(),f=u.getNodeLocation(t),m=u.getParentNodeLocation(f),_=u.getNode(m),v=m&&u.getListIndex(m);return this.onDragOver(e,_,v,n,!1)}let l=this.modelProvider(),c=l.getNodeLocation(t),d=l.getListIndex(c),h=l.getListRenderCount(c);return Object.assign(Object.assign({},s),{feedback:Wo(d,d+h)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(fj(e),t&&t.element,i,n)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}};function bve(r,e){return e&&Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new mj(r,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getSetSize(t){let i=r(),n=i.getNodeLocation(t),o=i.getParentNodeLocation(n);return i.getNode(o).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}})})}var d1=class{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,n;(n=(i=this.delegate).setDynamicHeight)===null||n===void 0||n.call(i,e.element,t)}},Jx;(function(r){r.None="none",r.OnHover="onHover",r.Always="always"})(Jx||(Jx={}));var pj=class{constructor(e,t=[]){this._elements=t,this.disposables=new J,this.onDidChange=Ie.forEach(e,i=>this._elements=i,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}},hv=class{constructor(e,t,i,n,o={}){var s;this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=hv.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new KM,this.activeIndentNodes=new Set,this.indentGuidesDisposable=$.None,this.disposables=new J,this.templateId=e.templateId,this.updateOptions(o),Ie.map(i,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(s=e.onDidChangeTwistieState)===null||s===void 0||s.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"&&(this.indent=vr(e.indent,0,40)),typeof e.renderIndentGuides<"u"){let t=e.renderIndentGuides!==Jx.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){let i=new J;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){let t=oe(e,he(".monaco-tl-row")),i=oe(t,he(".monaco-tl-indent")),n=oe(t,he(".monaco-tl-twistie")),o=oe(t,he(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:$.None,templateData:s}}renderElement(e,t,i,n){typeof n=="number"&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));let o=hv.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${o}px`,i.indent.style.width=`${o+this.indent-16}px`,this.renderTwistie(e,i),typeof n=="number"&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){var o,s;i.indentGuidesDisposable.dispose(),(s=(o=this.renderer).disposeElement)===null||s===void 0||s.call(o,e,t,i.templateData,n),typeof n=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){let t=this.renderedElements.get(e);!t||this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){let t=this.renderedNodes.get(e);!t||(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...p.treeItemExpanded.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...p.treeItemExpanded.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(Yi(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;let i=new J,n=this.modelProvider(),o=e;for(;;){let s=n.getNodeLocation(o),a=n.getParentNodeLocation(s);if(!a)break;let l=n.getNode(a),c=he(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(l)&&c.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(c):t.indent.insertBefore(c,t.indent.firstElementChild),this.renderedIndentGuides.add(l,c),i.add(Ke(()=>this.renderedIndentGuides.delete(l,c))),o=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;let t=new Set,i=this.modelProvider();e.forEach(n=>{let o=i.getNodeLocation(n);try{let s=i.getParentNodeLocation(o);n.collapsible&&n.children.length>0&&!n.collapsed?t.add(n):s&&t.add(i.getNode(s))}catch{}}),this.activeIndentNodes.forEach(n=>{t.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.remove("active"))}),t.forEach(n=>{this.activeIndentNodes.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),ft(this.disposables)}};hv.DefaultIndent=8;var _j=class{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new J,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(e,t){let i=1;if(this._filter){let s=this._filter.filter(e,t);if(typeof s=="boolean"?i=s?1:0:Xx(s)?i=dv(s.visibility):i=s,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Ys.Default,visibility:i};let n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(n)?n:[n];for(let s of o){let a=s&&s.toString();if(typeof a>"u")return{data:Ys.Default,visibility:i};let l=Ub(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,o.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===jd.Filter?2:{data:Ys.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){ft(this.disposables)}};var jd;(function(r){r[r.Highlight=0]="Highlight",r[r.Filter=1]="Filter"})(jd||(jd={}));var bj=class{constructor(e,t,i,n,o){var s;this.tree=e,this.view=i,this.filter=n,this.contextViewProvider=o,this._pattern="",this.width=0,this._onDidChangeMode=new B,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new B,this._onDidChangeOpenState=new B,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new J,this.disposables=new J,this._mode=(s=e.options.defaultFindMode)!==null&&s!==void 0?s:jd.Highlight,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var e,t;let i=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&i?(e=this.widget)===null||e===void 0||e.showMessage({type:2,content:g("not found","No elements found.")}):(t=this.widget)===null||t===void 0||t.clearMessage()}shouldAllowFocus(e){return!this.widget||!this.pattern||this._mode===jd.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Ys.isDefault(e.filterData)}style(e){var t;this.styles=e,(t=this.widget)===null||t===void 0||t.style(e)}layout(e){var t;this.width=e,(t=this.widget)===null||t===void 0||t.layout(e)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}};function Vte(r){let e=mp.Unknown;return DN(r.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=mp.Twistie:DN(r.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=mp.Element:DN(r.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=mp.Filter),{browserEvent:r.browserEvent,element:r.element?r.element.element:null,target:e}}function qM(r,e){e(r),r.children.forEach(t=>qM(t,e))}var Qx=class{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new B,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){!t?.__forceEvent&&go(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){let n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){let l=this.createNodeSet(),c=d=>l.delete(d);t.forEach(d=>qM(d,c)),this.set([...l.values()]);return}let i=new Set,n=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>qM(l,n));let o=new Map,s=l=>o.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>qM(l,s));let a=[];for(let l of this.nodes){let c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{let h=o.get(c);h&&a.push(h)}}if(this.nodes.length>0&&a.length===0){let l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){let e=new Set;for(let t of this.nodes)e.add(t);return e}},vj=class extends qx{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(oj(e.browserEvent.target)||gp(e.browserEvent.target)||rv(e.browserEvent.target))return;let t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);let i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,o=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(t.element):o=!!this.tree.expandOnlyOnTwistieClick,o&&!n&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e);if(t.collapsible){let s=this.tree.model,a=s.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),s.setCollapsed(a,void 0,l),o&&n)return}super.onViewPointer(e)}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(e)}},Cj=class extends $r{constructor(e,t,i,n,o,s,a,l){super(e,t,i,n,l),this.focusTrait=o,this.selectionTrait=s,this.anchorTrait=a}createMouseController(e){return new vj(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;let n=[],o=[],s;i.forEach((a,l)=>{this.focusTrait.has(a)&&n.push(e+l),this.selectionTrait.has(a)&&o.push(e+l),this.anchorTrait.has(a)&&(s=e+l)}),n.length>0&&super.setFocus(la([...super.getFocus(),...n])),o.length>0&&super.setSelection(la([...super.getSelection(),...o])),typeof s=="number"&&super.setAnchor(s)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(n=>this.element(n)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(n=>this.element(n)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}},h1=class{constructor(e,t,i,n,o={}){var s;this._user=e,this._options=o,this.eventBufferer=new $g,this.onDidChangeFindOpenState=Ie.None,this.disposables=new J,this._onWillRefilter=new B,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new B;let a=new d1(i),l=new hS,c=new hS,d=this.disposables.add(new pj(c.event));this.renderers=n.map(f=>new hv(f,()=>this.model,l.event,d,o));for(let f of this.renderers)this.disposables.add(f);let h;o.keyboardNavigationLabelProvider&&(h=new _j(this,o.keyboardNavigationLabelProvider,o.filter),o=Object.assign(Object.assign({},o),{filter:h}),this.disposables.add(h)),this.focus=new Qx(()=>this.view.getFocusedElements()[0],o.identityProvider),this.selection=new Qx(()=>this.view.getSelectedElements()[0],o.identityProvider),this.anchor=new Qx(()=>this.view.getAnchorElement(),o.identityProvider),this.view=new Cj(e,t,a,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},bve(()=>this.model,o)),{tree:this})),this.model=this.createModel(e,this.view,o),l.input=this.model.onDidChangeCollapseState;let u=Ie.forEach(this.model.onDidSplice,f=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(f),this.selection.onDidModelSplice(f)})},this.disposables);if(u(()=>null,null,this.disposables),c.input=Ie.chain(Ie.any(u,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{let f=new Set;for(let m of this.focus.getNodes())f.add(m);for(let m of this.selection.getNodes())f.add(m);return[...f.values()]}).event,o.keyboardSupport!==!1){let f=Ie.chain(this.view.onKeyDown).filter(m=>!gp(m.target)).map(m=>new Gt(m));f.filter(m=>m.keyCode===15).on(this.onLeftArrow,this,this.disposables),f.filter(m=>m.keyCode===17).on(this.onRightArrow,this,this.disposables),f.filter(m=>m.keyCode===10).on(this.onSpace,this,this.disposables)}((s=o.findWidgetEnabled)!==null&&s!==void 0?s:!0)&&o.keyboardNavigationLabelProvider&&o.contextViewProvider?(this.findController=new bj(this,this.model,this.view,h,o.contextViewProvider),this.focusNavigationFilter=f=>this.findController.shouldAllowFocus(f),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=Ie.None,this.styleElement=No(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Jx.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Ie.filter(Ie.map(this.view.onMouseDblClick,Vte),e=>e.target!==mp.Filter)}get onPointer(){return Ie.map(this.view.onPointer,Vte)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return Ie.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e,t;return(t=(e=this.findController)===null||e===void 0?void 0:e.mode)!==null&&t!==void 0?t:jd.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(let t of this.renderers)t.updateOptions(e);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Jx.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),za(t)&&((i=this.findController)===null||i===void 0||i.layout(t))}style(e){var t;let i=`.${this.view.domId}`,n=[];e.treeIndentGuidesStroke&&(n.push(`.monaco-list${i}:hover .monaco-tl-indent > .indent-guide, .monaco-list${i}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),n.push(`.monaco-list${i} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=n.join(`
`),(t=this.findController)===null||t===void 0||t.style(e),this.view.style(e)}getParentElement(e){let t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){let i=e.map(o=>this.model.getNode(o));this.selection.set(i,t);let n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){let i=e.map(o=>this.model.getNode(o));this.focus.set(i,t);let n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setFocus(n,t,!0)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);let i=this.model.getListIndex(e);i!==-1&&this.view.reveal(i,t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){let s=this.model.getParentNodeLocation(n);if(!s)return;let a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some(l=>l.visible))return;let[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();let t=this.view.getFocusedElements();if(t.length===0)return;let i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){ft(this.disposables),this.view.dispose()}};aa();var pp=class{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new $M(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(n,o){return i.sorter.compare(n.element,o.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=wt.empty(),i={}){let n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=wt.empty(),i){let n=new Set,o=new Set,s=l=>{var c;if(l.element===null)return;let d=l;if(n.add(d.element),this.nodes.set(d.element,d),this.identityProvider){let h=this.identityProvider.getId(d.element).toString();o.add(h),this.nodesByIdentity.set(h,d)}(c=i.onDidCreateNode)===null||c===void 0||c.call(i,d)},a=l=>{var c;if(l.element===null)return;let d=l;if(n.has(d.element)||this.nodes.delete(d.element),this.identityProvider){let h=this.identityProvider.getId(d.element).toString();o.has(h)||this.nodesByIdentity.delete(h)}(c=i.onDidDeleteNode)===null||c===void 0||c.call(i,d)};this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:s,onDidDeleteNode:a}))}preserveCollapseState(e=wt.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),wt.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){let s=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(s)}if(!i)return Object.assign(Object.assign({},t),{children:this.preserveCollapseState(t.children)});let n=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible,o=typeof t.collapsed<"u"?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:n,collapsed:o,children:this.preserveCollapseState(t.children)})})}rerender(e){let t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){let t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){let t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){let t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);let t=this.nodes.get(e);if(!t)throw new Kr(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new Kr(this.user,"Invalid getParentNodeLocation call");let t=this.nodes.get(e);if(!t)throw new Kr(this.user,`Tree element not found: ${e}`);let i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(e===null)return[];let t=this.nodes.get(e);if(!t)throw new Kr(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}};Oe();aa();function YM(r){let e=[r.element],t=r.incompressible||!1;return{element:{elements:e,incompressible:t},children:wt.map(wt.from(r.children),YM),collapsible:r.collapsible,collapsed:r.collapsed}}function ZM(r){let e=[r.element],t=r.incompressible||!1,i,n;for(;[n,i]=wt.consume(wt.from(r.children),2),!(n.length!==1||n[0].incompressible);)r=n[0],e.push(r.element);return{element:{elements:e,incompressible:t},children:wt.map(wt.concat(n,i),ZM),collapsible:r.collapsible,collapsed:r.collapsed}}function wj(r,e=0){let t;return e<r.element.elements.length-1?t=[wj(r,e+1)]:t=wt.map(wt.from(r.children),i=>wj(i,0)),e===0&&r.element.incompressible?{element:r.element.elements[e],children:t,incompressible:!0,collapsible:r.collapsible,collapsed:r.collapsed}:{element:r.element.elements[e],children:t,collapsible:r.collapsible,collapsed:r.collapsed}}function Ute(r){return wj(r,0)}function Hte(r,e,t){return r.element===e?Object.assign(Object.assign({},r),{children:t}):Object.assign(Object.assign({},r),{children:wt.map(wt.from(r.children),i=>Hte(i,e,t))})}var vve=r=>({getId(e){return e.elements.map(t=>r.getId(t).toString()).join("\0")}}),yj=class{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new pp(e,t,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=wt.empty(),i){let n=i.diffIdentityProvider&&vve(i.diffIdentityProvider);if(e===null){let f=wt.map(t,this.enabled?ZM:YM);this._setChildren(null,f,{diffIdentityProvider:n,diffDepth:1/0});return}let o=this.nodes.get(e);if(!o)throw new Error("Unknown compressed tree node");let s=this.model.getNode(o),a=this.model.getParentNodeLocation(o),l=this.model.getNode(a),c=Ute(s),d=Hte(c,e,t),h=(this.enabled?ZM:YM)(d),u=l.children.map(f=>f===s?h:f);this._setChildren(l.element,u,{diffIdentityProvider:n,diffDepth:s.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;let i=this.model.getNode().children,n=wt.map(i,Ute),o=wt.map(n,e?ZM:YM);this._setChildren(null,o,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){let n=new Set,o=a=>{for(let l of a.element.elements)n.add(l),this.nodes.set(l,a.element)},s=a=>{for(let l of a.element.elements)n.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:o,onDidDeleteNode:s}))}has(e){return this.nodes.has(e)}getListIndex(e){let t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){let t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();let t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){let t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){let t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){let t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){let t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){let i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){let t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){let n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){let t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){let t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;let t=this.nodes.get(e);if(!t)throw new Kr(this.user,`Tree element not found: ${e}`);return t}},Cve=r=>r[r.length-1],eD=class{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new eD(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}};function wve(r,e){return{splice(t,i,n){e.splice(t,i,n.map(o=>r.map(o)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function yve(r,e){return Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(r(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(r(t),i)}}})}var GM=class{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||Cve;let n=o=>this.elementMapper(o.elements);this.nodeMapper=new cv(o=>new eD(n,o)),this.model=new yj(e,wve(this.nodeMapper,t),yve(n,i))}get onDidSplice(){return Ie.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return Ie.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return Ie.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=wt.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){let t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}};aa();var Sve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},uv=class extends h1{constructor(e,t,i,n,o={}){super(e,t,i,n,o),this.user=e}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=wt.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new pp(e,t,i)}},XM=class{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){let t=this.renderer.renderTemplate(e);return{compressedTreeNode:void 0,data:t}}renderElement(e,t,i,n){let o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);o.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){var o,s,a,l;i.compressedTreeNode?(s=(o=this.renderer).disposeCompressedElements)===null||s===void 0||s.call(o,i.compressedTreeNode,t,i.data,n):(l=(a=this.renderer).disposeElement)===null||l===void 0||l.call(a,e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}};Sve([yn],XM.prototype,"compressedTreeNodeProvider",null);function Lve(r,e){return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=r().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}var u1=class extends uv{constructor(e,t,i,n,o={}){let s=()=>this,a=n.map(l=>new XM(s,l));super(e,t,i,a,Lve(s,o))}setChildren(e,t=wt.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new GM(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}};ot();bn();ut();Oe();aa();se();ti();var _p=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function Sj(r){return Object.assign(Object.assign({},r),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function xj(r,e){return e.parent?e.parent===r?!0:xj(r,e.parent):!1}function xve(r,e){return r===e||xj(r,e)||xj(e,r)}var tD=class{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new tD(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},Dj=class{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...p.treeItemLoading.classNamesArray),!0):(t.classList.remove(...p.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){var o,s;(s=(o=this.renderer).disposeElement)===null||s===void 0||s.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}};function $te(r){return{browserEvent:r.browserEvent,elements:r.elements.map(e=>e.element)}}function Kte(r){return{browserEvent:r.browserEvent,element:r.element&&r.element.element,target:r.target}}var kj=class extends $f{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}};function Lj(r){return r instanceof $f?new kj(r):r}var Ej=class{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,n;(n=(i=this.dnd).onDragStart)===null||n===void 0||n.call(i,Lj(e),t)}onDragOver(e,t,i,n,o=!0){return this.dnd.onDragOver(Lj(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(Lj(e),t&&t.element,i,n)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}};function qte(r){return r&&Object.assign(Object.assign({},r),{collapseByDefault:!0,identityProvider:r.identityProvider&&{getId(e){return r.identityProvider.getId(e.element)}},dnd:r.dnd&&new Ej(r.dnd),multipleSelectionController:r.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return r.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent(e){return r.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:r.accessibilityProvider&&Object.assign(Object.assign({},r.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:r.accessibilityProvider.getRole?e=>r.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:r.accessibilityProvider.isChecked?e=>{var t;return!!(!((t=r.accessibilityProvider)===null||t===void 0)&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return r.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return r.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:r.accessibilityProvider.getWidgetRole?()=>r.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:r.accessibilityProvider.getAriaLevel&&(e=>r.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:r.accessibilityProvider.getActiveDescendantId&&(e=>r.accessibilityProvider.getActiveDescendantId(e.element))}),filter:r.filter&&{filter(e,t){return r.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:r.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},r.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(e){return r.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof r.expandOnlyOnTwistieClick>"u"?void 0:typeof r.expandOnlyOnTwistieClick!="function"?r.expandOnlyOnTwistieClick:e=>r.expandOnlyOnTwistieClick(e.element),additionalScrollHeight:r.additionalScrollHeight})}function Ij(r,e){e(r),r.children.forEach(t=>Ij(t,e))}var iD=class{constructor(e,t,i,n,o,s={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new B,this._onDidChangeNodeSlowState=new B,this.nodeMapper=new cv(a=>new tD(a)),this.disposables=new J,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(e,t,i,n,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Sj({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return Ie.map(this.tree.onDidChangeFocus,$te)}get onDidChangeSelection(){return Ie.map(this.tree.onDidChangeSelection,$te)}get onMouseDblClick(){return Ie.map(this.tree.onMouseDblClick,Kte)}get onPointer(){return Ie.map(this.tree.onPointer,Kte)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,o){let s=new d1(i),a=n.map(c=>new Dj(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=qte(o)||{};return new uv(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return _p(this,void 0,void 0,function*(){this.refreshPromises.forEach(n=>n.cancel()),this.refreshPromises.clear(),this.root.element=e;let i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,i=!1,n,o){return _p(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Kr(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Ie.toPromise(this._onDidRender.event));let s=this.getDataNode(e);if(yield this.refreshAndRenderNode(s,t,n,o),i)try{this.tree.rerender(s)}catch{}})}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}let t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){let i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return _p(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Kr(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Ie.toPromise(this._onDidRender.event));let i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(yield this.root.refreshPromise,yield Ie.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;let n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield Ie.toPromise(this._onDidRender.event)),n})}setSelection(e,t){let i=e.map(n=>this.getDataNode(n));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){let i=e.map(n=>this.getDataNode(n));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){let t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){let t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){let t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Kr(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,n){return _p(this,void 0,void 0,function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)})}refreshNode(e,t,i){return _p(this,void 0,void 0,function*(){let n;if(this.subTreeRefreshPromises.forEach((o,s)=>{!n&&xve(s,e)&&(n=o.then(()=>this.refreshNode(e,t,i)))}),n)return n;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0;return}return this.doRefreshSubTree(e,t,i)})}doRefreshSubTree(e,t,i){return _p(this,void 0,void 0,function*(){let n;e.refreshPromise=new Promise(o=>n=o),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{let o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield jO.settled(o.map(s=>this.doRefreshSubTree(s,t,i)))}finally{n()}})}doRefreshNode(e,t,i){return _p(this,void 0,void 0,function*(){e.hasChildren=!!this.dataSource.hasChildren(e.element);let n;if(!e.hasChildren)n=Promise.resolve(wt.empty());else{let o=this.doGetChildren(e);if(S5(o))n=Promise.resolve(o);else{let s=kl(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),n=o.finally(()=>s.cancel())}}try{let o=yield n;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),Ps(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;let i=this.dataSource.getChildren(e.element);return S5(i)?this.processChildren(i):(t=wi(()=>_p(this,void 0,void 0,function*(){return this.processChildren(yield i)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Pe))}setChildren(e,t,i,n){let o=[...t];if(e.children.length===0&&o.length===0)return[];let s=new Map,a=new Map;for(let d of e.children)if(s.set(d.element,d),this.identityProvider){let h=this.tree.isCollapsed(d);a.set(d.id,{node:d,collapsed:h})}let l=[],c=o.map(d=>{let h=!!this.dataSource.hasChildren(d);if(!this.identityProvider){let _=Sj({element:d,parent:e,hasChildren:h});return h&&this.collapseByDefault&&!this.collapseByDefault(d)&&(_.collapsedByDefault=!1,l.push(_)),_}let u=this.identityProvider.getId(d).toString(),f=a.get(u);if(f){let _=f.node;return s.delete(_.element),this.nodes.delete(_.element),this.nodes.set(d,_),_.element=d,_.hasChildren=h,i?f.collapsed?(_.children.forEach(v=>Ij(v,w=>this.nodes.delete(w.element))),_.children.splice(0,_.children.length),_.stale=!0):l.push(_):h&&this.collapseByDefault&&!this.collapseByDefault(d)&&(_.collapsedByDefault=!1,l.push(_)),_}let m=Sj({element:d,parent:e,id:u,hasChildren:h});return n&&n.viewState.focus&&n.viewState.focus.indexOf(u)>-1&&n.focus.push(m),n&&n.viewState.selection&&n.viewState.selection.indexOf(u)>-1&&n.selection.push(m),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(u)>-1?l.push(m):h&&this.collapseByDefault&&!this.collapseByDefault(d)&&(m.collapsedByDefault=!1,l.push(m)),m});for(let d of s.values())Ij(d,h=>this.nodes.delete(h.element));for(let d of c)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].collapsedByDefault=!1,l.push(c[0])),l}render(e,t,i){let n=e.children.map(s=>this.asTreeElement(s,t)),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId(s){return i.diffIdentityProvider.getId(s.element)}}});this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:i=e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?wt.map(e.children,n=>this.asTreeElement(n,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}},nD=class{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new nD(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}},Oj=class{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...p.treeItemLoading.classNamesArray),!0):(t.classList.remove(...p.treeItemLoading.classNamesArray),!1)}disposeElement(e,t,i,n){var o,s;(s=(o=this.renderer).disposeElement)===null||s===void 0||s.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){var o,s;(s=(o=this.renderer).disposeCompressedElements)===null||s===void 0||s.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=ft(this.disposables)}};function Dve(r){let e=r&&qte(r);return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(t){return r.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}})})}var QM=class extends iD{constructor(e,t,i,n,o,s,a={}){super(e,t,i,o,s,a),this.compressionDelegate=n,this.compressibleNodeMapper=new cv(l=>new nD(l)),this.filter=a.filter}createTree(e,t,i,n,o){let s=new d1(i),a=n.map(c=>new Oj(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=Dve(o)||{};return new u1(e,t,s,a,l)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);let i=u=>this.identityProvider.getId(u).toString(),n=u=>{let f=new Set;for(let m of u){let _=this.tree.getCompressedTreeNode(m===this.root?null:m);if(!!_.element)for(let v of _.element.elements)f.add(i(v.element))}return f},o=n(this.tree.getSelection()),s=n(this.tree.getFocus());super.render(e,t);let a=this.getSelection(),l=!1,c=this.getFocus(),d=!1,h=u=>{let f=u.element;if(f)for(let m=0;m<f.elements.length;m++){let _=i(f.elements[m].element),v=f.elements[f.elements.length-1].element;o.has(_)&&a.indexOf(v)===-1&&(a.push(v),l=!0),s.has(_)&&c.indexOf(v)===-1&&(c.push(v),d=!0)}u.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),l&&this.setSelection(a),d&&this.setFocus(c)}processChildren(e){return this.filter&&(e=wt.filter(e,t=>{let i=this.filter.filter(t,1),n=kve(i);if(n===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return n===1})),super.processChildren(e)}};function kve(r){return typeof r=="boolean"?r?1:0:Xx(r)?dv(r.visibility):dv(r)}var JM=class extends h1{constructor(e,t,i,n,o,s={}){super(e,t,i,n,s),this.user=e,this.dataSource=o,this.identityProvider=s.identityProvider}createModel(e,t,i){return new pp(e,t,i)}};Oe();se();Ne();to();Xu();St();At();Ne();St();var jct=new Ce("isMac",at,g("isMac","Whether the operating system is macOS")),Wct=new Ce("isLinux",$i,g("isLinux","Whether the operating system is Linux")),oD=new Ce("isWindows",Ji,g("isWindows","Whether the operating system is Windows")),zct=new Ce("isWeb",ja,g("isWeb","Whether the platform is a web browser")),Vct=new Ce("isMacNative",at&&!ja,g("isMacNative","Whether the operating system is macOS on a non-browser platform")),Uct=new Ce("isIOS",sa,g("isIOS","Whether the operating system is iOS")),Hct=new Ce("isDevelopment",!1,!0),$ct=new Ce("productQualityType","",g("productQualityType","Quality type of VS Code")),Nj="inputFocus",Kct=new Ce(Nj,!1,g("inputFocus","Whether keyboard focus is inside an input box"));Xe();fr();Ct();var au=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ci=function(r,e){return function(t,i){e(t,i,r)}},Ea=We("listService"),eR=class{constructor(e){this._themeService=e,this.disposables=new J,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)===null||t===void 0||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)===null||i===void 0||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;let n=new Yx(No(),"");this.disposables.add(Vf(n,this._themeService))}if(this.lists.some(n=>n.widget===e))throw new Error("Cannot register the same widget multiple times");let i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),ms(e.onDidFocus(()=>this.setLastFocusedList(e)),Ke(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(n=>n!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};eR=au([ci(0,Tt)],eR);var eie=new Ce("listFocus",!0),sR=new Ce("listSupportsMultiselect",!0),Rj=Se.and(eie,Se.not(Nj)),Fj=new Ce("listHasSelectionOrFocus",!1),Bj=new Ce("listDoubleSelection",!1),jj=new Ce("listMultiSelection",!1),aR=new Ce("listSelectionNavigation",!1),Eve=new Ce("listSupportsFind",!0),lR=new Ce("treeElementCanCollapse",!1),Ive=new Ce("treeElementHasParent",!1),cR=new Ce("treeElementCanExpand",!1),Ove=new Ce("treeElementHasChild",!1),Nve=new Ce("treeFindOpen",!1),tie="listTypeNavigationMode",iie="listAutomaticKeyboardNavigation";function dR(r,e){let t=r.createScoped(e.getHTMLElement());return eie.bindTo(t),t}var gv="workbench.list.multiSelectModifier",Tj="workbench.list.openMode",Ul="workbench.list.horizontalScrolling",Wj="workbench.list.defaultFindMode",zj="workbench.list.keyboardNavigation",rD="workbench.tree.indent",tR="workbench.tree.renderIndentGuides",Wd="workbench.list.smoothScrolling",ou="workbench.list.mouseWheelScrollSensitivity",ru="workbench.list.fastScrollSensitivity",iR="workbench.tree.expandMode";function su(r){return r.getValue(gv)==="alt"}var Pj=class extends ${constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=su(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(gv)&&(this.useAltAsMultipleSelectionModifier=su(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:rj(e)}isSelectionRangeChangeEvent(e){return sj(e)}};function hR(r,e){var t;let i=r.get(yt),n=r.get(gn),o=new J;return[Object.assign(Object.assign({},e),{keyboardNavigationDelegate:{mightProducePrintableCharacter(a){return n.mightProducePrintableCharacter(a)}},smoothScrolling:Boolean(i.getValue(Wd)),mouseWheelScrollSensitivity:i.getValue(ou),fastScrollSensitivity:i.getValue(ru),multipleSelectionController:(t=e.multipleSelectionController)!==null&&t!==void 0?t:o.add(new Pj(i)),keyboardNavigationEventFilter:Tve(n)}),o]}var nR=class extends $r{constructor(e,t,i,n,o,s,a,l,c,d){let h=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:Boolean(c.getValue(Ul)),[u,f]=d.invokeFunction(hR,o);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},zl(l.getColorTheme(),Tx)),u),{horizontalScrolling:h})),this.disposables.add(f),this.contextKeyService=dR(s,this),this.themeService=l,this.listSupportsMultiSelect=sR.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),aR.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=Fj.bindTo(this.contextKeyService),this.listDoubleSelection=Bj.bindTo(this.contextKeyService),this.listMultiSelection=jj.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=su(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let _=this.getSelection(),v=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(_.length>0||v.length>0),this.listMultiSelection.set(_.length>1),this.listDoubleSelection.set(_.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let _=this.getSelection(),v=this.getFocus();this.listHasSelectionOrFocus.set(_.length>0||v.length>0)})),this.disposables.add(c.onDidChangeConfiguration(_=>{_.affectsConfiguration(gv)&&(this._useAltAsMultipleSelectionModifier=su(c));let v={};if(_.affectsConfiguration(Ul)&&this.horizontalScrolling===void 0){let w=Boolean(c.getValue(Ul));v=Object.assign(Object.assign({},v),{horizontalScrolling:w})}if(_.affectsConfiguration(Wd)){let w=Boolean(c.getValue(Wd));v=Object.assign(Object.assign({},v),{smoothScrolling:w})}if(_.affectsConfiguration(ou)){let w=c.getValue(ou);v=Object.assign(Object.assign({},v),{mouseWheelScrollSensitivity:w})}if(_.affectsConfiguration(ru)){let w=c.getValue(ru);v=Object.assign(Object.assign({},v),{fastScrollSensitivity:w})}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new oR(this,Object.assign({configurationService:c},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Vf(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),super.dispose()}};nR=au([ci(5,Te),ci(6,Ea),ci(7,Tt),ci(8,yt),ci(9,je)],nR);var Yte=class extends UM{constructor(e,t,i,n,o,s,a,l,c,d){let h=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:Boolean(c.getValue(Ul)),[u,f]=d.invokeFunction(hR,o);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},zl(l.getColorTheme(),Tx)),u),{horizontalScrolling:h})),this.disposables=new J,this.disposables.add(f),this.contextKeyService=dR(s,this),this.themeService=l,this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=sR.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),aR.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this._useAltAsMultipleSelectionModifier=su(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),o.overrideStyles&&this.disposables.add(Vf(this,l,o.overrideStyles)),this.disposables.add(c.onDidChangeConfiguration(_=>{_.affectsConfiguration(gv)&&(this._useAltAsMultipleSelectionModifier=su(c));let v={};if(_.affectsConfiguration(Ul)&&this.horizontalScrolling===void 0){let w=Boolean(c.getValue(Ul));v=Object.assign(Object.assign({},v),{horizontalScrolling:w})}if(_.affectsConfiguration(Wd)){let w=Boolean(c.getValue(Wd));v=Object.assign(Object.assign({},v),{smoothScrolling:w})}if(_.affectsConfiguration(ou)){let w=c.getValue(ou);v=Object.assign(Object.assign({},v),{mouseWheelScrollSensitivity:w})}if(_.affectsConfiguration(ru)){let w=c.getValue(ru);v=Object.assign(Object.assign({},v),{fastScrollSensitivity:w})}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new oR(this,Object.assign({configurationService:c},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Vf(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};Yte=au([ci(5,Te),ci(6,Ea),ci(7,Tt),ci(8,yt),ci(9,je)],Yte);var Zte=class extends lv{constructor(e,t,i,n,o,s,a,l,c,d,h){let u=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:Boolean(d.getValue(Ul)),[f,m]=h.invokeFunction(hR,s);super(e,t,i,n,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},zl(c.getColorTheme(),Tx)),f),{horizontalScrolling:u})),this.disposables.add(m),this.contextKeyService=dR(a,this),this.themeService=c,this.listSupportsMultiSelect=sR.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),aR.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=Fj.bindTo(this.contextKeyService),this.listDoubleSelection=Bj.bindTo(this.contextKeyService),this.listMultiSelection=jj.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=su(d),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{let v=this.getSelection(),w=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(v.length>0||w.length>0),this.listMultiSelection.set(v.length>1),this.listDoubleSelection.set(v.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{let v=this.getSelection(),w=this.getFocus();this.listHasSelectionOrFocus.set(v.length>0||w.length>0)})),this.disposables.add(d.onDidChangeConfiguration(v=>{v.affectsConfiguration(gv)&&(this._useAltAsMultipleSelectionModifier=su(d));let w={};if(v.affectsConfiguration(Ul)&&this.horizontalScrolling===void 0){let y=Boolean(d.getValue(Ul));w=Object.assign(Object.assign({},w),{horizontalScrolling:y})}if(v.affectsConfiguration(Wd)){let y=Boolean(d.getValue(Wd));w=Object.assign(Object.assign({},w),{smoothScrolling:y})}if(v.affectsConfiguration(ou)){let y=d.getValue(ou);w=Object.assign(Object.assign({},w),{mouseWheelScrollSensitivity:y})}if(v.affectsConfiguration(ru)){let y=d.getValue(ru);w=Object.assign(Object.assign({},w),{fastScrollSensitivity:y})}Object.keys(w).length>0&&this.updateOptions(w)})),this.navigator=new Aj(this,Object.assign({configurationService:d},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Vf(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};Zte=au([ci(6,Te),ci(7,Ea),ci(8,Tt),ci(9,yt),ci(10,je)],Zte);var sD=class extends ${constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new B),this.onDidOpen=this._onDidOpen.event,this._register(Ie.filter(this.widget.onDidChangeSelection,n=>n.browserEvent instanceof KeyboardEvent)(n=>this.onSelectionFromKeyboard(n))),this._register(this.widget.onPointer(n=>this.onPointer(n.element,n.browserEvent))),this._register(this.widget.onMouseDblClick(n=>this.onMouseDblClick(n.element,n.browserEvent))),typeof t?.openOnSingleClick!="boolean"&&t?.configurationService?(this.openOnSingleClick=t?.configurationService.getValue(Tj)!=="doubleClick",this._register(t?.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=t?.configurationService.getValue(Tj)!=="doubleClick"}))):this.openOnSingleClick=(i=t?.openOnSingleClick)!==null&&i!==void 0?i:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;let t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,n=typeof t.pinned=="boolean"?t.pinned:!i,o=!1;this._open(this.getSelectedElement(),i,n,o,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;let n=t.button===1,o=!0,s=n,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,s,a,t)}onMouseDblClick(e,t){if(!t)return;let i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;let o=!1,s=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,s,a,t)}_open(e,t,i,n,o){!e||this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}},oR=class extends sD{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}},Aj=class extends sD{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}},Mj=class extends sD{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}};function Tve(r){let e=!1;return t=>{if(t.toKeybinding().isModifierKey())return!1;if(e)return e=!1,!1;let i=r.softDispatch(t,t.target);return i?.enterChord?(e=!0,!1):(e=!1,!i)}}var Gte=class extends uv{constructor(e,t,i,n,o,s,a,l,c,d){let{options:h,getTypeNavigationMode:u,disposable:f}=s.invokeFunction(aD,o);super(e,t,i,n,h),this.disposables.add(f),this.internals=new fv(this,o,u,o.overrideStyles,a,l,c,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Gte=au([ci(5,je),ci(6,Te),ci(7,Ea),ci(8,Tt),ci(9,yt)],Gte);var Xte=class extends u1{constructor(e,t,i,n,o,s,a,l,c,d){let{options:h,getTypeNavigationMode:u,disposable:f}=s.invokeFunction(aD,o);super(e,t,i,n,h),this.disposables.add(f),this.internals=new fv(this,o,u,o.overrideStyles,a,l,c,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Xte=au([ci(5,je),ci(6,Te),ci(7,Ea),ci(8,Tt),ci(9,yt)],Xte);var Qte=class extends JM{constructor(e,t,i,n,o,s,a,l,c,d,h){let{options:u,getTypeNavigationMode:f,disposable:m}=a.invokeFunction(aD,s);super(e,t,i,n,o,u),this.disposables.add(m),this.internals=new fv(this,s,f,s.overrideStyles,l,c,d,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Qte=au([ci(6,je),ci(7,Te),ci(8,Ea),ci(9,Tt),ci(10,yt)],Qte);var rR=class extends iD{constructor(e,t,i,n,o,s,a,l,c,d,h){let{options:u,getTypeNavigationMode:f,disposable:m}=a.invokeFunction(aD,s);super(e,t,i,n,o,u),this.disposables.add(m),this.internals=new fv(this,s,f,s.overrideStyles,l,c,d,h),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};rR=au([ci(6,je),ci(7,Te),ci(8,Ea),ci(9,Tt),ci(10,yt)],rR);var Jte=class extends QM{constructor(e,t,i,n,o,s,a,l,c,d,h,u){let{options:f,getTypeNavigationMode:m,disposable:_}=l.invokeFunction(aD,a);super(e,t,i,n,o,s,f),this.disposables.add(_),this.internals=new fv(this,a,m,a.overrideStyles,c,d,h,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Jte=au([ci(7,je),ci(8,Te),ci(9,Ea),ci(10,Tt),ci(11,yt)],Jte);function nie(r){let e=r.getValue(Wj);if(e==="highlight")return jd.Highlight;if(e==="filter")return jd.Filter;let t=r.getValue(zj);if(t==="simple"||t==="highlight")return jd.Highlight;if(t==="filter")return jd.Filter}function aD(r,e){var t;let i=r.get(yt),n=r.get(Bl),o=r.get(Te),s=r.get(je),a=()=>{let u=o.getContextKeyValue(tie);if(u==="automatic")return Kf.Automatic;if(u==="trigger")return Kf.Trigger;if(o.getContextKeyValue(iie)===!1)return Kf.Trigger},l=e.horizontalScrolling!==void 0?e.horizontalScrolling:Boolean(i.getValue(Ul)),[c,d]=s.invokeFunction(hR,e),h=e.additionalScrollHeight;return{getTypeNavigationMode:a,disposable:d,options:Object.assign(Object.assign({keyboardSupport:!1},c),{indent:typeof i.getValue(rD)=="number"?i.getValue(rD):void 0,renderIndentGuides:i.getValue(tR),smoothScrolling:Boolean(i.getValue(Wd)),defaultFindMode:nie(i),horizontalScrolling:l,additionalScrollHeight:h,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(t=e.expandOnlyOnTwistieClick)!==null&&t!==void 0?t:i.getValue(iR)==="doubleClick",contextViewProvider:n})}}var fv=class{constructor(e,t,i,n,o,s,a,l){var c;this.tree=e,this.themeService=a,this.disposables=[],this.contextKeyService=dR(o,e),this.listSupportsMultiSelect=sR.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),aR.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.listSupportFindWidget=Eve.bindTo(this.contextKeyService),this.listSupportFindWidget.set((c=t.findWidgetEnabled)!==null&&c!==void 0?c:!0),this.hasSelectionOrFocus=Fj.bindTo(this.contextKeyService),this.hasDoubleSelection=Bj.bindTo(this.contextKeyService),this.hasMultiSelection=jj.bindTo(this.contextKeyService),this.treeElementCanCollapse=lR.bindTo(this.contextKeyService),this.treeElementHasParent=Ive.bindTo(this.contextKeyService),this.treeElementCanExpand=cR.bindTo(this.contextKeyService),this.treeElementHasChild=Ove.bindTo(this.contextKeyService),this.treeFindOpen=Nve.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=su(l),this.updateStyleOverrides(n);let h=()=>{let f=e.getFocus()[0];if(!f)return;let m=e.getNode(f);this.treeElementCanCollapse.set(m.collapsible&&!m.collapsed),this.treeElementHasParent.set(!!e.getParentElement(f)),this.treeElementCanExpand.set(m.collapsible&&m.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(f))},u=new Set;u.add(tie),u.add(iie),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{let f=e.getSelection(),m=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(f.length>0||m.length>0),this.hasMultiSelection.set(f.length>1),this.hasDoubleSelection.set(f.length===2)})}),e.onDidChangeFocus(()=>{let f=e.getSelection(),m=e.getFocus();this.hasSelectionOrFocus.set(f.length>0||m.length>0),h()}),e.onDidChangeCollapseState(h),e.onDidChangeModel(h),e.onDidChangeFindOpenState(f=>this.treeFindOpen.set(f)),l.onDidChangeConfiguration(f=>{let m={};if(f.affectsConfiguration(gv)&&(this._useAltAsMultipleSelectionModifier=su(l)),f.affectsConfiguration(rD)){let _=l.getValue(rD);m=Object.assign(Object.assign({},m),{indent:_})}if(f.affectsConfiguration(tR)){let _=l.getValue(tR);m=Object.assign(Object.assign({},m),{renderIndentGuides:_})}if(f.affectsConfiguration(Wd)){let _=Boolean(l.getValue(Wd));m=Object.assign(Object.assign({},m),{smoothScrolling:_})}if((f.affectsConfiguration(Wj)||f.affectsConfiguration(zj))&&e.updateOptions({defaultFindMode:nie(l)}),f.affectsConfiguration(Ul)&&t.horizontalScrolling===void 0){let _=Boolean(l.getValue(Ul));m=Object.assign(Object.assign({},m),{horizontalScrolling:_})}if(f.affectsConfiguration(iR)&&t.expandOnlyOnTwistieClick===void 0&&(m=Object.assign(Object.assign({},m),{expandOnlyOnTwistieClick:l.getValue(iR)==="doubleClick"})),f.affectsConfiguration(ou)){let _=l.getValue(ou);m=Object.assign(Object.assign({},m),{mouseWheelScrollSensitivity:_})}if(f.affectsConfiguration(ru)){let _=l.getValue(ru);m=Object.assign(Object.assign({},m),{fastScrollSensitivity:_})}Object.keys(m).length>0&&e.updateOptions(m)}),this.contextKeyService.onDidChangeContext(f=>{f.affectsSome(u)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new Mj(e,Object.assign({configurationService:l},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){ft(this.styler),this.styler=e?Vf(this.tree,this.themeService,e):$.None}dispose(){this.disposables=ft(this.disposables),ft(this.styler),this.styler=void 0}};fv=au([ci(4,Te),ci(5,Ea),ci(6,Tt),ci(7,yt)],fv);var Pve=di.as(ps.Configuration);Pve.registerConfiguration({id:"workbench",order:7,title:g("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[gv]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[g("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),g("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:g({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Tj]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:g({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ul]:{type:"boolean",default:!1,description:g("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[rD]:{type:"number",default:8,minimum:4,maximum:40,description:g("tree indent setting","Controls tree indentation in pixels.")},[tR]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:g("render tree indent guides","Controls whether the tree should render indent guides.")},[Wd]:{type:"boolean",default:!1,description:g("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[ou]:{type:"number",default:1,markdownDescription:g("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ru]:{type:"number",default:5,description:g("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Wj]:{type:"string",enum:["highlight","filter"],enumDescriptions:[g("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),g("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:g("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[zj]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[g("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),g("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),g("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:g("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:g("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[iR]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:g("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});ot();Di();u_();se();Xe();Ft();se();fr();var uR;(function(r){r[r.PRESERVE=0]="PRESERVE",r[r.LAST=1]="LAST"})(uR||(uR={}));var Uj={Quickaccess:"workbench.contributions.quickaccess"},Vj=class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),Ke(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Mg([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}};di.add(Uj.Quickaccess,new Vj);Xe();var lu=We("quickInputService");fr();var Ave=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},oie=function(r,e){return function(t,i){e(t,i,r)}},fR=class extends ${constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=di.as(Uj.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;let[o,s]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=a?.descriptor;if(a&&s&&l===s){e!==s.prefix&&!i?.preserveValue&&(a.picker.value=e),this.adjustValueSelection(a.picker,s,i);return}if(s&&!i?.preserveValue){let f;if(a&&l&&l!==s){let m=a.value.substr(l.prefix.length);m&&(f=`${s.prefix}${m}`)}if(!f){let m=o?.defaultFilterValue;m===uR.LAST?f=this.lastAcceptedPickerValues.get(s):typeof m=="string"&&(f=`${s.prefix}${m}`)}typeof f=="string"&&(e=f)}let c=new J,d=c.add(this.quickInputService.createQuickPick());d.value=e,this.adjustValueSelection(d,s,i),d.placeholder=s?.placeholder,d.quickNavigate=i?.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!a,(typeof i?.itemActivation=="number"||i?.quickNavigateConfiguration)&&(d.itemActivation=(n=i?.itemActivation)!==null&&n!==void 0?n:Vl.SECOND),d.contextKey=s?.contextKey,d.filterValue=f=>f.substring(s?s.prefix.length:0),s?.placeholder&&(d.ariaLabel=s?.placeholder);let h;t&&(h=new tC,c.add(Ua(d.onWillAccept)(f=>{f.veto(),d.hide()}))),c.add(this.registerPickerListeners(d,o,s,e));let u=c.add(new qi);if(o&&c.add(o.provide(d,u.token)),Ua(d.onDidHide)(()=>{d.selectedItems.length===0&&u.cancel(),c.dispose(),h?.complete(d.selectedItems.slice(0))}),d.show(),t)return h?.p}adjustValueSelection(e,t,i){var n;let o;i?.preserveValue?o=[e.value.length,e.value.length]:o=[(n=t?.prefix.length)!==null&&n!==void 0?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n){let o=new J,s=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return o.add(Ke(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(a=>{let[l]=this.getOrInstantiateProvider(a);l!==t?this.show(a,{preserveValue:!0}):s.value=a})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e){let t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};fR=Ave([oie(0,lu),oie(1,je)],fR);Ai();Ct();var Mve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},lD=function(r,e){return function(t,i){e(t,i,r)}},gR=class extends AN{constructor(e,t,i,n,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(fR))),this._quickAccess}createController(e=this.layoutService,t){let i={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),returnFocus:()=>e.focus(),createList:(o,s,a,l,c)=>this.instantiationService.createInstance(nR,o,s,a,l,c),styles:this.computeStyles()},n=this._register(new ov(Object.assign(Object.assign({},i),t)));return n.layout(e.dimension,e.offset.quickPickTop),this._register(e.onDidLayout(o=>n.layout(o,e.offset.quickPickTop))),this._register(n.onShow(()=>this.resetContextKeys())),this._register(n.onHide(()=>this.resetContextKeys())),n}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new Ce(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t?.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=Je.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},zl(this.theme,{quickInputBackground:C8,quickInputForeground:KG,quickInputTitleBackground:qG,contrastBorder:Nt,widgetShadow:ya})),inputBox:zl(this.theme,{inputForeground:Nm,inputBackground:Om,inputBorder:Tm,inputValidationInfoBackground:VC,inputValidationInfoForeground:UC,inputValidationInfoBorder:HC,inputValidationWarningBackground:$C,inputValidationWarningForeground:KC,inputValidationWarningBorder:qC,inputValidationErrorBackground:YC,inputValidationErrorForeground:ZC,inputValidationErrorBorder:GC}),countBadge:zl(this.theme,{badgeBackground:xm,badgeForeground:Dm,badgeBorder:Nt}),button:zl(this.theme,{buttonForeground:AC,buttonBackground:jN,buttonHoverBackground:BG,buttonBorder:Nt}),progressBar:zl(this.theme,{progressBarBackground:jG}),keybindingLabel:zl(this.theme,{keybindingLabelBackground:GG,keybindingLabelForeground:XG,keybindingLabelBorder:QG,keybindingLabelBottomBorder:JG,keybindingLabelShadow:ya}),list:zl(this.theme,{listBackground:C8,listInactiveFocusForeground:ab,listInactiveSelectionIconForeground:lb,listInactiveFocusBackground:cb,listFocusOutline:Pi,listInactiveFocusOutline:Pi,pickerGroupBorder:ZG,pickerGroupForeground:YG})}}};gR=Mve([lD(0,je),lD(1,Te),lD(2,Tt),lD(3,vs),lD(4,Fc)],gR);u_();var rie=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},mv=function(r,e){return function(t,i){e(t,i,r)}},Hj=class extends gR{constructor(e,t,i,n,o,s){super(t,i,n,o,new ZA(e.getContainerDomNode(),s)),this.host=void 0;let a=bp.get(e);if(a){let l=a.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return l.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};Hj=rie([mv(1,je),mv(2,Te),mv(3,Tt),mv(4,vs),mv(5,kt)],Hj);var mR=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){let e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){let i=t=this.instantiationService.createInstance(Hj,e);this.mapEditorToService.set(e,t),Ua(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=Je.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};mR=rie([mv(0,je),mv(1,kt)],mR);var bp=class{constructor(e){this.editor=e,this.widget=new f1(this.editor)}static get(e){return e.getContribution(bp.ID)}dispose(){this.widget.dispose()}};bp.ID="editor.controller.quickInput";var f1=class{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return f1.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}};f1.ID="editor.contrib.quickInputWidget";Ze(bp.ID,bp);Fe();ur();ho();Oe();Un();lC();ho();var $j=class{constructor(e,t,i,n,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}};function Rve(r){if(!r||!Array.isArray(r))return[];let e=[],t=0;for(let i=0,n=r.length;i<n;i++){let o=r[i],s=-1;if(typeof o.fontStyle=="string"){s=0;let c=o.fontStyle.split(" ");for(let d=0,h=c.length;d<h;d++)switch(c[d]){case"italic":s=s|1;break;case"bold":s=s|2;break;case"underline":s=s|4;break;case"strikethrough":s=s|8;break}}let a=null;typeof o.foreground=="string"&&(a=o.foreground);let l=null;typeof o.background=="string"&&(l=o.background),e[t++]=new $j(o.token||"",i,s,a,l)}return e}function Fve(r,e){r.sort((d,h)=>{let u=zve(d.token,h.token);return u!==0?u:d.index-h.index});let t=0,i="000000",n="ffffff";for(;r.length>=1&&r[0].token==="";){let d=r.shift();d.fontStyle!==-1&&(t=d.fontStyle),d.foreground!==null&&(i=d.foreground),d.background!==null&&(n=d.background)}let o=new Kj;for(let d of e)o.getId(d);let s=o.getId(i),a=o.getId(n),l=new dD(t,s,a),c=new hD(l);for(let d=0,h=r.length;d<h;d++){let u=r[d];c.insert(u.token,u.fontStyle,o.getId(u.foreground),o.getId(u.background))}return new cD(o,c)}var Bve=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,Kj=class{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;let t=e.match(Bve);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=Z.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}},cD=class{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(Rve(e),t)}static createFromParsedTokenTheme(e,t){return Fve(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i>"u"){let n=this._match(t),o=Wve(t);i=(n.metadata|o<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}},jve=/\b(comment|string|regex|regexp)\b/;function Wve(r){let e=r.match(jve);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function zve(r,e){return r<e?-1:r>e?1:0}var dD=class{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new dD(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}},hD=class{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;let t=e.indexOf("."),i,n;t===-1?(i=e,n=""):(i=e.substring(0,t),n=e.substring(t+1));let o=this._children.get(i);return typeof o<"u"?o.match(n):this._mainRule}insert(e,t,i,n){if(e===""){this._mainRule.acceptOverwrite(t,i,n);return}let o=e.indexOf("."),s,a;o===-1?(s=e,a=""):(s=e.substring(0,o),a=e.substring(o+1));let l=this._children.get(s);typeof l>"u"&&(l=new hD(this._mainRule.clone()),this._children.set(s,l)),l.insert(a,t,i,n)}};function sie(r){let e=[];for(let t=1,i=r.length;t<i;t++){let n=r[t];e[t]=`.mtk${t} { color: ${n}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}La();Ai();var aie={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Hn]:"#FFFFFE",[Wr]:"#000000",[hL]:"#E5EBF1",[ub]:"#D3D3D3",[fb]:"#939393",[uL]:"#ADD6FF4D"}},lie={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Hn]:"#1E1E1E",[Wr]:"#D4D4D4",[hL]:"#3A3D41",[ub]:"#404040",[fb]:"#707070",[uL]:"#ADD6FF26"}},cie={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Hn]:"#000000",[Wr]:"#FFFFFF",[ub]:"#FFFFFF",[fb]:"#FFFFFF"}},die={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Hn]:"#FFFFFF",[Wr]:"#292929",[ub]:"#292929",[fb]:"#292929"}};fr();Ai();Ct();se();Tl();Fe();Oe();Ct();function hie(r){let e=new B,t=H9();return t.onDidChange(()=>e.fire()),r?.onDidProductIconThemeChange(()=>e.fire()),{onDidChange:e.event,getCSS(){let i=r?r.getProductIconTheme():new uD,n={},o=a=>{let l=i.getIcon(a);if(!l)return;let c=l.font;return c?(n[c.id]=c.definition,`.codicon-${a.id}:before { content: '${l.fontCharacter}'; font-family: ${n8(c.id)}; }`):`.codicon-${a.id}:before { content: '${l.fontCharacter}'; }`},s=[];for(let a of t.getIcons()){let l=o(a);l&&s.push(l)}for(let a in n){let l=n[a],c=l.weight?`font-weight: ${l.weight};`:"",d=l.style?`font-style: ${l.style};`:"",h=l.src.map(u=>`${wh(u.location)} format('${u.format}')`).join(", ");s.push(`@font-face { src: ${h}; font-family: ${n8(a)};${c}${d} font-display: block; }`)}return s.join(`
`)}}}var uD=class{getIcon(e){let t=H9(),i=e.defaults;for(;Vt.isThemeIcon(i);){let n=t.getIcon(i.id);if(!n)return;i=n.defaults}return i}};var vp="vs",fD="vs-dark",g1="hc-black",m1="hc-light",uie=di.as(v8.ColorContribution),Vve=di.as(h8.ThemingContribution),bR=class{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let i=t.base;e.length>0?(_R(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){let e=new Map;for(let t in this.themeData.colors)e.set(t,Z.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=qj(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,Z.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){let i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=uie.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case vp:return va.LIGHT;case g1:return va.HIGH_CONTRAST_DARK;case m1:return va.HIGH_CONTRAST_LIGHT;default:return va.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let o=qj(this.themeData.base);e=o.rules,o.encodedTokensColors&&(t=o.encodedTokensColors)}let i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){let o={token:""};i&&(o.foreground=i),n&&(o.background=n),e.push(o)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=cD.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){let o=this.tokenTheme._match([e].concat(t).join(".")).metadata,s=Uo.getForeground(o),a=Uo.getFontStyle(o);return{foreground:s,italic:Boolean(a&1),bold:Boolean(a&2),underline:Boolean(a&4),strikethrough:Boolean(a&8)}}};function _R(r){return r===vp||r===fD||r===g1||r===m1}function qj(r){switch(r){case vp:return aie;case fD:return lie;case g1:return cie;case m1:return die}}function pR(r){let e=qj(r);return new bR(r,e)}var vR=class extends ${constructor(){super(),this._onColorThemeChange=this._register(new B),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new B),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new uD,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(vp,pR(vp)),this._knownThemes.set(fD,pR(fD)),this._knownThemes.set(g1,pR(g1)),this._knownThemes.set(m1,pR(m1));let e=hie(this);this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(vp),this._onOSSchemeChanged(),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),dO("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(e){return of(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=No(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),$.None}_registerShadowDomContainer(e){let t=No(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!_R(t.base)&&!_R(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new bR(e,t)),_R(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(vp),this._updateActualTheme(t)}_updateActualTheme(e){!e||this._theme===e||(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){let e=window.matchMedia("(forced-colors: active)").matches;if(e!==Qn(this._theme.type)){let t;sL(this._theme.type)?t=e?g1:fD:t=e?m1:vp,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){let e=[],t={},i={addRule:s=>{t[s]||(e.push(s),t[s]=!0)}};Vve.getThemingParticipants().forEach(s=>s(this._theme,i,this._environment));let n=[];for(let s of uie.getColors()){let a=this._theme.getColor(s.id,!0);a&&n.push(`${UN(s.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor { ${n.join(`
`)} }`);let o=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(sie(o)),this._themeCSS=e.join(`
`),this._updateCSS(),ki.setColorMap(o),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}};Xe();var Qs=We("themeService");Fe();Oe();se();to();St();var Uve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Yj=function(r,e){return function(t,i){e(t,i,r)}},CR=class extends ${constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new B,this._onDidChangeReducedMotion=new B,this._accessibilityModeEnabledContext=eb.bindTo(this._contextKeyService);let n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),s.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),n(),this._register(this.onDidChangeScreenReaderOptimized(()=>n()));let o=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(o)}initReducedMotionListeners(e){if(!this._layoutService.hasContainer)return;this._register(ne(e,"change",()=>{this._systemMotionReduced=e.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));let t=()=>{let i=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",i),this._layoutService.container.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){let e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){let e=this._configMotionReduced;return e==="on"||e==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};CR=Uve([Yj(0,Te),Yj(1,Fc),Yj(2,yt)],CR);er();ot();Oe();se();er();hn();St();Fr();Oe();se();ti();ot();Oe();se();ti();var gD=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},p1;(function(r){r[r.None=0]="None",r[r.Initialized=1]="Initialized",r[r.Closed=2]="Closed"})(p1||(p1={}));var Yf=class extends ${constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new B),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=p1.None,this.cache=new Map,this.flushDelayer=new BO(Yf.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;(t=e.changed)===null||t===void 0||t.forEach((n,o)=>this.accept(o,n)),(i=e.deleted)===null||i===void 0||i.forEach(n=>this.accept(n,void 0))}accept(e,t){if(this.state===p1.Closed)return;let i=!1;Tr(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire(e)}get(e,t){let i=this.cache.get(e);return Tr(i)?t:i}getBoolean(e,t){let i=this.get(e);return Tr(i)?t:i==="true"}getNumber(e,t){let i=this.get(e);return Tr(i)?t:parseInt(i,10)}set(e,t){return gD(this,void 0,void 0,function*(){if(this.state===p1.Closed)return;if(Tr(t))return this.delete(e);let i=String(t);if(this.cache.get(e)!==i)return this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}delete(e){return gD(this,void 0,void 0,function*(){if(!(this.state===p1.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return gD(this,void 0,void 0,function*(){if(!this.hasPending)return;let e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}doFlush(e){return gD(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),e)})}dispose(){this.flushDelayer.dispose(),super.dispose()}};Yf.DEFAULT_FLUSH_DELAY=100;var _1=class{constructor(){this.onDidChangeItemsExternal=Ie.None,this.items=new Map}updateItems(e){var t,i;return gD(this,void 0,void 0,function*(){(t=e.insert)===null||t===void 0||t.forEach((n,o)=>this.items.set(o,n)),(i=e.delete)===null||i===void 0||i.forEach(n=>this.items.delete(n))})}};Xe();var wR="__$__targetStorageMarker",rs=We("storageService"),b1;(function(r){r[r.NONE=0]="NONE",r[r.SHUTDOWN=1]="SHUTDOWN"})(b1||(b1={}));var v1=class extends ${constructor(e={flushInterval:v1.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new Hg),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new Hg),this._onWillSaveState=this._register(new B),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(e,t){if(t===wR){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return(n=this.getStorage(t))===null||n===void 0?void 0:n.getNumber(e,i)}store(e,t,i,n){if(Tr(t)){this.remove(e,i);return}this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,i,n),(o=this.getStorage(i))===null||o===void 0||o.set(e,t)})}remove(e,t){this.withPausedEmitters(()=>{var i;this.updateKeyTarget(e,t,void 0),(i=this.getStorage(t))===null||i===void 0||i.delete(e)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var n,o;let s=this.getKeyTargets(t);typeof i=="number"?s[e]!==i&&(s[e]=i,(n=this.getStorage(t))===null||n===void 0||n.set(wR,JSON.stringify(s))):typeof s[e]=="number"&&(delete s[e],(o=this.getStorage(t))===null||o===void 0||o.set(wR,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){let t=this.get(wR,e);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}};v1.DEFAULT_FLUSH_INTERVAL=60*1e3;var yR=class extends v1{constructor(){super(),this.applicationStorage=this._register(new Yf(new _1)),this.profileStorage=this._register(new Yf(new _1)),this.workspaceStorage=this._register(new Yf(new _1)),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}};Ft();Ne();var Gj=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},w1=function(r,e){return function(t,i){e(t,i,r)}},SR=class{constructor(e,t){this._commandService=e,this._hiddenStates=new LR(t)}createMenu(e,t,i){return new Zj(e,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t,this)}};SR=Gj([w1(0,yi),w1(1,rs)],SR);var LR=class mD{constructor(e){this._storageService=e,this._disposables=new J,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{let t=e.get(mD._key,0,"{}");this._data=JSON.parse(t)}catch{this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(t=>{if(t.key===mD._key){if(!this._ignoreChangeEvent)try{let i=e.get(mD._key,0,"{}");this._data=JSON.parse(i)}catch(i){console.log("FAILED to read storage after UPDATE",i)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(e,t){var i,n;return(n=(i=this._data[e.id])===null||i===void 0?void 0:i.includes(t))!==null&&n!==void 0?n:!1}updateHidden(e,t,i){let n=this._data[e.id];if(i)n?n.indexOf(t)<0&&n.push(t):this._data[e.id]=[t];else if(n){let o=n.indexOf(t);o>=0&&rY(n,o),n.length===0&&delete this._data[e.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;let e=JSON.stringify(this._data);this._storageService.store(mD._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}};LR._key="menu.hiddenCommands";LR=Gj([w1(0,rs)],LR);var Zj=class C1{constructor(e,t,i,n,o,s){this._id=e,this._hiddenStates=t,this._options=i,this._commandService=n,this._contextKeyService=o,this._menuService=s,this._disposables=new J,this._menuGroups=[],this._contextKeys=new Set,this._build();let a=new pt(()=>{this._build(),this._onDidChange.fire(this)},i.eventDebounceDelay);this._disposables.add(a),this._disposables.add(jr.onDidChangeMenu(d=>{d.has(e)&&a.schedule()}));let l=this._disposables.add(new J),c=()=>{let d=new pt(()=>this._onDidChange.fire(this),i.eventDebounceDelay);l.add(d),l.add(o.onDidChangeContext(h=>{h.affectsSome(this._contextKeys)&&d.schedule()})),l.add(t.onDidChange(()=>{d.schedule()}))};this._onDidChange=new B({onFirstListenerAdd:c,onLastListenerRemove:l.clear.bind(l)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();let e=jr.getMenuItems(this._id),t;e.sort(C1._compareMenuItems);for(let i of e){let n=i.group||"";(!t||t[0]!==n)&&(t=[n,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(C1._fillInKbExprKeys(e.when,this._contextKeys),wm(e)){if(e.command.precondition&&C1._fillInKbExprKeys(e.command.precondition,this._contextKeys),e.command.toggled){let t=e.command.toggled.condition||e.command.toggled;C1._fillInKbExprKeys(t,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&jr.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}getActions(e){let t=[],i=[];for(let n of this._menuGroups){let[o,s]=n,a=[],l=[];for(let c of s)if(this._contextKeyService.contextMatchesRules(c.when)){let d;if(wm(c)){let u=Hve(this._id,c.command,this._hiddenStates);d=new Sc(c.command,c.alt,e,u,this._contextKeyService,this._commandService)}else d=new Cm(c,this._menuService,this._contextKeyService,e),d.actions.length===0&&(d.dispose(),d=void 0);d&&l.push(d)}l.length>0&&t.push([o,l]),a.length>0&&i.push(a)}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(e,t){let i=e.group,n=t.group;if(i!==n){if(i){if(!n)return-1}else return 1;if(i==="navigation")return-1;if(n==="navigation")return 1;let a=i.localeCompare(n);if(a!==0)return a}let o=e.order||0,s=t.order||0;return o<s?-1:o>s?1:C1._compareTitles(wm(e)?e.command.title:e.title,wm(t)?t.command.title:t.title)}static _compareTitles(e,t){let i=typeof e=="string"?e:e.original,n=typeof t=="string"?t:t.original;return i.localeCompare(n)}};Zj=Gj([w1(3,yi),w1(4,Te),w1(5,Xa)],Zj);function Hve(r,e,t){let i=`${r.id}/${e.id}`,n=typeof e.title=="string"?e.title:e.title.value,o=a8({id:i,label:g("hide.label","Hide '{0}'",n),run(){t.updateHidden(r,e.id,!0)}}),s=a8({id:i,label:n,get checked(){return!t.isHidden(r,e.id)},run(){let a=!t.isHidden(r,e.id);t.updateHidden(r,e.id,a)}});return{hide:o,toggle:s,get isHidden(){return!s.checked}}}ur();Fe();ot();se();pc();var $ve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fie=function(r,e){return function(t,i){e(t,i,r)}},y1=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},xR=class extends ${constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],(fa||SS)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){let e=()=>{let t=new tC;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(i=>y1(this,void 0,void 0,function*(){(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)}))};this.layoutService.hasContainer&&(this._register(ne(this.layoutService.container,"click",e)),this._register(ne(this.layoutService.container,"keydown",e)))}writeText(e,t){return y1(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}let i=document.activeElement,n=document.body.appendChild(he("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(e){return y1(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return y1(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return y1(this,void 0,void 0,function*(){this.findText=e})}readResources(){return y1(this,void 0,void 0,function*(){return this.resources})}};xR=$ve([fie(0,Fc),fie(1,Oo)],xR);Oe();aa();se();xa();hr();vi();Ne();hn();to();St();var Kve=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},qve=function(r,e){return function(t,i){e(t,i,r)}},pD="data-keybinding-context",_D=class{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return Object.assign({},this._value)}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){let t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}},Cp=class extends _D{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}};Cp.INSTANCE=new Cp;var pv=class extends _D{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=Td.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(n=>{if(n.source===7){let o=Array.from(wt.map(this._values,([s])=>s));this._values.clear(),i.fire(new kR(o))}else{let o=[];for(let s of n.affectedKeys){let a=`config.${s}`,l=this._values.findSuperstr(a);l!==void 0&&(o.push(...wt.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(o.push(a),this._values.delete(a))}i.fire(new kR(o))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(pv._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);let t=e.substr(pv._keyPrefix.length),i=this._configurationService.getValue(t),n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:Array.isArray(i)?n=JSON.stringify(i):n=i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}};pv._keyPrefix="config.";var Xj=class{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}},DR=class{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}},kR=class{constructor(e){this.keys=e}affectsSome(e){for(let t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}},Qj=class{constructor(e){this.events=e}affectsSome(e){for(let t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}};function Yve(r,e){return r.allKeysContainedIn(new Set(Object.keys(e)))}var ER=class{constructor(e){this._onDidChangeContext=new Hg({merge:t=>new Qj(t)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Xj(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Jj(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");let t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;let i=this.getContextValuesContainer(this._myContextId);!i||i.setValue(e,t)&&this._onDidChangeContext.fire(new DR(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new DR(e))}getContext(e){return this._isDisposed?Cp.INSTANCE:this.getContextValuesContainer(Zve(e))}},IR=class extends ER{constructor(e){super(0),this._contexts=new Map,this._toDispose=new J,this._lastContextId=0;let t=new pv(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?Cp.INSTANCE:this._contexts.get(e)||Cp.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new _D(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};IR=Kve([qve(0,yt)],IR);var Jj=class extends ER{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new Cn,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(pD)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(pD,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{let i=this._parent.getContextValuesContainer(this._myContextId).value;Yve(e,i)||this._onDidChangeContext.fire(e)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(pD),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?Cp.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}};function Zve(r){for(;r;){if(r.hasAttribute(pD)){let e=r.getAttribute(pD);return e?parseInt(e,10):NaN}r=r.parentElement}return 0}function Gve(r,e,t){r.get(Te).createKey(String(e),Xve(t))}function Xve(r){return GE(r,e=>{if(typeof e=="object"&&e.$mid===1)return Ee.revive(e).toString();if(e instanceof Ee)return e.toString()})}gt.registerCommand(yG,Gve);gt.registerCommand({id:"getContextKeyInfo",handler(){return[...Ce.all()].sort((r,e)=>r.key.localeCompare(e.key))},description:{description:g("getContextKeyInfo","A command that returns information about context keys"),args:[]}});gt.registerCommand("_generateContextKeyInfo",function(){let r=[],e=new Set;for(let t of Ce.all())e.has(t.key)||(e.add(t.key),r.push(t));r.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(r,void 0,2))});kO();ot();ut();kO();var eW=class{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}},OR=class{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){let e=[];for(let t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){let i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){let t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){let t=this._hashFn(e),i=this._nodes.get(t);return i||(i=new eW(e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join(`
`)}findCycleSlow(){for(let[e,t]of this._nodes){let i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(let[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);let o=this._findCycle(n,t);if(o)return o;t.delete(i)}}};Xe();var gie=!1,NR=class extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}},S1=class{constructor(e=new Gh,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(je,this)}createChild(e){return new S1(e,this._strict,this)}invokeFunction(e,...t){let i=Js.traceInvocation(e),n=!1;try{return e({get:s=>{if(n)throw _Y("service accessor is only valid during the invocation of its target method");let a=this._getOrCreateServiceInstance(s,i);if(!a)throw new Error(`[invokeFunction] unknown service '${s}'`);return a}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof ga?(i=Js.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Js.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=hc.getServiceDependencies(e).sort((a,l)=>a.index-l.index),o=[];for(let a of n){let l=this._getOrCreateServiceInstance(a.id,i);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),o.push(l)}let s=n.length>0?n[0].index:t.length;if(t.length!==s){console.trace(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);let a=s-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,s)}return new e(...t,...o)}_setServiceInstance(e,t){if(this._services.get(e)instanceof ga)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof ga?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){let n=new OR(a=>a.id.toString()),o=0,s=[{id:e,desc:t,_trace:i}];for(;s.length;){let a=s.pop();if(n.lookupOrInsertNode(a),o++>1e3)throw new NR(n);for(let l of hc.getServiceDependencies(a.desc.ctor)){let c=this._getServiceInstanceOrDescriptor(l.id);if(c||this._throwIfStrict(`[createInstance] ${e} depends on ${l.id} which is NOT registered.`,!0),c instanceof ga){let d={id:l.id,desc:c,_trace:a._trace.branch(l.id,!0)};n.insertEdge(a,d),s.push(d)}}}for(;;){let a=n.roots();if(a.length===0){if(!n.isEmpty())throw new NR(n);break}for(let{data:l}of a){if(this._getServiceInstanceOrDescriptor(l.id)instanceof ga){let d=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,d)}n.removeNode(l)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof ga)return this._createServiceInstance(t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){let o=new Za(()=>this._createInstance(e,t,n));return new Proxy(Object.create(null),{get(s,a){if(a in s)return s[a];let l=o.value,c=l[a];return typeof c!="function"||(c=c.bind(l),s[a]=c),c},set(s,a,l){return o.value[a]=l,!0}})}else return this._createInstance(e,t,n)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}},Js=class{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return gie?new Js(1,e.name||e.toString().substring(0,42).replace(/\n/g,"")):Js._None}static traceCreation(e){return gie?new Js(0,e.name):Js._None}branch(e,t){let i=new Js(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;Js._totals+=e;let t=!1;function i(o,s){let a=[],l=new Array(o+1).join("	");for(let[c,d,h]of s._dep)if(d&&h){t=!0,a.push(`${l}CREATES -> ${c}`);let u=i(o+1,h);u&&a.push(u)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}let n=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${Js._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(n.join(`
`))}};Js._None=new class extends Js{constructor(){super(-1,null)}stop(){}branch(){return this}};Js._totals=0;Ft();Oe();aa();xa();Ws();vi();var tW=class{constructor(){this._byResource=new uo,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new uo,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){let i=this._byResource.get(e);return i?.get(t)}delete(e,t){let i=!1,n=!1,o=this._byResource.get(e);o&&(i=o.delete(t));let s=this._byOwner.get(t);if(s&&(n=s.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return typeof e=="string"?(i=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&i!==void 0?i:wt.empty():Ee.isUri(e)?(o=(n=this._byResource.get(e))===null||n===void 0?void 0:n.values())!==null&&o!==void 0?o:wt.empty():wt.map(wt.concat(...this._byOwner.values()),s=>s[1])}},iW=class{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new uo,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(let t of e){let i=this._data.get(t);i&&this._substract(i);let n=this._resourceStats(t);this._add(n),this._data.set(t,n)}}_resourceStats(e){let t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===lt.inMemory||e.scheme===lt.walkThrough||e.scheme===lt.walkThroughSnippet||e.scheme===lt.vscodeSourceControl)return t;for(let{severity:i}of this._service.read({resource:e}))i===Xi.Error?t.errors+=1:i===Xi.Warning?t.warnings+=1:i===Xi.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}},zd=class{constructor(){this._onMarkerChanged=new aI({delay:0,merge:zd._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new tW,this._stats=new iW(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(let i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(HE(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{let n=[];for(let o of i){let s=zd._toMarker(e,t,o);s&&n.push(s)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:h,relatedInformation:u,tags:f}=i;if(!!s)return l=l>0?l:1,c=c>0?c:1,d=d>=l?d:l,h=h>0?h:c,{resource:t,owner:e,code:n,severity:o,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:h,relatedInformation:u,tags:f}}changeAll(e,t){let i=[],n=this._data.values(e);if(n)for(let o of n){let s=wt.first(o);s&&(i.push(s.resource),this._data.delete(s.resource,e))}if(an(t)){let o=new uo;for(let{resource:s,marker:a}of t){let l=zd._toMarker(e,s,a);if(!l)continue;let c=o.get(s);c?c.push(l):(o.set(s,[l]),i.push(s))}for(let[s,a]of o)this._data.set(s,e,a)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){let s=this._data.get(i,t);if(s){let a=[];for(let l of s)if(zd._accept(l,n)){let c=a.push(l);if(o>0&&c===o)break}return a}else return[]}else if(!t&&!i){let s=[];for(let a of this._data.values())for(let l of a)if(zd._accept(l,n)){let c=s.push(l);if(o>0&&c===o)return s}return s}else{let s=this._data.values(i??t),a=[];for(let l of s)for(let c of l)if(zd._accept(c,n)){let d=a.push(c);if(o>0&&d===o)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){let t=new uo;for(let i of e)for(let n of i)t.set(n,!0);return Array.from(t.keys())}};Ds();Oe();se();Rs();Gg();function nW(r,e,t,i,n,o){if(Array.isArray(r)){let s=0;for(let a of r){let l=nW(a,e,t,i,n,o);if(l===10)return l;l>s&&(s=l)}return s}else{if(typeof r=="string")return i?r==="*"?5:r===t?10:0:0;if(r){let{language:s,pattern:a,scheme:l,hasAccessToAllModels:c,notebookType:d}=r;if(!i&&!c)return 0;d&&n&&(e=n);let h=0;if(l)if(l===e.scheme)h=10;else if(l==="*")h=5;else return 0;if(s)if(s===t)h=10;else if(s==="*")h=Math.max(h,5);else return 0;if(d)if(d===o)h=10;else if(d==="*"&&o!==void 0)h=Math.max(h,5);else return 0;if(a){let u;if(typeof a=="string"?u=a:u=Object.assign(Object.assign({},a),{base:fI(a.base)}),u===e.fsPath||hte(u,e.fsPath))h=10;else return 0}return h}else return 0}}function mie(r){return typeof r=="string"?!1:Array.isArray(r)?r.every(mie):!!r.exclusive}var TR=class{constructor(e,t,i,n){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=n}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&((t=this.notebookUri)===null||t===void 0?void 0:t.toString())===((i=e.notebookUri)===null||i===void 0?void 0:i.toString())}},vn=class{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new B,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Ke(()=>{if(i){let n=this._entries.indexOf(i);n>=0&&(this._entries.splice(n,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);let t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){let t=[];return this._orderedForEach(e,i=>t.push(i.provider)),t}orderedGroups(e){let t=[],i,n;return this._orderedForEach(e,o=>{i&&n===o._score?i.push(o.provider):(n=o._score,i=[o.provider],t.push(i))}),t}_orderedForEach(e,t){this._updateScores(e);for(let i of this._entries)i._score>0&&t(i)}_updateScores(e){var t,i;let n=(t=this._notebookInfoResolver)===null||t===void 0?void 0:t.call(this,e.uri),o=n?new TR(e.uri,e.getLanguageId(),n.uri,n.type):new TR(e.uri,e.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(o))){this._lastCandidate=o;for(let s of this._entries)if(s._score=nW(s.selector,o.uri,o.languageId,ZY(e),o.notebookUri,o.notebookType),mie(s.selector)&&s._score>0){for(let a of this._entries)a._score=0;s._score=1e3;break}this._entries.sort(vn._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}};oi();Bs();var oW=class{constructor(){this.referenceProvider=new vn(this._score.bind(this)),this.renameProvider=new vn(this._score.bind(this)),this.codeActionProvider=new vn(this._score.bind(this)),this.definitionProvider=new vn(this._score.bind(this)),this.typeDefinitionProvider=new vn(this._score.bind(this)),this.declarationProvider=new vn(this._score.bind(this)),this.implementationProvider=new vn(this._score.bind(this)),this.documentSymbolProvider=new vn(this._score.bind(this)),this.inlayHintsProvider=new vn(this._score.bind(this)),this.colorProvider=new vn(this._score.bind(this)),this.codeLensProvider=new vn(this._score.bind(this)),this.documentFormattingEditProvider=new vn(this._score.bind(this)),this.documentRangeFormattingEditProvider=new vn(this._score.bind(this)),this.onTypeFormattingEditProvider=new vn(this._score.bind(this)),this.signatureHelpProvider=new vn(this._score.bind(this)),this.hoverProvider=new vn(this._score.bind(this)),this.documentHighlightProvider=new vn(this._score.bind(this)),this.selectionRangeProvider=new vn(this._score.bind(this)),this.foldingRangeProvider=new vn(this._score.bind(this)),this.linkProvider=new vn(this._score.bind(this)),this.inlineCompletionsProvider=new vn(this._score.bind(this)),this.completionProvider=new vn(this._score.bind(this)),this.linkedEditingRangeProvider=new vn(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new vn(this._score.bind(this)),this.documentSemanticTokensProvider=new vn(this._score.bind(this)),this.documentOnDropEditProvider=new vn(this._score.bind(this)),this.documentPasteEditProvider=new vn(this._score.bind(this))}_score(e){var t;return(t=this._notebookTypeResolver)===null||t===void 0?void 0:t.call(this,e)}};Ot(_e,oW,!0);to();Xu();fr();var PR=class extends Hr{constructor(e={}){let t=di.as(ps.Configuration).getConfigurationProperties(),i=Object.keys(t),n=Object.create(null),o=[];for(let s in t){let a=e[s],l=a!==void 0?a:t[s].default;OS(n,s,l,c=>console.error(`Conflict in default settings: ${c}`))}for(let s of Object.keys(n))J0.test(s)&&o.push({identifiers:t7(s),keys:Object.keys(n[s]),contents:DO(n[s],a=>console.error(`Conflict in default settings file: ${a}`))});super(n,i,o)}};var wp=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ss=function(r,e){return function(t,i){e(t,i,r)}},_ie=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},rW=class{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new B}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}},sW=class{constructor(e){this.modelService=e}createModelReference(e){let t=this.modelService.getModel(e);return t?Promise.resolve(new rI(new rW(t))):Promise.reject(new Error("Model not found"))}};sW=wp([ss(0,si)],sW);var L1=class{show(){return L1.NULL_PROGRESS_RUNNER}showWhile(e,t){return _ie(this,void 0,void 0,function*(){yield e})}};L1.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};var aW=class{withProgress(e,t,i){return t({report:()=>{}})}},lW=class{confirm(e){return this.doConfirm(e).then(t=>({confirmed:t,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+`

`+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}},x1=class{info(e){return this.notify({severity:Ri.Info,message:e})}warn(e){return this.notify({severity:Ri.Warning,message:e})}error(e){return this.notify({severity:Ri.Error,message:e})}notify(e){switch(e.severity){case Ri.Error:console.error(e.message);break;case Ri.Warning:console.warn(e.message);break;default:console.log(e.message);break}return x1.NO_OP}status(e,t){return $.None}};x1.NO_OP=new DA;var cW=class{constructor(e){this._onWillExecuteCommand=new B,this._onDidExecuteCommand=new B,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){let i=gt.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});let n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(n){return Promise.reject(n)}}};cW=wp([ss(0,je)],cW);var bD=class extends aM{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];let a=f=>{let m=new J;m.add(ne(f,ye.KEY_DOWN,_=>{let v=new Gt(_);this._dispatch(v,v.target)&&(v.preventDefault(),v.stopPropagation())})),m.add(ne(f,ye.KEY_UP,_=>{let v=new Gt(_);this._singleModifierDispatch(v,v.target)&&v.preventDefault()})),this._domNodeListeners.push(new dW(f,m))},l=f=>{for(let m=0;m<this._domNodeListeners.length;m++){let _=this._domNodeListeners[m];_.domNode===f&&(this._domNodeListeners.splice(m,1),_.dispose())}},c=f=>{f.getOption(56)||a(f.getContainerDomNode())},d=f=>{f.getOption(56)||l(f.getContainerDomNode())};this._register(s.onCodeEditorAdd(c)),this._register(s.onCodeEditorRemove(d)),s.listCodeEditors().forEach(c);let h=f=>{a(f.getContainerDomNode())},u=f=>{l(f.getContainerDomNode())};this._register(s.onDiffEditorAdd(h)),this._register(s.onDiffEditorRemove(u)),s.listDiffEditors().forEach(h)}addDynamicKeybinding(e,t,i,n){let o=ZS(t,Nr),s=new J;return o&&(this._dynamicKeybindings.push({keybinding:o.parts,command:e,when:n,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),s.add(Ke(()=>{for(let a=0;a<this._dynamicKeybindings.length;a++)if(this._dynamicKeybindings[a].command===e){this._dynamicKeybindings.splice(a,1),this.updateResolver();return}}))),s.add(gt.registerCommand(e,i)),this.updateResolver(),s}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){let e=this._toNormalizedKeybindingItems(Ko.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new op(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],n=0;for(let o of e){let s=o.when||void 0,a=o.keybinding;if(!a)i[n++]=new kx(void 0,o.command,o.commandArgs,s,t,null,!1);else{let l=rp.resolveUserBinding(a,Nr);for(let c of l)i[n++]=new kx(c,o.command,o.commandArgs,s,t,null,!1)}}return i}resolveKeyboardEvent(e){let t=new El(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new rp(t,Nr)}};bD=wp([ss(0,Te),ss(1,yi),ss(2,Hs),ss(3,ui),ss(4,Oo),ss(5,kt)],bD);var dW=class extends ${constructor(e,t){super(),this.domNode=e,this._register(t)}};function pie(r){return r&&typeof r=="object"&&(!r.overrideIdentifier||typeof r.overrideIdentifier=="string")&&(!r.resource||r.resource instanceof Ee)}var AR=class{constructor(){this._onDidChangeConfiguration=new B,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Yb(new PR,new Hr,new Hr,new Hr)}getValue(e,t){let i=typeof e=="string"?e:void 0,n=pie(e)?e:pie(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){let t={data:this._configuration.toData()},i=[];for(let n of e){let[o,s]=n;this.getValue(o)!==s&&(this._configuration.updateValue(o,s),i.push(o))}if(i.length>0){let n=new sM({keys:i,overrides:[]},t,this._configuration);n.source=8,n.sourceConfig=null,this._onDidChangeConfiguration.fire(n)}return Promise.resolve()}updateValue(e,t,i,n){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}},hW=class{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new B,this.configurationService.onDidChangeConfiguration(t=>{this._onDidChangeConfiguration.fire({affectedKeys:t.affectedKeys,affectsConfiguration:(i,n)=>t.affectsConfiguration(n)})})}getValue(e,t,i){let o=(H.isIPosition(t)?t:null)?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0;return typeof o>"u"?this.configurationService.getValue():this.configurationService.getValue(o)}};hW=wp([ss(0,yt)],hW);var uW=class{constructor(e){this.configurationService=e}getEOL(e,t){let i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:$i||at?`
`:`\r
`}};uW=wp([ss(0,yt)],uW);var fW=class{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}},_v=class{constructor(){let e=Ee.from({scheme:_v.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new dM({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===_v.SCHEME?this.workspace.folders[0]:null}};_v.SCHEME="inmemory";function vD(r,e,t){if(!e||!(r instanceof AR))return;let i=[];Object.keys(e).forEach(n=>{Vee(n)&&i.push([`editor.${n}`,e[n]]),t&&Uee(n)&&i.push([`diffEditor.${n}`,e[n]])}),i.length>0&&r.updateValues(i)}var gW=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return _ie(this,void 0,void 0,function*(){let i=new Map;for(let s of e){if(!(s instanceof Jh))throw new Error("bad edit - only text edits are supported");let a=this._modelService.getModel(s.resource);if(!a)throw new Error("bad edit - model not found");if(typeof s.versionId=="number"&&a.getVersionId()!==s.versionId)throw new Error("bad state - model changed in the meantime");let l=i.get(a);l||(l=[],i.set(a,l)),l.push(li.replaceMove(D.lift(s.textEdit.range),s.textEdit.text))}let n=0,o=0;for(let[s,a]of i)s.pushStackElement(),s.pushEditOperations([],a,()=>[]),s.pushStackElement(),o+=1,n+=a.length;return{ariaSummary:td(uM.bulkEditServiceSummary,n,o)}})}};gW=wp([ss(0,si)],gW);var mW=class{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}getUriBasenameLabel(e){return ir(e)}},pW=class extends gM{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){let n=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();n&&(t=n.getContainerDomNode())}return super.showContextView(e,t,i)}};pW=wp([ss(0,Fc),ss(1,kt)],pW);var _W=class{constructor(){this._neverEmitter=new B,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}},bW=class extends cp{constructor(){super()}},vW=class extends oN{constructor(){super(new nN)}},CW=class extends SM{constructor(e,t,i,n,o){super(e,t,i,n,o),this.configure({blockMouse:!1})}};CW=wp([ss(0,Hs),ss(1,ui),ss(2,Bl),ss(3,gn),ss(4,Tt)],CW);Ot(yt,AR);Ot(aC,hW);Ot(iN,uW);Ot(sp,_v);Ot(Md,mW);Ot(Hs,fW);Ot(Hw,lW);Ot(ui,x1);Ot(Xs,zd);Ot(ei,bW);Ot(Qs,vR);Ot(Oo,vW);Ot(si,Bx);Ot(CC,DM);Ot(Te,IR);Ot(WA,aW);Ot(Da,L1);Ot(rs,yR);Ot(or,rN);Ot(eu,gW);Ot(fM,_W);Ot(Fn,sW);Ot(vs,CR);Ot(Ea,eR);Ot(yi,cW);Ot(gn,bD);Ot(lu,mR);Ot(Bl,pW);Ot(wo,xM);Ot(Ls,xR);Ot(Gs,CW);Ot(Xa,SR);var ct;(function(r){let e=new Gh;for(let[s,a]of K3())e.set(s,a);let t=new S1(e,!0);e.set(je,t);function i(s){let a=e.get(s);if(!a)throw new Error("Missing service "+s);return a instanceof ga?t.invokeFunction(l=>l.get(s)):a}r.get=i;let n=!1;function o(s){if(n)return t;n=!0;for(let[a,l]of K3())e.get(a)||e.set(a,l);for(let a in s)if(s.hasOwnProperty(a)){let l=We(a);e.get(l)instanceof ga&&e.set(l,s[a])}return t}r.initialize=o})(ct||(ct={}));er();hn();to();St();Xe();Ct();Rc();_s();Qo();fc();io();oi();var wW=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},mn=function(r,e){return function(t,i){e(t,i,r)}},Qve=0,bie=!1;function Jve(r){if(!r){if(bie)return;bie=!0}vG(r||document.body)}var MR=class extends Pf{constructor(e,t,i,n,o,s,a,l,c,d,h,u){let f=Object.assign({},t);f.ariaLabel=f.ariaLabel||Ex.editorViewAccessibleLabel,f.ariaLabel=f.ariaLabel+";"+Ex.accessibilityHelpMessage,super(e,f,{},i,n,o,s,l,c,d,h,u),a instanceof bD?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,Jve(f.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let n="DYNAMIC_"+ ++Qve,o=Se.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),$.None;let t=e.id,i=e.label,n=Se.and(Se.equals("editorId",this.getId()),Se.deserialize(e.precondition)),o=e.keybindings,s=Se.and(n,Se.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(f,...m)=>Promise.resolve(e.run(this,...m)),d=new J,h=this.getId()+":"+t;if(d.add(gt.registerCommand(h,c)),a){let f={command:{id:h,title:i},when:n,group:a,order:l};d.add(jr.appendMenuItem(z.EditorContext,f))}if(Array.isArray(o))for(let f of o)d.add(this._standaloneKeybindingService.addDynamicKeybinding(h,f,c,s));let u=new Cw(h,i,i,n,c,this._contextKeyService);return this._actions[t]=u,d.add(Ke(()=>{delete this._actions[t]})),d}_triggerCommand(e,t){if(this._codeEditorService instanceof yx)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};MR=wW([mn(2,je),mn(3,kt),mn(4,yi),mn(5,Te),mn(6,gn),mn(7,Tt),mn(8,ui),mn(9,vs),mn(10,ii),mn(11,_e)],MR);var RR=class extends MR{constructor(e,t,i,n,o,s,a,l,c,d,h,u,f,m,_){let v=Object.assign({},t);vD(d,v,!1);let w=l.registerEditorContainer(e);typeof v.theme=="string"&&l.setTheme(v.theme),typeof v.autoDetectHighContrast<"u"&&l.setAutoDetectHighContrast(Boolean(v.autoDetectHighContrast));let y=v.model;delete v.model,super(e,v,i,n,o,s,a,l,c,h,m,_),this._configurationService=d,this._standaloneThemeService=l,this._register(w);let x;if(typeof y>"u"){let k=f.getLanguageIdByMimeType(v.language)||v.language||Io;x=yW(u,f,v.value||"",k,void 0),this._ownsModel=!0}else x=y,this._ownsModel=!1;if(this._attachModel(x),x){let k={oldModelUrl:null,newModelUrl:x.uri};this._onDidChangeModel.fire(k)}}dispose(){super.dispose()}updateOptions(e){vD(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};RR=wW([mn(2,je),mn(3,kt),mn(4,yi),mn(5,Te),mn(6,gn),mn(7,Qs),mn(8,ui),mn(9,yt),mn(10,vs),mn(11,si),mn(12,ei),mn(13,ii),mn(14,_e)],RR);var FR=class extends jf{constructor(e,t,i,n,o,s,a,l,c,d,h,u){let f=Object.assign({},t);vD(c,f,!0);let m=a.registerEditorContainer(e);typeof f.theme=="string"&&a.setTheme(f.theme),typeof f.autoDetectHighContrast<"u"&&a.setAutoDetectHighContrast(Boolean(f.autoDetectHighContrast)),super(e,f,{},u,o,n,i,s,a,l,d,h),this._configurationService=c,this._standaloneThemeService=a,this._register(m)}dispose(){super.dispose()}updateOptions(e){vD(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(MR,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};FR=wW([mn(2,je),mn(3,Te),mn(4,or),mn(5,kt),mn(6,Qs),mn(7,ui),mn(8,yt),mn(9,Gs),mn(10,Da),mn(11,Ls)],FR);function yW(r,e,t,i,n){if(t=t||"",!i){let o=t.indexOf(`
`),s=t;return o!==-1&&(s=t.substring(0,o)),vie(r,t,e.createByFilepathOrFirstLine(n||null,s),n)}return vie(r,t,e.createById(i),n)}function vie(r,e,t,i){return r.createModel(e,t,i)}hn();function e0e(r,e,t){return ct.initialize(t||{}).createInstance(RR,r,e)}function t0e(r){return ct.get(kt).onCodeEditorAdd(t=>{r(t)})}function i0e(r){return ct.get(kt).onDiffEditorAdd(t=>{r(t)})}function n0e(){return ct.get(kt).listCodeEditors()}function o0e(){return ct.get(kt).listDiffEditors()}function r0e(r,e,t){return ct.initialize(t||{}).createInstance(FR,r,e)}function s0e(r,e){return new gO(r,e)}function a0e(r,e,t){let i=ct.get(ei),n=i.getLanguageIdByMimeType(e)||e;return yW(ct.get(si),i,r,n,t)}function l0e(r,e){let t=ct.get(ei);ct.get(si).setMode(r,t.createById(e))}function c0e(r,e,t){r&&ct.get(Xs).changeOne(e,r.uri,t)}function d0e(r){ct.get(Xs).changeAll(r,[])}function h0e(r){return ct.get(Xs).read(r)}function u0e(r){return ct.get(Xs).onMarkerChanged(r)}function f0e(r){return ct.get(si).getModel(r)}function g0e(){return ct.get(si).getModels()}function m0e(r){return ct.get(si).onModelAdded(r)}function p0e(r){return ct.get(si).onModelRemoved(r)}function _0e(r){return ct.get(si).onModelLanguageChanged(t=>{r({model:t.model,oldLanguage:t.oldLanguageId})})}function b0e(r){return PZ(ct.get(si),ct.get(ii),r)}function v0e(r,e){let t=ct.get(ei),i=ct.get(Qs);return i.registerEditorContainer(r),pC.colorizeElement(i,t,r,e)}function C0e(r,e,t){let i=ct.get(ei);return ct.get(Qs).registerEditorContainer(document.body),pC.colorize(i,r,e,t)}function w0e(r,e,t=4){return ct.get(Qs).registerEditorContainer(document.body),pC.colorizeModelLine(r,e,t)}function y0e(r){let e=ki.get(r);return e||{getInitialState:()=>dm,tokenize:(t,i,n)=>FO(r,n)}}function S0e(r,e){ki.getOrCreate(e);let t=y0e(e),i=Mr(r),n=[],o=t.getInitialState();for(let s=0,a=i.length;s<a;s++){let l=i[s],c=t.tokenize(l,!0,o);n[s]=c.tokens,o=c.endState}return n}function L0e(r,e){ct.get(Qs).defineTheme(r,e)}function x0e(r){ct.get(Qs).setTheme(r)}function D0e(){kS.clearAllFontInfos()}function k0e(r,e){return gt.registerCommand({id:r,handler:e})}function Cie(){return{create:e0e,getEditors:n0e,getDiffEditors:o0e,onDidCreateEditor:t0e,onDidCreateDiffEditor:i0e,createDiffEditor:r0e,createDiffNavigator:s0e,createModel:a0e,setModelLanguage:l0e,setModelMarkers:c0e,getModelMarkers:h0e,removeAllMarkers:d0e,onDidChangeMarkers:u0e,getModels:g0e,getModel:f0e,onDidCreateModel:m0e,onWillDisposeModel:p0e,onDidChangeModelLanguage:_0e,createWebWorker:b0e,colorizeElement:v0e,colorize:C0e,colorizeModelLine:w0e,tokenize:S0e,defineTheme:L0e,setTheme:x0e,remeasureFonts:D0e,registerCommand:k0e,AccessibilitySupport:bI,ContentWidgetPositionPreference:SI,CursorChangeReason:LI,DefaultEndOfLine:xI,EditorAutoIndentStrategy:kI,EditorOption:EI,EndOfLinePreference:II,EndOfLineSequence:OI,MinimapPosition:BI,MouseTargetType:jI,OverlayWidgetPositionPreference:WI,OverviewRulerLane:zI,RenderLineNumbersType:UI,RenderMinimap:HI,ScrollbarVisibility:KI,ScrollType:$I,TextEditorCursorBlinkingStyle:XI,TextEditorCursorStyle:QI,TrackedRangeStickiness:JI,WrappingIndent:eO,InjectedTextCursorStops:TI,PositionAffinity:VI,ConfigurationChangedEvent:A0,BareFontInfo:nd,FontInfo:b_,TextModelResolvedOptions:nm,FindMatch:fh,ApplyUpdateResult:Wg,EditorType:im,EditorOptions:Ts}}ho();Le();Un();io();fc();Qo();function E0e(r,e){if(!e||!Array.isArray(e))return!1;for(let t of e)if(!r(t))return!1;return!0}function BR(r,e){return typeof r=="boolean"?r:e}function wie(r,e){return typeof r=="string"?r:e}function I0e(r){let e={};for(let t of r)e[t]=!0;return e}function yie(r,e=!1){e&&(r=r.map(function(i){return i.toLowerCase()}));let t=I0e(r);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function SW(r,e){e=e.replace(/@@/g,"");let t=0,i;do i=!1,e=e.replace(/@(\w+)/g,function(o,s){i=!0;let a="";if(typeof r[s]=="string")a=r[s];else if(r[s]&&r[s]instanceof RegExp)a=r[s].source;else throw r[s]===void 0?Wi(r,"language definition does not contain attribute '"+s+"', used at: "+e):Wi(r,"attribute reference '"+s+"' must be a string, used at: "+e);return j_(a)?"":"(?:"+a+")"}),t++;while(i&&t<5);e=e.replace(/\x01/g,"@");let n=(r.ignoreCase?"i":"")+(r.unicode?"u":"");return new RegExp(e,n)}function O0e(r,e,t,i){if(i<0)return r;if(i<e.length)return e[i];if(i>=100){i=i-100;let n=t.split(".");if(n.unshift(t),i<n.length)return n[i]}return null}function N0e(r,e,t,i){let n=-1,o=t,s=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(n=parseInt(s[3]),s[2]&&(n=n+100)),o=s[4]);let a="~",l=o;!o||o.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(s=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(a=s[1],l=s[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){let d=yie(l.split("|"),r.ignoreCase);c=function(h){return a==="~"?d(h):!d(h)}}else if(a==="@"||a==="!@"){let d=r[l];if(!d)throw Wi(r,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!E0e(function(u){return typeof u=="string"},d))throw Wi(r,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);let h=yie(d,r.ignoreCase);c=function(u){return a==="@"?h(u):!h(u)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){let d=SW(r,"^"+l+"$");c=function(h){return a==="~"?d.test(h):!d.test(h)}}else c=function(d,h,u,f){return SW(r,"^"+_h(r,l,h,u,f)+"$").test(d)};else if(l.indexOf("$")<0){let d=ph(r,l);c=function(h){return a==="=="?h===d:h!==d}}else{let d=ph(r,l);c=function(h,u,f,m,_){let v=_h(r,d,u,f,m);return a==="=="?h===v:h!==v}}return n===-1?{name:t,value:i,test:function(d,h,u,f){return c(d,d,h,u,f)}}:{name:t,value:i,test:function(d,h,u,f){let m=O0e(d,h,u,n);return c(m||"",d,h,u,f)}}}function LW(r,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw Wi(r,"a 'token' attribute must be of type string, in rule: "+e);{let i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw Wi(r,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw Wi(r,"the next state must be a string value in rule: "+e);{let n=t.next;if(!/^(@pop|@push|@popall)$/.test(n)&&(n[0]==="@"&&(n=n.substr(1)),n.indexOf("$")<0&&!BZ(r,_h(r,n,"",[],""))))throw Wi(r,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=n}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,r.usesEmbedded=!0),i}}else if(Array.isArray(t)){let i=[];for(let n=0,o=t.length;n<o;n++)i[n]=LW(r,e,t[n]);return{group:i}}else if(t.cases){let i=[];for(let o in t.cases)if(t.cases.hasOwnProperty(o)){let s=LW(r,e,t.cases[o]);o==="@default"||o==="@"||o===""?i.push({test:void 0,value:s,name:o}):o==="@eos"?i.push({test:function(a,l,c,d){return d},value:s,name:o}):i.push(N0e(r,e,o,s))}let n=r.defaultToken;return{test:function(o,s,a,l){for(let c of i)if(!c.test||c.test(o,s,a,l))return c.value;return n}}}else throw Wi(r,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}var xW=class{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw Wi(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=SW(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=LW(e,this.name,t)}};function DW(r,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");let t={};t.languageId=r,t.includeLF=BR(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=BR(e.ignoreCase,!1),t.unicode=BR(e.unicode,!1),t.tokenPostfix=wie(e.tokenPostfix,"."+t.languageId),t.defaultToken=wie(e.defaultToken,"source"),t.usesEmbedded=!1;let i=e;i.languageId=r,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function n(s,a,l){for(let c of l){let d=c.include;if(d){if(typeof d!="string")throw Wi(t,"an 'include' attribute must be a string at: "+s);if(d[0]==="@"&&(d=d.substr(1)),!e.tokenizer[d])throw Wi(t,"include target '"+d+"' is not defined at: "+s);n(s+"."+d,a,e.tokenizer[d])}else{let h=new xW(s);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(h.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")h.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){let u=c[1];u.next=c[2],h.setAction(i,u)}else throw Wi(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+s);else h.setAction(i,c[1]);else{if(!c.regex)throw Wi(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+s);c.name&&typeof c.name=="string"&&(h.name=c.name),c.matchOnlyAtStart&&(h.matchOnlyAtLineStart=BR(c.matchOnlyAtLineStart,!1)),h.setRegex(i,c.regex),h.setAction(i,c.action)}a.push(h)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw Wi(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(let s in e.tokenizer)if(e.tokenizer.hasOwnProperty(s)){t.start||(t.start=s);let a=e.tokenizer[s];t.tokenizer[s]=new Array,n("tokenizer."+s,t.tokenizer[s],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw Wi(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let o=[];for(let s of e.brackets){let a=s;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw Wi(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")o.push({token:a.token+t.tokenPostfix,open:ph(t,a.open),close:ph(t,a.close)});else throw Wi(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=o,t.noThrow=!0,t}oi();to();var T0e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function P0e(r){lm.registerLanguage(r)}function A0e(){let r=[];return r=r.concat(lm.getLanguages()),r}function M0e(r){return ct.get(ei).languageIdCodec.encodeLanguageId(r)}function R0e(r,e){let i=ct.get(ei).onDidEncounterLanguage(n=>{n===r&&(i.dispose(),e())});return i}function F0e(r,e){if(!ct.get(ei).isRegisteredLanguageId(r))throw new Error(`Cannot set configuration for unknown language ${r}`);return ct.get(ii).register(r,e,100)}var kW=class{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return bv.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){let n=this._actual.tokenizeEncoded(e,i);return new $u(n.tokens,n.endState)}},bv=class{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){let i=[],n=0;for(let o=0,s=e.length;o<s;o++){let a=e[o],l=a.startIndex;o===0?l=0:l<n&&(l=n),i[o]=new ed(l,a.scopes,t),n=l}return i}static adaptTokenize(e,t,i,n){let o=t.tokenize(i,n),s=bv._toClassicTokens(o.tokens,e),a;return o.endState.equals(n)?a=n:a=o.endState,new Qg(s,a)}tokenize(e,t,i){return bv.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){let i=e.encodeLanguageId(this._languageId),n=this._standaloneThemeService.getColorTheme().tokenTheme,o=[],s=0,a=0;for(let c=0,d=t.length;c<d;c++){let h=t[c],u=n.match(i,h.scopes);if(s>0&&o[s-1]===u)continue;let f=h.startIndex;c===0?f=0:f<a&&(f=a),o[s++]=f,o[s++]=u,a=f}let l=new Uint32Array(s);for(let c=0;c<s;c++)l[c]=o[c];return l}tokenizeEncoded(e,t,i){let n=this._actual.tokenize(e,i),o=this._toBinaryTokens(this._languageService.languageIdCodec,n.tokens),s;return n.endState.equals(i)?s=i:s=n.endState,new $u(o,s)}};function B0e(r){return typeof r.getInitialState=="function"}function j0e(r){return"tokenizeEncoded"in r}function Sie(r){return r&&typeof r.then=="function"}function W0e(r){let e=ct.get(Qs);if(r){let t=[null];for(let i=1,n=r.length;i<n;i++)t[i]=Z.fromHex(r[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function Lie(r,e){return j0e(e)?new kW(r,e):new bv(r,e,ct.get(ei),ct.get(Qs))}function EW(r,e){let t={createTokenizationSupport:()=>T0e(this,void 0,void 0,function*(){let i=yield Promise.resolve(e.create());return i?B0e(i)?Lie(r,i):new V_(ct.get(ei),ct.get(Qs),r,DW(r,i),ct.get(yt)):null})};return ki.registerFactory(r,t)}function z0e(r,e){if(!ct.get(ei).isRegisteredLanguageId(r))throw new Error(`Cannot set tokens provider for unknown language ${r}`);return Sie(e)?EW(r,{create:()=>e}):ki.register(r,Lie(r,e))}function V0e(r,e){let t=i=>new V_(ct.get(ei),ct.get(Qs),r,DW(r,i),ct.get(yt));return Sie(e)?EW(r,{create:()=>e}):ki.register(r,t(e))}function U0e(r,e){return ct.get(_e).referenceProvider.register(r,e)}function H0e(r,e){return ct.get(_e).renameProvider.register(r,e)}function $0e(r,e){return ct.get(_e).signatureHelpProvider.register(r,e)}function K0e(r,e){return ct.get(_e).hoverProvider.register(r,{provideHover:(i,n,o)=>{let s=i.getWordAtPosition(n);return Promise.resolve(e.provideHover(i,n,o)).then(a=>{if(!!a)return!a.range&&s&&(a.range=new D(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn)),a.range||(a.range=new D(n.lineNumber,n.column,n.lineNumber,n.column)),a})}})}function q0e(r,e){return ct.get(_e).documentSymbolProvider.register(r,e)}function Y0e(r,e){return ct.get(_e).documentHighlightProvider.register(r,e)}function Z0e(r,e){return ct.get(_e).linkedEditingRangeProvider.register(r,e)}function G0e(r,e){return ct.get(_e).definitionProvider.register(r,e)}function X0e(r,e){return ct.get(_e).implementationProvider.register(r,e)}function Q0e(r,e){return ct.get(_e).typeDefinitionProvider.register(r,e)}function J0e(r,e){return ct.get(_e).codeLensProvider.register(r,e)}function eCe(r,e,t){return ct.get(_e).codeActionProvider.register(r,{providedCodeActionKinds:t?.providedCodeActionKinds,documentation:t?.documentation,provideCodeActions:(n,o,s,a)=>{let c=ct.get(Xs).read({resource:n.uri}).filter(d=>D.areIntersectingOrTouching(d,o));return e.provideCodeActions(n,o,{markers:c,only:s.only,trigger:s.trigger},a)},resolveCodeAction:e.resolveCodeAction})}function tCe(r,e){return ct.get(_e).documentFormattingEditProvider.register(r,e)}function iCe(r,e){return ct.get(_e).documentRangeFormattingEditProvider.register(r,e)}function nCe(r,e){return ct.get(_e).onTypeFormattingEditProvider.register(r,e)}function oCe(r,e){return ct.get(_e).linkProvider.register(r,e)}function rCe(r,e){return ct.get(_e).completionProvider.register(r,e)}function sCe(r,e){return ct.get(_e).colorProvider.register(r,e)}function aCe(r,e){return ct.get(_e).foldingRangeProvider.register(r,e)}function lCe(r,e){return ct.get(_e).declarationProvider.register(r,e)}function cCe(r,e){return ct.get(_e).selectionRangeProvider.register(r,e)}function dCe(r,e){return ct.get(_e).documentSemanticTokensProvider.register(r,e)}function hCe(r,e){return ct.get(_e).documentRangeSemanticTokensProvider.register(r,e)}function uCe(r,e){return ct.get(_e).inlineCompletionsProvider.register(r,e)}function fCe(r,e){return ct.get(_e).inlayHintsProvider.register(r,e)}function xie(){return{register:P0e,getLanguages:A0e,onLanguage:R0e,getEncodedLanguageId:M0e,setLanguageConfiguration:F0e,setColorMap:W0e,registerTokensProviderFactory:EW,setTokensProvider:z0e,setMonarchTokensProvider:V0e,registerReferenceProvider:U0e,registerRenameProvider:H0e,registerCompletionItemProvider:rCe,registerSignatureHelpProvider:$0e,registerHoverProvider:K0e,registerDocumentSymbolProvider:q0e,registerDocumentHighlightProvider:Y0e,registerLinkedEditingRangeProvider:Z0e,registerDefinitionProvider:G0e,registerImplementationProvider:X0e,registerTypeDefinitionProvider:Q0e,registerCodeLensProvider:J0e,registerCodeActionProvider:eCe,registerDocumentFormattingEditProvider:tCe,registerDocumentRangeFormattingEditProvider:iCe,registerOnTypeFormattingEditProvider:nCe,registerLinkProvider:oCe,registerColorProvider:sCe,registerFoldingRangeProvider:aCe,registerDeclarationProvider:lCe,registerSelectionRangeProvider:cCe,registerDocumentSemanticTokensProvider:dCe,registerDocumentRangeSemanticTokensProvider:hCe,registerInlineCompletionsProvider:uCe,registerInlayHintsProvider:fCe,DocumentHighlightKind:DI,CompletionItemKind:CI,CompletionItemTag:wI,CompletionItemInsertTextRule:z0,SymbolKind:ZI,SymbolTag:GI,IndentAction:NI,CompletionTriggerKind:yI,SignatureHelpTriggerKind:YI,InlayHintKind:PI,InlineCompletionTriggerKind:AI,CodeActionTriggerType:vI,FoldingRangeKind:ha}}At();AW();var MW;Ts.wrappingIndent.defaultValue=0;Ts.glyphMargin.defaultValue=!1;Ts.autoIndent.defaultValue=3;Ts.overviewRulerLanes.defaultValue=2;hu.setFormatterSelector((r,e,t)=>Promise.resolve(r[0]));var Es=tO();Es.editor=Cie();Es.languages=xie();var bCe=Es.CancellationTokenSource,vCe=Es.Emitter,RW=Es.KeyCode,FW=Es.KeyMod,CCe=Es.Position,wCe=Es.Range,yCe=Es.Selection,SCe=Es.SelectionDirection,LCe=Es.MarkerSeverity,xCe=Es.MarkerTag,DCe=Es.Uri,kCe=Es.Token,zR=Es.editor,ECe=Es.languages;(((MW=Qi.MonacoEnvironment)===null||MW===void 0?void 0:MW.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=Es);typeof self.require<"u"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});Vs();bl();xt();Ci();Ui();Ne();St();var ICe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},OCe=function(r,e){return function(t,i){e(t,i,r)}},UR=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},HR=new Ce("selectionAnchorSet",!1),Xf=class Nie{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=HR.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(Nie.ID)}setSelectionAnchor(){if(this.editor.hasModel()){let e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(ge.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new ro().appendText(g("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),Tn(g("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){let t=this.editor.getPosition();this.editor.setSelection(ge.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){let e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Xf.ID="editor.contrib.selectionAnchorController";Xf=ICe([OCe(1,Te)],Xf);var BW=class extends we{constructor(){super({id:"editor.action.setSelectionAnchor",label:g("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2080),weight:100}})}run(e,t){var i;return UR(this,void 0,void 0,function*(){(i=Xf.get(t))===null||i===void 0||i.setSelectionAnchor()})}},jW=class extends we{constructor(){super({id:"editor.action.goToSelectionAnchor",label:g("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:HR})}run(e,t){var i;return UR(this,void 0,void 0,function*(){(i=Xf.get(t))===null||i===void 0||i.goToSelectionAnchor()})}},WW=class extends we{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:g("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:HR,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2089),weight:100}})}run(e,t){var i;return UR(this,void 0,void 0,function*(){(i=Xf.get(t))===null||i===void 0||i.selectFromAnchorToCursor()})}},zW=class extends we{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:g("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:HR,kbOpts:{kbExpr:F.editorTextFocus,primary:9,weight:100}})}run(e,t){var i;return UR(this,void 0,void 0,function*(){(i=Xf.get(t))===null||i===void 0||i.cancelSelectionAnchor()})}};Ze(Xf.ID,Xf);le(BW);le(jW);le(WW);le(zW);ot();se();xt();rt();Le();Ci();Ui();Rs();Ao();La();Ne();er();Ai();Ct();var NCe=W("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},g("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),VW=class extends we{constructor(){super({id:"editor.action.jumpToBracket",label:g("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:3160,weight:100}})}run(e,t){var i;(i=Hl.get(t))===null||i===void 0||i.jumpToBracket()}},UW=class extends we{constructor(){super({id:"editor.action.selectToBracket",label:g("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var n;let o=!0;i&&i.selectBrackets===!1&&(o=!1),(n=Hl.get(t))===null||n===void 0||n.selectToBracket(o)}},HW=class{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}},Hl=class extends ${constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new pt(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(Hl.ID)}jumpToBracket(){if(!this._editor.hasModel())return;let e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{let n=i.getStartPosition(),o=e.bracketPairs.matchBracket(n),s=null;if(o)o[0].containsPosition(n)&&!o[1].containsPosition(n)?s=o[1].getStartPosition():o[1].containsPosition(n)&&(s=o[0].getStartPosition());else{let a=e.bracketPairs.findEnclosingBrackets(n);if(a)s=a[1].getStartPosition();else{let l=e.bracketPairs.findNextBracket(n);l&&l.range&&(s=l.range.getStartPosition())}}return s?new ge(s.lineNumber,s.column,s.lineNumber,s.column):new ge(n.lineNumber,n.column,n.lineNumber,n.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;let t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(n=>{let o=n.getStartPosition(),s=t.bracketPairs.matchBracket(o);if(!s&&(s=t.bracketPairs.findEnclosingBrackets(o),!s)){let c=t.bracketPairs.findNextBracket(o);c&&c.range&&(s=t.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,l=null;if(s){s.sort(D.compareRangesUsingStarts);let[c,d]=s;if(a=e?c.getStartPosition():c.getEndPosition(),l=e?d.getEndPosition():d.getStartPosition(),d.containsPosition(o)){let h=a;a=l,l=h}}a&&l&&i.push(new ge(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let e=[],t=0;for(let i of this._lastBracketsData){let n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}let e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}let t=this._editor.getModel(),i=t.getVersionId(),n=[];this._lastVersionId===i&&(n=this._lastBracketsData);let o=[],s=0;for(let h=0,u=e.length;h<u;h++){let f=e[h];f.isEmpty()&&(o[s++]=f.getStartPosition())}o.length>1&&o.sort(H.compare);let a=[],l=0,c=0,d=n.length;for(let h=0,u=o.length;h<u;h++){let f=o[h];for(;c<d&&n[c].position.isBefore(f);)c++;if(c<d&&n[c].position.equals(f))a[l++]=n[c];else{let m=t.bracketPairs.matchBracket(f,20),_=Hl._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!m&&this._matchBrackets==="always"&&(m=t.bracketPairs.findEnclosingBrackets(f,20),_=Hl._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new HW(f,m,_)}}this._lastBracketsData=a,this._lastVersionId=i}};Hl.ID="editor.contrib.bracketMatchingController";Hl._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Ge.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:un(NCe),position:ts.Center}});Hl._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Ge.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});Ze(Hl.ID,Hl);le(UW);le(VW);Lt((r,e)=>{let t=r.getColor(gQ);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);let i=r.getColor(gT);i&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${i}; }`)});jr.appendMenuItem(z.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:g({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});xt();Ui();Le();Ci();var $R=class{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;let i=this._selection.startLineNumber,n=this._selection.startColumn,o=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&o===e.getLineMaxColumn(i)))if(this._isMovingLeft){let s=new D(i,n-1,i,n),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new D(i,o,i,o),a)}else{let s=new D(i,o,i,o+1),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new D(i,n,i,n),a)}}computeCursorState(e,t){return this._isMovingLeft?new ge(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new ge(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}};Ne();var KR=class extends we{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;let i=[],n=t.getSelections();for(let o of n)i.push(new $R(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},$W=class extends KR{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:g("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:F.writable})}},KW=class extends KR{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:g("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:F.writable})}};le($W);le(KW);xt();Le();Ui();Ne();var qW=class extends we{constructor(){super({id:"editor.action.transposeLetters",label:g("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=[],o=t.getSelections();for(let s of o){if(!s.isEmpty())continue;let a=s.startLineNumber,l=s.startColumn,c=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&c===2))continue;let d=l===c?s.getPosition():ni.rightPosition(i,s.getPosition().lineNumber,s.getPosition().column),h=ni.leftPosition(i,d),u=ni.leftPosition(i,h),f=i.getValueInRange(D.fromPositions(u,h)),m=i.getValueInRange(D.fromPositions(h,d)),_=D.fromPositions(u,d);n.push(new Kn(_,m+f))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}};le(qW);ur();At();xt();lo();Ui();Ne();er();var TCe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Cv="9_cutcopypaste",PCe=Ns||document.queryCommandSupported("cut"),Tie=Ns||document.queryCommandSupported("copy"),ACe=typeof navigator.clipboard>"u"||ao?document.queryCommandSupported("paste"):!0;function GW(r){return r.register(),r}var MCe=PCe?GW(new sf({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Ns?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:z.MenubarEditMenu,group:"2_ccp",title:g({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:z.EditorContext,group:Cv,title:g("actions.clipboard.cutLabel","Cut"),when:F.writable,order:1},{menuId:z.CommandPalette,group:"",title:g("actions.clipboard.cutLabel","Cut"),order:1},{menuId:z.SimpleEditorContext,group:Cv,title:g("actions.clipboard.cutLabel","Cut"),when:F.writable,order:1}]})):void 0,RCe=Tie?GW(new sf({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Ns?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:z.MenubarEditMenu,group:"2_ccp",title:g({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:z.EditorContext,group:Cv,title:g("actions.clipboard.copyLabel","Copy"),order:2},{menuId:z.CommandPalette,group:"",title:g("actions.clipboard.copyLabel","Copy"),order:1},{menuId:z.SimpleEditorContext,group:Cv,title:g("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;jr.appendMenuItem(z.MenubarEditMenu,{submenu:z.MenubarCopy,title:{value:g("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});jr.appendMenuItem(z.EditorContext,{submenu:z.EditorContextCopy,title:{value:g("copy as","Copy As"),original:"Copy As"},group:Cv,order:3});jr.appendMenuItem(z.EditorContext,{submenu:z.EditorContextShare,title:{value:g("share","Share"),original:"Share"},group:"11_share",order:-1});var YW=ACe?GW(new sf({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Ns?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:z.MenubarEditMenu,group:"2_ccp",title:g({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:z.EditorContext,group:Cv,title:g("actions.clipboard.pasteLabel","Paste"),when:F.writable,order:4},{menuId:z.CommandPalette,group:"",title:g("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:z.SimpleEditorContext,group:Cv,title:g("actions.clipboard.pasteLabel","Paste"),when:F.writable,order:4}]})):void 0,ZW=class extends we{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:g("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(33)&&t.getSelection().isEmpty()||(CL.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),CL.forceCopyWithSyntaxHighlighting=!1)}};function Pie(r,e){!r||(r.addImplementation(1e4,"code-editor",(t,i)=>{let n=t.get(kt).getFocusedCodeEditor();if(n&&n.hasTextFocus()){let o=n.getOption(33),s=n.getSelection();return s&&s.isEmpty()&&!o||document.execCommand(e),!0}return!1}),r.addImplementation(0,"generic-dom",(t,i)=>(document.execCommand(e),!0)))}Pie(MCe,"cut");Pie(RCe,"copy");YW&&(YW.addImplementation(1e4,"code-editor",(r,e)=>{let t=r.get(kt),i=r.get(Ls),n=t.getFocusedCodeEditor();return n&&n.hasTextFocus()?!document.execCommand("paste")&&ja?(()=>TCe(void 0,void 0,void 0,function*(){let s=yield i.readText();if(s!==""){let a=Am.INSTANCE.get(s),l=!1,c=null,d=null;a&&(l=n.getOption(33)&&!!a.isFromEmptySelection,c=typeof a.multicursorText<"u"?a.multicursorText:null,d=a.mode),n.trigger("keyboard","paste",{text:s,pasteOnNewLine:l,multicursorText:c,mode:d})}}))():!0:!1}),YW.addImplementation(0,"generic-dom",(r,e)=>(document.execCommand("paste"),!0)));Tie&&le(ZW);xt();Di();pS();se();Ye();xt();Ui();oi();Ft();Di();ut();se();vi();Gf();Le();Ci();_s();hn();Rc();var Ht=class{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+Ht.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new Ht(this.value+Ht.sep+e)}};Ht.sep=".";Ht.None=new Ht("@@none@@");Ht.Empty=new Ht("");Ht.QuickFix=new Ht("quickfix");Ht.Refactor=new Ht("refactor");Ht.Source=new Ht("source");Ht.SourceOrganizeImports=Ht.Source.append("organizeImports");Ht.SourceFixAll=Ht.Source.append("fixAll");var Fo;(function(r){r.Refactor="refactor",r.RefactorPreview="refactor preview",r.Lightbulb="lightbulb",r.Default="other (default)",r.SourceAction="source action",r.QuickFix="quick fix action",r.FixAll="fix all",r.OrganizeImports="organize imports",r.AutoFix="auto fix",r.QuickFixHover="quick fix hover window",r.OnSave="save participants",r.ProblemsView="problems view"})(Fo||(Fo={}));function Aie(r,e){return!(r.include&&!r.include.intersects(e)||r.excludes&&r.excludes.some(t=>Rie(e,t,r.include))||!r.includeSourceActions&&Ht.Source.contains(e))}function Mie(r,e){let t=e.kind?new Ht(e.kind):void 0;return!(r.include&&(!t||!r.include.contains(t))||r.excludes&&t&&r.excludes.some(i=>Rie(t,i,r.include))||!r.includeSourceActions&&t&&Ht.Source.contains(t)||r.onlyIncludePreferredActions&&!e.isPreferred)}function Rie(r,e,t){return!(!e.contains(r)||t&&e.contains(t))}var ll=class{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return!e||typeof e!="object"?new ll(t.kind,t.apply,!1):new ll(ll.getKindFromUser(e,t.kind),ll.getApplyFromUser(e,t.apply),ll.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new Ht(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}};oi();var XW=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},qR="editor.action.codeAction",YR="editor.action.refactor",Bie="editor.action.refactor.preview",ZR="editor.action.sourceAction",yD="editor.action.organizeImports",SD="editor.action.fixAll",CD=class{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return XW(this,void 0,void 0,function*(){if(((t=this.provider)===null||t===void 0?void 0:t.resolveCodeAction)&&!this.action.edit){let i;try{i=yield this.provider.resolveCodeAction(this.action,e)}catch(n){Oi(n)}i&&(this.action.edit=i.edit)}return this})}},wD=class extends ${constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(wD.codeActionsComparator),this.validActions=this.allActions.filter(({action:n})=>!n.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:an(e.diagnostics)?an(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:an(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&Ht.QuickFix.contains(new Ht(e.kind))&&!!e.isPreferred)}},Fie={actions:[],documentation:void 0};function LD(r,e,t,i,n,o){var s;let a=i.filter||{},l={only:(s=a.include)===null||s===void 0?void 0:s.value,trigger:i.type},c=new vv(e,o),d=FCe(r,e,a),h=new J,u=d.map(m=>XW(this,void 0,void 0,function*(){try{n.report(m);let _=yield m.provideCodeActions(e,t,l,c.token);if(_&&h.add(_),c.token.isCancellationRequested)return Fie;let v=(_?.actions||[]).filter(y=>y&&Mie(a,y)),w=BCe(m,v,a.include);return{actions:v.map(y=>new CD(y,m)),documentation:w}}catch(_){if(Ps(_))throw _;return Oi(_),Fie}})),f=r.onDidChange(()=>{let m=r.all(e);go(m,d)||c.cancel()});return Promise.all(u).then(m=>{let _=m.map(w=>w.actions).flat(),v=Mg(m.map(w=>w.documentation));return new wD(_,v,h)}).finally(()=>{f.dispose(),c.dispose()})}function FCe(r,e,t){return r.all(e).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(n=>Aie(t,new Ht(n))):!0)}function BCe(r,e,t){if(!r.documentation)return;let i=r.documentation.map(n=>({kind:new Ht(n.kind),command:n.command}));if(t){let n;for(let o of i)o.kind.contains(t)&&(n?n.kind.contains(o.kind)&&(n=o):n=o);if(n)return n?.command}for(let n of e)if(!!n.kind){for(let o of i)if(o.kind.contains(new Ht(n.kind)))return o.command}}gt.registerCommand("_executeCodeActionProvider",function(r,e,t,i,n){return XW(this,void 0,void 0,function*(){if(!(e instanceof Ee))throw gs();let{codeActionProvider:o}=r.get(_e),s=r.get(si).getModel(e);if(!s)throw gs();let a=ge.isISelection(t)?ge.liftSelection(t):D.isIRange(t)?s.validateRange(t):void 0;if(!a)throw gs();let l=typeof i=="string"?new Ht(i):void 0,c=yield LD(o,s,a,{type:1,triggerAction:Fo.Default,filter:{includeSourceActions:!0,include:l}},jl.None,Je.None),d=[],h=Math.min(c.validActions.length,typeof n=="number"?n:0);for(let u=0;u<h;u++)d.push(c.validActions[u].resolve(Je.None));try{return yield Promise.all(d),c.validActions.map(u=>u.action)}finally{setTimeout(()=>c.dispose(),100)}})});ut();pS();se();Vs();ot();se();xt();Le();Ne();St();var jCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},WCe=function(r,e){return function(t,i){e(t,i,r)}},Cr=class QW{constructor(e,t){this._messageWidget=new Cn,this._messageListeners=new J,this._editor=e,this._visible=QW.MESSAGE_VISIBLE.bindTo(t)}static get(e){return e.getContribution(QW.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){Tn(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new GR(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new On(()=>this.closeMessage(),3e3));let i;this._messageListeners.add(this._editor.onMouseMove(n=>{!n.target.position||(i?i.containsPosition(n.target.position)||this.closeMessage():i=new D(t.lineNumber-3,1,n.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(GR.fadeOut(this._messageWidget.value))}};Cr.ID="editor.contrib.messageController";Cr.MESSAGE_VISIBLE=new Ce("messageVisible",!1,g("messageVisible","Whether the editor is currently showing an inline message"));Cr=jCe([WCe(1,Te)],Cr);var zCe=zi.bindToContribution(Cr.get);me(new zCe({id:"leaveEditorMessage",precondition:Cr.MESSAGE_VISIBLE,handler:r=>r.closeMessage(),kbOpts:{weight:100+30,primary:9}}));var GR=class{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";let o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);let s=document.createElement("div");s.classList.add("message"),s.textContent=n,this._domNode.appendChild(s);let a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t=()=>{e.dispose(),clearTimeout(i),e.getDomNode().removeEventListener("animationend",t)},i=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",e===2)}};Ze(Cr.ID,Cr);Xe();Fe();Fr();ut();pS();se();rt();oi();Ne();to();St();Sm();Ct();var jie=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Qf=function(r,e){return function(t,i){e(t,i,r)}},VCe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},wv={Visible:new Ce("CodeActionMenuVisible",!1,g("CodeActionMenuVisible","Whether the code action list widget is visible"))},xD=class extends Xn{constructor(e,t){super(e.command?e.command.id:e.title,UCe(e.title),void 0,!e.disabled,t),this.action=e}};function UCe(r){return r.replace(/\r\n|\r|\n/g," ")}var HCe="codeActionWidget",JW=26,ez=class{constructor(e,t){this.acceptKeybindings=e,this.keybindingService=t}get templateId(){return HCe}renderTemplate(e){let t=Object.create(null);return t.disposables=[],t.root=e,t.text=document.createElement("span"),e.append(t.text),t}renderElement(e,t,i){let n=i,o=e.title,s=e.isEnabled,a=e.isSeparator,l=e.isDocumentation;n.text.textContent=o,s?n.root.classList.remove("option-disabled"):(n.root.classList.add("option-disabled"),n.root.style.backgroundColor="transparent !important"),a&&(n.root.classList.add("separator"),n.root.style.height="10px"),l||(()=>{var d,h;let[u,f]=this.acceptKeybindings;n.root.title=g({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",(d=this.keybindingService.lookupKeybinding(u))===null||d===void 0?void 0:d.getLabel(),(h=this.keybindingService.lookupKeybinding(f))===null||h===void 0?void 0:h.getLabel())})()}disposeTemplate(e){e.disposables=ft(e.disposables)}};ez=jie([Qf(1,gn)],ez);var DD=class tz extends ${constructor(e,t,i,n,o,s,a,l,c,d){super(),this._editor=e,this._delegate=t,this._contextMenuService=i,this._languageFeaturesService=o,this._telemetryService=s,this._configurationService=l,this._contextViewService=c,this._contextKeyService=d,this._showingActions=this._register(new Cn),this.codeActionList=this._register(new Cn),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new k1({getKeybindings:()=>n.getKeybindings()}),this._ctxMenuWidgetVisible=wv.Visible.bindTo(this._contextKeyService),this.listRenderer=new ez(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],n)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(e){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:e.uri})}_onListSelection(e){e.elements.length&&e.elements.forEach(t=>{t.isEnabled&&(t.action.run(),this.hideCodeActionWidget())})}_onListHover(e){var t,i,n,o;e.element?!((i=e.element)===null||i===void 0)&&i.isEnabled?((n=this.codeActionList.value)===null||n===void 0||n.setFocus([e.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(e.element),this.currSelectedItem=e.element.index):(this.currSelectedItem=void 0,(o=this.codeActionList.value)===null||o===void 0||o.setFocus([e.element.index])):(this.currSelectedItem=void 0,(t=this.codeActionList.value)===null||t===void 0||t.setFocus([]))}renderCodeActionMenuList(e,t){var i;let n=new J,o=document.createElement("div"),s=document.createElement("div");this.block=e.appendChild(s),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",n.add(ne(this.block,ye.MOUSE_DOWN,u=>u.stopPropagation())),o.id="codeActionMenuWidget",o.classList.add("codeActionMenuWidget"),e.appendChild(o),this.codeActionList.value=new $r("codeActionWidget",o,{getHeight(u){return u.isSeparator?10:JW},getTemplateId(u){return"codeActionWidget"}},[this.listRenderer],{keyboardSupport:!1}),n.add(this.codeActionList.value.onMouseOver(u=>this._onListHover(u))),n.add(this.codeActionList.value.onDidChangeFocus(u=>{var f;return(f=this.codeActionList.value)===null||f===void 0?void 0:f.domFocus()})),n.add(this.codeActionList.value.onDidChangeSelection(u=>this._onListSelection(u))),n.add(this._editor.onDidLayoutChange(u=>this.hideCodeActionWidget())),t.forEach((u,f)=>{let m=u.class==="separator",_=!1;u instanceof xD&&(_=u.action.kind===tz.documentationID),m&&(this.hasSeperator=!0);let v={title:u.label,detail:u.tooltip,action:t[f],isEnabled:u.enabled,isSeparator:m,index:f,isDocumentation:_};u.enabled&&this.viewItems.push(v),this.options.push(v)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);let a=this.hasSeperator?(t.length-1)*JW+10:t.length*JW;o.style.height=String(a)+"px",this.codeActionList.value.layout(a);let l=[];this.options.forEach((u,f)=>{var m,_;if(!this.codeActionList.value)return;let v=(_=document.getElementById((m=this.codeActionList.value)===null||m===void 0?void 0:m.getElementID(f)))===null||_===void 0?void 0:_.getElementsByTagName("span")[0].offsetWidth;l.push(Number(v))});let c=Math.max(...l);o.style.width=c+52+"px",(i=this.codeActionList.value)===null||i===void 0||i.layout(a,c),this.viewItems.length<1||this.viewItems.every(u=>u.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();let d=Ol(e),h=d.onDidBlur(()=>{this.hideCodeActionWidget()});return n.add(h),n.add(d),this._ctxMenuWidgetVisible.set(!0),n}focusPrevious(){var e;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;let t=this.focusedEnabledItem,i;do this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),i=this.viewItems[this.focusedEnabledItem],(e=this.codeActionList.value)===null||e===void 0||e.setFocus([i.index]),this.currSelectedItem=i.index;while(this.focusedEnabledItem!==t&&(!i.isEnabled||i.action.id===Bn.ID));return!0}focusNext(){var e;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;let t=this.focusedEnabledItem,i;do this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,i=this.viewItems[this.focusedEnabledItem],(e=this.codeActionList.value)===null||e===void 0||e.setFocus([i.index]),this.currSelectedItem=i.index;while(this.focusedEnabledItem!==t&&(!i.isEnabled||i.action.id===Bn.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var e;typeof this.currSelectedItem=="number"&&((e=this.codeActionList.value)===null||e===void 0||e.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(e,t,i){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:e,validCodeActions:i.validActions.length,cancelled:t})}show(e,t,i,n){return VCe(this,void 0,void 0,function*(){let o=this._editor.getModel();if(!o)return;let s=n.includeDisabledActions?t.allActions:t.validActions;if(!s.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,tI();this._visible=!0,this._showingActions.value=t;let a=this.getMenuActions(e,s,t.documentation),l=H.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},c=this._keybindingResolver.getResolver(),d=this._editor.getOption(117);this.isCodeActionWidgetEnabled(o)?this._contextViewService.showContextView({getAnchor:()=>l,render:h=>this.renderCodeActionMenuList(h,a),onHide:h=>{let u=n.fromLightbulb?Fo.Lightbulb:e.triggerAction;this.codeActionTelemetry(u,h,t),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:d?this._editor.getDomNode():void 0,getAnchor:()=>l,getActions:()=>a,onHide:h=>{let u=n.fromLightbulb?Fo.Lightbulb:e.triggerAction;this.codeActionTelemetry(u,h,t),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:h=>h instanceof xD?c(h.action):void 0})})}getMenuActions(e,t,i){var n,o;let s=d=>new xD(d.action,()=>this._delegate.onSelectCodeAction(d,e)),a=t.map(s),l=[...i],c=this._editor.getModel();if(c&&a.length)for(let d of this._languageFeaturesService.codeActionProvider.all(c))d._getAdditionalMenuItems&&l.push(...d._getAdditionalMenuItems({trigger:e.type,only:(o=(n=e.filter)===null||n===void 0?void 0:n.include)===null||o===void 0?void 0:o.value},t.map(h=>h.action)));return l.length&&a.push(new Bn,...l.map(d=>s(new CD({title:d.title,command:d,kind:tz.documentationID},void 0)))),a}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();let t=this._editor.getScrolledVisiblePosition(e),i=dn(this._editor.getDomNode()),n=i.left+t.left,o=i.top+t.top+t.height;return{x:n,y:o}}};DD.documentationID="_documentation";DD=jie([Qf(2,Gs),Qf(3,gn),Qf(4,_e),Qf(5,Hs),Qf(6,Tt),Qf(7,yt),Qf(8,Bl),Qf(9,Te)],DD);var k1=class{constructor(e){this._keybindingProvider=e}getResolver(){let e=new lc(()=>this._keybindingProvider.getKeybindings().filter(t=>k1.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===yD?i={kind:Ht.SourceOrganizeImports.value}:t.command===SD&&(i={kind:Ht.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},ll.fromUser(i,{kind:Ht.None,apply:"never"}))}));return t=>{if(t.kind){let i=this.bestKeybindingForCodeAction(t,e.getValue());return i?.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;let i=new Ht(e.kind);return t.filter(n=>n.kind.contains(i)).filter(n=>n.preferred?e.isPreferred:!0).reduceRight((n,o)=>n?n.kind.contains(o.kind)?o:n:o,void 0)}};k1.codeActionCommands=[YR,qR,ZR,yD,SD];Fe();bn();Oe();se();YT();Ne();Ai();Ct();var $Ce=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},KCe=function(r,e){return function(t,i){e(t,i,r)}},kD;(function(r){r.Hidden={type:0};class e{constructor(i,n,o,s){this.actions=i,this.trigger=n,this.editorPosition=o,this.widgetPosition=s,this.type=1}}r.Showing=e})(kD||(kD={}));var ED=class Wie extends ${constructor(e,t,i,n){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=n,this._onClick=this._register(new B),this.onClick=this._onClick.event,this._state=kD.Hidden,this._domNode=document.createElement("div"),this._domNode.className=p.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{let s=this._editor.getModel();(this.state.type!==1||!s||this.state.editorPosition.lineNumber>=s.getLineCount())&&this.hide()})),Yt.ignoreTarget(this._domNode),this._register(oG(this._domNode,o=>{if(this.state.type!==1)return;this._editor.focus(),o.preventDefault();let{top:s,height:a}=dn(this._domNode),l=this._editor.getOption(61),c=Math.floor(l/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(c+=l),this._onClick.fire({x:o.posx,y:s+a+c,actions:this.state.actions,trigger:this.state.trigger})})),this._register(ne(this._domNode,"mouseenter",o=>{(o.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();let n=this._editor.getOptions();if(!n.get(59).enabled)return this.hide();let o=this._editor.getModel();if(!o)return this.hide();let{lineNumber:s,column:a}=o.validatePosition(i),l=o.getOptions().tabSize,c=n.get(46),d=o.getLineContent(s),h=Lb(d,l),u=c.spaceWidth*h>22,f=_=>_>2&&this._editor.getTopForLineNumber(_)===this._editor.getTopForLineNumber(_-1),m=s;if(!u){if(s>1&&!f(s-1))m-=1;else if(!f(s+1))m+=1;else if(a*c.spaceWidth<22)return this.hide()}this.state=new kD.Showing(e,t,i,{position:{lineNumber:m,column:1},preference:Wie._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=kD.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...p.lightBulb.classNamesArray),this._domNode.classList.add(...p.lightbulbAutofix.classNamesArray);let t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t){this.title=g("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel());return}}this._domNode.classList.remove(...p.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...p.lightBulb.classNamesArray);let e=this._keybindingService.lookupKeybinding(this._quickFixActionId);e?this.title=g("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):this.title=g("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};ED._posPref=[0];ED=$Ce([KCe(3,gn)],ED);Lt((r,e)=>{var t;let i=(t=r.getColor(Hn))===null||t===void 0?void 0:t.transparent(.7),n=r.getColor(uX);n&&e.addRule(`
		.monaco-editor .contentWidgets ${p.lightBulb.cssSelector} {
			color: ${n};
			background-color: ${i};
		}`);let o=r.getColor(fX);o&&e.addRule(`
		.monaco-editor .contentWidgets ${p.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${i};
		}`)});var qCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},YCe=function(r,e){return function(t,i){e(t,i,r)}},iz=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},ZCe=function(r,e,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},GCe=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},XR,QR=class extends ${constructor(e,t,i,n,o){super(),this._editor=e,this.delegate=n,this._activeCodeActions=this._register(new Cn),this.previewOn=!1,XR.set(this,!1),this._codeActionWidget=new lc(()=>this._register(o.createInstance(DD,this._editor,{onSelectCodeAction:(s,a)=>iz(this,void 0,void 0,function*(){this.previewOn?this.delegate.applyCodeAction(s,!0,Boolean(this.previewOn)):this.delegate.applyCodeAction(s,!0,Boolean(a.preview)),this.previewOn=!1})}))),this._lightBulbWidget=new lc(()=>{let s=this._register(o.createInstance(ED,this._editor,t,i));return this._register(s.onClick(a=>this.showCodeActionList(a.trigger,a.actions,a,{includeDisabledActions:!1,fromLightbulb:!0}))),s})}dispose(){ZCe(this,XR,!0,"f"),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(e){this._codeActionWidget.hasValue()&&(e?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(e){var t,i,n,o,s;return iz(this,void 0,void 0,function*(){if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let a;try{a=yield e.actions}catch(l){Pe(l);return}if(!GCe(this,XR,"f"))if(this._lightBulbWidget.getValue().update(a,e.trigger,e.position),e.trigger.type===1){if(!((i=e.trigger.filter)===null||i===void 0)&&i.include){let c=this.tryGetValidActionToApply(e.trigger,a);if(c){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(c,!1,!1)}finally{a.dispose()}return}if(e.trigger.context){let d=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,a);if(d&&d.action.disabled){(n=Cr.get(this._editor))===null||n===void 0||n.showMessage(d.action.disabled,e.trigger.context.position),a.dispose();return}}}let l=!!(!((o=e.trigger.filter)===null||o===void 0)&&o.include);if(e.trigger.context&&(!a.allActions.length||!l&&!a.validActions.length)){(s=Cr.get(this._editor))===null||s===void 0||s.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=a,a.dispose();return}this._activeCodeActions.value=a,this._codeActionWidget.getValue().show(e.trigger,a,e.position,{includeDisabledActions:l,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?a.dispose():this._activeCodeActions.value=a})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(!!t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(!!t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,i,n){return iz(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,i,n)})}};XR=new WeakMap;QR=qCe([YCe(4,je)],QR);Ne();hn();St();Xe();Rc();Sm();ot();ut();Oe();se();Vr();Le();St();Rc();var nz=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},XCe=function(r,e,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t},E1,rz=new Ce("supportedCodeAction",""),oz=class extends ${constructor(e,t,i,n=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new On),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){let t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){let t=this._editor.getModel();!t||e.some(i=>rA(i,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:Fo.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:Fo.Default})},this._delay)}_getRangeOfMarker(e){let t=this._editor.getModel();if(!!t)for(let i of this._markerService.read({resource:t.uri})){let n=t.validateRange(i);if(D.intersectRanges(n,e))return D.lift(n)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;let t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&e.type===2){let{lineNumber:n,column:o}=i.getPosition(),s=t.getLineContent(n);if(s.length===0)return;if(o===1){if(/\s/.test(s[0]))return}else if(o===t.getLineMaxColumn(n)){if(/\s/.test(s[s.length-1]))return}else if(/\s/.test(s[o-2])&&/\s/.test(s[o-1]))return}return i}_createEventAndSignalChange(e,t){let i=this._editor.getModel();if(!t||!i){this._signalChange(void 0);return}let n=this._getRangeOfMarker(t),o=n?n.getStartPosition():t.getStartPosition(),s={trigger:e,selection:t,position:o};return this._signalChange(s),s}},yv;(function(r){r.Empty={type:0};class e{constructor(i,n,o,s){this.trigger=i,this.rangeOrSelection=n,this.position=o,this._cancellablePromise=s,this.type=1,this.actions=s.catch(a=>{if(Ps(a))return QCe;throw a})}cancel(){this._cancellablePromise.cancel()}}r.Triggered=e})(yv||(yv={}));var QCe={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1},JR=class extends ${constructor(e,t,i,n,o){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=o,this._codeActionOracle=this._register(new Cn),this._state=yv.Empty,this._onDidChangeState=this._register(new B),this.onDidChangeState=this._onDidChangeState.event,E1.set(this,!1),this._supportedCodeActions=rz.bindTo(n),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){nz(this,E1,"f")||(XCe(this,E1,!0,"f"),super.dispose(),this.setState(yv.Empty,!0))}_update(){if(nz(this,E1,"f"))return;this._codeActionOracle.value=void 0,this.setState(yv.Empty);let e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(83)){let t=[];for(let i of this._registry.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new oz(this._editor,this._markerService,i=>{var n;if(!i){this.setState(yv.Empty);return}let o=wi(s=>LD(this._registry,e,i.selection,i.trigger,jl.None,s));i.trigger.type===1&&((n=this._progressService)===null||n===void 0||n.showWhile(o,250)),this.setState(new yv.Triggered(i.trigger,i.selection,i.position,o))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:Fo.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;(t=this._codeActionOracle.value)===null||t===void 0||t.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!nz(this,E1,"f")&&this._onDidChangeState.fire(e))}};E1=new WeakMap;var JCe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ID=function(r,e){return function(t,i){e(t,i,r)}},zie=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function OD(r){return Se.regex(rz.keys()[0],new RegExp("(\\s|^)"+_o(r.value)+"\\b"))}function Vie(r,e,t,i){let n=ll.fromUser(e,{kind:Ht.Refactor,apply:"never"});return Sv(r,typeof e?.kind=="string"?n.preferred?g("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",e.kind):g("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",e.kind):n.preferred?g("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):g("editor.action.refactor.noneMessage","No refactorings available"),{include:Ht.Refactor.contains(n.kind)?n.kind:Ht.None,onlyIncludePreferredActions:n.preferred},n.apply,t,i)}var s2={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:g("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:g("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[g("args.schema.apply.first","Always apply the first returned code action."),g("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),g("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:g("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},uu=class Uie extends ${constructor(e,t,i,n,o,s){super(),this._instantiationService=o,this._editor=e,this._model=this._register(new JR(this._editor,s.codeActionProvider,t,i,n)),this._register(this._model.onDidChangeState(a=>this.update(a))),this._ui=new lc(()=>this._register(new QR(e,fu.Id,yp.Id,{applyCodeAction:(a,l,c)=>zie(this,void 0,void 0,function*(){try{yield this._applyCodeAction(a,c)}finally{l&&this._trigger({type:2,triggerAction:Fo.QuickFix,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution(Uie.ID)}update(e){this._ui.getValue().update(e)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(e){this._ui.hasValue()&&this._ui.getValue().navigateList(e)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,n,o){var s;if(!this._editor.hasModel())return;(s=Cr.get(this._editor))===null||s===void 0||s.closeMessage();let a=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:n,context:{notAvailableMessage:e,position:a},preview:o})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e,t){return this._instantiationService.invokeFunction(ewe,e,sz.FromCodeActions,{preview:t,editor:this._editor})}};uu.ID="editor.contrib.quickFixController";uu=JCe([ID(1,Xs),ID(2,Te),ID(3,Da),ID(4,je),ID(5,_e)],uu);var sz;(function(r){r.OnSave="onSave",r.FromProblemsView="fromProblemsView",r.FromCodeActions="fromCodeActions"})(sz||(sz={}));function ewe(r,e,t,i){return zie(this,void 0,void 0,function*(){let n=r.get(eu),o=r.get(yi),s=r.get(Hs),a=r.get(ui);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred,reason:t}),yield e.resolve(Je.None),e.action.edit&&(yield n.apply(jc.convert(e.action.edit),{editor:i?.editor,label:e.action.title,quotableLabel:e.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:i?.preview})),e.action.command)try{yield o.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(l){let c=twe(l);a.error(typeof c=="string"?c:g("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function twe(r){return typeof r=="string"?r:r instanceof Error&&typeof r.message=="string"?r.message:void 0}function Sv(r,e,t,i,n=!1,o=Fo.Default){if(r.hasModel()){let s=uu.get(r);s?.manualTriggerAtCurrentPosition(e,o,t,i,n)}}var fu=class extends we{constructor(){super({id:fu.Id,label:g("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Se.and(F.writable,F.hasCodeActionsProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:2132,weight:100}})}run(e,t){return Sv(t,g("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,Fo.QuickFix)}};fu.Id="editor.action.quickFix";var e2=class extends zi{constructor(){super({id:qR,precondition:Se.and(F.writable,F.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:s2}]}})}runEditorCommand(e,t,i){let n=ll.fromUser(i,{kind:Ht.Empty,apply:"ifSingle"});return Sv(t,typeof i?.kind=="string"?n.preferred?g("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):g("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):n.preferred?g("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):g("editor.action.codeAction.noneMessage","No code actions available"),{include:n.kind,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}},t2=class extends we{constructor(){super({id:YR,label:g("refactor.label","Refactor..."),alias:"Refactor...",precondition:Se.and(F.writable,F.hasCodeActionsProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Se.and(F.writable,OD(Ht.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:s2}]}})}run(e,t,i){return Vie(t,i,!1,Fo.Refactor)}},i2=class extends we{constructor(){super({id:Bie,label:g("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:Se.and(F.writable,F.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:s2}]}})}run(e,t,i){return Vie(t,i,!0,Fo.RefactorPreview)}},n2=class extends we{constructor(){super({id:ZR,label:g("source.label","Source Action..."),alias:"Source Action...",precondition:Se.and(F.writable,F.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Se.and(F.writable,OD(Ht.Source))},description:{description:"Source Action...",args:[{name:"args",schema:s2}]}})}run(e,t,i){let n=ll.fromUser(i,{kind:Ht.Source,apply:"never"});return Sv(t,typeof i?.kind=="string"?n.preferred?g("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):g("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):n.preferred?g("editor.action.source.noneMessage.preferred","No preferred source actions available"):g("editor.action.source.noneMessage","No source actions available"),{include:Ht.Source.contains(n.kind)?n.kind:Ht.None,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply,void 0,Fo.SourceAction)}},o2=class extends we{constructor(){super({id:yD,label:g("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Se.and(F.writable,OD(Ht.SourceOrganizeImports)),kbOpts:{kbExpr:F.editorTextFocus,primary:1581,weight:100}})}run(e,t){return Sv(t,g("editor.action.organize.noneMessage","No organize imports action available"),{include:Ht.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,Fo.OrganizeImports)}},r2=class extends we{constructor(){super({id:SD,label:g("fixAll.label","Fix All"),alias:"Fix All",precondition:Se.and(F.writable,OD(Ht.SourceFixAll))})}run(e,t){return Sv(t,g("fixAll.noneMessage","No fix all action available"),{include:Ht.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,Fo.FixAll)}},yp=class extends we{constructor(){super({id:yp.Id,label:g("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Se.and(F.writable,OD(Ht.QuickFix)),kbOpts:{kbExpr:F.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return Sv(t,g("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Ht.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,Fo.AutoFix)}};yp.Id="editor.action.autoFix";var ND=zi.bindToContribution(uu.get),TD=100+90;me(new ND({id:"hideCodeActionMenuWidget",precondition:wv.Visible,handler(r){r.hideCodeActionMenu()},kbOpts:{weight:TD,primary:9,secondary:[1033]}}));me(new ND({id:"focusPreviousCodeAction",precondition:wv.Visible,handler(r){r.navigateCodeActionList(!0)},kbOpts:{weight:TD+1e5,primary:16,secondary:[2064]}}));me(new ND({id:"focusNextCodeAction",precondition:wv.Visible,handler(r){r.navigateCodeActionList(!1)},kbOpts:{weight:TD+1e5,primary:18,secondary:[2066]}}));me(new ND({id:"onEnterSelectCodeAction",precondition:wv.Visible,handler(r){r.selectedOption()},kbOpts:{weight:TD+1e5,primary:3,secondary:[1026]}}));me(new ND({id:"onEnterSelectCodeActionWithPreview",precondition:wv.Visible,handler(r){r.selectedOptionWithPreview()},kbOpts:{weight:TD+1e5,primary:2051}}));Ne();Xu();fr();di.as(ps.Configuration).registerConfiguration(Object.assign(Object.assign({},Dx),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:g("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}}));Ze(uu.ID,uu);le(fu);le(t2);le(i2);le(n2);le(o2);le(yp);le(r2);me(new e2);Fe();ot();ut();k_();se();xt();Ui();Di();ut();se();ti();vi();_s();hn();oi();var Hie=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},I1=class{constructor(){this.lenses=[],this._disposables=new J}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(let i of e.lenses)this.lenses.push({symbol:i,provider:t})}};function az(r,e,t){return Hie(this,void 0,void 0,function*(){let i=r.ordered(e),n=new Map,o=new I1,s=i.map((a,l)=>Hie(this,void 0,void 0,function*(){n.set(a,l);try{let c=yield Promise.resolve(a.provideCodeLenses(e,t));c&&o.add(c,a)}catch(c){Oi(c)}}));return yield Promise.all(s),o.lenses=o.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:n.get(a.provider)<n.get(l.provider)?-1:n.get(a.provider)>n.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),o})}gt.registerCommand("_executeCodeLensProvider",function(r,...e){let[t,i]=e;$t(Ee.isUri(t)),$t(typeof i=="number"||!i);let{codeLensProvider:n}=r.get(_e),o=r.get(si).getModel(t);if(!o)throw gs();let s=[],a=new J;return az(n,o,Je.None).then(l=>{a.add(l);let c=[];for(let d of l.lenses)i==null||Boolean(d.symbol.command)?s.push(d.symbol):i-- >0&&d.provider.resolveCodeLens&&c.push(Promise.resolve(d.provider.resolveCodeLens(o,d.symbol,Je.None)).then(h=>s.push(h||d.symbol)));return Promise.all(c)}).then(()=>s).finally(()=>{setTimeout(()=>a.dispose(),100)})});ot();u_();xa();Le();Bs();Xe();var iwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nwe=function(r,e){return function(t,i){e(t,i,r)}},cz=We("ICodeLensCache"),a2=class{constructor(e,t){this.lineCount=e,this.data=t}},lz=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new qs(20,.75);let t="codelens/cache";L_(()=>e.remove(t,1));let i="codelens/cache2",n=e.get(i,1,"{}");this._deserialize(n),Ua(e.onWillSaveState)(o=>{o.reason===b1.SHUTDOWN&&e.store(i,this._serialize(),1,1)})}put(e,t){let i=t.lenses.map(s=>{var a;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(a=s.symbol.command)===null||a===void 0?void 0:a.title}}}),n=new I1;n.add({lenses:i,dispose:()=>{}},this._fakeProvider);let o=new a2(e.getLineCount(),n);this._cache.set(e.uri.toString(),o)}get(e){let t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){let e=Object.create(null);for(let[t,i]of this._cache){let n=new Set;for(let o of i.data.lenses)n.add(o.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{let t=JSON.parse(e);for(let i in t){let n=t[i],o=[];for(let a of n.lines)o.push({range:new D(a,1,a,11)});let s=new I1;s.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(i,new a2(n.lineCount,s))}}catch{}}};lz=iwe([nwe(0,rs)],lz);Ot(cz,lz);Fe();Le();Ao();var dz=class{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}},O1=class{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${O1._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();let i=[],n=!1;for(let o=0;o<e.length;o++){let s=e[o];if(!!s&&(n=!0,s.command)){let a=Wc(s.command.title.trim());s.command.id?(i.push(he("a",{id:String(o),title:s.command.tooltip,role:"button"},...a)),this._commands.set(String(o),s.command)):i.push(he("span",{title:s.command.tooltip},...a)),o+1<e.length&&i.push(he("span",void 0,"\xA0|\xA0"))}}n?(yc(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):yc(this._domNode,he("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){let t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}};O1._idPool=0;var N1=class{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])}},PD=class{constructor(e,t,i,n,o,s,a){this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];let l,c=[];this._data.forEach((d,h)=>{d.symbol.command&&c.push(d.symbol),n.addDecoration({range:d.symbol.range,options:Ge.EMPTY},u=>this._decorationIds[h]=u),l?l=D.plusRange(l,d.symbol.range):l=D.lift(d.symbol.range)}),this._viewZone=new dz(l.startLineNumber-1,s,a),this._viewZoneId=o.addZone(this._viewZone),c.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new O1(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{let i=this._editor.getModel().getDecorationRange(e),n=this._data[t].symbol;return!!(i&&D.isEmpty(n.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,n)=>{t.addDecoration({range:i.symbol.range,options:Ge.EMPTY},o=>this._decorationIds[n]=o)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){let i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){let i=e[t];if(i){let{symbol:n}=this._data[t];n.command=i.command||n.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){let e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){let t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}};Ne();hn();Bc();oi();var owe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},AD=function(r,e){return function(t,i){e(t,i,r)}},rwe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},T1=class{constructor(e,t,i,n,o,s){this._editor=e,this._languageFeaturesService=t,this._commandService=n,this._notificationService=o,this._codeLensCache=s,this._disposables=new J,this._localToDispose=new J,this._lenses=[],this._oldCodeLensModels=new J,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new pt(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{(a.hasChanged(46)||a.hasChanged(16)||a.hasChanged(15))&&this._updateLensStyle(),a.hasChanged(14)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+nC(this._editor.getId()).toString(16),this._styleElement=No(of(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48)),t=this._editor.getOption(16);return(!t||t<5)&&(t=this._editor.getOption(48)*.9|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){let{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(15),n=this._editor.getOption(46),o=`--codelens-font-family${this._styleClassName}`,s=`--codelens-font-features${this._styleClassName}`,a=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(t*.5)}px; font-feature-settings: var(${s}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }
		`;i&&(a+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${o}), ${Ar.fontFamily}}`),this._styleElement.textContent=a,this._editor.getContainerDomNode().style.setProperty(o,i??"inherit"),this._editor.getContainerDomNode().style.setProperty(s,n.fontFeatureSettings),this._editor.changeViewZones(l=>{for(let c of this._lenses)c.updateHeight(e,l)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose()}_onModelChange(){this._localDispose();let e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;let t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&this._localToDispose.add(gc(()=>{let n=this._codeLensCache.get(e);t===n&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3));return}for(let n of this._languageFeaturesService.codeLensProvider.all(e))if(typeof n.onDidChange=="function"){let o=n.onDidChange(()=>i.schedule());this._localToDispose.add(o)}let i=new pt(()=>{var n;let o=Date.now();(n=this._getCodeLensModelPromise)===null||n===void 0||n.cancel(),this._getCodeLensModelPromise=wi(s=>az(this._languageFeaturesService.codeLensProvider,e,s)),this._getCodeLensModelPromise.then(s=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=s,this._codeLensCache.put(e,s);let a=this._provideCodeLensDebounce.update(e,Date.now()-o);i.delay=a,this._renderCodeLensSymbols(s),this._resolveCodeLensesInViewportSoon()},Pe)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add(Ke(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(n=>{this._editor.changeViewZones(o=>{let s=[],a=-1;this._lenses.forEach(c=>{!c.isValid()||a===c.getLineNumber()?s.push(c):(c.update(o),a=c.getLineNumber())});let l=new N1;s.forEach(c=>{c.dispose(l,o),this._lenses.splice(this._lenses.indexOf(c),1)}),l.commit(n)})}),i.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(n=>{n.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Ke(()=>{if(this._editor.getModel()){let n=rl.capture(this._editor);this._editor.changeDecorations(o=>{this._editor.changeViewZones(s=>{this._disposeAllLenses(o,s)})}),n.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(n=>{if(n.target.type!==9)return;let o=n.target.element;if(o?.tagName==="SPAN"&&(o=o.parentElement),o?.tagName==="A")for(let s of this._lenses){let a=s.getCommand(o);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(e,t){let i=new N1;for(let n of this._lenses)n.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t=this._editor.getModel().getLineCount(),i=[],n;for(let a of e.lenses){let l=a.symbol.range.startLineNumber;l<1||l>t||(n&&n[n.length-1].symbol.range.startLineNumber===l?n.push(a):(n=[a],i.push(n)))}let o=rl.capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{let c=new N1,d=0,h=0;for(;h<i.length&&d<this._lenses.length;){let u=i[h][0].symbol.range.startLineNumber,f=this._lenses[d].getLineNumber();f<u?(this._lenses[d].dispose(c,l),this._lenses.splice(d,1)):f===u?(this._lenses[d].updateCodeLensSymbols(i[h],c),h++,d++):(this._lenses.splice(d,0,new PD(i[h],this._editor,this._styleClassName,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++,h++)}for(;d<this._lenses.length;)this._lenses[d].dispose(c,l),this._lenses.splice(d,1);for(;h<i.length;)this._lenses.push(new PD(i[h],this._editor,this._styleClassName,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),h++;c.commit(a)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;let t=this._editor.getModel();if(!t)return;let i=[],n=[];if(this._lenses.forEach(a=>{let l=a.computeIfNecessary(t);l&&(i.push(l),n.push(a))}),i.length===0)return;let o=Date.now(),s=wi(a=>{let l=i.map((c,d)=>{let h=new Array(c.length),u=c.map((f,m)=>!f.symbol.command&&typeof f.provider.resolveCodeLens=="function"?Promise.resolve(f.provider.resolveCodeLens(t,f.symbol,a)).then(_=>{h[m]=_},Oi):(h[m]=f.symbol,Promise.resolve(void 0)));return Promise.all(u).then(()=>{!a.isCancellationRequested&&!n[d].isDisposed()&&n[d].updateCommands(h)})});return Promise.all(l)});this._resolveCodeLensesPromise=s,this._resolveCodeLensesPromise.then(()=>{let a=this._resolveCodeLensesDebounce.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=a,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},a=>{Pe(a),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};T1.ID="css.editor.codeLens";T1=owe([AD(1,_e),AD(2,Mo),AD(3,yi),AD(4,ui),AD(5,cz)],T1);Ze(T1.ID,T1);le(class extends we{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:F.hasCodeLensProvider,label:g("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return rwe(this,void 0,void 0,function*(){if(!t.hasModel())return;let i=e.get(lu),n=e.get(yi),o=e.get(ui),s=t.getSelection().positionLineNumber,a=t.getContribution(T1.ID);if(!a)return;let l=a.getModel();if(!l)return;let c=[];for(let h of l.lenses)h.symbol.command&&h.symbol.range.startLineNumber===s&&c.push({label:h.symbol.command.title,command:h.symbol.command});if(c.length===0)return;let d=yield i.pick(c,{canPickMany:!1});if(!!d){if(l.isDisposed)return yield n.executeCommand(this.id);try{yield n.executeCommand(d.command.id,...d.command.arguments||[])}catch(h){o.error(h)}}})}});se();xt();Le();ot();ho();ut();se();Ha();Ye();xt();Le();Ao();Bc();oi();Di();ut();vi();Le();_s();hn();oi();function $ie(r,e,t){let i=[],o=r.ordered(e).reverse().map(s=>Promise.resolve(s.provideDocumentColors(e,t)).then(a=>{if(Array.isArray(a))for(let l of a)i.push({colorInfo:l,provider:s})}));return Promise.all(o).then(()=>i)}function hz(r,e,t,i){return Promise.resolve(t.provideColorPresentations(r,e,i))}gt.registerCommand("_executeDocumentColorProvider",function(r,...e){let[t]=e;if(!(t instanceof Ee))throw gs();let{colorProvider:i}=r.get(_e),n=r.get(si).getModel(t);if(!n)throw gs();let o=[],a=i.ordered(n).reverse().map(l=>Promise.resolve(l.provideDocumentColors(n,Je.None)).then(c=>{if(Array.isArray(c))for(let d of c)o.push({range:d.range,color:[d.color.red,d.color.green,d.color.blue,d.color.alpha]})}));return Promise.all(a).then(()=>o)});gt.registerCommand("_executeColorPresentationProvider",function(r,...e){let[t,i]=e,{uri:n,range:o}=i;if(!(n instanceof Ee)||!Array.isArray(t)||t.length!==4||!D.isIRange(o))throw gs();let[s,a,l,c]=t,{colorProvider:d}=r.get(_e),h=r.get(si).getModel(n);if(!h)throw gs();let u={range:o,color:{red:s,green:a,blue:l,alpha:c}},f=[],_=d.ordered(h).reverse().map(v=>Promise.resolve(v.provideColorPresentations(h,u,Je.None)).then(w=>{Array.isArray(w)&&f.push(...w)}));return Promise.all(_).then(()=>f)});to();var swe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},uz=function(r,e){return function(t,i){e(t,i,r)}},awe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},fz=Object.create({}),lwe=500,Sp=class Kie extends ${constructor(e,t,i,n){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=i,this._localToDispose=this._register(new J),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new df(this._editor),this._colorDecorationClassRefs=this._register(new J),this._debounceInformation=n.for(i.colorProvider,"Document Colors",{min:Kie.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(i.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){let e=this._editor.getModel();if(!e)return!1;let t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){let n=i.colorDecorators;if(n&&n.enable!==void 0&&!n.enable)return n.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;let e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new On,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){this._computePromise=wi(e=>awe(this,void 0,void 0,function*(){let t=this._editor.getModel();if(!t)return Promise.resolve([]);let i=new _n(!1),n=yield $ie(this._languageFeaturesService.colorProvider,t,e);return this._debounceInformation.update(t,i.elapsed()),n})),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},Pe)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){let t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:Ge.EMPTY}));this._editor.changeDecorations(i=>{this._decorationsIds=i.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((n,o)=>this._colorDatas.set(n,e[o]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let t=[];for(let i=0;i<e.length&&t.length<lwe;i++){let{red:n,green:o,blue:s,alpha:a}=e[i].colorInfo.color,l=new Mt(Math.round(n*255),Math.round(o*255),Math.round(s*255),a),c=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,d=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:c}));t.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:KY,inlineClassName:`${d.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:fz}}})}this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){let t=this._editor.getModel();if(!t)return null;let i=t.getDecorationsInRange(D.fromPositions(e,e)).filter(n=>this._colorDatas.has(n.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};Sp.ID="editor.contrib.colorDetector";Sp.RECOMPUTE_TIME=1e3;Sp=swe([uz(1,yt),uz(2,_e),uz(3,Mo)],Sp);Ze(Sp.ID,Sp);ot();Di();ho();se();Le();Oe();var l2=class{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new B,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new B,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new B,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let i=0;i<this.colorPresentations.length;i++)if(t.toLowerCase()===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}};ur();Fe();ho();Oe();se();Ne();Ai();Ct();var Ud=he,gz=class extends ${constructor(e,t,i){super(),this.model=t,this.domNode=Ud(".colorpicker-header"),oe(e,this.domNode),this.pickedColorNode=oe(this.domNode,Ud(".picked-color"));let n=g("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",n);let o=oe(this.domNode,Ud(".original-color"));o.style.backgroundColor=Z.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(cf)||Z.white,this._register(Lt((s,a)=>{this.backgroundColor=s.getColor(cf)||Z.white})),this._register(ne(this.pickedColorNode,ye.CLICK,()=>this.model.selectNextColorPresentation())),this._register(ne(o,ye.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=Z.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=Z.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Ud(".codicon.codicon-color-mode"))}},mz=class extends ${constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this.domNode=Ud(".colorpicker-body"),oe(e,this.domNode),this.saturationBox=new pz(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new _z(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new bz(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){let i=this.model.color.hsva;this.model.color=new Z(new Ml(i.h,e,t,i.a))}onDidOpacityChange(e){let t=this.model.color.hsva;this.model.color=new Z(new Ml(t.h,t.s,t.v,e))}onDidHueChange(e){let t=this.model.color.hsva,i=(1-e)*360;this.model.color=new Z(new Ml(i===360?0:i,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}},pz=class extends ${constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new B,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Ud(".saturation-wrap"),oe(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",oe(this.domNode,this.canvas),this.selection=Ud(".saturation-selection"),oe(this.domNode,this.selection),this.layout(),this._register(ne(this.domNode,ye.POINTER_DOWN,n=>this.onPointerDown(n))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this.monitor=this._register(new Pl);let t=dn(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,n=>this.onDidChangePosition(n.pageX-t.left,n.pageY-t.top),()=>null);let i=ne(document,ye.POINTER_UP,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){let i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();let e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){let e=this.model.color.hsva,t=new Z(new Ml(e.h,1,1,1)),i=this.canvas.getContext("2d"),n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");let o=i.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=Z.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}},c2=class extends ${constructor(e,t){super(),this.model=t,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new B,this.onColorFlushed=this._onColorFlushed.event,this.domNode=oe(e,Ud(".strip")),this.overlay=oe(this.domNode,Ud(".overlay")),this.slider=oe(this.domNode,Ud(".slider")),this.slider.style.top="0px",this._register(ne(this.domNode,ye.POINTER_DOWN,i=>this.onPointerDown(i))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;let e=this.getValue(this.model.color);this.updateSliderPosition(e)}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._register(new Pl),i=dn(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,o=>this.onDidChangeTop(o.pageY-i.top),()=>null);let n=ne(document,ye.POINTER_UP,()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){let t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}},_z=class extends c2{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){let{r:t,g:i,b:n}=e.rgba,o=new Z(new Mt(t,i,n,1)),s=new Z(new Mt(t,i,n,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${s} 100%)`}getValue(e){return e.hsva.a}},bz=class extends c2{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}},d2=class extends Po{constructor(e,t,i,n){super(),this.model=t,this.pixelRatio=i,this._register(Yu.onDidChange(()=>this.layout()));let o=Ud(".colorpicker-widget");e.appendChild(o);let s=new gz(o,this.model,n);this.body=new mz(o,this.model,this.pixelRatio),this._register(s),this._register(this.body)}layout(){this.body.layout()}};Ct();var cwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},dwe=function(r,e){return function(t,i){e(t,i,r)}},qie=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},vz=class{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},h2=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=1}computeSync(e,t){return[]}computeAsync(e,t,i){return cn.fromPromise(this._computeAsync(e,t,i))}_computeAsync(e,t,i){return qie(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];let n=Sp.get(this._editor);if(!n)return[];for(let o of t){if(!n.isColorDecoration(o))continue;let s=n.getColorData(o.range.getStartPosition());if(s)return[yield this._createColorHover(this._editor.getModel(),s.colorInfo,s.provider)]}return[]})}_createColorHover(e,t,i){return qie(this,void 0,void 0,function*(){let n=e.getValueInRange(t.range),{red:o,green:s,blue:a,alpha:l}=t.color,c=new Mt(Math.round(o*255),Math.round(s*255),Math.round(a*255),l),d=new Z(c),h=yield hz(e,t,i,Je.None),u=new l2(d,[],0);return u.colorPresentations=h||[],u.guessColorPresentation(d,n),new vz(this,D.lift(t.range),u,i)})}renderHoverParts(e,t){if(t.length===0||!this._editor.hasModel())return $.None;let i=new J,n=t[0],o=this._editor.getModel(),s=n.model,a=i.add(new d2(e.fragment,s,this._editor.getOption(131),this._themeService));e.setColorPicker(a);let l=new D(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn),c=()=>{let h,u;if(s.presentation.textEdit){h=[s.presentation.textEdit],u=new D(s.presentation.textEdit.range.startLineNumber,s.presentation.textEdit.range.startColumn,s.presentation.textEdit.range.endLineNumber,s.presentation.textEdit.range.endColumn);let f=this._editor.getModel()._setTrackedRange(null,u,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",h),u=this._editor.getModel()._getTrackedRange(f)||u}else h=[{range:l,text:s.presentation.label,forceMoveMarkers:!1}],u=l.setEndPosition(l.endLineNumber,l.startColumn+s.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",h);s.presentation.additionalTextEdits&&(h=[...s.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",h),e.hide()),this._editor.pushUndoStop(),l=u},d=h=>hz(o,{range:l,color:{red:h.rgba.r/255,green:h.rgba.g/255,blue:h.rgba.b/255,alpha:h.rgba.a}},n.provider,Je.None).then(u=>{s.colorPresentations=u||[]});return i.add(s.onColorFlushed(h=>{d(h).then(c)})),i.add(s.onDidChangeColor(d)),i}};h2=cwe([dwe(1,Tt)],h2);bl();se();xt();Le();Ui();Qo();ot();ut();se();ti();Gf();xt();Le();Qo();Ga();Oe();se();At();function Cz(r,e){return!!r[e]}var MD=class{constructor(e,t){this.target=e.target,this.hasTriggerModifier=Cz(e.event,t.triggerModifier),this.hasSideBySideModifier=Cz(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}},u2=class{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=Cz(e,t.triggerModifier)}},P1=class{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}};function Yie(r){return r==="altKey"?at?new P1(57,"metaKey",6,"altKey"):new P1(5,"ctrlKey",6,"altKey"):at?new P1(6,"altKey",57,"metaKey"):new P1(6,"altKey",5,"ctrlKey")}var Lp=class extends ${constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new B),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new B),this.onExecute=this._onExecute.event,this._onCancel=this._register(new B),this.onCancel=this._onCancel.event,this._editor=e,this._opts=Yie(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(72)){let i=Yie(this._editor.getOption(72));if(this._opts.equals(i))return;this._opts=i,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new MD(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new MD(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new MD(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new u2(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new u2(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){let t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}};Fe();Fr();bn();ho();Oe();hr();xt();lo();hr();lo();hn();St();Xe();Ct();io();oi();var hwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Jf=function(r,e){return function(t,i){e(t,i,r)}},Hd=class extends Pf{constructor(e,t,i,n,o,s,a,l,c,d,h,u){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},n,o,s,a,l,c,d,h,u),this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration(f=>this._onParentConfigurationChanged(f)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){Pr(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};Hd=hwe([Jf(3,je),Jf(4,kt),Jf(5,yi),Jf(6,Te),Jf(7,Tt),Jf(8,ui),Jf(9,vs),Jf(10,ii),Jf(11,_e)],Hd);Fe();ho();se();hr();Le();Ao();var Zie=new Z(new Mt(0,122,204)),uwe={showArrow:!0,showFrame:!0,className:"",frameColor:Zie,arrowColor:Zie,keepEditorSelection:!1},fwe="vs.editor.contrib.zoneWidget",wz=class{constructor(e,t,i,n,o,s){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=s}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}},yz=class{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}},A1=class{constructor(e){this._editor=e,this._ruleName=A1._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),t8(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){t8(this._ruleName),nL(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:D.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}};A1._IdGenerator=new tv(".arrow-decoration-");var f2=class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new J,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=rc(t),Pr(this.options,uwe,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{let n=this._getWidth(i);this.domNode.style.width=n+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(n)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new A1(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;let i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()}get position(){let e=this._positionMarkerId.getRange(0);if(!!e)return e.getStartPosition()}show(e,t){let i=D.isIRange(e)?D.lift(e):D.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:Ge.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(61),t=0;if(this.options.showArrow){let i=Math.round(e/3);t+=2*i}if(this.options.showFrame){let i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){let i=e.getStartPosition(),n=this.editor.getLayoutInfo(),o=this._getWidth(n);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(n)+"px";let s=document.createElement("div");s.style.overflow="hidden";let a=this.editor.getOption(61),l=Math.max(12,this.editor.getLayoutInfo().height/a*.8);t=Math.min(t,l);let c=0,d=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(a/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(d=Math.round(a/9)),this.editor.changeViewZones(f=>{this._viewZone&&f.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new wz(s,i.lineNumber,i.column,t,m=>this._onViewZoneTop(m),m=>this._onViewZoneHeight(m)),this._viewZone.id=f.addZone(this._viewZone),this._overlayWidget=new yz(fwe+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){let f=this.options.frameWidth?this.options.frameWidth:d;this.container.style.borderTopWidth=f+"px",this.container.style.borderBottomWidth=f+"px"}let h=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=h+"px",this.container.style.overflow="hidden"),this._doLayout(h,o),this.options.keepEditorSelection||this.editor.setSelection(e);let u=this.editor.getModel();if(u){let f=e.endLineNumber+1;f<=u.getLineCount()?this.revealLine(f,!1):this.revealLine(u.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new oo(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){let i=(t.currentY-e.startY)/this.editor.getOption(61),n=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+n;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){let e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}};Ne();Fe();bs();Fe();Fe();bs();Fr();Oe();var Sz=class extends Nl{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new B),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=oe(e,he(".monaco-dropdown")),this._label=oe(this._element,he(".dropdown-label"));let i=t.labelRenderer;i||(i=o=>(o.textContent=t.label||"",null));for(let o of[ye.CLICK,ye.MOUSE_DOWN,mi.Tap])this._register(ne(this.element,o,s=>Xt.stop(s,!0)));for(let o of[ye.MOUSE_DOWN,mi.Tap])this._register(ne(this._label,o,s=>{s instanceof MouseEvent&&(s.detail>1||s.button!==0)||(this.visible?this.hide():this.show())}));this._register(ne(this._label,ye.KEY_UP,o=>{let s=new Gt(o);(s.equals(3)||s.equals(10))&&(Xt.stop(o,!0),this.visible?this.hide():this.show())}));let n=i(this._label);n&&this._register(n),this._register(Yt.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}},g2=class extends Sz{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}};Oe();var RD=class extends Zs{constructor(e,t,i,n=Object.create(null)){super(null,e,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new B),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;let t=o=>{this.element=oe(o,he("a.action-label"));let s=[];return typeof this.options.classNames=="string"?s=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(s=this.options.classNames),s.find(a=>a==="icon")||s.push("codicon"),this.element.classList.add(...s),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new g2(e,n)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{var s;(s=this.element)===null||s===void 0||s.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){let o=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return o.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.getAction().tooltip?e=this.getAction().tooltip:this.getAction().label&&(e=this.getAction().label),e??void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;let i=!this.getAction().enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",i),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",i)}};Fr();se();At();Ne();er();St();Xe();Ct();Tl();ti();var Dz=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$l=function(r,e){return function(t,i){e(t,i,r)}},Gie=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function Xie(r,e,t,i,n,o,s){let a=r.getActions(e);return mwe(a,t,!1,typeof i=="string"?c=>c===i:i,n,o,s),gwe(a)}function gwe(r){let e=new J;for(let[,t]of r)for(let i of t)e.add(i);return e}function mwe(r,e,t,i=a=>a==="navigation",n=Number.MAX_SAFE_INTEGER,o=()=>!1,s=!1){let a,l;Array.isArray(e)?(a=e,l=e):(a=e.primary,l=e.secondary);let c=new Set;for(let[d,h]of r){let u;i(d)?(u=a,u.length>0&&s&&u.push(new Bn)):(u=l,u.length>0&&u.push(new Bn));for(let f of h){t&&(f=f instanceof Sc&&f.alt?f.alt:f);let m=u.push(f);f instanceof fd&&c.add({group:d,action:f,index:m-1})}}for(let{group:d,action:h,index:u}of c){let f=i(d)?a:l,m=h.actions;(m.length<=1||f.length+m.length-2<=n)&&o(h,d,f.length)&&f.splice(u,1,...m)}if(a!==l&&a.length>n){let d=a.splice(n,a.length-n);l.unshift(...d,new Bn)}}var Lv=class extends Pd{constructor(e,t,i,n,o,s,a){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t?.draggable,keybinding:t?.keybinding,hoverDelegate:t?.hoverDelegate}),this._keybindingService=i,this._notificationService=n,this._contextKeyService=o,this._themeService=s,this._contextMenuService=a,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Cn),this._altKey=Il.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return Gie(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(Ji||$i)&&this._altKey.keyStatus.shiftKey,n=()=>{var o;let s=t&&i&&!!(!((o=this._commandAction.alt)===null||o===void 0)&&o.enabled);s!==this._wantsAltCommand&&(this._wantsAltCommand=s,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(o=>{i=o.altKey||(Ji||$i)&&o.shiftKey,n()})),this._register(ne(e,"mouseleave",o=>{t=!1,n()})),this._register(ne(e,"mouseenter",o=>{t=!0,n()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;let t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=t&&t.getLabel(),n=this._commandAction.tooltip||this._commandAction.label,o=i?g("titleAndKb","{0} ({1})",n,i):n;if(!this._wantsAltCommand&&((e=this._menuItemAction.alt)===null||e===void 0?void 0:e.enabled)){let s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,a=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),l=a&&a.getLabel(),c=l?g("titleAndKb","{0} ({1})",s,l):s;o=g("titleAndKbAndAlt",`{0}
[{1}] {2}`,o,Gw.modifierLabels[Nr].altKey,c)}return o}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;let{element:i,label:n}=this;if(!i||!n)return;let o=this._commandAction.checked&&((t=e.toggled)===null||t===void 0?void 0:t.icon)?e.toggled.icon:e.icon;if(!!o)if(Vt.isThemeIcon(o)){let s=Vt.asClassNameArray(o);n.classList.add(...s),this._itemClassDispose.value=Ke(()=>{n.classList.remove(...s)})}else n.style.backgroundImage=sL(this._themeService.getColorTheme().type)?wh(o.dark):wh(o.light),n.classList.add("icon"),this._itemClassDispose.value=ms(Ke(()=>{n.style.backgroundImage="",n.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};Lv=Dz([$l(2,gn),$l(3,ui),$l(4,Te),$l(5,Tt),$l(6,Gs)],Lv);var Lz=class extends RD{constructor(e,t,i,n){var o,s;let a=Object.assign({},t??Object.create(null),{menuAsChild:(o=t?.menuAsChild)!==null&&o!==void 0?o:!1,classNames:(s=t?.classNames)!==null&&s!==void 0?s:Vt.isThemeIcon(e.item.icon)?Vt.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,a),this._contextMenuService=i,this._themeService=n}render(e){super.render(e),$t(this.element),e.classList.add("menu-entry");let t=this._action,{icon:i}=t.item;if(i&&!Vt.isThemeIcon(i)){this.element.classList.add("icon");let n=()=>{this.element&&(this.element.style.backgroundImage=sL(this._themeService.getColorTheme().type)?wh(i.dark):wh(i.light))};n(),this._register(this._themeService.onDidColorThemeChange(()=>{n()}))}}};Lz=Dz([$l(2,Gs),$l(3,Tt)],Lz);var xz=class extends Zs{constructor(e,t,i,n,o,s,a,l){var c,d,h;super(null,e),this._keybindingService=i,this._notificationService=n,this._contextMenuService=o,this._menuService=s,this._instaService=a,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let u,f=l.get(this._storageKey,1);f&&(u=e.actions.find(_=>f===_.id)),u||(u=e.actions[0]),this._defaultAction=this._instaService.createInstance(Lv,u,{keybinding:this._getDefaultActionKeybindingLabel(u)});let m=Object.assign({},t??Object.create(null),{menuAsChild:(c=t?.menuAsChild)!==null&&c!==void 0?c:!0,classNames:(d=t?.classNames)!==null&&d!==void 0?d:["codicon","codicon-chevron-down"],actionRunner:(h=t?.actionRunner)!==null&&h!==void 0?h:new Nl});this._dropdown=new RD(e,e.actions,this._contextMenuService,m),this._dropdown.actionRunner.onDidRun(_=>{_.action instanceof Sc&&this.update(_.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Lv,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends Nl{runAction(t,i){return Gie(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render(uG(this._container,he(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let i;if(!((t=this._options)===null||t===void 0)&&t.renderKeybindingWithDefaultActionLabel){let n=this._keybindingService.lookupKeybinding(e.id);n&&(i=`(${n.getLabel()})`)}return i}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");let t=he(".action-container");this._defaultAction.render(oe(this._container,t)),this._register(ne(t,ye.KEY_DOWN,n=>{let o=new Gt(n);o.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),o.stopPropagation())}));let i=he(".dropdown-action-container");this._dropdown.render(oe(this._container,i)),this._register(ne(i,ye.KEY_DOWN,n=>{var o;let s=new Gt(n);s.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(o=this._defaultAction.element)===null||o===void 0||o.focus(),s.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};xz=Dz([$l(2,gn),$l(3,ui),$l(4,Gs),$l(5,Xa),$l(6,je),$l(7,rs)],xz);function Qie(r,e,t){return e instanceof Sc?r.createInstance(Lv,e,t):e instanceof Cm?e.item.rememberDefaultAction?r.createInstance(xz,e,t):r.createInstance(Lz,e,t):void 0}St();Bs();Xe();Ai();var Jie=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},ene=function(r,e){return function(t,i){e(t,i,r)}},kz=We("IPeekViewService");Ot(kz,class{constructor(){this._widgets=new Map}addExclusiveWidget(r,e){let t=this._widgets.get(r);t&&(t.listener.dispose(),t.widget.dispose());let i=()=>{let n=this._widgets.get(r);n&&n.widget===e&&(n.listener.dispose(),this._widgets.delete(r))};this._widgets.set(r,{widget:e,listener:e.onDidClose(i)})}});var wr;(function(r){r.inPeekEditor=new Ce("inReferenceSearchEditor",!0,g("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),r.notInPeekEditor=r.inPeekEditor.toNegated()})(wr||(wr={}));var FD=class{constructor(e,t){e instanceof Hd&&wr.inPeekEditor.bindTo(t)}dispose(){}};FD.ID="editor.contrib.referenceController";FD=Jie([ene(1,Te)],FD);Ze(FD.ID,FD);function tne(r){let e=r.get(kt).getFocusedCodeEditor();return e instanceof Hd?e.getParentEditor():e}var pwe={headerBackgroundColor:Z.white,primaryHeadingColor:Z.fromHex("#333333"),secondaryHeadingColor:Z.fromHex("#6c6c6cb3")},M1=class extends f2{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new B,this.onDidClose=this._onDidClose.event,Pr(this.options,pwe,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=he(".head"),this._bodyElement=he(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){let i=he(".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),Ti(i,"click",s=>this._onTitleClick(s))),oe(this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=he("span.filename"),this._secondaryHeading=he("span.dirname"),this._metaHeading=he("span.meta"),oe(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);let n=he(".peekview-actions");oe(this._headElement,n);let o=this._getActionBarOptions();this._actionbarWidget=new nr(n,o),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Xn("peekview.close",g("label.close","Close"),p.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:Qie.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:Yi(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,Jo(this._metaHeading)):$o(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}let i=Math.ceil(this.editor.getOption(61)*1.2),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};M1=Jie([ene(2,je)],M1);var ine=W("peekViewTitle.background",{dark:ze(pr,.1),light:ze(pr,.1),hcDark:null,hcLight:null},g("peekViewTitleBackground","Background color of the peek view title area.")),p2=W("peekViewTitleLabel.foreground",{dark:Z.white,light:Z.black,hcDark:Z.white,hcLight:Wr},g("peekViewTitleForeground","Color of the peek view title.")),_2=W("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},g("peekViewTitleInfoForeground","Color of the peek view title info.")),nne=W("peekView.border",{dark:pr,light:pr,hcDark:Nt,hcLight:Nt},g("peekViewBorder","Color of the peek view borders and arrow.")),one=W("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:Z.black,hcLight:Z.white},g("peekViewResultsBackground","Background color of the peek view result list.")),_1t=W("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:Z.white,hcLight:Wr},g("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),b1t=W("peekViewResult.fileForeground",{dark:Z.white,light:"#1E1E1E",hcDark:Z.white,hcLight:Wr},g("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),v1t=W("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},g("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),C1t=W("peekViewResult.selectionForeground",{dark:Z.white,light:"#6C6C6C",hcDark:Z.white,hcLight:Wr},g("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),m2=W("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:Z.black,hcLight:Z.white},g("peekViewEditorBackground","Background color of the peek view editor.")),w1t=W("peekViewEditorGutter.background",{dark:m2,light:m2,hcDark:m2,hcLight:m2},g("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),y1t=W("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},g("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),S1t=W("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},g("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),L1t=W("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Pi,hcLight:Pi},g("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));Ne();St();Ai();Ct();ur();Vs();ot();bl();At();ti();vi();Gf();OW();xt();lo();rt();Le();Ui();Un();ot();ut();bl();se();lo();rt();Le();Ne();hn();to();St();Xe();ym();ut();Oe();se();xa();Vr();Ye();Le();Ne();var bwe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Kl=class{constructor(e,t,i,n){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=n,this.id=PM.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;let t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?g({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",ir(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):g("aria.oneReference","symbol in {0} on line {1} at column {2}",ir(this.uri),this.range.startLineNumber,this.range.startColumn)}},Ez=class{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){let i=this._modelReference.object.textEditorModel;if(!i)return;let{startLineNumber:n,startColumn:o,endLineNumber:s,endColumn:a}=e,l=i.getWordUntilPosition({lineNumber:n,column:o-t}),c=new D(n,l.startColumn,n,o),d=new D(s,a,s,1073741824),h=i.getValueInRange(c).replace(/^\s+/,""),u=i.getValueInRange(e),f=i.getValueInRange(d).replace(/\s+$/,"");return{value:h+u+f,highlight:{start:h.length,end:h.length+u.length}}}},eg=class{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new uo}dispose(){ft(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){let e=this.children.length;return e===1?g("aria.fileReferences.1","1 symbol in {0}, full path {1}",ir(this.uri),this.uri.fsPath):g("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,ir(this.uri),this.uri.fsPath)}resolve(e){return bwe(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{let i=yield e.createModelReference(t.uri);this._previews.set(t.uri,new Ez(i))}catch(i){Pe(i)}return this})}},yr=class{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new B,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;let[i]=e;e.sort(yr._compareReferences);let n;for(let o of e)if((!n||!Zi.isEqual(n.uri,o.uri,!0))&&(n=new eg(this,o.uri),this.groups.push(n)),n.children.length===0||yr._compareReferences(o,n.children[n.children.length-1])!==0){let s=new Kl(i===o,n,o,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(s),n.children.push(s)}}dispose(){ft(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new yr(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?g("aria.result.0","No results found"):this.references.length===1?g("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?g("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):g("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:i}=e,n=i.children.indexOf(e),o=i.children.length,s=i.parent.groups.length;return s===1||t&&n+1<o||!t&&n>0?(t?n=(n+1)%o:n=(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%s,i.parent.groups[n].children[0]):(n=(n+s-1)%s,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){let i=this.references.map((n,o)=>({idx:o,prefixLen:wl(n.uri.toString(),e.toString()),offsetDist:Math.abs(n.range.startLineNumber-t.lineNumber)*100+Math.abs(n.range.startColumn-t.column)})).sort((n,o)=>n.prefixLen>o.prefixLen?-1:n.prefixLen<o.prefixLen?1:n.offsetDist<o.offsetDist?-1:n.offsetDist>o.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(let i of this.references)if(i.uri.toString()===e.toString()&&D.containsPosition(i.range,t))return i}firstReference(){for(let e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Zi.compare(e.uri,t.uri)||D.compareRangesUsingStarts(e.range,t.range)}};Fe();ho();Oe();se();Ws();Vr();Le();Ao();io();fc();Qo();Ga();Fe();se();Vr();Ga();Ne();Xe();Ct();var S2=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},BD=function(r,e){return function(t,i){e(t,i,r)}},b2=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof yr||e instanceof eg}getChildren(e){if(e instanceof yr)return e.groups;if(e instanceof eg)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};b2=S2([BD(0,Fn)],b2);var v2=class{getHeight(){return 23}getTemplateId(e){return e instanceof eg?R1.id:xp.id}},C2=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof Kl){let i=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(i)return i.value}return ir(e.uri)}};C2=S2([BD(0,gn)],C2);var w2=class{getId(e){return e instanceof Kl?e.id:e.uri}},Iz=class extends ${constructor(e,t,i){super(),this._labelService=t;let n=document.createElement("div");n.classList.add("reference-file"),this.file=this._register(new Uf(n,{supportHighlights:!0})),this.badge=new Jb(oe(n,he(".count"))),this._register(bte(this.badge,i)),e.appendChild(n)}set(e,t){let i=Zm(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});let n=e.children.length;this.badge.setCount(n),n>1?this.badge.setTitleFormat(g("referencesCount","{0} references",n)):this.badge.setTitleFormat(g("referenceCount","{0} reference",n))}};Iz=S2([BD(1,Md),BD(2,Tt)],Iz);var R1=class rne{constructor(e){this._instantiationService=e,this.templateId=rne.id}renderTemplate(e){return this._instantiationService.createInstance(Iz,e)}renderElement(e,t,i){i.set(e.element,mx(e.filterData))}disposeTemplate(e){e.dispose()}};R1.id="FileReferencesRenderer";R1=S2([BD(0,je)],R1);var Oz=class{constructor(e){this.label=new Fd(e)}set(e,t){var i;let n=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(!n||!n.value)this.label.set(`${ir(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{let{value:o,highlight:s}=n;t&&!Ys.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,mx(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[s]))}}},xp=class{constructor(){this.templateId=xp.id}renderTemplate(e){return new Oz(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}};xp.id="OneReferenceRenderer";var y2=class{getWidgetAriaLabel(){return g("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}};Ne();Xe();Ct();rx();var vwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},tg=function(r,e){return function(t,i){e(t,i,r)}},sne=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},F1=class{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new J,this._callOnModelChange=new J,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();let e=this._editor.getModel();if(!!e){for(let t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));let t=[],i=[];for(let n=0,o=e.children.length;n<o;n++){let s=e.children[n];this._decorationIgnoreSet.has(s.id)||s.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:s.range,options:F1.DecorationOptions}),i.push(n))}this._editor.changeDecorations(n=>{let o=n.deltaDecorations([],t);for(let s=0;s<o.length;s++)this._decorations.set(o[s],e.children[i[s]])})}_onDecorationChanged(){let e=[],t=this._editor.getModel();if(!!t){for(let[i,n]of this._decorations){let o=t.getDecorationRange(i);if(!o)continue;let s=!1;if(!D.equalsRange(o,n.range)){if(D.spansMultipleLines(o))s=!0;else{let a=n.range.endColumn-n.range.startColumn,l=o.endColumn-o.startColumn;a!==l&&(s=!0)}s?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=o}}for(let i=0,n=e.length;i<n;i++)this._decorations.delete(e[i]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}};F1.DecorationOptions=Ge.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});var L2=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{let n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch{}return{ratio:t||.7,heightInLines:i||18}}},Nz=class extends rR{},x2=class extends M1{constructor(e,t,i,n,o,s,a,l,c,d,h,u){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=s,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=c,this._keybindingService=d,this._languageService=h,this._languageConfigurationService=u,this._disposeOnNewModel=new J,this._callOnDispose=new J,this._onDidSelectReference=new B,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new gi(0,0),this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),ft(this._preview),ft(this._previewNotAvailableMessage),ft(this._tree),ft(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){let t=e.getColor(nne)||Z.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(ine)||Z.transparent,primaryHeadingColor:e.getColor(p2),secondaryHeadingColor:e.getColor(_2)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=oe(e,he("div.messages")),$o(this._messageContainer),this._splitView=new s1(e,{orientation:1}),this._previewContainer=oe(e,he("div.preview.inline"));let t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Hd,this._previewContainer,t,this.editor),$o(this._previewContainer),this._previewNotAvailableMessage=new Od(g("missingPreviewMessage","no preview available"),Io,Od.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=oe(e,he("div.ref-tree.inline"));let i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new y2,keyboardNavigationLabelProvider:this._instantiationService.createInstance(C2),identityProvider:new w2,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:one}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Ti(this._treeContainer,"keydown",o=>{o.equals(9)&&(this._keybindingService.dispatchEvent(o,o.target),o.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Nz,"ReferencesWidget",this._treeContainer,new v2,[this._instantiationService.createInstance(R1),this._instantiationService.createInstance(xp)],this._instantiationService.createInstance(b2),i),this._splitView.addView({onDidChange:Ie.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:o=>{this._preview.layout({height:this._dim.height,width:o})}},Zx.Distribute),this._splitView.addView({onDidChange:Ie.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:o=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${o}px`,this._tree.layout(this._dim.height,o)}},Zx.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let n=(o,s)=>{o instanceof Kl&&(s==="show"&&this._revealReference(o,!1),this._onDidSelectReference.fire({element:o,kind:s,source:"tree"}))};this._tree.onDidOpen(o=>{o.sideBySide?n(o.element,"side"):o.editorOptions.pinned?n(o.element,"goto"):n(o.element,"show")}),$o(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new gi(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{!this._model||(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=g("noResults","No results"),Jo(this._messageContainer),Promise.resolve(void 0)):($o(this._messageContainer),this._decorationsManager=new F1(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{let{event:t,target:i}=e;if(t.detail!==2)return;let n=this._getFocusedReference();!n||this._onDidSelectReference.fire({element:{uri:n.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Jo(this._treeContainer),Jo(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){let[e]=this._tree.getFocus();if(e instanceof Kl)return e;if(e instanceof eg&&e.children.length>0)return e.children[0]}revealReference(e){return sne(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return sne(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==lt.inMemory?this.setTitle(_J(e.uri),this._uriLabel.getUriLabel(Zm(e.uri))):this.setTitle(g("peekView.alternateTitle","References"));let i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));let n=yield i;if(!this._model){n.dispose();return}ft(this._previewModelReference);let o=n.object;if(o){let s=this._preview.getModel()===o.textEditorModel?0:1,a=D.lift(e.range).collapseToStart();this._previewModelReference=n,this._preview.setModel(o.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,s)}else this._preview.setModel(this._previewNotAvailableMessage),n.dispose()})}};x2=vwe([tg(3,Tt),tg(4,Fn),tg(5,je),tg(6,kz),tg(7,Md),tg(8,Xm),tg(9,gn),tg(10,ei),tg(11,ii)],x2);var Cwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},B1=function(r,e){return function(t,i){e(t,i,r)}},ane=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Dv=new Ce("referenceSearchVisible",!1,g("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),xv=class Tz{constructor(e,t,i,n,o,s,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=s,this._storageService=a,this._configurationService=l,this._disposables=new J,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Dv.bindTo(i)}static get(e){return e.getContribution(Tz.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),!!n&&e.containsPosition(n))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));let o="peekViewLayout",s=L2.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(x2,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(g("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(l=>{let{element:c,kind:d}=l;if(!!c)switch(d){case"open":(l.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(c,!1,!1);break;case"side":this.openReference(c,!0,!1);break;case"goto":i?this._gotoReference(c):this.openReference(c,!1,!0);break}}));let a=++this._requestIdPool;t.then(l=>{var c;if(a!==this._requestIdPool||!this._widget){l.dispose();return}return(c=this._model)===null||c===void 0||c.dispose(),this._model=l,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(g("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let d=this._editor.getModel().uri,h=new H(e.startLineNumber,e.startColumn),u=this._model.nearestReference(d,h);if(u)return this._widget.setSelection(u).then(()=>{this._widget&&this._editor.getOption(79)==="editor"&&this._widget.focusOnPreviewEditor()})}})},l=>{this._notificationService.error(l)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return ane(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;let t=this._widget.position;if(!t)return;let i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;let n=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),s=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n),o?this._editor.focus():this._widget&&s&&this._widget.focusOnPreviewEditor()})}revealReference(e){return ane(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,i;(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;let t=D.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t,selectionSource:"code.jump"}},this._editor).then(i=>{var n;if(this._ignoreModelChangeEvent=!1,!i||!this._widget){this.closeWidget();return}if(this._editor===i)this._widget.show(t),this._widget.focusOnReferenceTree();else{let o=Tz.get(i),s=this._model.clone();this.closeWidget(),i.focus(),o?.toggleWidget(t,wi(a=>Promise.resolve(s)),(n=this._peekMode)!==null&&n!==void 0?n:!1)}},i=>{this._ignoreModelChangeEvent=!1,Pe(i)})}openReference(e,t,i){t||this.closeWidget();let{uri:n,range:o}=e;this._editorService.openCodeEditor({resource:n,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor,t)}};xv.ID="editor.contrib.referencesController";xv=Cwe([B1(2,Te),B1(3,kt),B1(4,ui),B1(5,je),B1(6,rs),B1(7,yt)],xv);function kv(r,e){let t=tne(r);if(!t)return;let i=xv.get(t);i&&e(i)}Ko.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:en(2089,60),when:Se.or(Dv,wr.inPeekEditor),handler(r){kv(r,e=>{e.changeFocusBetweenPreviewAndReferences()})}});Ko.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:Se.or(Dv,wr.inPeekEditor),handler(r){kv(r,e=>{e.goToNextOrPreviousReference(!0)})}});Ko.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:Se.or(Dv,wr.inPeekEditor),handler(r){kv(r,e=>{e.goToNextOrPreviousReference(!1)})}});gt.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");gt.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");gt.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");gt.registerCommand("closeReferenceSearch",r=>kv(r,e=>e.closeWidget()));Ko.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:Se.and(wr.inPeekEditor,Se.not("config.editor.stablePeek"))});Ko.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:Se.and(Dv,Se.not("config.editor.stablePeek"))});Ko.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Se.and(Dv,Rj,lR.negate(),cR.negate()),handler(r){var e;let i=(e=r.get(Ea).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Kl&&kv(r,n=>n.revealReference(i[0]))}});Ko.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Se.and(Dv,Rj,lR.negate(),cR.negate()),handler(r){var e;let i=(e=r.get(Ea).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Kl&&kv(r,n=>n.openReference(i[0],!0,!0))}});gt.registerCommand("openReference",r=>{var e;let i=(e=r.get(Ea).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Kl&&kv(r,n=>n.openReference(i[0],!1,!0))});Oe();se();Vr();xt();lo();Le();Ne();St();Bs();Xe();ym();var lne=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jD=function(r,e){return function(t,i){e(t,i,r)}},Mz=new Ce("hasSymbols",!1,g("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),WD=We("ISymbolNavigationService"),Pz=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Mz.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){let t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();let i=new Az(this._editorService),n=i.onDidChange(o=>{if(this._ignoreEditorChange)return;let s=this._editorService.getActiveCodeEditor();if(!s)return;let a=s.getModel(),l=s.getPosition();if(!a||!l)return;let c=!1,d=!1;for(let h of t.references)if(rA(h.uri,a.uri))c=!0,d=d||D.containsPosition(h.range,l);else if(c)break;(!c||!d)&&this.reset()});this._currentState=ms(i,n)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;let t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:D.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();let t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?g("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):g("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};Pz=lne([jD(0,Te),jD(1,kt),jD(2,ui),jD(3,gn)],Pz);Ot(WD,Pz,!0);me(new class extends zi{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Mz,kbOpts:{weight:100,primary:70}})}runEditorCommand(r,e){return r.get(WD).revealNext(e)}});Ko.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Mz,primary:9,handler(r){r.get(WD).reset()}});var Az=class{constructor(e){this._listener=new Map,this._disposables=new J,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),ft(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,ms(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};Az=lne([jD(0,kt)],Az);Ne();er();hn();St();Xe();Rc();Di();ut();xt();oi();var cne=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function zD(r,e,t,i){let o=t.ordered(r).map(s=>Promise.resolve(i(s,r,e)).then(void 0,a=>{Oi(a)}));return Promise.all(o).then(s=>{let a=[];for(let l of s)Array.isArray(l)?a.push(...l):l&&a.push(l);return a})}function VD(r,e,t,i){return zD(e,t,r,(n,o,s)=>n.provideDefinition(o,s,i))}function Rz(r,e,t,i){return zD(e,t,r,(n,o,s)=>n.provideDeclaration(o,s,i))}function Fz(r,e,t,i){return zD(e,t,r,(n,o,s)=>n.provideImplementation(o,s,i))}function Bz(r,e,t,i){return zD(e,t,r,(n,o,s)=>n.provideTypeDefinition(o,s,i))}function UD(r,e,t,i,n){return zD(e,t,r,(o,s,a)=>cne(this,void 0,void 0,function*(){let l=yield o.provideReferences(s,a,{includeDeclaration:!0},n);if(!i||!l||l.length!==2)return l;let c=yield o.provideReferences(s,a,{includeDeclaration:!1},n);return c&&c.length===1?c:l}))}function HD(r){return cne(this,void 0,void 0,function*(){let e=yield r(),t=new yr(e,""),i=t.references.map(n=>n.link);return t.dispose(),i})}wa("_executeDefinitionProvider",(r,e,t)=>{let i=r.get(_e),n=VD(i.definitionProvider,e,t,Je.None);return HD(()=>n)});wa("_executeTypeDefinitionProvider",(r,e,t)=>{let i=r.get(_e),n=Bz(i.typeDefinitionProvider,e,t,Je.None);return HD(()=>n)});wa("_executeDeclarationProvider",(r,e,t)=>{let i=r.get(_e),n=Rz(i.declarationProvider,e,t,Je.None);return HD(()=>n)});wa("_executeReferenceProvider",(r,e,t)=>{let i=r.get(_e),n=UD(i.referenceProvider,e,t,!1,Je.None);return HD(()=>n)});wa("_executeImplementationProvider",(r,e,t)=>{let i=r.get(_e),n=Fz(i.implementationProvider,e,t,Je.None);return HD(()=>n)});oi();var zc=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},jz,Wz,zz,Vz,Uz,Hz,$z,Kz;jr.appendMenuItem(z.EditorContext,{submenu:z.EditorContextPeek,title:g("peek.submenu","Peek"),group:"navigation",order:100});var dne=new Set;function $d(r){let e=new r;return RN(e),dne.add(e.id),e}var Dp=class{constructor(e,t){this.model=e,this.position=t}static is(e){return!e||typeof e!="object"?!1:!!(e instanceof Dp||H.isIPosition(e.position)&&e.model)}},Ia=class extends we{constructor(e,t){super(t),this.configuration=e}run(e,t,i){if(!t.hasModel())return Promise.resolve(void 0);let n=e.get(ui),o=e.get(kt),s=e.get(Da),a=e.get(WD),l=e.get(_e),c=t.getModel(),d=t.getPosition(),h=Dp.is(i)?i:new Dp(c,d),u=new al(t,5),f=iC(this._getLocationModel(l,h.model,h.position,u.token),u.token).then(m=>zc(this,void 0,void 0,function*(){var _;if(!m||u.token.isCancellationRequested)return;Tn(m.ariaMessage);let v;if(m.referenceAt(c.uri,d)){let y=this._getAlternativeCommand(t);!Ia._activeAlternativeCommands.has(y)&&dne.has(y)&&(v=t.getAction(y))}let w=m.references.length;if(w===0){if(!this.configuration.muteMessage){let y=c.getWordAtPosition(d);(_=Cr.get(t))===null||_===void 0||_.showMessage(this._getNoResultFoundMessage(y),d)}}else if(w===1&&v)Ia._activeAlternativeCommands.add(this.id),v.run().finally(()=>{Ia._activeAlternativeCommands.delete(this.id)});else return this._onResult(o,a,t,m)}),m=>{n.error(m)}).finally(()=>{u.dispose()});return s.showWhile(f,250),f}_onResult(e,t,i,n){return zc(this,void 0,void 0,function*(){let o=this._getGoToPreference(i);if(!(i instanceof Hd)&&(this.configuration.openInPeek||o==="peek"&&n.references.length>1))this._openInPeek(i,n);else{let s=n.firstReference(),a=n.references.length>1&&o==="gotoAndPeek",l=yield this._openReference(i,e,s,this.configuration.openToSide,!a);a&&l?this._openInPeek(l,n):n.dispose(),o==="goto"&&t.put(s)}})}_openReference(e,t,i,n,o){return zc(this,void 0,void 0,function*(){let s;if(RY(i)&&(s=i.targetSelectionRange),s||(s=i.range),!s)return;let a=yield t.openCodeEditor({resource:i.uri,options:{selection:D.collapseToStart(s),selectionRevealType:3,selectionSource:"code.jump"}},e,n);if(!!a){if(o){let l=a.getModel(),c=a.createDecorationsCollection([{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&c.clear()},350)}return a}})}_openInPeek(e,t){let i=xv.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),wi(n=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}};Ia._activeAlternativeCommands=new Set;var ig=class extends Ia{_getLocationModel(e,t,i,n){return zc(this,void 0,void 0,function*(){return new yr(yield VD(e.definitionProvider,t,i,n),g("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?g("noResultWord","No definition found for '{0}'",e.word):g("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(53).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(53).multipleDefinitions}},hne=ja&&!LS()?2118:70;$d((jz=class qz extends ig{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:qz.id,label:g("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Se.and(F.hasDefinitionProvider,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:hne,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),gt.registerCommandAlias("editor.action.goToDeclaration",qz.id)}},jz.id="editor.action.revealDefinition",jz));$d((Wz=class Yz extends ig{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Yz.id,label:g("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Se.and(F.hasDefinitionProvider,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,hne),weight:100}}),gt.registerCommandAlias("editor.action.openDeclarationToTheSide",Yz.id)}},Wz.id="editor.action.revealDefinitionAside",Wz));$d((zz=class Zz extends ig{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Zz.id,label:g("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Se.and(F.hasDefinitionProvider,wr.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:z.EditorContextPeek,group:"peek",order:2}}),gt.registerCommandAlias("editor.action.previewDeclaration",Zz.id)}},zz.id="editor.action.peekDefinition",zz));var D2=class extends Ia{_getLocationModel(e,t,i,n){return zc(this,void 0,void 0,function*(){return new yr(yield Rz(e.declarationProvider,t,i,n),g("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?g("decl.noResultWord","No declaration found for '{0}'",e.word):g("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(53).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(53).multipleDeclarations}};$d((Vz=class une extends D2{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:une.id,label:g("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Se.and(F.hasDeclarationProvider,F.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?g("decl.noResultWord","No declaration found for '{0}'",e.word):g("decl.generic.noResults","No declaration found")}},Vz.id="editor.action.revealDeclaration",Vz));$d(class extends D2{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:g("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Se.and(F.hasDeclarationProvider,wr.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:z.EditorContextPeek,group:"peek",order:3}})}});var k2=class extends Ia{_getLocationModel(e,t,i,n){return zc(this,void 0,void 0,function*(){return new yr(yield Bz(e.typeDefinitionProvider,t,i,n),g("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?g("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):g("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(53).multipleTypeDefinitions}};$d((Uz=class fne extends k2{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:fne.ID,label:g("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Se.and(F.hasTypeDefinitionProvider,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},Uz.ID="editor.action.goToTypeDefinition",Uz));$d((Hz=class gne extends k2{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:gne.ID,label:g("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Se.and(F.hasTypeDefinitionProvider,wr.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:z.EditorContextPeek,group:"peek",order:4}})}},Hz.ID="editor.action.peekTypeDefinition",Hz));var E2=class extends Ia{_getLocationModel(e,t,i,n){return zc(this,void 0,void 0,function*(){return new yr(yield Fz(e.implementationProvider,t,i,n),g("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?g("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):g("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(53).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(53).multipleImplementations}};$d(($z=class mne extends E2{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:mne.ID,label:g("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Se.and(F.hasImplementationProvider,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},$z.ID="editor.action.goToImplementation",$z));$d((Kz=class pne extends E2{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:pne.ID,label:g("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Se.and(F.hasImplementationProvider,wr.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:z.EditorContextPeek,group:"peek",order:5}})}},Kz.ID="editor.action.peekImplementation",Kz));var I2=class extends Ia{_getNoResultFoundMessage(e){return e?g("references.no","No references found for '{0}'",e.word):g("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(53).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(53).multipleReferences}};$d(class extends I2{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:g("goToReferences.label","Go to References"),alias:"Go to References",precondition:Se.and(F.hasReferenceProvider,wr.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:F.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,i,n){return zc(this,void 0,void 0,function*(){return new yr(yield UD(e.referenceProvider,t,i,!0,n),g("ref.title","References"))})}});$d(class extends I2{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:g("references.action.label","Peek References"),alias:"Peek References",precondition:Se.and(F.hasReferenceProvider,wr.notInPeekEditor,F.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:z.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i,n){return zc(this,void 0,void 0,function*(){return new yr(yield UD(e.referenceProvider,t,i,!1,n),g("ref.title","References"))})}});var Gz=class extends Ia{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",label:g("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:Se.and(wr.notInPeekEditor,F.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i,n){return zc(this,void 0,void 0,function*(){return new yr(this._references,g("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&g("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(53).multipleReferences}_getAlternativeCommand(){return""}};gt.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ee},{name:"position",description:"The position at which to start",constraint:H.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(r,e,t,i,n,o,s)=>zc(void 0,void 0,void 0,function*(){$t(Ee.isUri(e)),$t(H.isIPosition(t)),$t(Array.isArray(i)),$t(typeof n>"u"||typeof n=="string"),$t(typeof s>"u"||typeof s=="boolean");let a=r.get(kt),l=yield a.openCodeEditor({resource:e},a.getFocusedCodeEditor());if(cu(l))return l.setPosition(t),l.revealPositionInCenterIfOutsideViewport(t,0),l.invokeWithinContext(c=>{let d=new class extends Gz{_getNoResultFoundMessage(h){return o||super._getNoResultFoundMessage(h)}}({muteMessage:!Boolean(o),openInPeek:Boolean(s),openToSide:!1},i,n);c.get(je).invokeFunction(d.run.bind(d),l)})})});gt.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ee},{name:"position",description:"The position at which to start",constraint:H.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(r,e,t,i,n)=>zc(void 0,void 0,void 0,function*(){r.get(yi).executeCommand("editor.action.goToLocations",e,t,i,n,void 0,!0)})});gt.registerCommand({id:"editor.action.findReferences",handler:(r,e,t)=>{$t(Ee.isUri(e)),$t(H.isIPosition(t));let i=r.get(_e),n=r.get(kt);return n.openCodeEditor({resource:e},n.getFocusedCodeEditor()).then(o=>{if(!cu(o)||!o.hasModel())return;let s=xv.get(o);if(!s)return;let a=wi(c=>UD(i.referenceProvider,o.getModel(),H.lift(t),!1,c).then(d=>new yr(d,g("ref.title","References")))),l=new D(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(s.toggleWidget(l,a,!1))})}});gt.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");jr.appendMenuItems([{id:z.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:g({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:z.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:g({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:z.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:g({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:z.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:g({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:z.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:g({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);oi();var wwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Xz=function(r,e){return function(t,i){e(t,i,r)}},kp=class O2{constructor(e,t,i,n){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=n,this.toUnhook=new J,this.toUnhookForKeyboard=new J,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();let o=new Lp(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(([s,a])=>{this.startFindDefinitionFromMouse(s,Va(a))})),this.toUnhook.add(o.onExecute(s=>{this.isEnabled(s)&&this.gotoDefinition(s.target.position,s.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},a=>{this.removeLinkDecorations(),Pe(a)})})),this.toUnhook.add(o.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(O2.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}let i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();let i=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;let n=new Zf(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=wi(o=>this.findDefinition(e,o)),this.previousPromise.then(o=>{if(!o||!o.length||!n.validate(this.editor)){this.removeLinkDecorations();return}if(o.length>1)this.addDecoration(new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),new ro().appendText(g("multipleResults","Click to show {0} definitions.",o.length)));else{let s=o[0];if(!s.uri)return;this.textModelResolverService.createModelReference(s.uri).then(a=>{if(!a.object||!a.object.textEditorModel){a.dispose();return}let{object:{textEditorModel:l}}=a,{startLineNumber:c}=s.range;if(c<1||c>l.getLineCount()){a.dispose();return}let d=this.getPreviewValue(l,c,s),h;s.originSelectionRange?h=D.lift(s.originSelectionRange):h=new D(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);let u=this.languageService.guessLanguageIdByFilepathOrFirstLine(l.uri);this.addDecoration(h,new ro().appendCodeblock(u||"",d)),a.dispose()})}}).then(void 0,Pe)}getPreviewValue(e,t,i){let n=i.range;return n.endLineNumber-n.startLineNumber>=O2.MAX_SOURCE_PREVIEW_LINES&&(n=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,n)}stripIndentationFromPreviewRange(e,t,i){let o=e.getLineFirstNonWhitespaceColumn(t);for(let a=t+1;a<i.endLineNumber;a++){let l=e.getLineFirstNonWhitespaceColumn(a);o=Math.min(o,l)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${o-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){let i=e.getLineFirstNonWhitespaceColumn(t),n=Math.min(e.getLineCount(),t+O2.MAX_SOURCE_PREVIEW_LINES),o=t+1;for(;o<n;o++){let s=e.getLineFirstNonWhitespaceColumn(o);if(i===s)break}return new D(t,1,o+1,1)}addDecoration(e,t){let i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([i])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){let i=this.editor.getModel();return i?VD(this.languageFeaturesService.definitionProvider,i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{let n=!t&&this.editor.getOption(80)&&!this.isInPeekEditor(i);return new ig({openToSide:t,openInPeek:n,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(i,this.editor)})}isInPeekEditor(e){let t=e.get(Te);return wr.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};kp.ID="editor.contrib.gotodefinitionatposition";kp.MAX_SOURCE_PREVIEW_LINES=8;kp=wwe([Xz(1,Fn),Xz(2,ei),Xz(3,_e)],kp);Ze(kp.ID,kp);Lt((r,e)=>{let t=r.getColor(XC);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});Fe();Fe();bs();se();var N2=he,j1=class extends ${constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new Tc(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}},W1=class extends ${constructor(e,t,i){super(),this.actionContainer=oe(e,N2("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=oe(this.actionContainer,N2("a.action")),this.action.setAttribute("role","button"),t.iconClass&&oe(this.action,N2(`span.icon.${t.iconClass}`));let n=oe(this.action,N2("span"));n.textContent=i?`${t.label} (${i})`:t.label,this._register(ne(this.actionContainer,ye.CLICK,o=>{o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer)})),this._register(ne(this.actionContainer,ye.KEY_UP,o=>{new Gt(o).equals(3)&&(o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}static render(e,t,i){return new W1(e,t,i)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}};Ft();se();rt();Le();Ao();Un();ot();ut();Oe();se();var ywe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Swe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=r[o]&&function(s){return new Promise(function(a,l){s=r[o](s),n(a,l,s.done,s.value)})}}function n(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}},Qz=class{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}},z1=class extends ${constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new B),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new pt(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new pt(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new pt(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=vZ(e=>this._computer.computeAsync(e)),ywe(this,void 0,void 0,function*(){var e,t;try{try{for(var i=Swe(this._asyncIterable),n;n=yield i.next(),!n.done;){let o=n.value;o&&(this._result.push(o),this._fireResult())}}catch(o){e={error:o}}finally{try{n&&!n.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(o){Pe(o)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;let e=this._state===0,t=this._state===4;this._onResult.fire(new Qz(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}};var V1=class{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}},Ep=class{constructor(e,t,i){this.priority=e,this.owner=t,this.range=i,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}},ql=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};St();Xe();Di();ut();se();Ha();ti();vi();rt();Le();Ga();var cl=class{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e=this.pos,t=0,i=this.value.charCodeAt(e),n;if(n=cl._table[i],typeof n=="number")return this.pos+=1,{type:n,pos:e,len:1};if(cl.isDigitCharacter(i)){n=8;do t+=1,i=this.value.charCodeAt(e+t);while(cl.isDigitCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}if(cl.isVariableCharacter(i)){n=9;do i=this.value.charCodeAt(e+ ++t);while(cl.isVariableCharacter(i)||cl.isDigitCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}n=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof cl._table[i]>"u"&&!cl.isDigitCharacter(i)&&!cl.isVariableCharacter(i));return this.pos+=t,{type:n,pos:e,len:t}}};cl._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};var Ip=class{constructor(){this._children=[]}appendChild(e){return e instanceof Sr&&this._children[this._children.length-1]instanceof Sr?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){let{parent:i}=e,n=i.children.indexOf(e),o=i.children.slice(0);o.splice(n,1,...t),i._children=o,function s(a,l){for(let c of a)c.parent=l,s(c.children,c)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof Op)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}},Sr=class extends Ip{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new Sr(this.value)}},T2=class extends Ip{},Oa=class extends T2{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof ng?this._children[0]:void 0}clone(){let e=new Oa(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}},ng=class extends Ip{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof Sr&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new ng;return this.options.forEach(e.appendChild,e),e}},$D=class extends Ip{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){let t=this,i=!1,n=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(o=>o instanceof Yl&&Boolean(o.elseValue))&&(n=this._replace([])),n}_replace(e){let t="";for(let i of this._children)if(i instanceof Yl){let n=e[i.index]||"";n=i.resolve(n),t+=n}else t+=i.toString();return t}toString(){return""}clone(){let e=new $D;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}},Yl=class extends Ip{constructor(e,t,i,n){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":Boolean(e)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(e)&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){let t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}_toCamelCase(e){let t=e.match(/[a-z0-9]+/gi);return t?t.map((i,n)=>n===0?i.charAt(0).toLowerCase()+i.substr(1):i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}clone(){return new Yl(this.index,this.shorthandName,this.ifValue,this.elseValue)}},Ev=class extends T2{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new Sr(t)],!0):!1}clone(){let e=new Ev(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}};function _ne(r,e){let t=[...r];for(;t.length>0;){let i=t.shift();if(!e(i))break;t.unshift(...i.children)}}var Op=class extends Ip{get placeholderInfo(){if(!this._placeholders){let e=[],t;this.walk(function(i){return i instanceof Oa&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){let{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(n=>n===e?(i=!0,!1):(t+=n.len(),!0)),i?t:-1}fullLen(e){let t=0;return _ne([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:i}=e;for(;i;)i instanceof Oa&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof Ev&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new Op;return this._children=this.children.map(t=>t.clone()),e}walk(e){_ne(this.children,e)}},Is=class{constructor(){this._scanner=new cl,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){let n=new Op;return this.parseFragment(e,n),this.ensureFinalTabstop(n,i??!1,t??!1),n}parseFragment(e,t){let i=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););let n=new Map,o=[];t.walk(s=>(s instanceof Oa&&(s.isFinalTabstop?n.set(0,void 0):!n.has(s.index)&&s.children.length>0?n.set(s.index,s.children):o.push(s)),!0));for(let s of o){let a=n.get(s.index);if(a){let l=new Oa(s.index);l.transform=s.transform;for(let c of a)l.appendChild(c.clone());t.replace(s,[l])}}return t.children.slice(i)}ensureFinalTabstop(e,t,i){(t||i&&e.placeholders.length>0)&&(e.placeholders.find(o=>o.index===0)||e.appendChild(new Oa(0)))}_accept(e,t){if(e===void 0||this._token.type===e){let i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){let t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){let n=this._scanner.next();if(n.type!==0&&n.type!==4&&n.type!==5)return!1}this._token=this._scanner.next()}let i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Sr(t)),!0):!1}_parseTabstopOrVariableName(e){let t,i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Oa(Number(t)):new Ev(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);let o=new Oa(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new Sr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7)){let s=new ng;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(s),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseChoiceElement(e){let t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let n;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(t),!1;i.push(n)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new Sr(i.join(""))),!0)}_parseComplexVariable(e){let t,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);let o=new Ev(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new Sr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseTransform(e){let t=new $D,i="",n="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,i+=o;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new Sr(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,n)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){let t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let n=this._accept(8,!0);if(n)if(i){if(this._accept(4))return e.appendChild(new Yl(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new Yl(Number(n))),!0;else return this._backTo(t),!1;if(this._accept(6)){let o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new Yl(Number(n),o)),!0)}else if(this._accept(11)){let o=this._until(4);if(o)return e.appendChild(new Yl(Number(n),void 0,o,void 0)),!0}else if(this._accept(12)){let o=this._until(4);if(o)return e.appendChild(new Yl(Number(n),void 0,void 0,o)),!0}else if(this._accept(13)){let o=this._until(1);if(o){let s=this._until(4);if(s)return e.appendChild(new Yl(Number(n),void 0,o,s)),!0}}else{let o=this._until(4);if(o)return e.appendChild(new Yl(Number(n),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new Sr(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}};Ne();er();hn();St();oi();Fe();bn();Oe();Ne();var Lwe=g("defaultLabel","input"),xwe=g("label.preserveCaseToggle","Preserve Case"),Jz=class extends Bd{constructor(e){super({icon:p.preserveCase,title:xwe+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}},P2=class extends Po{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new B),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new B),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new B),this._onInput=this._register(new B),this._onKeyUp=this._register(new B),this._onPreserveCaseKeyDown=this._register(new B),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||Lwe,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;let o=n.appendPreserveCaseLabel||"",s=n.history||[],a=!!n.flexibleHeight,l=!!n.flexibleWidth,c=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new e1(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,showHistoryHint:n.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c})),this.preserveCase=this._register(new Jz({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(u=>{this._onDidOptionChange.fire(u),!u&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(u=>{this._onPreserveCaseKeyDown.fire(u)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let d=[this.preserveCase.domNode];this.onkeydown(this.domNode,u=>{if(u.equals(15)||u.equals(17)||u.equals(9)){let f=d.indexOf(document.activeElement);if(f>=0){let m=-1;u.equals(17)?m=(f+1)%d.length:u.equals(15)&&(f===0?m=d.length-1:m=f-1),u.equals(9)?(d[f].blur(),this.inputBox.focus()):m>=0&&d[m].focus(),Xt.stop(u,!0)}}});let h=document.createElement("div");h.className="controls",h.style.display=this._showOptionButtons?"block":"none",h.appendChild(this.preserveCase.domNode),this.domNode.appendChild(h),e?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,u=>this._onKeyDown.fire(u)),this.onkeyup(this.inputBox.inputElement,u=>this._onKeyUp.fire(u)),this.oninput(this.inputBox.inputElement,u=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,u=>this._onMouseDown.fire(u))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);let t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}};St();ym();Ne();se();var bne=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},vne=function(r,e){return function(t,i){e(t,i,r)}},F2=new Ce("suggestWidgetVisible",!1,g("suggestWidgetVisible","Whether suggestion are visible")),eV="historyNavigationWidgetFocus",Cne="historyNavigationForwardsEnabled",wne="historyNavigationBackwardsEnabled",Iv,A2=[];function yne(r,e){if(A2.includes(e))throw new Error("Cannot register the same widget multiple times");A2.push(e);let t=new J,i=t.add(r.createScoped(e.element)),n=new Ce(eV,!1).bindTo(i),o=new Ce(Cne,!0).bindTo(i),s=new Ce(wne,!0).bindTo(i),a=()=>{n.set(!0),Iv=e},l=()=>{n.set(!1),Iv===e&&(Iv=void 0)};return e.element===document.activeElement&&a(),t.add(e.onDidFocus(()=>a())),t.add(e.onDidBlur(()=>l())),t.add(Ke(()=>{A2.splice(A2.indexOf(e),1),l()})),{scopedContextKeyService:i,historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:s,dispose(){t.dispose()}}}var M2=class extends Gx{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(yne(n,this.inputBox))}};M2=bne([vne(3,Te)],M2);var R2=class extends P2{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(yne(n,this.inputBox))}};R2=bne([vne(3,Te)],R2);Ko.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Se.and(Se.has(eV),Se.equals(wne,!0),F2.isEqualTo(!1)),primary:16,secondary:[528],handler:r=>{Iv&&Iv.showPreviousValue()}});Ko.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Se.and(Se.has(eV),Se.equals(Cne,!0),F2.isEqualTo(!1)),primary:18,secondary:[530],handler:r=>{Iv&&Iv.showNextValue()}});var qD=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},qt={Visible:F2,HasFocusedSuggestion:new Ce("suggestWidgetHasFocusedSuggestion",!1,g("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new Ce("suggestWidgetDetailsVisible",!1,g("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new Ce("suggestWidgetMultipleSuggestions",!1,g("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new Ce("suggestionMakesTextEdit",!0,g("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new Ce("acceptSuggestionOnEnter",!0,g("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new Ce("suggestionHasInsertAndReplaceRange",!1,g("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new Ce("suggestionInsertMode",void 0,{type:"string",description:g("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new Ce("suggestionCanResolve",!1,g("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},mu=new z("suggestWidgetStatusBar"),tV=class{constructor(e,t,i,n){this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=Ys.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,D.isIRange(t.range)?(this.editStart=new H(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new H(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new H(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||D.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new H(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new H(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new H(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||D.spansMultipleLines(t.range.insert)||D.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof n.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return qD(this,void 0,void 0,function*(){if(!this._resolveCache){let t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(i=>{Object.assign(this.completion,i),this._isResolved=!0,t.dispose()},i=>{Ps(i)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}},og=class{constructor(e=2,t=new Set,i=new Set,n=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.showDeprecated=n}};og.default=new og;var KD;function Sne(){return KD}var iV=class{constructor(e,t,i,n){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=n}};function YD(r,e,t,i=og.default,n={triggerKind:0},o=Je.None){return qD(this,void 0,void 0,function*(){let s=new _n(!0);t=t.clone();let a=e.getWordAtPosition(t),l=a?new D(t.lineNumber,a.startColumn,t.lineNumber,a.endColumn):D.fromPositions(t),c={replace:l,insert:l.setEndPosition(t.lineNumber,t.column)},d=[],h=new J,u=[],f=!1,m=(v,w,y)=>{var x,k,N;let M=!1;if(!w)return M;for(let I of w.suggestions)if(!i.kindFilter.has(I.kind)){if(!i.showDeprecated&&((x=I?.tags)===null||x===void 0?void 0:x.includes(1)))continue;I.range||(I.range=c),I.sortText||(I.sortText=typeof I.label=="string"?I.label:I.label.label),!f&&I.insertTextRules&&I.insertTextRules&4&&(f=Is.guessNeedsClipboard(I.insertText)),d.push(new tV(t,I,w,v)),M=!0}return R0(w)&&h.add(w),u.push({providerName:(k=v._debugDisplayName)!==null&&k!==void 0?k:"unknown_provider",elapsedProvider:(N=w.duration)!==null&&N!==void 0?N:-1,elapsedOverall:y.elapsed()}),M},_=(()=>qD(this,void 0,void 0,function*(){if(!KD||i.kindFilter.has(27)||i.providerFilter.size>0&&!i.providerFilter.has(KD))return;let v=new _n(!0),w=yield KD.provideCompletionItems(e,t,n,o);m(KD,w,v)}))();for(let v of r.orderedGroups(e)){let w=!1;if(yield Promise.all(v.map(y=>qD(this,void 0,void 0,function*(){if(!(i.providerFilter.size>0&&!i.providerFilter.has(y)))try{let x=new _n(!0),k=yield y.provideCompletionItems(e,t,n,o);w=m(y,k,x)||w}catch(x){Oi(x)}}))),w||o.isCancellationRequested)break}return yield _,o.isCancellationRequested?(h.dispose(),Promise.reject(new _l)):new iV(d.sort(oV(i.snippetSortOrder)),f,{entries:u,elapsed:s.elapsed()},h)})}function nV(r,e){if(r.sortTextLow&&e.sortTextLow){if(r.sortTextLow<e.sortTextLow)return-1;if(r.sortTextLow>e.sortTextLow)return 1}return r.textLabel<e.textLabel?-1:r.textLabel>e.textLabel?1:r.completion.kind-e.completion.kind}function Dwe(r,e){if(r.completion.kind!==e.completion.kind){if(r.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return nV(r,e)}function kwe(r,e){if(r.completion.kind!==e.completion.kind){if(r.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return nV(r,e)}var B2=new Map;B2.set(0,Dwe);B2.set(2,kwe);B2.set(1,nV);function oV(r){return B2.get(r)}gt.registerCommand("_executeCompletionItemProvider",(r,...e)=>qD(void 0,void 0,void 0,function*(){let[t,i,n,o]=e;$t(Ee.isUri(t)),$t(H.isIPosition(i)),$t(typeof n=="string"||!n),$t(typeof o=="number"||!o);let{completionProvider:s}=r.get(_e),a=yield r.get(Fn).createModelReference(t);try{let l={incomplete:!1,suggestions:[]},c=[],d=yield YD(s,a.object.textEditorModel,H.lift(i),void 0,{triggerCharacter:n,triggerKind:n?1:0});for(let h of d.items)c.length<(o??0)&&c.push(h.resolve(Je.None)),l.incomplete=l.incomplete||h.container.incomplete,l.suggestions.push(h.completion);try{return yield Promise.all(c),l}finally{setTimeout(()=>d.disposable.dispose(),100)}}finally{a.dispose()}}));function Lne(r,e){var t;(t=r.getContribution("editor.contrib.suggestController"))===null||t===void 0||t.triggerSuggest(new Set().add(e),void 0,!0)}var gu=class{static isAllOff(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}static isAllOn(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}};ot();Ui();var lV=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},j2=function(r,e){return function(t,i){e(t,i,r)}},xne=he,ZD=class rV extends ${constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._widget=this._register(this._instantiationService.createInstance(Np,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(let n of ql.getAll())this._participants.push(this._instantiationService.createInstance(n,this._editor));this._participants.sort((n,o)=>n.hoverOrdinal-o.hoverOrdinal),this._computer=new U1(this._editor,this._participants),this._hoverOperation=this._register(new z1(this._editor,this._computer)),this._register(this._hoverOperation.onResult(n=>{this._withResult(n.value,n.isComplete,n.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(Ti(this._widget.getDomNode(),"keydown",n=>{n.equals(9)&&this.hide()})),this._register(ki.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(e){let t=[];for(let n of this._participants)if(n.suggestHoverAnchor){let o=n.suggestHoverAnchor(e);o&&t.push(o)}let i=e.target;if(i.type===6&&t.push(new V1(0,i.range)),i.type===7){let n=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<n&&t.push(new V1(0,i.range))}return t.length===0?!1:(t.sort((n,o)=>o.priority-n.priority),this._startShowingAt(t[0],0,!1),!0)}startShowingAtRange(e,t,i){this._startShowingAt(new V1(0,e),t,i)}_startShowingAt(e,t,i){if(!(this._computer.anchor&&this._computer.anchor.equals(e))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!e.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{let n=this._messages.filter(o=>o.isValidForHoverAnchor(e));if(n.length===0)this.hide();else{if(n.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,n)}}this._computer.anchor=e,this._computer.shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(e){return this._widget.getDomNode().contains(e)}_addLoadingMessage(e){if(this._computer.anchor){for(let t of this._participants)if(t.createLoadingMessage){let i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}}return e}_withResult(e,t,i){this._messages=i?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}_renderMessages(e,t){let{showAtPosition:i,showAtRange:n,highlightRange:o}=rV.computeHoverRanges(e.range,t),s=new J,a=s.add(new aV(this._keybindingService)),l=document.createDocumentFragment(),c=null,d={fragment:l,statusBar:a,setColorPicker:h=>c=h,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(let h of this._participants){let u=t.filter(f=>f.owner===h);u.length>0&&s.add(h.renderHoverParts(d,u))}if(a.hasContent&&l.appendChild(a.hoverElement),l.hasChildNodes()){if(o){let h=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,h.set([{range:o,options:rV._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}s.add(Ke(()=>{try{this._isChangingDecorations=!0,h.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(l,new sV(c,i,n,this._editor.getOption(55).above,this._computer.shouldFocus,s))}else s.dispose()}static computeHoverRanges(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endColumn,s=t[0].range,a=null;for(let l of t)s=D.plusRange(s,l.range),l.range.startLineNumber===i&&l.range.endLineNumber===i&&(n=Math.min(n,l.range.startColumn),o=Math.max(o,l.range.endColumn)),l.forceShowAtRange&&(a=l.range);return{showAtPosition:a?a.getStartPosition():new H(e.startLineNumber,n),showAtRange:a||new D(i,n,i,o),highlightRange:s}}};ZD._DECORATION_OPTIONS=Ge.register({description:"content-hover-highlight",className:"hoverHighlight"});ZD=lV([j2(1,je),j2(2,gn)],ZD);var sV=class{constructor(e,t,i,n,o,s){this.colorPicker=e,this.showAtPosition=t,this.showAtRange=i,this.preferAbove=n,this.stoleFocus=o,this.disposables=s}},Np=class Dne extends ${constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=F.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new j1),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var e,t;return(t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition)!==null&&t!==void 0?t:null}get isColorPickerVisible(){var e;return Boolean((e=this._visibleData)===null||e===void 0?void 0:e.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return Dne.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(qt.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){let e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${i/t}`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}showAt(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}hide(){if(this._visibleData){let e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();let e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){let i=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==i&&(this._hover.contentsDomNode.style.paddingBottom=i,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Np.ID="editor.contrib.contentHoverWidget";Np=lV([j2(1,Te)],Np);var aV=class extends ${constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=xne("div.hover-row.status-bar"),this.actionsElement=oe(this.hoverElement,xne("div.actions"))}get hasContent(){return this._hasContent}addAction(e){let t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(W1.render(this.actionsElement,e,i))}append(e){let t=oe(this.actionsElement,e);return this._hasContent=!0,t}};aV=lV([j2(0,gn)],aV);var U1=class{constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}static _getLineDecorations(e,t){if(t.type!==1)return[];let i=e.getModel(),n=t.range.startLineNumber;if(n>i.getLineCount())return[];let o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter(s=>{if(s.options.isWholeLine)return!0;let a=s.range.startLineNumber===n?s.range.startColumn:1,l=s.range.endLineNumber===n?s.range.endColumn:o;if(s.options.showIfCollapsed){if(a>t.range.startColumn+1||t.range.endColumn-1>l)return!1}else if(a>t.range.startColumn||t.range.endColumn>l)return!1;return!0})}computeAsync(e){let t=this._anchor;if(!this._editor.hasModel()||!t)return cn.EMPTY;let i=U1._getLineDecorations(this._editor,t);return cn.merge(this._participants.map(n=>n.computeAsync?n.computeAsync(t,i,e):cn.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];let e=U1._getLineDecorations(this._editor,this._anchor),t=[];for(let i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return Mg(t)}};Fe();Ft();se();Fe();Y7();vc();ut();Oe();se();var kne={};(function(){function r(e,t){t(kne)}r.amd=!0,function(e,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof r=="function"&&r.amd?r(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){"use strict";function t(de,re){for(var ae=0;ae<re.length;ae++){var j=re[ae];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(de,j.key,j)}}function i(de,re,ae){return re&&t(de.prototype,re),ae&&t(de,ae),Object.defineProperty(de,"prototype",{writable:!1}),de}function n(de,re){if(!!de){if(typeof de=="string")return o(de,re);var ae=Object.prototype.toString.call(de).slice(8,-1);if(ae==="Object"&&de.constructor&&(ae=de.constructor.name),ae==="Map"||ae==="Set")return Array.from(de);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return o(de,re)}}function o(de,re){(re==null||re>de.length)&&(re=de.length);for(var ae=0,j=new Array(re);ae<re;ae++)j[ae]=de[ae];return j}function s(de,re){var ae=typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(ae)return(ae=ae.call(de)).next.bind(ae);if(Array.isArray(de)||(ae=n(de))||re&&de&&typeof de.length=="number"){ae&&(de=ae);var j=0;return function(){return j>=de.length?{done:!0}:{done:!1,value:de[j++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=a();function l(de){e.defaults=de}var c=/[&<>"']/,d=/[&<>"']/g,h=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},m=function(re){return f[re]};function _(de,re){if(re){if(c.test(de))return de.replace(d,m)}else if(h.test(de))return de.replace(u,m);return de}var v=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function w(de){return de.replace(v,function(re,ae){return ae=ae.toLowerCase(),ae==="colon"?":":ae.charAt(0)==="#"?ae.charAt(1)==="x"?String.fromCharCode(parseInt(ae.substring(2),16)):String.fromCharCode(+ae.substring(1)):""})}var y=/(^|[^\[])\^/g;function x(de,re){de=typeof de=="string"?de:de.source,re=re||"";var ae={replace:function(V,Q){return Q=Q.source||Q,Q=Q.replace(y,"$1"),de=de.replace(V,Q),ae},getRegex:function(){return new RegExp(de,re)}};return ae}var k=/[^\w:]/g,N=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function M(de,re,ae){if(de){var j;try{j=decodeURIComponent(w(ae)).replace(k,"").toLowerCase()}catch{return null}if(j.indexOf("javascript:")===0||j.indexOf("vbscript:")===0||j.indexOf("data:")===0)return null}re&&!N.test(ae)&&(ae=q(re,ae));try{ae=encodeURI(ae).replace(/%25/g,"%")}catch{return null}return ae}var I={},O=/^[^:]+:\/*[^/]*$/,R=/^([^:]+:)[\s\S]*$/,K=/^([^:]+:\/*[^/]*)[\s\S]*$/;function q(de,re){I[" "+de]||(O.test(de)?I[" "+de]=de+"/":I[" "+de]=Ae(de,"/",!0)),de=I[" "+de];var ae=de.indexOf(":")===-1;return re.substring(0,2)==="//"?ae?re:de.replace(R,"$1")+re:re.charAt(0)==="/"?ae?re:de.replace(K,"$1")+re:de+re}var te={exec:function(){}};function ie(de){for(var re=1,ae,j;re<arguments.length;re++){ae=arguments[re];for(j in ae)Object.prototype.hasOwnProperty.call(ae,j)&&(de[j]=ae[j])}return de}function xe(de,re){var ae=de.replace(/\|/g,function(Q,Y,fe){for(var De=!1,dt=Y;--dt>=0&&fe[dt]==="\\";)De=!De;return De?"|":" |"}),j=ae.split(/ \|/),V=0;if(j[0].trim()||j.shift(),j.length>0&&!j[j.length-1].trim()&&j.pop(),j.length>re)j.splice(re);else for(;j.length<re;)j.push("");for(;V<j.length;V++)j[V]=j[V].trim().replace(/\\\|/g,"|");return j}function Ae(de,re,ae){var j=de.length;if(j===0)return"";for(var V=0;V<j;){var Q=de.charAt(j-V-1);if(Q===re&&!ae)V++;else if(Q!==re&&ae)V++;else break}return de.slice(0,j-V)}function Re(de,re){if(de.indexOf(re[1])===-1)return-1;for(var ae=de.length,j=0,V=0;V<ae;V++)if(de[V]==="\\")V++;else if(de[V]===re[0])j++;else if(de[V]===re[1]&&(j--,j<0))return V;return-1}function Ve(de){de&&de.sanitize&&!de.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function nt(de,re){if(re<1)return"";for(var ae="";re>1;)re&1&&(ae+=de),re>>=1,de+=de;return ae+de}function Dt(de,re,ae,j){var V=re.href,Q=re.title?_(re.title):null,Y=de[1].replace(/\\([\[\]])/g,"$1");if(de[0].charAt(0)!=="!"){j.state.inLink=!0;var fe={type:"link",raw:ae,href:V,title:Q,text:Y,tokens:j.inlineTokens(Y,[])};return j.state.inLink=!1,fe}return{type:"image",raw:ae,href:V,title:Q,text:_(Y)}}function Si(de,re){var ae=de.match(/^(\s+)(?:```)/);if(ae===null)return re;var j=ae[1];return re.split(`
`).map(function(V){var Q=V.match(/^\s+/);if(Q===null)return V;var Y=Q[0];return Y.length>=j.length?V.slice(j.length):V}).join(`
`)}var Ei=function(){function de(ae){this.options=ae||e.defaults}var re=de.prototype;return re.space=function(j){var V=this.rules.block.newline.exec(j);if(V&&V[0].length>0)return{type:"space",raw:V[0]}},re.code=function(j){var V=this.rules.block.code.exec(j);if(V){var Q=V[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:V[0],codeBlockStyle:"indented",text:this.options.pedantic?Q:Ae(Q,`
`)}}},re.fences=function(j){var V=this.rules.block.fences.exec(j);if(V){var Q=V[0],Y=Si(Q,V[3]||"");return{type:"code",raw:Q,lang:V[2]?V[2].trim():V[2],text:Y}}},re.heading=function(j){var V=this.rules.block.heading.exec(j);if(V){var Q=V[2].trim();if(/#$/.test(Q)){var Y=Ae(Q,"#");(this.options.pedantic||!Y||/ $/.test(Y))&&(Q=Y.trim())}var fe={type:"heading",raw:V[0],depth:V[1].length,text:Q,tokens:[]};return this.lexer.inline(fe.text,fe.tokens),fe}},re.hr=function(j){var V=this.rules.block.hr.exec(j);if(V)return{type:"hr",raw:V[0]}},re.blockquote=function(j){var V=this.rules.block.blockquote.exec(j);if(V){var Q=V[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:V[0],tokens:this.lexer.blockTokens(Q,[]),text:Q}}},re.list=function(j){var V=this.rules.block.list.exec(j);if(V){var Q,Y,fe,De,dt,Qe,Ut,jt,Bi,pi,ht,so,zn=V[1].trim(),ta=zn.length>1,An={type:"list",raw:"",ordered:ta,start:ta?+zn.slice(0,-1):"",loose:!1,items:[]};zn=ta?"\\d{1,9}\\"+zn.slice(-1):"\\"+zn,this.options.pedantic&&(zn=ta?zn:"[*+-]");for(var So=new RegExp("^( {0,3}"+zn+")((?:[	 ][^\\n]*)?(?:\\n|$))");j&&(so=!1,!(!(V=So.exec(j))||this.rules.block.hr.test(j)));){if(Q=V[0],j=j.substring(Q.length),jt=V[2].split(`
`,1)[0],Bi=j.split(`
`,1)[0],this.options.pedantic?(De=2,ht=jt.trimLeft()):(De=V[2].search(/[^ ]/),De=De>4?1:De,ht=jt.slice(De),De+=V[1].length),Qe=!1,!jt&&/^ *$/.test(Bi)&&(Q+=Bi+`
`,j=j.substring(Bi.length+1),so=!0),!so)for(var Qd=new RegExp("^ {0,"+Math.min(3,De-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),ia=new RegExp("^ {0,"+Math.min(3,De-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");j&&(pi=j.split(`
`,1)[0],jt=pi,this.options.pedantic&&(jt=jt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Qd.test(jt)||ia.test(j)));){if(jt.search(/[^ ]/)>=De||!jt.trim())ht+=`
`+jt.slice(De);else if(!Qe)ht+=`
`+jt;else break;!Qe&&!jt.trim()&&(Qe=!0),Q+=pi+`
`,j=j.substring(pi.length+1)}An.loose||(Ut?An.loose=!0:/\n *\n *$/.test(Q)&&(Ut=!0)),this.options.gfm&&(Y=/^\[[ xX]\] /.exec(ht),Y&&(fe=Y[0]!=="[ ] ",ht=ht.replace(/^\[[ xX]\] +/,""))),An.items.push({type:"list_item",raw:Q,task:!!Y,checked:fe,loose:!1,text:ht}),An.raw+=Q}An.items[An.items.length-1].raw=Q.trimRight(),An.items[An.items.length-1].text=ht.trimRight(),An.raw=An.raw.trimRight();var fl=An.items.length;for(dt=0;dt<fl;dt++){this.lexer.state.top=!1,An.items[dt].tokens=this.lexer.blockTokens(An.items[dt].text,[]);var Mn=An.items[dt].tokens.filter(function(na){return na.type==="space"}),kr=Mn.every(function(na){for(var Jd=na.raw.split(""),Wt=0,Yn=s(Jd),Eu;!(Eu=Yn()).done;){var vg=Eu.value;if(vg===`
`&&(Wt+=1),Wt>1)return!0}return!1});!An.loose&&Mn.length&&kr&&(An.loose=!0,An.items[dt].loose=!0)}return An}},re.html=function(j){var V=this.rules.block.html.exec(j);if(V){var Q={type:"html",raw:V[0],pre:!this.options.sanitizer&&(V[1]==="pre"||V[1]==="script"||V[1]==="style"),text:V[0]};return this.options.sanitize&&(Q.type="paragraph",Q.text=this.options.sanitizer?this.options.sanitizer(V[0]):_(V[0]),Q.tokens=[],this.lexer.inline(Q.text,Q.tokens)),Q}},re.def=function(j){var V=this.rules.block.def.exec(j);if(V){V[3]&&(V[3]=V[3].substring(1,V[3].length-1));var Q=V[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Q,raw:V[0],href:V[2],title:V[3]}}},re.table=function(j){var V=this.rules.block.table.exec(j);if(V){var Q={type:"table",header:xe(V[1]).map(function(Ut){return{text:Ut}}),align:V[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:V[3]&&V[3].trim()?V[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Q.header.length===Q.align.length){Q.raw=V[0];var Y=Q.align.length,fe,De,dt,Qe;for(fe=0;fe<Y;fe++)/^ *-+: *$/.test(Q.align[fe])?Q.align[fe]="right":/^ *:-+: *$/.test(Q.align[fe])?Q.align[fe]="center":/^ *:-+ *$/.test(Q.align[fe])?Q.align[fe]="left":Q.align[fe]=null;for(Y=Q.rows.length,fe=0;fe<Y;fe++)Q.rows[fe]=xe(Q.rows[fe],Q.header.length).map(function(Ut){return{text:Ut}});for(Y=Q.header.length,De=0;De<Y;De++)Q.header[De].tokens=[],this.lexer.inline(Q.header[De].text,Q.header[De].tokens);for(Y=Q.rows.length,De=0;De<Y;De++)for(Qe=Q.rows[De],dt=0;dt<Qe.length;dt++)Qe[dt].tokens=[],this.lexer.inline(Qe[dt].text,Qe[dt].tokens);return Q}}},re.lheading=function(j){var V=this.rules.block.lheading.exec(j);if(V){var Q={type:"heading",raw:V[0],depth:V[2].charAt(0)==="="?1:2,text:V[1],tokens:[]};return this.lexer.inline(Q.text,Q.tokens),Q}},re.paragraph=function(j){var V=this.rules.block.paragraph.exec(j);if(V){var Q={type:"paragraph",raw:V[0],text:V[1].charAt(V[1].length-1)===`
`?V[1].slice(0,-1):V[1],tokens:[]};return this.lexer.inline(Q.text,Q.tokens),Q}},re.text=function(j){var V=this.rules.block.text.exec(j);if(V){var Q={type:"text",raw:V[0],text:V[0],tokens:[]};return this.lexer.inline(Q.text,Q.tokens),Q}},re.escape=function(j){var V=this.rules.inline.escape.exec(j);if(V)return{type:"escape",raw:V[0],text:_(V[1])}},re.tag=function(j){var V=this.rules.inline.tag.exec(j);if(V)return!this.lexer.state.inLink&&/^<a /i.test(V[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(V[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(V[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(V[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:V[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(V[0]):_(V[0]):V[0]}},re.link=function(j){var V=this.rules.inline.link.exec(j);if(V){var Q=V[2].trim();if(!this.options.pedantic&&/^</.test(Q)){if(!/>$/.test(Q))return;var Y=Ae(Q.slice(0,-1),"\\");if((Q.length-Y.length)%2===0)return}else{var fe=Re(V[2],"()");if(fe>-1){var De=V[0].indexOf("!")===0?5:4,dt=De+V[1].length+fe;V[2]=V[2].substring(0,fe),V[0]=V[0].substring(0,dt).trim(),V[3]=""}}var Qe=V[2],Ut="";if(this.options.pedantic){var jt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Qe);jt&&(Qe=jt[1],Ut=jt[3])}else Ut=V[3]?V[3].slice(1,-1):"";return Qe=Qe.trim(),/^</.test(Qe)&&(this.options.pedantic&&!/>$/.test(Q)?Qe=Qe.slice(1):Qe=Qe.slice(1,-1)),Dt(V,{href:Qe&&Qe.replace(this.rules.inline._escapes,"$1"),title:Ut&&Ut.replace(this.rules.inline._escapes,"$1")},V[0],this.lexer)}},re.reflink=function(j,V){var Q;if((Q=this.rules.inline.reflink.exec(j))||(Q=this.rules.inline.nolink.exec(j))){var Y=(Q[2]||Q[1]).replace(/\s+/g," ");if(Y=V[Y.toLowerCase()],!Y||!Y.href){var fe=Q[0].charAt(0);return{type:"text",raw:fe,text:fe}}return Dt(Q,Y,Q[0],this.lexer)}},re.emStrong=function(j,V,Q){Q===void 0&&(Q="");var Y=this.rules.inline.emStrong.lDelim.exec(j);if(!!Y&&!(Y[3]&&Q.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var fe=Y[1]||Y[2]||"";if(!fe||fe&&(Q===""||this.rules.inline.punctuation.exec(Q))){var De=Y[0].length-1,dt,Qe,Ut=De,jt=0,Bi=Y[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Bi.lastIndex=0,V=V.slice(-1*j.length+De);(Y=Bi.exec(V))!=null;)if(dt=Y[1]||Y[2]||Y[3]||Y[4]||Y[5]||Y[6],!!dt){if(Qe=dt.length,Y[3]||Y[4]){Ut+=Qe;continue}else if((Y[5]||Y[6])&&De%3&&!((De+Qe)%3)){jt+=Qe;continue}if(Ut-=Qe,!(Ut>0)){if(Qe=Math.min(Qe,Qe+Ut+jt),Math.min(De,Qe)%2){var pi=j.slice(1,De+Y.index+Qe);return{type:"em",raw:j.slice(0,De+Y.index+Qe+1),text:pi,tokens:this.lexer.inlineTokens(pi,[])}}var ht=j.slice(2,De+Y.index+Qe-1);return{type:"strong",raw:j.slice(0,De+Y.index+Qe+1),text:ht,tokens:this.lexer.inlineTokens(ht,[])}}}}}},re.codespan=function(j){var V=this.rules.inline.code.exec(j);if(V){var Q=V[2].replace(/\n/g," "),Y=/[^ ]/.test(Q),fe=/^ /.test(Q)&&/ $/.test(Q);return Y&&fe&&(Q=Q.substring(1,Q.length-1)),Q=_(Q,!0),{type:"codespan",raw:V[0],text:Q}}},re.br=function(j){var V=this.rules.inline.br.exec(j);if(V)return{type:"br",raw:V[0]}},re.del=function(j){var V=this.rules.inline.del.exec(j);if(V)return{type:"del",raw:V[0],text:V[2],tokens:this.lexer.inlineTokens(V[2],[])}},re.autolink=function(j,V){var Q=this.rules.inline.autolink.exec(j);if(Q){var Y,fe;return Q[2]==="@"?(Y=_(this.options.mangle?V(Q[1]):Q[1]),fe="mailto:"+Y):(Y=_(Q[1]),fe=Y),{type:"link",raw:Q[0],text:Y,href:fe,tokens:[{type:"text",raw:Y,text:Y}]}}},re.url=function(j,V){var Q;if(Q=this.rules.inline.url.exec(j)){var Y,fe;if(Q[2]==="@")Y=_(this.options.mangle?V(Q[0]):Q[0]),fe="mailto:"+Y;else{var De;do De=Q[0],Q[0]=this.rules.inline._backpedal.exec(Q[0])[0];while(De!==Q[0]);Y=_(Q[0]),Q[1]==="www."?fe="http://"+Y:fe=Y}return{type:"link",raw:Q[0],text:Y,href:fe,tokens:[{type:"text",raw:Y,text:Y}]}}},re.inlineText=function(j,V){var Q=this.rules.inline.text.exec(j);if(Q){var Y;return this.lexer.state.inRawBlock?Y=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Q[0]):_(Q[0]):Q[0]:Y=_(this.options.smartypants?V(Q[0]):Q[0]),{type:"text",raw:Q[0],text:Y}}},de}(),Be={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:te,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Be._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Be._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Be.def=x(Be.def).replace("label",Be._label).replace("title",Be._title).getRegex(),Be.bullet=/(?:[*+-]|\d{1,9}[.)])/,Be.listItemStart=x(/^( *)(bull) */).replace("bull",Be.bullet).getRegex(),Be.list=x(Be.list).replace(/bull/g,Be.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Be.def.source+")").getRegex(),Be._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Be._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Be.html=x(Be.html,"i").replace("comment",Be._comment).replace("tag",Be._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Be.paragraph=x(Be._paragraph).replace("hr",Be.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Be._tag).getRegex(),Be.blockquote=x(Be.blockquote).replace("paragraph",Be.paragraph).getRegex(),Be.normal=ie({},Be),Be.gfm=ie({},Be.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Be.gfm.table=x(Be.gfm.table).replace("hr",Be.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Be._tag).getRegex(),Be.gfm.paragraph=x(Be._paragraph).replace("hr",Be.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Be.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Be._tag).getRegex(),Be.pedantic=ie({},Be.normal,{html:x(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Be._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:te,paragraph:x(Be.normal._paragraph).replace("hr",Be.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Be.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var He={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:te,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:te,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};He._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",He.punctuation=x(He.punctuation).replace(/punctuation/g,He._punctuation).getRegex(),He.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,He.escapedEmSt=/\\\*|\\_/g,He._comment=x(Be._comment).replace("(?:-->|$)","-->").getRegex(),He.emStrong.lDelim=x(He.emStrong.lDelim).replace(/punct/g,He._punctuation).getRegex(),He.emStrong.rDelimAst=x(He.emStrong.rDelimAst,"g").replace(/punct/g,He._punctuation).getRegex(),He.emStrong.rDelimUnd=x(He.emStrong.rDelimUnd,"g").replace(/punct/g,He._punctuation).getRegex(),He._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,He._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,He._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,He.autolink=x(He.autolink).replace("scheme",He._scheme).replace("email",He._email).getRegex(),He._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,He.tag=x(He.tag).replace("comment",He._comment).replace("attribute",He._attribute).getRegex(),He._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,He._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,He._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,He.link=x(He.link).replace("label",He._label).replace("href",He._href).replace("title",He._title).getRegex(),He.reflink=x(He.reflink).replace("label",He._label).replace("ref",Be._label).getRegex(),He.nolink=x(He.nolink).replace("ref",Be._label).getRegex(),He.reflinkSearch=x(He.reflinkSearch,"g").replace("reflink",He.reflink).replace("nolink",He.nolink).getRegex(),He.normal=ie({},He),He.pedantic=ie({},He.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:x(/^!?\[(label)\]\((.*?)\)/).replace("label",He._label).getRegex(),reflink:x(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",He._label).getRegex()}),He.gfm=ie({},He.normal,{escape:x(He.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),He.gfm.url=x(He.gfm.url,"i").replace("email",He.gfm._extended_email).getRegex(),He.breaks=ie({},He.gfm,{br:x(He.br).replace("{2,}","*").getRegex(),text:x(He.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function fi(de){return de.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function rn(de){var re="",ae,j,V=de.length;for(ae=0;ae<V;ae++)j=de.charCodeAt(ae),Math.random()>.5&&(j="x"+j.toString(16)),re+="&#"+j+";";return re}var G=function(){function de(ae){this.tokens=[],this.tokens.links=Object.create(null),this.options=ae||e.defaults,this.options.tokenizer=this.options.tokenizer||new Ei,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var j={block:Be.normal,inline:He.normal};this.options.pedantic?(j.block=Be.pedantic,j.inline=He.pedantic):this.options.gfm&&(j.block=Be.gfm,this.options.breaks?j.inline=He.breaks:j.inline=He.gfm),this.tokenizer.rules=j}de.lex=function(j,V){var Q=new de(V);return Q.lex(j)},de.lexInline=function(j,V){var Q=new de(V);return Q.inlineTokens(j)};var re=de.prototype;return re.lex=function(j){j=j.replace(/\r\n|\r/g,`
`),this.blockTokens(j,this.tokens);for(var V;V=this.inlineQueue.shift();)this.inlineTokens(V.src,V.tokens);return this.tokens},re.blockTokens=function(j,V){var Q=this;V===void 0&&(V=[]),this.options.pedantic?j=j.replace(/\t/g,"    ").replace(/^ +$/gm,""):j=j.replace(/^( *)(\t+)/gm,function(Ut,jt,Bi){return jt+"    ".repeat(Bi.length)});for(var Y,fe,De,dt;j;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ut){return(Y=Ut.call({lexer:Q},j,V))?(j=j.substring(Y.raw.length),V.push(Y),!0):!1}))){if(Y=this.tokenizer.space(j)){j=j.substring(Y.raw.length),Y.raw.length===1&&V.length>0?V[V.length-1].raw+=`
`:V.push(Y);continue}if(Y=this.tokenizer.code(j)){j=j.substring(Y.raw.length),fe=V[V.length-1],fe&&(fe.type==="paragraph"||fe.type==="text")?(fe.raw+=`
`+Y.raw,fe.text+=`
`+Y.text,this.inlineQueue[this.inlineQueue.length-1].src=fe.text):V.push(Y);continue}if(Y=this.tokenizer.fences(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.heading(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.hr(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.blockquote(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.list(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.html(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.def(j)){j=j.substring(Y.raw.length),fe=V[V.length-1],fe&&(fe.type==="paragraph"||fe.type==="text")?(fe.raw+=`
`+Y.raw,fe.text+=`
`+Y.raw,this.inlineQueue[this.inlineQueue.length-1].src=fe.text):this.tokens.links[Y.tag]||(this.tokens.links[Y.tag]={href:Y.href,title:Y.title});continue}if(Y=this.tokenizer.table(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.lheading(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(De=j,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ut=1/0,jt=j.slice(1),Bi=void 0;Q.options.extensions.startBlock.forEach(function(pi){Bi=pi.call({lexer:this},jt),typeof Bi=="number"&&Bi>=0&&(Ut=Math.min(Ut,Bi))}),Ut<1/0&&Ut>=0&&(De=j.substring(0,Ut+1))}(),this.state.top&&(Y=this.tokenizer.paragraph(De))){fe=V[V.length-1],dt&&fe.type==="paragraph"?(fe.raw+=`
`+Y.raw,fe.text+=`
`+Y.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=fe.text):V.push(Y),dt=De.length!==j.length,j=j.substring(Y.raw.length);continue}if(Y=this.tokenizer.text(j)){j=j.substring(Y.raw.length),fe=V[V.length-1],fe&&fe.type==="text"?(fe.raw+=`
`+Y.raw,fe.text+=`
`+Y.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=fe.text):V.push(Y);continue}if(j){var Qe="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(Qe);break}else throw new Error(Qe)}}return this.state.top=!0,V},re.inline=function(j,V){this.inlineQueue.push({src:j,tokens:V})},re.inlineTokens=function(j,V){var Q=this;V===void 0&&(V=[]);var Y,fe,De,dt=j,Qe,Ut,jt;if(this.tokens.links){var Bi=Object.keys(this.tokens.links);if(Bi.length>0)for(;(Qe=this.tokenizer.rules.inline.reflinkSearch.exec(dt))!=null;)Bi.includes(Qe[0].slice(Qe[0].lastIndexOf("[")+1,-1))&&(dt=dt.slice(0,Qe.index)+"["+nt("a",Qe[0].length-2)+"]"+dt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Qe=this.tokenizer.rules.inline.blockSkip.exec(dt))!=null;)dt=dt.slice(0,Qe.index)+"["+nt("a",Qe[0].length-2)+"]"+dt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Qe=this.tokenizer.rules.inline.escapedEmSt.exec(dt))!=null;)dt=dt.slice(0,Qe.index)+"++"+dt.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;j;)if(Ut||(jt=""),Ut=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ht){return(Y=ht.call({lexer:Q},j,V))?(j=j.substring(Y.raw.length),V.push(Y),!0):!1}))){if(Y=this.tokenizer.escape(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.tag(j)){j=j.substring(Y.raw.length),fe=V[V.length-1],fe&&Y.type==="text"&&fe.type==="text"?(fe.raw+=Y.raw,fe.text+=Y.text):V.push(Y);continue}if(Y=this.tokenizer.link(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.reflink(j,this.tokens.links)){j=j.substring(Y.raw.length),fe=V[V.length-1],fe&&Y.type==="text"&&fe.type==="text"?(fe.raw+=Y.raw,fe.text+=Y.text):V.push(Y);continue}if(Y=this.tokenizer.emStrong(j,dt,jt)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.codespan(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.br(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.del(j)){j=j.substring(Y.raw.length),V.push(Y);continue}if(Y=this.tokenizer.autolink(j,rn)){j=j.substring(Y.raw.length),V.push(Y);continue}if(!this.state.inLink&&(Y=this.tokenizer.url(j,rn))){j=j.substring(Y.raw.length),V.push(Y);continue}if(De=j,this.options.extensions&&this.options.extensions.startInline&&function(){var ht=1/0,so=j.slice(1),zn=void 0;Q.options.extensions.startInline.forEach(function(ta){zn=ta.call({lexer:this},so),typeof zn=="number"&&zn>=0&&(ht=Math.min(ht,zn))}),ht<1/0&&ht>=0&&(De=j.substring(0,ht+1))}(),Y=this.tokenizer.inlineText(De,fi)){j=j.substring(Y.raw.length),Y.raw.slice(-1)!=="_"&&(jt=Y.raw.slice(-1)),Ut=!0,fe=V[V.length-1],fe&&fe.type==="text"?(fe.raw+=Y.raw,fe.text+=Y.text):V.push(Y);continue}if(j){var pi="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(pi);break}else throw new Error(pi)}}return V},i(de,null,[{key:"rules",get:function(){return{block:Be,inline:He}}}]),de}(),Dr=function(){function de(ae){this.options=ae||e.defaults}var re=de.prototype;return re.code=function(j,V,Q){var Y=(V||"").match(/\S*/)[0];if(this.options.highlight){var fe=this.options.highlight(j,Y);fe!=null&&fe!==j&&(Q=!0,j=fe)}return j=j.replace(/\n$/,"")+`
`,Y?'<pre><code class="'+this.options.langPrefix+_(Y,!0)+'">'+(Q?j:_(j,!0))+`</code></pre>
`:"<pre><code>"+(Q?j:_(j,!0))+`</code></pre>
`},re.blockquote=function(j){return`<blockquote>
`+j+`</blockquote>
`},re.html=function(j){return j},re.heading=function(j,V,Q,Y){if(this.options.headerIds){var fe=this.options.headerPrefix+Y.slug(Q);return"<h"+V+' id="'+fe+'">'+j+"</h"+V+`>
`}return"<h"+V+">"+j+"</h"+V+`>
`},re.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},re.list=function(j,V,Q){var Y=V?"ol":"ul",fe=V&&Q!==1?' start="'+Q+'"':"";return"<"+Y+fe+`>
`+j+"</"+Y+`>
`},re.listitem=function(j){return"<li>"+j+`</li>
`},re.checkbox=function(j){return"<input "+(j?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},re.paragraph=function(j){return"<p>"+j+`</p>
`},re.table=function(j,V){return V&&(V="<tbody>"+V+"</tbody>"),`<table>
<thead>
`+j+`</thead>
`+V+`</table>
`},re.tablerow=function(j){return`<tr>
`+j+`</tr>
`},re.tablecell=function(j,V){var Q=V.header?"th":"td",Y=V.align?"<"+Q+' align="'+V.align+'">':"<"+Q+">";return Y+j+("</"+Q+`>
`)},re.strong=function(j){return"<strong>"+j+"</strong>"},re.em=function(j){return"<em>"+j+"</em>"},re.codespan=function(j){return"<code>"+j+"</code>"},re.br=function(){return this.options.xhtml?"<br/>":"<br>"},re.del=function(j){return"<del>"+j+"</del>"},re.link=function(j,V,Q){if(j=M(this.options.sanitize,this.options.baseUrl,j),j===null)return Q;var Y='<a href="'+_(j)+'"';return V&&(Y+=' title="'+V+'"'),Y+=">"+Q+"</a>",Y},re.image=function(j,V,Q){if(j=M(this.options.sanitize,this.options.baseUrl,j),j===null)return Q;var Y='<img src="'+j+'" alt="'+Q+'"';return V&&(Y+=' title="'+V+'"'),Y+=this.options.xhtml?"/>":">",Y},re.text=function(j){return j},de}(),qn=function(){function de(){}var re=de.prototype;return re.strong=function(j){return j},re.em=function(j){return j},re.codespan=function(j){return j},re.del=function(j){return j},re.html=function(j){return j},re.text=function(j){return j},re.link=function(j,V,Q){return""+Q},re.image=function(j,V,Q){return""+Q},re.br=function(){return""},de}(),ls=function(){function de(){this.seen={}}var re=de.prototype;return re.serialize=function(j){return j.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},re.getNextSafeSlug=function(j,V){var Q=j,Y=0;if(this.seen.hasOwnProperty(Q)){Y=this.seen[j];do Y++,Q=j+"-"+Y;while(this.seen.hasOwnProperty(Q))}return V||(this.seen[j]=Y,this.seen[Q]=0),Q},re.slug=function(j,V){V===void 0&&(V={});var Q=this.serialize(j);return this.getNextSafeSlug(Q,V.dryrun)},de}(),Zr=function(){function de(ae){this.options=ae||e.defaults,this.options.renderer=this.options.renderer||new Dr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qn,this.slugger=new ls}de.parse=function(j,V){var Q=new de(V);return Q.parse(j)},de.parseInline=function(j,V){var Q=new de(V);return Q.parseInline(j)};var re=de.prototype;return re.parse=function(j,V){V===void 0&&(V=!0);var Q="",Y,fe,De,dt,Qe,Ut,jt,Bi,pi,ht,so,zn,ta,An,So,Qd,ia,fl,Mn,kr=j.length;for(Y=0;Y<kr;Y++){if(ht=j[Y],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ht.type]&&(Mn=this.options.extensions.renderers[ht.type].call({parser:this},ht),Mn!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ht.type))){Q+=Mn||"";continue}switch(ht.type){case"space":continue;case"hr":{Q+=this.renderer.hr();continue}case"heading":{Q+=this.renderer.heading(this.parseInline(ht.tokens),ht.depth,w(this.parseInline(ht.tokens,this.textRenderer)),this.slugger);continue}case"code":{Q+=this.renderer.code(ht.text,ht.lang,ht.escaped);continue}case"table":{for(Bi="",jt="",dt=ht.header.length,fe=0;fe<dt;fe++)jt+=this.renderer.tablecell(this.parseInline(ht.header[fe].tokens),{header:!0,align:ht.align[fe]});for(Bi+=this.renderer.tablerow(jt),pi="",dt=ht.rows.length,fe=0;fe<dt;fe++){for(Ut=ht.rows[fe],jt="",Qe=Ut.length,De=0;De<Qe;De++)jt+=this.renderer.tablecell(this.parseInline(Ut[De].tokens),{header:!1,align:ht.align[De]});pi+=this.renderer.tablerow(jt)}Q+=this.renderer.table(Bi,pi);continue}case"blockquote":{pi=this.parse(ht.tokens),Q+=this.renderer.blockquote(pi);continue}case"list":{for(so=ht.ordered,zn=ht.start,ta=ht.loose,dt=ht.items.length,pi="",fe=0;fe<dt;fe++)So=ht.items[fe],Qd=So.checked,ia=So.task,An="",So.task&&(fl=this.renderer.checkbox(Qd),ta?So.tokens.length>0&&So.tokens[0].type==="paragraph"?(So.tokens[0].text=fl+" "+So.tokens[0].text,So.tokens[0].tokens&&So.tokens[0].tokens.length>0&&So.tokens[0].tokens[0].type==="text"&&(So.tokens[0].tokens[0].text=fl+" "+So.tokens[0].tokens[0].text)):So.tokens.unshift({type:"text",text:fl}):An+=fl),An+=this.parse(So.tokens,ta),pi+=this.renderer.listitem(An,ia,Qd);Q+=this.renderer.list(pi,so,zn);continue}case"html":{Q+=this.renderer.html(ht.text);continue}case"paragraph":{Q+=this.renderer.paragraph(this.parseInline(ht.tokens));continue}case"text":{for(pi=ht.tokens?this.parseInline(ht.tokens):ht.text;Y+1<kr&&j[Y+1].type==="text";)ht=j[++Y],pi+=`
`+(ht.tokens?this.parseInline(ht.tokens):ht.text);Q+=V?this.renderer.paragraph(pi):pi;continue}default:{var na='Token with "'+ht.type+'" type was not found.';if(this.options.silent){console.error(na);return}else throw new Error(na)}}}return Q},re.parseInline=function(j,V){V=V||this.renderer;var Q="",Y,fe,De,dt=j.length;for(Y=0;Y<dt;Y++){if(fe=j[Y],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[fe.type]&&(De=this.options.extensions.renderers[fe.type].call({parser:this},fe),De!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(fe.type))){Q+=De||"";continue}switch(fe.type){case"escape":{Q+=V.text(fe.text);break}case"html":{Q+=V.html(fe.text);break}case"link":{Q+=V.link(fe.href,fe.title,this.parseInline(fe.tokens,V));break}case"image":{Q+=V.image(fe.href,fe.title,fe.text);break}case"strong":{Q+=V.strong(this.parseInline(fe.tokens,V));break}case"em":{Q+=V.em(this.parseInline(fe.tokens,V));break}case"codespan":{Q+=V.codespan(fe.text);break}case"br":{Q+=V.br();break}case"del":{Q+=V.del(this.parseInline(fe.tokens,V));break}case"text":{Q+=V.text(fe.text);break}default:{var Qe='Token with "'+fe.type+'" type was not found.';if(this.options.silent){console.error(Qe);return}else throw new Error(Qe)}}}return Q},de}();function Et(de,re,ae){if(typeof de>"u"||de===null)throw new Error("marked(): input parameter is undefined or null");if(typeof de!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(de)+", string expected");if(typeof re=="function"&&(ae=re,re=null),re=ie({},Et.defaults,re||{}),Ve(re),ae){var j=re.highlight,V;try{V=G.lex(de,re)}catch(De){return ae(De)}var Q=function(dt){var Qe;if(!dt)try{re.walkTokens&&Et.walkTokens(V,re.walkTokens),Qe=Zr.parse(V,re)}catch(Ut){dt=Ut}return re.highlight=j,dt?ae(dt):ae(null,Qe)};if(!j||j.length<3||(delete re.highlight,!V.length))return Q();var Y=0;Et.walkTokens(V,function(De){De.type==="code"&&(Y++,setTimeout(function(){j(De.text,De.lang,function(dt,Qe){if(dt)return Q(dt);Qe!=null&&Qe!==De.text&&(De.text=Qe,De.escaped=!0),Y--,Y===0&&Q()})},0))}),Y===0&&Q();return}try{var fe=G.lex(de,re);return re.walkTokens&&Et.walkTokens(fe,re.walkTokens),Zr.parse(fe,re)}catch(De){if(De.message+=`
Please report this to https://github.com/markedjs/marked.`,re.silent)return"<p>An error occurred:</p><pre>"+_(De.message+"",!0)+"</pre>";throw De}}Et.options=Et.setOptions=function(de){return ie(Et.defaults,de),l(Et.defaults),Et},Et.getDefaults=a,Et.defaults=e.defaults,Et.use=function(){for(var de=arguments.length,re=new Array(de),ae=0;ae<de;ae++)re[ae]=arguments[ae];var j=ie.apply(void 0,[{}].concat(re)),V=Et.defaults.extensions||{renderers:{},childTokens:{}},Q;re.forEach(function(Y){if(Y.extensions&&(Q=!0,Y.extensions.forEach(function(De){if(!De.name)throw new Error("extension name required");if(De.renderer){var dt=V.renderers?V.renderers[De.name]:null;dt?V.renderers[De.name]=function(){for(var Qe=arguments.length,Ut=new Array(Qe),jt=0;jt<Qe;jt++)Ut[jt]=arguments[jt];var Bi=De.renderer.apply(this,Ut);return Bi===!1&&(Bi=dt.apply(this,Ut)),Bi}:V.renderers[De.name]=De.renderer}if(De.tokenizer){if(!De.level||De.level!=="block"&&De.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");V[De.level]?V[De.level].unshift(De.tokenizer):V[De.level]=[De.tokenizer],De.start&&(De.level==="block"?V.startBlock?V.startBlock.push(De.start):V.startBlock=[De.start]:De.level==="inline"&&(V.startInline?V.startInline.push(De.start):V.startInline=[De.start]))}De.childTokens&&(V.childTokens[De.name]=De.childTokens)})),Y.renderer&&function(){var De=Et.defaults.renderer||new Dr,dt=function(jt){var Bi=De[jt];De[jt]=function(){for(var pi=arguments.length,ht=new Array(pi),so=0;so<pi;so++)ht[so]=arguments[so];var zn=Y.renderer[jt].apply(De,ht);return zn===!1&&(zn=Bi.apply(De,ht)),zn}};for(var Qe in Y.renderer)dt(Qe);j.renderer=De}(),Y.tokenizer&&function(){var De=Et.defaults.tokenizer||new Ei,dt=function(jt){var Bi=De[jt];De[jt]=function(){for(var pi=arguments.length,ht=new Array(pi),so=0;so<pi;so++)ht[so]=arguments[so];var zn=Y.tokenizer[jt].apply(De,ht);return zn===!1&&(zn=Bi.apply(De,ht)),zn}};for(var Qe in Y.tokenizer)dt(Qe);j.tokenizer=De}(),Y.walkTokens){var fe=Et.defaults.walkTokens;j.walkTokens=function(De){Y.walkTokens.call(this,De),fe&&fe.call(this,De)}}Q&&(j.extensions=V),Et.setOptions(j)})},Et.walkTokens=function(de,re){for(var ae=function(){var Y=V.value;switch(re.call(Et,Y),Y.type){case"table":{for(var fe=s(Y.header),De;!(De=fe()).done;){var dt=De.value;Et.walkTokens(dt.tokens,re)}for(var Qe=s(Y.rows),Ut;!(Ut=Qe()).done;)for(var jt=Ut.value,Bi=s(jt),pi;!(pi=Bi()).done;){var ht=pi.value;Et.walkTokens(ht.tokens,re)}break}case"list":{Et.walkTokens(Y.items,re);break}default:Et.defaults.extensions&&Et.defaults.extensions.childTokens&&Et.defaults.extensions.childTokens[Y.type]?Et.defaults.extensions.childTokens[Y.type].forEach(function(so){Et.walkTokens(Y[so],re)}):Y.tokens&&Et.walkTokens(Y.tokens,re)}},j=s(de),V;!(V=j()).done;)ae()},Et.parseInline=function(de,re){if(typeof de>"u"||de===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof de!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(de)+", string expected");re=ie({},Et.defaults,re||{}),Ve(re);try{var ae=G.lexInline(de,re);return re.walkTokens&&Et.walkTokens(ae,re.walkTokens),Zr.parseInline(ae,re)}catch(j){if(j.message+=`
Please report this to https://github.com/markedjs/marked.`,re.silent)return"<p>An error occurred:</p><pre>"+_(j.message+"",!0)+"</pre>";throw j}},Et.Parser=Zr,Et.parser=Zr.parse,Et.Renderer=Dr,Et.TextRenderer=qn,Et.Lexer=G,Et.lexer=G.lex,Et.Tokenizer=Ei,Et.Slugger=ls,Et.parse=Et;var Ma=Et.options,cs=Et.setOptions,Xl=Et.use,qe=Et.walkTokens,qc=Et.parseInline,Du=Et,ku=Zr.parse,Yp=G.lex;e.Lexer=G,e.Parser=Zr,e.Renderer=Dr,e.Slugger=ls,e.TextRenderer=qn,e.Tokenizer=Ei,e.getDefaults=a,e.lexer=Yp,e.marked=Et,e.options=Ma,e.parse=Du,e.parseInline=qc,e.parser=ku,e.setOptions=cs,e.use=Xl,e.walkTokens=qe,Object.defineProperty(e,"__esModule",{value:!0})})})();var cV=kne||exports;Ws();hr();Vr();Ye();vi();function Ine(r,e={},t={}){var i;let n=new J,o=!1,s=AM(e),a=function(_){let v;try{v=Gb(decodeURIComponent(_))}catch{}return v?(v=GE(v,w=>{if(r.uris&&r.uris[w])return Ee.revive(r.uris[w])}),encodeURIComponent(JSON.stringify(v))):_},l=function(_,v){let w=r.uris&&r.uris[_],y=Ee.revive(w);return v?_.startsWith(lt.data+":")?_:(y||(y=Ee.parse(_)),wN.asBrowserUri(y).toString(!0)):!y||Ee.parse(_).toString()===y.toString()?_:(y.query&&(y=y.with({query:a(y.query)})),y.toString())},c=new cV.Renderer;c.image=(_,v,w)=>{let y=[],x=[];return _&&({href:_,dimensions:y}=vee(_),x.push(`src="${bx(_)}"`)),w&&x.push(`alt="${bx(w)}"`),v&&x.push(`title="${bx(v)}"`),y.length&&(x=x.concat(y)),"<img "+x.join(" ")+">"},c.link=(_,v,w)=>typeof _!="string"?"":(_===w&&(w=MA(w)),v=typeof v=="string"?bx(MA(v)):"",_=MA(_),_=_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${_}" title="${v||_}">${w}</a>`),c.paragraph=_=>`<p>${_}</p>`;let d=[];if(e.codeBlockRenderer&&(c.code=(_,v)=>{let w=PM.nextId(),y=e.codeBlockRenderer(v??"",_);return d.push(y.then(x=>[w,x])),`<div class="code" data-code="${w}">${V0(_)}</div>`}),e.actionHandler){let _=e.actionHandler.disposables.add(new ai(s,"click")),v=e.actionHandler.disposables.add(new ai(s,"auxclick"));e.actionHandler.disposables.add(Ie.any(_.event,v.event)(w=>{let y=new Rr(w);if(!y.leftButton&&!y.middleButton)return;let x=y.target;if(!(x.tagName!=="A"&&(x=x.parentElement,!x||x.tagName!=="A")))try{let k=x.dataset.href;k&&(r.baseUri&&(k=dV(Ee.from(r.baseUri),k)),e.actionHandler.callback(k,y))}catch(k){Pe(k)}finally{y.preventDefault()}}))}r.supportHtml||(t.sanitizer=_=>(r.isTrusted?_.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?_:"",t.sanitize=!0,t.silent=!0),t.renderer=c;let h=(i=r.value)!==null&&i!==void 0?i:"";h.length>1e5&&(h=`${h.substr(0,1e5)}\u2026`),r.supportThemeIcons&&(h=bee(h));let u=cV.parse(h,t);r.supportThemeIcons&&(u=Wc(u).map(v=>typeof v=="string"?v:v.outerHTML).join(""));let m=new DOMParser().parseFromString(Ene(r,u),"text/html");if(m.body.querySelectorAll("img").forEach(_=>{let v=_.getAttribute("src");if(v){let w=v;try{r.baseUri&&(w=dV(Ee.from(r.baseUri),w))}catch{}_.src=l(w,!0)}}),m.body.querySelectorAll("a").forEach(_=>{let v=_.getAttribute("href");if(_.setAttribute("href",""),!v||/^data:|javascript:/i.test(v)||/^command:/i.test(v)&&!r.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(v))_.replaceWith(..._.childNodes);else{let w=l(v,!1);r.baseUri&&(w=dV(Ee.from(r.baseUri),v)),_.dataset.href=w}}),s.innerHTML=Ene(r,m.body.innerHTML),d.length>0&&Promise.all(d).then(_=>{var v,w;if(o)return;let y=new Map(_),x=s.querySelectorAll("div[data-code]");for(let k of x){let N=y.get((v=k.dataset.code)!==null&&v!==void 0?v:"");N&&yc(k,N)}(w=e.asyncRenderCallback)===null||w===void 0||w.call(e)}),e.asyncRenderCallback)for(let _ of s.getElementsByTagName("img")){let v=n.add(ne(_,"load",()=>{v.dispose(),e.asyncRenderCallback()}))}return{element:s,dispose:()=>{o=!0,n.dispose()}}}function dV(r,e){return/^\w[\w\d+.-]*:/.test(e)?e:r.path.endsWith("/")?IB(r,e).toString():IB(Zm(r),e).toString()}function Ene(r,e){let{config:t,allowedSchemes:i}=Ewe(r);vN("uponSanitizeAttribute",(o,s)=>{if(s.attrName==="style"||s.attrName==="class"){if(o.tagName==="SPAN"){if(s.attrName==="style"){s.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(s.attrValue);return}else if(s.attrName==="class"){s.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(s.attrValue);return}}s.keepAttr=!1;return}});let n=pG(i);try{return tG(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{CN("uponSanitizeAttribute"),n.dispose()}}function Ewe(r){let e=[lt.http,lt.https,lt.mailto,lt.data,lt.file,lt.vscodeFileResource,lt.vscodeRemote,lt.vscodeRemoteResource];return r.isTrusted&&e.push(lt.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}Ds();Qo();ut();Oe();se();fc();var Iwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},One=function(r,e){return function(t,i){e(t,i,r)}},Owe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},hV,Na=class Nne{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new B,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};let n=new J;return{element:n.add(Ine(e,Object.assign(Object.assign({},this._getRenderOptions(e,n)),t),i)).element,dispose:()=>n.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:(i,n)=>Owe(this,void 0,void 0,function*(){var o,s,a;let l;i?l=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(l=(o=this._options.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),l||(l=Io);let c=yield YJ(this._languageService,n,l),d=document.createElement("span");if(d.innerHTML=(a=(s=Nne._ttpTokenizer)===null||s===void 0?void 0:s.createHTML(c))!==null&&a!==void 0?a:c,this._options.editor){let h=this._options.editor.getOption(46);In(d,h)}else this._options.codeBlockFontFamily&&(d.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(d.style.fontSize=this._options.codeBlockFontSize),d}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>this._openerService.open(i,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(Pe),disposables:t}}}};Na._ttpTokenizer=(hV=window.trustedTypes)===null||hV===void 0?void 0:hV.createPolicy("tokenizeToString",{createHTML(r){return r}});Na=Iwe([One(1,ei),One(2,wo)],Na);Ds();var Tne=he,rg=class extends ${constructor(e,t,i=Wee){super(),this._renderDisposeables=this._register(new J),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new j1),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Na({editor:this._editor},t,i)),this._computer=new uV(this._editor),this._hoverOperation=this._register(new z1(this._editor,this._computer)),this._register(this._hoverOperation.onResult(n=>{this._withResult(n.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return rg.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();let i=document.createDocumentFragment();for(let n of t){let o=Tne("div.hover-row.markdown-hover"),s=oe(o,Tne("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(n.value));s.appendChild(a.element),i.appendChild(o)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));let t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop(),o=this._editor.getOption(61),s=this._hover.containerDomNode.clientHeight,a=i-n-(s-o)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}};rg.ID="editor.contrib.modesGlyphHoverWidget";var uV=class{constructor(e){this._editor=e,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}computeSync(){let e=n=>({value:n}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(let n of t){if(!n.options.glyphMarginClassName)continue;let o=n.options.glyphMarginHoverMessage;!o||Af(o)||i.push(...O0(o).map(e))}return i}};Ne();St();Xe();Ds();Ai();Ct();Fe();Ft();ot();se();rt();Le();Qo();ot();Di();ut();xt();oi();var Nwe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},fV=class{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}};function Twe(r,e,t,i,n){return Nwe(this,void 0,void 0,function*(){try{let o=yield Promise.resolve(r.provideHover(t,i,n));if(o&&Awe(o))return new fV(r,o,e)}catch(o){Oi(o)}})}function GD(r,e,t,i){let o=r.ordered(e).map((s,a)=>Twe(s,a,e,t,i));return cn.fromPromises(o).coalesce()}function Pwe(r,e,t,i){return GD(r,e,t,i).map(n=>n.hover).toPromise()}wa("_executeHoverProvider",(r,e,t)=>{let i=r.get(_e);return Pwe(i.hoverProvider,e,t,Je.None)});function Awe(r){let e=typeof r.range<"u",t=typeof r.contents<"u"&&r.contents&&r.contents.length>0;return e&&t}Ne();to();Ds();oi();var Mwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},W2=function(r,e){return function(t,i){e(t,i,r)}},Pne=he,dl=class{constructor(e,t,i,n){this.owner=e,this.range=t,this.contents=i,this.ordinal=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},H1=class{constructor(e,t,i,n,o){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=n,this._languageFeaturesService=o,this.hoverOrdinal=2}createLoadingMessage(e){return new dl(this,e.range,[new ro().appendText(g("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];let i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),s=[],a=1e3,l=i.getLineLength(n),c=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c});typeof d=="number"&&l>=d&&s.push(new dl(this,e.range,[{value:g("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],a++));for(let h of t){let u=h.range.startLineNumber===n?h.range.startColumn:1,f=h.range.endLineNumber===n?h.range.endColumn:o,m=h.options.hoverMessage;if(!m||Af(m))continue;let _=new D(e.range.startLineNumber,u,e.range.startLineNumber,f);s.push(new dl(this,_,O0(m),a++))}return s}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return cn.EMPTY;let n=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(n))return cn.EMPTY;let o=new H(e.range.startLineNumber,e.range.startColumn);return GD(this._languageFeaturesService.hoverProvider,n,o,i).filter(s=>!Af(s.hover.contents)).map(s=>{let a=s.hover.range?D.lift(s.hover.range):e.range;return new dl(this,a,s.hover.contents,s.ordinal)})}renderHoverParts(e,t){return gV(e,t,this._editor,this._languageService,this._openerService)}};H1=Mwe([W2(1,ei),W2(2,wo),W2(3,yt),W2(4,_e)],H1);function gV(r,e,t,i,n){e.sort((s,a)=>s.ordinal-a.ordinal);let o=new J;for(let s of e)for(let a of s.contents){if(Af(a))continue;let l=Pne("div.hover-row.markdown-hover"),c=oe(l,Pne("div.hover-contents")),d=o.add(new Na({editor:t},i,n));o.add(d.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",r.onContentsChanged()}));let h=o.add(d.render(a));c.appendChild(h.element),r.fragment.appendChild(l)}return o}Fe();Ft();ot();ut();se();Vr();Le();bn();se();xt();lo();rt();Le();Ui();Ft();Oe();se();Xc();Ye();vi();Le();Bs();Xe();to();var Ane=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},z2=function(r,e){return function(t,i){e(t,i,r)}},V2=class{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}},mV=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new B,this.onDidChange=this._onDidChange.event,this._dispoables=new J,this._markers=[],this._nextIdx=-1,Ee.isUri(e)?this._resourceFilter=a=>a.toString()===e.toString():e&&(this._resourceFilter=e);let n=this._configService.getValue("problems.sortOrder"),o=(a,l)=>{let c=Jg(a.resource.toString(),l.resource.toString());return c===0&&(n==="position"?c=D.compareRangesUsingStarts(a,l)||Xi.compare(a.severity,l.severity):c=Xi.compare(a.severity,l.severity)||D.compareRangesUsingStarts(a,l)),c},s=()=>{this._markers=this._markerService.read({resource:Ee.isUri(e)?e:void 0,severities:Xi.Error|Xi.Warning|Xi.Info}),typeof e=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(o)};s(),this._dispoables.add(t.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(s(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){let e=this._markers[this._nextIdx];return e&&new V2(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,o=this._markers.findIndex(s=>s.resource.toString()===e.uri.toString());o<0&&(o=I0(this._markers,{resource:e.uri},(s,a)=>Jg(s.resource.toString(),a.resource.toString())),o<0&&(o=~o));for(let s=o;s<this._markers.length;s++){let a=D.lift(this._markers[s]);if(a.isEmpty()){let l=e.getWordAtPosition(a.getStartPosition());l&&(a=new D(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=s,n=!0;break}if(this._markers[s].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;let n=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}find(e,t){let i=this._markers.findIndex(n=>n.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(D.containsPosition(this._markers[i],t))return new V2(this._markers[i],i+1,this._markers.length)}}};mV=Ane([z2(1,Xs),z2(2,yt)],mV);var _V=We("IMarkerNavigationService"),pV=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new Rn}getMarkerList(e){for(let t of this._provider){let i=t.getMarkerList(e);if(i)return i}return new mV(e,this._markerService,this._configService)}};pV=Ane([z2(0,Xs),z2(1,yt)],pV);Ot(_V,pV,!0);Ne();er();St();Xe();Fe();Ft();ho();Oe();se();Vr();Ye();Le();Ne();er();St();Xe();Ds();bn();Ai();Ct();var U2;(function(r){function e(t){switch(t){case Ri.Ignore:return"severity-ignore "+p.info.classNames;case Ri.Info:return p.info.classNames;case Ri.Warning:return p.warning.classNames;case Ri.Error:return p.error.classNames;default:return""}}r.className=e})(U2||(U2={}));Lt((r,e)=>{let t=r.getColor(oQ);if(t){let o=p.error.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.text-search-provider-messages .providerMessage ${o},
			.extensions-viewlet > .extensions ${o} {
				color: ${t};
			}
		`)}let i=r.getColor(rQ);if(i){let o=p.warning.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.extension-editor ${o},
			.text-search-provider-messages .providerMessage ${o},
			.preferences-editor ${o} {
				color: ${i};
			}
		`)}let n=r.getColor(sQ);if(n){let o=p.info.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.text-search-provider-messages .providerMessage ${o},
			.extension-editor ${o} {
				color: ${n};
			}
		`)}});Ai();Ct();var Rwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$1=function(r,e){return function(t,i){e(t,i,r)}},bV=class{constructor(e,t,i,n,o){this._openerService=n,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new J,this._editor=t;let s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(Ti(this._relatedBlock,"click",a=>{a.preventDefault();let l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new dw(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{s.style.left=`-${a.scrollLeft}px`,s.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){ft(this._disposables)}update(e){let{source:t,message:i,relatedInformation:n,code:o}=e,s=(t?.length||0)+2;o&&(typeof o=="string"?s+=o.length:s+=o.value.length);let a=Mr(i);this._lines=a.length,this._longestLineLength=0;for(let u of a)this._longestLineLength=Math.max(u.length+s,this._longestLineLength);Yi(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(let u of a)l=document.createElement("div"),l.innerText=u,u===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||o){let u=document.createElement("span");if(u.classList.add("details"),l.appendChild(u),t){let f=document.createElement("span");f.innerText=t,f.classList.add("source"),u.appendChild(f)}if(o)if(typeof o=="string"){let f=document.createElement("span");f.innerText=`(${o})`,f.classList.add("code"),u.appendChild(f)}else{this._codeLink=he("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=m=>{this._openerService.open(o.target,{allowCommands:!0}),m.preventDefault(),m.stopPropagation()};let f=oe(this._codeLink,he("span"));f.innerText=o.value,u.appendChild(this._codeLink)}}if(Yi(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),an(n)){let u=this._relatedBlock.appendChild(document.createElement("div"));u.style.paddingTop=`${Math.floor(this._editor.getOption(61)*.66)}px`,this._lines+=1;for(let f of n){let m=document.createElement("div"),_=document.createElement("a");_.classList.add("filename"),_.innerText=`${this._labelService.getUriBasenameLabel(f.resource)}(${f.startLineNumber}, ${f.startColumn}): `,_.title=this._labelService.getUriLabel(f.resource),this._relatedDiagnostics.set(_,f);let v=document.createElement("span");v.innerText=f.message,m.appendChild(_),m.appendChild(v),this._lines+=1,u.appendChild(m)}}let c=this._editor.getOption(46),d=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),h=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:h})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case Xi.Error:t=g("Error","Error");break;case Xi.Warning:t=g("Warning","Warning");break;case Xi.Info:t=g("Info","Info");break;case Xi.Hint:t=g("Hint","Hint");break}let i=g("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn),n=this._editor.getModel();return n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1&&(i=`${n.getLineContent(e.startLineNumber)}, ${i}`),i}},Ov=class Bne extends M1{constructor(e,t,i,n,o,s,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o),this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new J,this._onDidSelectRelatedInformation=new B,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Xi.Warning,this._backgroundColor=Z.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(Wwe);let t=vV,i=Fwe;this._severity===Xi.Warning?(t=H2,i=Bwe):this._severity===Xi.Info&&(t=CV,i=jwe);let n=e.getColor(t),o=e.getColor(i);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:o,primaryHeadingColor:e.getColor(p2),secondaryHeadingColor:e.getColor(_2)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(n=>this.editor.focus()));let t=[],i=this._menuService.createMenu(Bne.TitleMenu,this._contextKeyService);Xie(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=oe(e,he(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new bV(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let n=D.lift(e),o=this.editor.getPosition(),s=o&&n.containsPosition(o)?o:n.getStartPosition();super.show(s,this.computeRequiredHeight());let a=this.editor.getModel();if(a){let l=i>1?g("problems","{0} of {1} problems",t,i):g("change","{0} of {1} problem",t,i);this.setTitle(ir(a.uri),l)}this._icon.className=`codicon ${U2.className(Xi.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Ov.TitleMenu=new z("gotoErrorTitleMenu");Ov=Rwe([$1(1,Tt),$1(2,wo),$1(3,Xa),$1(4,je),$1(5,Te),$1(6,Md)],Ov);var Mne=zC(Lc,KN),Rne=zC(Cs,lf),Fne=zC(pr,sb),vV=W("editorMarkerNavigationError.background",{dark:Mne,light:Mne,hcDark:Nt,hcLight:Nt},g("editorMarkerNavigationError","Editor marker navigation widget error color.")),Fwe=W("editorMarkerNavigationError.headerBackground",{dark:ze(vV,.1),light:ze(vV,.1),hcDark:null,hcLight:null},g("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),H2=W("editorMarkerNavigationWarning.background",{dark:Rne,light:Rne,hcDark:Nt,hcLight:Nt},g("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Bwe=W("editorMarkerNavigationWarning.headerBackground",{dark:ze(H2,.1),light:ze(H2,.1),hcDark:"#0C141F",hcLight:ze(H2,.2)},g("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),CV=W("editorMarkerNavigationInfo.background",{dark:Fne,light:Fne,hcDark:Nt,hcLight:Nt},g("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),jwe=W("editorMarkerNavigationInfo.headerBackground",{dark:ze(CV,.1),light:ze(CV,.1),hcDark:null,hcLight:null},g("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Wwe=W("editorMarkerNavigation.background",{dark:Hn,light:Hn,hcDark:Hn,hcLight:Hn},g("editorMarkerNavigationBackground","Editor marker navigation widget background."));var zwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$2=function(r,e){return function(t,i){e(t,i,r)}},jne=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},ag=class K2{constructor(e,t,i,n,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=o,this._sessionDispoables=new J,this._editor=e,this._widgetVisible=Wne.bindTo(this._contextKeyService)}static get(e){return e.getContribution(K2.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Ov,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var n,o,s;(!(!((n=this._model)===null||n===void 0)&&n.selected)||!D.containsPosition((o=this._model)===null||o===void 0?void 0:o.selected.marker,i.position))&&((s=this._model)===null||s===void 0||s.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;let i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:D.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){let t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new H(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){var i,n;return jne(this,void 0,void 0,function*(){if(this._editor.hasModel()){let o=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();let s=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);s&&((i=K2.get(s))===null||i===void 0||i.close(),(n=K2.get(s))===null||n===void 0||n.nagivate(e,t))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};ag.ID="editor.contrib.markerController";ag=zwe([$2(1,_V),$2(2,Te),$2(3,kt),$2(4,je)],ag);var K1=class extends we{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){var i;return jne(this,void 0,void 0,function*(){t.hasModel()&&((i=ag.get(t))===null||i===void 0||i.nagivate(this._next,this._multiFile))})}},Kd=class extends K1{constructor(){super(!0,!1,{id:Kd.ID,label:Kd.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:578,weight:100},menuOpts:{menuId:Ov.TitleMenu,title:Kd.LABEL,icon:fn("marker-navigation-next",p.arrowDown,g("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}};Kd.ID="editor.action.marker.next";Kd.LABEL=g("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");var sg=class extends K1{constructor(){super(!1,!1,{id:sg.ID,label:sg.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:1602,weight:100},menuOpts:{menuId:Ov.TitleMenu,title:sg.LABEL,icon:fn("marker-navigation-previous",p.arrowUp,g("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}};sg.ID="editor.action.marker.prev";sg.LABEL=g("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");var wV=class extends K1{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:g("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:66,weight:100},menuOpts:{menuId:z.MenubarGoMenu,title:g({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}},yV=class extends K1{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:g("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:1090,weight:100},menuOpts:{menuId:z.MenubarGoMenu,title:g({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}};Ze(ag.ID,ag);le(Kd);le(sg);le(wV);le(yV);var Wne=new Ce("markersNavigationVisible",!1),Vwe=zi.bindToContribution(ag.get);me(new Vwe({id:"closeMarkersNavigation",precondition:Wne,handler:r=>r.close(),kbOpts:{weight:100+50,kbExpr:F.focus,primary:9,secondary:[1033]}}));Ne();Ds();Rc();Ai();Ct();oi();var Uwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},SV=function(r,e){return function(t,i){e(t,i,r)}},Vc=he,LV=class{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}},zne={type:1,filter:{include:Ht.QuickFix},triggerAction:Fo.QuickFixHover},q2=class{constructor(e,t,i,n){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=n,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];let i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),s=[];for(let a of t){let l=a.range.startLineNumber===n?a.range.startColumn:1,c=a.range.endLineNumber===n?a.range.endColumn:o,d=this._markerDecorationsService.getMarker(i.uri,a);if(!d)continue;let h=new D(e.range.startLineNumber,l,e.range.startLineNumber,c);s.push(new LV(this,h,d))}return s}renderHoverParts(e,t){if(!t.length)return $.None;let i=new J;t.forEach(o=>e.fragment.appendChild(this.renderMarkerHover(o,i)));let n=t.length===1?t[0]:t.sort((o,s)=>Xi.compare(o.marker.severity,s.marker.severity))[0];return this.renderMarkerStatusbar(e,n,i),i}renderMarkerHover(e,t){let i=Vc("div.hover-row"),n=oe(i,Vc("div.marker.hover-contents")),{source:o,message:s,code:a,relatedInformation:l}=e.marker;this._editor.applyFontInfo(n);let c=oe(n,Vc("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=s,o||a)if(a&&typeof a!="string"){let d=Vc("span");if(o){let m=oe(d,Vc("span"));m.innerText=o}let h=oe(d,Vc("a.code-link"));h.setAttribute("href",a.target.toString()),t.add(ne(h,"click",m=>{this._openerService.open(a.target,{allowCommands:!0}),m.preventDefault(),m.stopPropagation()}));let u=oe(h,Vc("span"));u.innerText=a.value;let f=oe(n,d);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{let d=oe(n,Vc("span"));d.style.opacity="0.6",d.style.paddingLeft="6px",d.innerText=o&&a?`${o}(${a})`:o||`(${a})`}if(an(l))for(let{message:d,resource:h,startLineNumber:u,startColumn:f}of l){let m=oe(n,Vc("div"));m.style.marginTop="8px";let _=oe(m,Vc("a"));_.innerText=`${ir(h)}(${u}, ${f}): `,_.style.cursor="pointer",t.add(ne(_,"click",w=>{w.stopPropagation(),w.preventDefault(),this._openerService&&this._openerService.open(h,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:u,startColumn:f}}}).catch(Pe)}));let v=oe(m,Vc("span"));v.innerText=d,this._editor.applyFontInfo(v)}return i}renderMarkerStatusbar(e,t,i){if((t.marker.severity===Xi.Error||t.marker.severity===Xi.Warning||t.marker.severity===Xi.Info)&&e.statusBar.addAction({label:g("view problem","View Problem"),commandId:Kd.ID,run:()=>{var n;e.hide(),(n=ag.get(this._editor))===null||n===void 0||n.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(83)){let n=e.statusBar.append(Vc("div"));this.recentMarkerCodeActionsInfo&&(Mx.makeKey(this.recentMarkerCodeActionsInfo.marker)===Mx.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(n.textContent=g("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);let o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?$.None:i.add(gc(()=>n.textContent=g("checkingForQuickFixes","Checking for quick fixes..."),200));n.textContent||(n.textContent=String.fromCharCode(160));let s=this.getCodeActions(t.marker);i.add(Ke(()=>s.cancel())),s.then(a=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),n.textContent=g("noQuickFixes","No quick fixes available");return}n.style.display="none";let l=!1;i.add(Ke(()=>{l||a.dispose()})),e.statusBar.addAction({label:g("quick fixes","Quick Fix..."),commandId:fu.Id,run:c=>{l=!0;let d=uu.get(this._editor),h=dn(c);e.hide(),d?.showCodeActions(zne,a,{x:h.left+6,y:h.top+h.height+6,width:h.width,height:h.height})}})},Pe)}}getCodeActions(e){return wi(t=>LD(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),zne,jl.None,t))}};q2=Uwe([SV(1,CC),SV(2,wo),SV(3,_e)],q2);Lt((r,e)=>{let t=r.getColor(Em);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);let i=r.getColor(Im);i&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${i}; }`)});var Hwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Y2=function(r,e){return function(t,i){e(t,i,r)}},lg=class Vne{constructor(e,t,i,n,o){this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=n,this._toUnhook=new J,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(s=>{s.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(e){return e.getContribution(Vne.ID)}_hookEvents(){let e=()=>this._hideWidgets(),t=this._editor.getOption(55);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(i=>this._onEditorMouseDown(i))),this._toUnhook.add(this._editor.onMouseUp(i=>this._onEditorMouseUp(i))),this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))):(this._toUnhook.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._toUnhook.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))),this._toUnhook.add(this._editor.onMouseLeave(i=>this._onEditorMouseLeave(i))),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(i=>this._onEditorScrollChanged(i)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;let t=e.target;if(t.type===9&&t.detail===Np.ID){this._hoverClicked=!0;return}t.type===12&&t.detail===rg.ID||(t.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseLeave(e){var t;let i=e.event.browserEvent.relatedTarget;!((t=this._contentWidget)===null||t===void 0)&&t.containsNode(i)||this._hideWidgets()}_onEditorMouseMove(e){var t,i,n,o,s;let a=e.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&a.type===9&&a.detail===Np.ID||this._isHoverSticky&&!(!((i=(t=e.event.browserEvent.view)===null||t===void 0?void 0:t.getSelection())===null||i===void 0)&&i.isCollapsed)||!this._isHoverSticky&&a.type===9&&a.detail===Np.ID&&((n=this._contentWidget)===null||n===void 0?void 0:n.isColorPickerVisible())||this._isHoverSticky&&a.type===12&&a.detail===rg.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(o=this._glyphWidget)===null||o===void 0||o.hide();return}if(a.type===2&&a.position){(s=this._contentWidget)===null||s===void 0||s.hide(),this._glyphWidget||(this._glyphWidget=new rg(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(a.position.lineNumber);return}this._hideWidgets()}_onKeyDown(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(i=this._contentWidget)===null||i===void 0||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(ZD,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,i)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};lg.ID="editor.contrib.hover";lg=Hwe([Y2(1,je),Y2(2,wo),Y2(3,ei),Y2(4,Te)],lg);var xV=class extends we{constructor(){super({id:"editor.action.showHover",label:g({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let i=lg.get(t);if(!i)return;let n=t.getPosition(),o=new D(n.lineNumber,n.column,n.lineNumber,n.column),s=t.getOption(2)===2;i.showContentHover(o,1,s)}},DV=class extends we{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:g({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){let i=lg.get(t);if(!i)return;let n=t.getPosition();if(!n)return;let o=new D(n.lineNumber,n.column,n.lineNumber,n.column),s=kp.get(t);if(!s)return;s.startFindDefinitionFromCursor(n).then(()=>{i.showContentHover(o,1,!0)})}};Ze(lg.ID,lg);le(xV);le(DV);ql.register(H1);ql.register(q2);Lt((r,e)=>{let t=r.getColor(sX);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);let i=r.getColor(cf);i&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${i}; }`);let n=r.getColor(YN);n&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${n}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${n.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${n.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${n.transparent(.5)}; }`));let o=r.getColor(Em);o&&e.addRule(`.monaco-editor .monaco-hover a { color: ${o}; }`);let s=r.getColor(Im);s&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${s}; }`);let a=r.getColor(qN);a&&e.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);let l=r.getColor(aX);l&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${l}; }`);let c=r.getColor($N);c&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${c}; }`)});var XD=class extends ${constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){let t=e.target;if(t.type!==6||!t.detail.injectedText||t.detail.injectedText.options.attachedData!==fz||!t.range)return;let i=this._editor.getContribution(lg.ID);if(!!i&&!i.isColorPickerVisible()){let n=new D(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);i.showContentHover(n,1,!1)}}};XD.ID="editor.contrib.colorContribution";Ze(XD.ID,XD);ql.register(h2);xt();Fe();ot();var Une=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function QD(r){return{asString:()=>Une(this,void 0,void 0,function*(){return r}),asFile:()=>{},value:typeof r=="string"?r:void 0}}function Hne(r,e,t){return{asString:()=>Une(this,void 0,void 0,function*(){return""}),asFile:()=>({name:r,uri:e,data:t}),value:void 0}}var q1=class{constructor(){this._entries=new Map}get size(){return this._entries.size}has(e){return this._entries.has(this.toKey(e))}get(e){var t;return(t=this._entries.get(this.toKey(e)))===null||t===void 0?void 0:t[0]}append(e,t){let i=this._entries.get(e);i?i.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*entries(){for(let[e,t]of this._entries.entries())for(let i of t)yield[e,i]}values(){return Array.from(this._entries.values()).flat()}forEach(e){for(let[t,i]of this.entries())e(i,t)}toKey(e){return e.toLowerCase()}};se();am();var Z2=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let r;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?r=crypto.getRandomValues.bind(crypto):r=function(i){for(let n=0;n<i.length;n++)i[n]=Math.floor(Math.random()*256);return i};let e=new Uint8Array(16),t=[];for(let i=0;i<256;i++)t.push(i.toString(16).padStart(2,"0"));return function(){r(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let n=0,o="";return o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o}}();Ft();am();vi();vi();Ds();fr();var JD={EDITORS:"CodeEditors",FILES:"CodeFiles"};function $ne(r){var e;let t=[];if(r.dataTransfer&&r.dataTransfer.types.length>0){let i=r.dataTransfer.getData(JD.EDITORS);if(i)try{t.push(...Gb(i))}catch{}else try{let s=r.dataTransfer.getData(Xh.RESOURCES);t.push(...$we(s))}catch{}if(!((e=r.dataTransfer)===null||e===void 0)&&e.files)for(let s=0;s<r.dataTransfer.files.length;s++){let a=r.dataTransfer.files[s];if(a&&a.path)try{t.push({resource:Ee.file(a.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}let n=r.dataTransfer.getData(JD.FILES);if(n)try{let s=JSON.parse(n);for(let a of s)t.push({resource:Ee.file(a),isExternal:!0,allowWorkspaceOpen:!0})}catch{}let o=di.as(Kne.DragAndDropContribution).getAll();for(let s of o){let a=r.dataTransfer.getData(s.dataFormatKey);if(a)try{t.push(...s.getEditorInputs(a))}catch{}}}return t}function $we(r){let e=[];if(r){let t=JSON.parse(r);for(let i of t)if(i.indexOf(":")>0){let{selection:n,uri:o}=iM(Ee.parse(i));e.push({resource:o,options:{selection:n}})}}return e}var kV=class{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}},Kne={DragAndDropContribution:"workbench.contributions.dragAndDrop"};di.add(Kne.DragAndDropContribution,new kV);var Kwe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function ek(r){let e=new q1;for(let t of r.items){let i=t.type;if(t.kind==="string"){let n=new Promise(o=>t.getAsString(o));e.append(i,QD(n))}else if(t.kind==="file"){let n=t.getAsFile();n&&e.append(i,qwe(n))}}return e}function qwe(r){let e=r.path?Ee.parse(r.path):void 0;return Hne(r.name,e,()=>Kwe(this,void 0,void 0,function*(){return new Uint8Array(yield r.arrayBuffer())}))}var Ywe=Object.freeze([JD.EDITORS,JD.FILES,Xh.RESOURCES]);function qne(r,e,t=!1){var i;if(e.dataTransfer&&(t||!r.has(Eo.uriList))){let n=$ne(e).filter(o=>o.resource).map(o=>o.resource.toString());for(let o of(i=e.dataTransfer)===null||i===void 0?void 0:i.items){let s=o.getAsFile();s&&n.push(s.path?Ee.file(s.path).toString():s.name)}n.length&&r.replace(Eo.uriList,QD(tk.create(n)))}for(let n of Ywe)r.delete(n)}var tk=Object.freeze({create:r=>la(r.map(e=>e.toString())).join(`\r
`),parse:r=>r.split(`\r
`).filter(e=>!e.startsWith("#"))});Le();oi();Gf();se();ti();xt();rt();Ci();Ui();io();oi();Ne();St();pc();Ft();se();Ye();Wl();Le();Ci();io();Ao();oA();At();function EV(r,e=Ji){return gJ(r,e)?r.charAt(0).toUpperCase()+r.slice(1):r}Gg();Vr();Ye();io();Ne();var Zwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Gwe=function(r,e){return function(t,i){e(t,i,r)}},qEt=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0}),ik=class{constructor(e){this._delegates=e}resolve(e){for(let t of this._delegates){let i=t.resolve(e);if(i!==void 0)return i}}},nk=class{constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){let{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){let o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(i=o.value,n=o.multiline)}if(i&&n&&e.snippet){let o=this._model.getLineContent(this._selection.startLineNumber),s=ri(o,0,this._selection.startColumn-1),a=s;e.snippet.walk(c=>c===e?!1:(c instanceof Sr&&(a=ri(Mr(c.value).pop())),!0));let l=wl(a,s);i=i.replace(/(\r\n|\r|\n)(.*)/g,(c,d,h)=>`${d}${a.substr(l)}${h}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){let i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(t==="CURSOR_INDEX")return String(this._selectionIdx);if(t==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}},ok=class{constructor(e,t){this._labelService=e,this._model=t}resolve(e){let{name:t}=e;if(t==="TM_FILENAME")return ah(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){let i=ah(this._model.uri.fsPath),n=i.lastIndexOf(".");return n<=0?i:i.slice(0,n)}else{if(t==="TM_DIRECTORY")return gI(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(Zm(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}},rk=class{constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if(e.name!=="CLIPBOARD")return;let t=this._readClipboardText();if(!!t){if(this._spread){let i=t.split(/\r\n|\n|\r/).filter(n=>!nO(n));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}},sk=class{constructor(e,t,i){this._model=e,this._selection=t,this._languageConfigurationService=i}resolve(e){let{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(!!n){if(t==="LINE_COMMENT")return n.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return n.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return n.blockCommentEndToken||void 0}}};sk=Zwe([Gwe(2,ii)],sk);var hl=class{constructor(){this._date=new Date}resolve(e){let{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return hl.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return hl.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return hl.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return hl.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}};hl.dayNames=[g("Sunday","Sunday"),g("Monday","Monday"),g("Tuesday","Tuesday"),g("Wednesday","Wednesday"),g("Thursday","Thursday"),g("Friday","Friday"),g("Saturday","Saturday")];hl.dayNamesShort=[g("SundayShort","Sun"),g("MondayShort","Mon"),g("TuesdayShort","Tue"),g("WednesdayShort","Wed"),g("ThursdayShort","Thu"),g("FridayShort","Fri"),g("SaturdayShort","Sat")];hl.monthNames=[g("January","January"),g("February","February"),g("March","March"),g("April","April"),g("May","May"),g("June","June"),g("July","July"),g("August","August"),g("September","September"),g("October","October"),g("November","November"),g("December","December")];hl.monthNamesShort=[g("JanuaryShort","Jan"),g("FebruaryShort","Feb"),g("MarchShort","Mar"),g("AprilShort","Apr"),g("MayShort","May"),g("JuneShort","Jun"),g("JulyShort","Jul"),g("AugustShort","Aug"),g("SeptemberShort","Sep"),g("OctoberShort","Oct"),g("NovemberShort","Nov"),g("DecemberShort","Dec")];var ak=class{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;let t=Yee(this._workspaceService.getWorkspace());if(!!t){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(n6(e))return ah(e.uri.path);let t=ah(e.configPath.path);return t.endsWith(hM)&&(t=t.substr(0,t.length-hM.length-1)),t}_resoveWorkspacePath(e){if(n6(e))return EV(e.uri.fsPath);let t=ah(e.configPath.path),i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?EV(i):"/"}},lk=class{resolve(e){let{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return Z2()}};var Xwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Qwe=function(r,e){return function(t,i){e(t,i,r)}},Ta=class{constructor(e,t,i){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=v5(t.placeholders,Oa.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;let e=this._editor.getModel();this._editor.changeDecorations(t=>{for(let i of this._snippet.placeholders){let n=this._snippet.offset(i),o=this._snippet.fullLen(i),s=D.fromPositions(e.getPositionAt(this._offset+n),e.getPositionAt(this._offset+n+o)),a=i.isFinalTabstop?Ta._decor.inactiveFinal:Ta._decor.inactive,l=t.addDecoration(s,a);this._placeholderDecorations.set(i,l)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let n=[];for(let o of this._placeholderGroups[this._placeholderGroupsIdx])if(o.transform){let s=this._placeholderDecorations.get(o),a=this._editor.getModel().getDecorationRange(s),l=this._editor.getModel().getValueInRange(a),c=o.transform.resolve(l).split(/\r\n|\r|\n/);for(let d=1;d<c.length;d++)c[d]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[d]);n.push(li.replace(a,c.join(this._editor.getModel().getEOL())))}n.length>0&&this._editor.executeEdits("snippet.placeholderTransform",n)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);let i=this._editor.getModel().changeDecorations(n=>{let o=new Set,s=[];for(let a of this._placeholderGroups[this._placeholderGroupsIdx]){let l=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(l);s.push(new ge(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(a),n.changeDecorationOptions(l,a.isFinalTabstop?Ta._decor.activeFinal:Ta._decor.active),o.add(a);for(let d of this._snippet.enclosingPlaceholders(a)){let h=this._placeholderDecorations.get(d);n.changeDecorationOptions(h,d.isFinalTabstop?Ta._decor.activeFinal:Ta._decor.active),o.add(d)}}for(let[a,l]of this._placeholderDecorations)o.has(a)||n.changeDecorationOptions(l,a.isFinalTabstop?Ta._decor.inactiveFinal:Ta._decor.inactive);return s});return t?this.move(e):i??[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof Oa){let i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){let e=new Map;for(let t of this._placeholderGroups){let i;for(let n of t){if(n.isFinalTabstop)break;i||(i=[],e.set(n.index,i));let o=this._placeholderDecorations.get(n),s=this._editor.getModel().getDecorationRange(o);if(!s){e.delete(n.index);break}i.push(s)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;let e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!e?.choice)return;let t=this._placeholderDecorations.get(e);if(!t)return;let i=this._editor.getModel().getDecorationRange(t);if(!!i)return{range:i,choice:e.choice}}get hasChoice(){let e=!1;return this._snippet.walk(t=>(e=t instanceof ng,!e)),e}merge(e){let t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(let n of this._placeholderGroups[this._placeholderGroupsIdx]){let o=e.shift();console.assert(o._offset!==-1),console.assert(!o._placeholderDecorations);let s=o._snippet.placeholderInfo.last.index;for(let l of o._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=n.index+(s+1)/this._nestingLevel:l.index=n.index+l.index/this._nestingLevel;this._snippet.replace(n,o._snippet.children);let a=this._placeholderDecorations.get(n);i.removeDecoration(a),this._placeholderDecorations.delete(n);for(let l of o._snippet.placeholders){let c=o._snippet.offset(l),d=o._snippet.fullLen(l),h=D.fromPositions(t.getPositionAt(o._offset+c),t.getPositionAt(o._offset+c+d)),u=i.addDecoration(h,Ta._decor.inactive);this._placeholderDecorations.set(l,u)}}this._placeholderGroups=v5(this._snippet.placeholders,Oa.compareByIndex)})}};Ta._decor={active:Ge.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Ge.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Ge.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Ge.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var Yne={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},Y1=class cg{constructor(e,t,i=Yne,n){this._editor=e,this._template=t,this._options=i,this._languageConfigurationService=n,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(e,t,i,n,o){let s=e.getLineContent(t.lineNumber),a=ri(s,0,t.column-1),l;return i.walk(c=>{if(!(c instanceof Sr)||c.parent instanceof ng)return!0;let d=c.value.split(/\r\n|\r|\n/);if(n){let u=i.offset(c);if(u===0)d[0]=e.normalizeIndentation(d[0]);else{l=l??i.toString();let f=l.charCodeAt(u-1);(f===10||f===13)&&(d[0]=e.normalizeIndentation(a+d[0]))}for(let f=1;f<d.length;f++)d[f]=e.normalizeIndentation(a+d[f])}let h=d.join(e.getEOL());return h!==c.value&&(c.parent.replace(c,[new Sr(h)]),l=void 0),!0}),a}static adjustSelection(e,t,i,n){if(i!==0||n!==0){let{positionLineNumber:o,positionColumn:s}=t,a=s-i,l=s+n,c=e.validateRange({startLineNumber:o,startColumn:a,endLineNumber:o,endColumn:l});t=ge.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(e,t,i,n,o,s,a,l,c){let d=[],h=[];if(!e.hasModel())return{edits:d,snippets:h};let u=e.getModel(),f=e.invokeWithinContext(k=>k.get(sp)),m=e.invokeWithinContext(k=>new ok(k.get(Md),u)),_=()=>a,v=u.getValueInRange(cg.adjustSelection(u,e.getSelection(),i,0)),w=u.getValueInRange(cg.adjustSelection(u,e.getSelection(),0,n)),y=u.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),x=e.getSelections().map((k,N)=>({selection:k,idx:N})).sort((k,N)=>D.compareRangesUsingStarts(k.selection,N.selection));for(let{selection:k,idx:N}of x){let M=cg.adjustSelection(u,k,i,0),I=cg.adjustSelection(u,k,0,n);v!==u.getValueInRange(M)&&(M=k),w!==u.getValueInRange(I)&&(I=k);let O=k.setStartPosition(M.startLineNumber,M.startColumn).setEndPosition(I.endLineNumber,I.endColumn),R=new Is().parse(t,!0,o),K=O.getStartPosition(),q=cg.adjustWhitespace(u,K,R,s||N>0&&y!==u.getLineFirstNonWhitespaceColumn(k.positionLineNumber),!0);R.resolveVariables(new ik([m,new rk(_,N,x.length,e.getOption(73)==="spread"),new nk(u,k,N,l),new sk(u,k,c),new hl,new ak(f),new lk])),d[N]=li.replace(O,R.toString()),d[N].identifier={major:N,minor:0},d[N]._isTracked=!0,h[N]=new Ta(e,R,q)}return{edits:d,snippets:h}}static createEditsAndSnippetsFromEdits(e,t,i,n,o,s,a){if(!e.hasModel()||t.length===0)return{edits:[],snippets:[]};let l=[],c=e.getModel(),d=new Is,h=new Op,u=new ik([e.invokeWithinContext(m=>new ok(m.get(Md),c)),new rk(()=>o,0,e.getSelections().length,e.getOption(73)==="spread"),new nk(c,e.getSelection(),0,s),new sk(c,e.getSelection(),a),new hl,new ak(e.invokeWithinContext(m=>m.get(sp))),new lk]);t=t.sort((m,_)=>D.compareRangesUsingStarts(m.range,_.range));let f=0;for(let m=0;m<t.length;m++){let{range:_,template:v}=t[m];if(m>0){let k=t[m-1].range,N=D.fromPositions(k.getEndPosition(),_.getStartPosition()),M=new Sr(c.getValueInRange(N));h.appendChild(M),f+=M.value.length}d.parseFragment(v,h),h.resolveVariables(u);let w=h.toString(),y=w.slice(f);f=w.length;let x=li.replace(_,y);x.identifier={major:m,minor:0},x._isTracked=!0,l.push(x)}return d.ensureFinalTabstop(h,i,!0),{edits:l,snippets:[new Ta(e,h,"")]}}dispose(){ft(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;let{edits:e,snippets:t}=typeof this._template=="string"?cg.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):cg.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=t,this._editor.executeEdits("snippet",e,i=>{let n=i.filter(o=>!!o.identifier);for(let o=0;o<t.length;o++)t[o].initialize(n[o].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):n.map(o=>ge.fromPositions(o.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=Yne){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);let{edits:i,snippets:n}=cg.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",i,o=>{let s=o.filter(l=>!!l.identifier);for(let l=0;l<n.length;l++)n[l].initialize(s[l].textChange);let a=n[0].isTrivialSnippet;if(!a){for(let l of this._snippets)l.merge(n);console.assert(n.length===0)}return this._snippets[0].hasPlaceholder&&!a?this._move(void 0):s.map(l=>ge.fromPositions(l.range.getEndPosition()))})}next(){let e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){let e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){let t=[];for(let i of this._snippets){let n=i.move(e);t.push(...n)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;let e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(let i of this._snippets){let n=i.computePossibleSelections();if(t.size===0)for(let[o,s]of n){s.sort(D.compareRangesUsingStarts);for(let a of e)if(s[0].containsRange(a)){t.set(o,[]);break}}if(t.size===0)return!1;t.forEach((o,s)=>{o.push(...n.get(s))})}e.sort(D.compareRangesUsingStarts);for(let[i,n]of t){if(n.length!==e.length){t.delete(i);continue}n.sort(D.compareRangesUsingStarts);for(let o=0;o<n.length;o++)if(!n[o].containsRange(e[o])){t.delete(i);continue}}return t.size>0}};Y1=Xwe([Qwe(3,ii)],Y1);var Jwe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},G2=function(r,e){return function(t,i){e(t,i,r)}},X2={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},fo=class ck{constructor(e,t,i,n,o){this._editor=e,this._logService=t,this._languageFeaturesService=i,this._languageConfigurationService=o,this._snippetListener=new J,this._modelVersionId=-1,this._inSnippet=ck.InSnippetMode.bindTo(n),this._hasNextTabstop=ck.HasNextTabstop.bindTo(n),this._hasPrevTabstop=ck.HasPrevTabstop.bindTo(n)}static get(e){return e.getContribution(ck.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}apply(e,t){try{this._doInsert(e,typeof t>"u"?X2:Object.assign(Object.assign({},X2),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_edits=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(e,t){try{this._doInsert(e,typeof t>"u"?X2:Object.assign(Object.assign({},X2),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var i;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?($t(typeof e=="string"),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new Y1(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),!((i=this._session)===null||i===void 0)&&i.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(o,s)=>{if(!this._session||o!==this._editor.getModel()||!H.equals(this._editor.getPosition(),s))return;let{activeChoice:a}=this._session;if(!a||a.choice.options.length===0)return;let l=o.getValueInRange(a.range),c=Boolean(a.choice.options.find(h=>h.value===l)),d=[];for(let h=0;h<a.choice.options.length;h++){let u=a.choice.options[h];d.push({kind:13,label:u.value,insertText:u.value,sortText:"a".repeat(h+1),range:a.range,filterText:c?`${l}_${u.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:g("next","Go to next placeholder...")}})}return{suggestions:d}}};let n=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(n)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(n=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}let{activeChoice:e}=this._session;if(!e||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==e.choice&&(this._currentChoice=e.choice,queueMicrotask(()=>{Lne(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};fo.ID="snippetController2";fo.InSnippetMode=new Ce("inSnippetMode",!1,g("inSnippetMode","Whether the editor in current in snippet mode"));fo.HasNextTabstop=new Ce("hasNextTabstop",!1,g("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));fo.HasPrevTabstop=new Ce("hasPrevTabstop",!1,g("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));fo=Jwe([G2(1,Oo),G2(2,_e),G2(3,Te),G2(4,ii)],fo);Ze(fo.ID,fo);var Q2=zi.bindToContribution(fo.get);me(new Q2({id:"jumpToNextSnippetPlaceholder",precondition:Se.and(fo.InSnippetMode,fo.HasNextTabstop),handler:r=>r.next(),kbOpts:{weight:100+30,kbExpr:F.editorTextFocus,primary:2}}));me(new Q2({id:"jumpToPrevSnippetPlaceholder",precondition:Se.and(fo.InSnippetMode,fo.HasPrevTabstop),handler:r=>r.prev(),kbOpts:{weight:100+30,kbExpr:F.editorTextFocus,primary:1026}}));me(new Q2({id:"leaveSnippet",precondition:fo.InSnippetMode,handler:r=>r.cancel(!0),kbOpts:{weight:100+30,kbExpr:F.editorTextFocus,primary:9,secondary:[1033]}}));me(new Q2({id:"acceptSnippet",precondition:fo.InSnippetMode,handler:r=>r.finish()}));function J2(r,e,t){let i=fo.get(r);return i?(r.focus(),i.apply(t.map(n=>({range:ge.liftSelection(n),template:e}))),i.isInSnippet()):!1}to();var e1e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},eF=function(r,e){return function(t,i){e(t,i,r)}},Zne=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},IV="application/vnd.code.copyMetadata",Z1=class extends ${constructor(e,t,i,n,o){super(),this._bulkEditService=t,this._clipboardService=i,this._configurationService=n,this._languageFeaturesService=o,this._editor=e;let s=e.getContainerDomNode();this._register(ne(s,"copy",a=>this.handleCopy(a))),this._register(ne(s,"cut",a=>this.handleCopy(a))),this._register(ne(s,"paste",a=>this.handlePaste(a),!0))}arePasteActionsEnabled(e){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:e.uri})}handleCopy(e){var t;if(!e.clipboardData||!this._editor.hasTextFocus())return;let i=this._editor.getModel(),n=this._editor.getSelections();if(!i||!n?.length||!this.arePasteActionsEnabled(i))return;let o=[...n],s=n[0],a=s.isEmpty();if(a){if(!this._editor.getOption(33))return;o[0]=new D(s.startLineNumber,0,s.startLineNumber,i.getLineLength(s.startLineNumber))}let l=this._languageFeaturesService.documentPasteEditProvider.ordered(i).filter(u=>!!u.prepareDocumentPaste);if(!l.length){this.setCopyMetadata(e.clipboardData,{wasFromEmptySelection:a});return}let c=ek(e.clipboardData),d=Z2();this.setCopyMetadata(e.clipboardData,{id:d,wasFromEmptySelection:a});let h=wi(u=>Zne(this,void 0,void 0,function*(){let f=yield Promise.all(l.map(m=>m.prepareDocumentPaste(i,o,c,u)));for(let m of f)m?.forEach((_,v)=>{c.replace(v,_)});return c}));(t=this._currentClipboardItem)===null||t===void 0||t.dataTransferPromise.cancel(),this._currentClipboardItem={handle:d,dataTransferPromise:h}}setCopyMetadata(e,t){e.setData(IV,JSON.stringify(t))}handlePaste(e){var t,i,n;return Zne(this,void 0,void 0,function*(){if(!e.clipboardData||!this._editor.hasTextFocus())return;let o=this._editor.getSelections();if(!o?.length||!this._editor.hasModel())return;let s=this._editor.getModel();if(!this.arePasteActionsEnabled(s))return;let a,l=(t=e.clipboardData)===null||t===void 0?void 0:t.getData(IV);l&&typeof l=="string"&&(a=JSON.parse(l));let c=this._languageFeaturesService.documentPasteEditProvider.ordered(s);if(!c.length)return;e.preventDefault(),e.stopImmediatePropagation();let d=s.getVersionId(),h=new al(this._editor,3);try{let u=ek(e.clipboardData);if(a?.id&&((i=this._currentClipboardItem)===null||i===void 0?void 0:i.handle)===a.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((v,w)=>{u.replace(w,v)}),!u.has(Eo.uriList)){let _=yield this._clipboardService.readResources();_.length&&u.append(Eo.uriList,QD(tk.create(_)))}u.delete(IV);for(let _ of c){if(!_.pasteMimeTypes.some(w=>w.toLowerCase()===Xh.FILES.toLowerCase()?[...u.values()].some(y=>y.asFile()):u.has(w)))continue;let v=yield _.provideDocumentPasteEdits(s,o,u,h.token);if(d!==s.getVersionId())return;if(v){J2(this._editor,typeof v.insertText=="string"?Is.escape(v.insertText):v.insertText.snippet,o),v.additionalEdit&&(yield this._bulkEditService.apply(jc.convert(v.additionalEdit),{editor:this._editor}));return}}let f=(n=u.get(Eo.text))!==null&&n!==void 0?n:u.get("text");if(!f)return;let m=yield f.asString();if(d!==s.getVersionId())return;this._editor.trigger("keyboard","paste",{text:m,pasteOnNewLine:a?.wasFromEmptySelection,multicursorText:null})}finally{h.dispose()}})}};Z1.ID="editor.contrib.copyPasteActionController";Z1=e1e([eF(1,eu),eF(2,Ls),eF(3,yt),eF(4,_e)],Z1);Ne();Xu();fr();Ze(Z1.ID,Z1);di.as(ps.Configuration).registerConfiguration(Object.assign(Object.assign({},Dx),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:g("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}));bl();xt();Le();Ui();io();Wl();rt();Le();Ci();var Uc=class{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;let n=t.length,o=e.length;if(i+n>o)return!1;for(let s=0;s<n;s++){let a=e.charCodeAt(i+s),l=t.charCodeAt(s);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,o,s){let a=e.startLineNumber,l=e.startColumn,c=e.endLineNumber,d=e.endColumn,h=o.getLineContent(a),u=o.getLineContent(c),f=h.lastIndexOf(t,l-1+t.length),m=u.indexOf(i,d-1-i.length);if(f!==-1&&m!==-1)if(a===c)h.substring(f+t.length,m).indexOf(i)>=0&&(f=-1,m=-1);else{let v=h.substring(f+t.length),w=u.substring(0,m);(v.indexOf(i)>=0||w.indexOf(i)>=0)&&(f=-1,m=-1)}let _;f!==-1&&m!==-1?(n&&f+t.length<h.length&&h.charCodeAt(f+t.length)===32&&(t=t+" "),n&&m>0&&u.charCodeAt(m-1)===32&&(i=" "+i,m-=1),_=Uc._createRemoveBlockCommentOperations(new D(a,f+t.length+1,c,m+1),t,i)):(_=Uc._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=_.length===1?i:null);for(let v of _)s.addTrackedEditOperation(v.range,v.text)}static _createRemoveBlockCommentOperations(e,t,i){let n=[];return D.isEmpty(e)?n.push(li.delete(new D(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(li.delete(new D(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(li.delete(new D(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){let o=[];return D.isEmpty(e)?o.push(li.replace(new D(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(li.insert(new H(e.startLineNumber,e.startColumn),t+(n?" ":""))),o.push(li.insert(new H(e.endLineNumber,e.endColumn),(n?" ":"")+i))),o}getEditOperations(e,t){let i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);let o=e.getLanguageIdAtPosition(i,n),s=this.languageConfigurationService.getLanguageConfiguration(o).comments;!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){let i=t.getInverseEditOperations();if(i.length===2){let n=i[0],o=i[1];return new ge(n.range.endLineNumber,n.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{let n=i[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new ge(n.endLineNumber,n.endColumn+o,n.endLineNumber,n.endColumn+o)}}};Ye();Wl();rt();Le();Ci();var Hc=class{constructor(e,t,i,n,o,s,a){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=n,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(e,t,i,n){e.tokenization.tokenizeIfCheap(t);let o=e.getLanguageIdAtPosition(t,1),s=n.getLanguageConfiguration(o).comments,a=s?s.lineCommentToken:null;if(!a)return null;let l=[];for(let c=0,d=i-t+1;c<d;c++)l[c]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return l}static _analyzeLines(e,t,i,n,o,s,a,l){let c=!0,d;e===0?d=!0:e===1?d=!1:d=!0;for(let h=0,u=n.length;h<u;h++){let f=n[h],m=o+h;if(m===o&&a){f.ignore=!0;continue}let _=i.getLineContent(m),v=En(_);if(v===-1){f.ignore=s,f.commentStrOffset=_.length;continue}if(c=!1,f.ignore=!1,f.commentStrOffset=v,d&&!Uc._haystackHasNeedleAtOffset(_,f.commentStr,v)&&(e===0?d=!1:e===1||(f.ignore=!0)),d&&t){let w=v+f.commentStrLength;w<_.length&&_.charCodeAt(w)===32&&(f.commentStrLength+=1)}}if(e===0&&c){d=!1;for(let h=0,u=n.length;h<u;h++)n[h].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:n}}static _gatherPreflightData(e,t,i,n,o,s,a,l){let c=Hc._gatherPreflightCommentStrings(i,n,o,l);return c===null?{supported:!1}:Hc._analyzeLines(e,t,i,c,n,s,a,l)}_executeLineComments(e,t,i,n){let o;i.shouldRemoveComments?o=Hc._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(Hc._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));let s=new H(n.positionLineNumber,n.positionColumn);for(let a=0,l=o.length;a<l;a++)t.addEditOperation(o[a].range,o[a].text),D.isEmpty(o[a].range)&&D.getStartPosition(o[a].range).equals(s)&&e.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(o[a].text||"").length);this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let o=t.startLineNumber,s=t.endLineNumber,a=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),l=e.getLineContent(o).lastIndexOf(i,a-1),c=e.getLineContent(s).indexOf(n,t.endColumn-1-i.length);return l!==-1&&c===-1&&(c=e.getLineContent(o).indexOf(n,l+i.length),s=o),l===-1&&c!==-1&&(l=e.getLineContent(s).lastIndexOf(i,c),o=s),t.isEmpty()&&(l===-1||c===-1)&&(l=e.getLineContent(o).indexOf(i),l!==-1&&(c=e.getLineContent(o).indexOf(n,l+i.length))),l!==-1&&e.getLineContent(o).charCodeAt(l+i.length)===32&&(i+=" "),c!==-1&&e.getLineContent(s).charCodeAt(c-1)===32&&(n=" "+n,c-=1),l!==-1&&c!==-1?Uc._createRemoveBlockCommentOperations(new D(o,l+i.length+1,s,c+1),i,n):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);let n=e.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(n).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;let s=o.blockCommentStartToken,a=o.blockCommentEndToken,l=this._attemptRemoveBlockComment(e,i,s,a);if(!l){if(i.isEmpty()){let c=e.getLineContent(i.startLineNumber),d=En(c);d===-1&&(d=c.length),l=Uc._createAddBlockCommentOperations(new D(i.startLineNumber,d+1,i.startLineNumber,c.length+1),s,a,this._insertSpace)}else l=Uc._createAddBlockCommentOperations(new D(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),s,a,this._insertSpace);l.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(i);for(let c of l)t.addEditOperation(c.range,c.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new D(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=Hc._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new ge(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let n=0,o=e.length;n<o;n++){let s=e[n];s.ignore||i.push(li.delete(new D(t+n,s.commentStrOffset+1,t+n,s.commentStrOffset+s.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[],n=this._insertSpace?" ":"";for(let o=0,s=e.length;o<s;o++){let a=e[o];a.ignore||i.push(li.insert(new H(t+o,a.commentStrOffset+1),a.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o=1073741824,s,a;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;let d=e.getLineContent(i+l),h=0;for(let u=0,f=t[l].commentStrOffset;h<o&&u<f;u++)h=Hc.nextVisibleColumn(h,n,d.charCodeAt(u)===9,1);h<o&&(o=h)}o=Math.floor(o/n)*n;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;let d=e.getLineContent(i+l),h=0;for(s=0,a=t[l].commentStrOffset;h<o&&s<a;s++)h=Hc.nextVisibleColumn(h,n,d.charCodeAt(s)===9,1);h>o?t[l].commentStrOffset=s-1:t[l].commentStrOffset=s}}};Ne();er();var dk=class extends we{constructor(e,t){super(t),this._type=e}run(e,t){let i=e.get(ii);if(!t.hasModel())return;let n=t.getModel(),o=[],s=n.getOptions(),a=t.getOption(19),l=t.getSelections().map((d,h)=>({selection:d,index:h,ignoreFirstLine:!1}));l.sort((d,h)=>D.compareRangesUsingStarts(d.selection,h.selection));let c=l[0];for(let d=1;d<l.length;d++){let h=l[d];c.selection.endLineNumber===h.selection.startLineNumber&&(c.index<h.index?h.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=h))}for(let d of l)o.push(new Hc(i,d.selection,s.tabSize,this._type,a.insertSpace,a.ignoreEmptyLines,d.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}},OV=class extends dk{constructor(){super(0,{id:"editor.action.commentLine",label:g("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:z.MenubarEditMenu,group:"5_insert",title:g({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}},NV=class extends dk{constructor(){super(1,{id:"editor.action.addCommentLine",label:g("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2081),weight:100}})}},TV=class extends dk{constructor(){super(2,{id:"editor.action.removeCommentLine",label:g("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2099),weight:100}})}},PV=class extends we{constructor(){super({id:"editor.action.blockComment",label:g("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:z.MenubarEditMenu,group:"5_insert",title:g({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){let i=e.get(ii);if(!t.hasModel())return;let n=t.getOption(19),o=[],s=t.getSelections();for(let a of s)o.push(new Uc(a,n.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}};le(OV);le(NV);le(TV);le(PV);Fe();Fr();se();At();xt();Ui();Ne();er();St();to();var t1e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},G1=function(r,e){return function(t,i){e(t,i,r)}},X1=class Gne{constructor(e,t,i,n,o,s,a){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=n,this._keybindingService=o,this._menuService=s,this._configurationService=a,this._toDispose=new J,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(l=>this._onContextMenu(l))),this._toDispose.add(this._editor.onMouseWheel(l=>{if(this._contextMenuIsBeingShownCount>0){let c=this._contextViewService.getContextViewElement(),d=l.srcElement;d.shadowRoot&&ud(c)===d.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(l=>{!this._editor.getOption(20)||l.keyCode===58&&(l.preventDefault(),l.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution(Gne.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu({x:e.event.posx-1,width:2,y:e.event.posy-1,height:2});if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let i=!1;for(let n of this._editor.getSelections())if(n.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;let t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?z.SimpleEditorContext:z.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){let i=[],n=this._menuService.createMenu(t,this._contextKeyService),o=n.getActions({arg:e.uri});n.dispose();for(let s of o){let[,a]=s,l=0;for(let c of a)if(c instanceof Cm){let d=this._getMenuActions(e,c.item.submenu);d.length>0&&(i.push(new fd(c.id,c.label,d)),l++)}else i.push(c),l++;l&&i.push(new Bn)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;let i=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();let o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),s=dn(this._editor.getDomNode()),a=s.left+o.left,l=s.top+o.top+o.height;t={x:a,y:l}}let n=this._editor.getOption(117)&&!sa;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:n?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:o=>{let s=this._keybindingFor(o);if(s)return new Pd(o,o,{label:!0,keybinding:s.getLabel(),isMenu:!0});let a=o;return typeof a.getActionViewItem=="function"?a.getActionViewItem():new Pd(o,o,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:o=>this._keybindingFor(o),onHide:o=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:i})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel())return;let t=this._editor.getOption(67),i=0,n=c=>({id:`menu-action-${++i}`,label:c.label,tooltip:"",class:void 0,enabled:typeof c.enabled>"u"?!0:c.enabled,checked:c.checked,run:c.run,dispose:()=>null}),o=(c,d)=>new fd(`menu-action-${++i}`,c,d,void 0),s=(c,d,h,u,f)=>{if(!d)return n({label:c,enabled:d,run:()=>{}});let m=v=>()=>{this._configurationService.updateValue(h,v)},_=[];for(let v of f)_.push(n({label:v.label,checked:u===v.value,run:m(v.value)}));return o(c,_)},a=[];a.push(n({label:g("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),a.push(new Bn),a.push(n({label:g("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),a.push(s(g("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:g("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:g("context.minimap.size.fill","Fill"),value:"fill"},{label:g("context.minimap.size.fit","Fit"),value:"fit"}])),a.push(s(g("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:g("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:g("context.minimap.slider.always","Always"),value:"always"}]));let l=this._editor.getOption(117)&&!sa;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>a,onHide:c=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};X1.ID="editor.contrib.contextmenu";X1=t1e([G1(1,Gs),G1(2,Bl),G1(3,Te),G1(4,gn),G1(5,Xa),G1(6,yt)],X1);var AV=class extends we{constructor(){super({id:"editor.action.showContextMenu",label:g("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;(i=X1.get(t))===null||i===void 0||i.showContextMenu()}};Ze(X1.ID,X1);le(AV);se();xt();Ui();Ne();var hk=class{constructor(e){this.selections=e}equals(e){let t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}},uk=class{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}},dg=class extends ${constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;let i=new hk(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new uk(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(dg.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new uk(new hk(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new uk(new hk(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}};dg.ID="editor.contrib.cursorUndoRedoController";var MV=class extends we{constructor(){super({id:"cursorUndo",label:g("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var n;(n=dg.get(t))===null||n===void 0||n.cursorUndo()}},RV=class extends we{constructor(){super({id:"cursorRedo",label:g("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var n;(n=dg.get(t))===null||n===void 0||n.cursorRedo()}};Ze(dg.ID,dg);le(MV);le(RV);se();At();xt();rt();Le();Ci();Ao();Le();Ci();var tF=class{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){let i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new D(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new ge(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new ge(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new ge(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new ge(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new ge(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}};function Q1(r){return at?r.altKey:r.ctrlKey}var qd=class extends ${constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Q1(e)&&(this._modifierPressed=!0),this._mouseDown&&Q1(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Q1(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===qd.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(this._dragSelection===null){let n=(this._editor.getSelections()||[]).filter(o=>t.position&&o.containsPosition(t.position));if(n.length===1)this._dragSelection=n[0];else return}Q1(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new H(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){let n=this._editor.getSelection();if(n){let{selectionStartLineNumber:o,selectionStartColumn:s}=n;i=[new ge(o,s,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(n=>n.containsPosition(t)?new ge(t.lineNumber,t.column,t.lineNumber,t.column):n);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Q1(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(qd.ID,new tF(this._dragSelection,t,Q1(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new D(e.lineNumber,e.column,e.lineNumber,e.column),options:qd._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}};qd.ID="editor.contrib.dragAndDrop";qd.TRIGGER_KEY_VALUE=at?6:5;qd._DECORATION_OPTIONS=Ge.register({description:"dnd-target",className:"dnd-target"});Ze(qd.ID,qd);ot();se();am();Vr();vi();xt();Le();Ci();oi();Gf();Ne();Rc();var Xne=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},fk=function(r,e){return function(t,i){e(t,i,r)}},iF=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},gk=class extends ${constructor(e,t,i,n,o){super(),this._bulkEditService=t,this._languageFeaturesService=i,this._progressService=n,this._register(e.onDropIntoEditor(s=>this.onDropIntoEditor(e,s.position,s.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new FV(o))}onDropIntoEditor(e,t,i){return iF(this,void 0,void 0,function*(){if(!i.dataTransfer||!e.hasModel())return;let n=e.getModel(),o=n.getVersionId(),s=yield this.extractDataTransferData(i);if(s.size===0||e.getModel().getVersionId()!==o)return;let a=new al(e,1);try{let l=this._languageFeaturesService.documentOnDropEditProvider.ordered(n),c=yield this._progressService.withProgress({location:15,delay:750,title:g("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>iC((()=>iF(this,void 0,void 0,function*(){for(let d of l){let h=yield d.provideDocumentOnDropEdits(n,t,s,a.token);if(a.token.isCancellationRequested)return;if(h)return h}}))(),a.token),()=>{a.cancel()});if(a.token.isCancellationRequested||e.getModel().getVersionId()!==o)return;if(c){let d=new D(t.lineNumber,t.column,t.lineNumber,t.column);J2(e,typeof c.insertText=="string"?Is.escape(c.insertText):c.insertText.snippet,[ge.fromRange(d,0)]),c.additionalEdit&&(yield this._bulkEditService.apply(jc.convert(c.additionalEdit),{editor:e}));return}}finally{a.dispose()}})}extractDataTransferData(e){return iF(this,void 0,void 0,function*(){if(!e.dataTransfer)return new q1;let t=ek(e.dataTransfer);return qne(t,e),t})}};gk.ID="editor.contrib.dropIntoEditorController";gk=Xne([fk(1,eu),fk(2,_e),fk(3,WA),fk(4,sp)],gk);var FV=class{constructor(e){this._workspaceContextService=e}provideDocumentOnDropEdits(e,t,i,n){var o;return iF(this,void 0,void 0,function*(){let s=i.get(Eo.uriList);if(s){let l=yield s.asString(),c=this.getUriListInsertText(l);if(c)return{insertText:c}}let a=(o=i.get("text"))!==null&&o!==void 0?o:i.get(Eo.text);if(a)return{insertText:yield a.asString()}})}getUriListInsertText(e){let t=[];for(let i of tk.parse(e))try{t.push(Ee.parse(i))}catch{}if(!!t.length)return t.map(i=>{let n=this._workspaceContextService.getWorkspaceFolder(i);if(n){let o=wJ(n.uri,i);if(o)return o}return i.fsPath}).join(" ")}};FV=Xne([fk(0,sp)],FV);Ze(gk.ID,gk);ot();se();Ye();xt();Ui();Ft();ot();se();rt();Le();Ci();WS();Le();Rs();Ao();Ai();Ct();var rr=class{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){let e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){let t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(let i of t){let n=i.options;if(n===rr._FIND_MATCH_DECORATION||n===rr._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,o=this._decorations.length;n<o;n++){let s=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(s)){t=this._decorations[n],i=n+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,rr._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,n.changeDecorationOptions(this._highlightedDecorationId,rr._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){let s=o.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(s);o=new D(o.startLineNumber,o.startColumn,s,a)}this._rangeHighlightDecorationId=n.addDecoration(o,rr._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let n=rr._FIND_MATCH_DECORATION,o=[];if(e.length>1e3){n=rr._FIND_MATCH_NO_OVERVIEW_DECORATION;let a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,d=Math.max(2,Math.ceil(3/c)),h=e[0].range.startLineNumber,u=e[0].range.endLineNumber;for(let f=1,m=e.length;f<m;f++){let _=e[f].range;u+d>=_.startLineNumber?_.endLineNumber>u&&(u=_.endLineNumber):(o.push({range:new D(h,1,u,1),options:rr._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),h=_.startLineNumber,u=_.endLineNumber)}o.push({range:new D(h,1,u,1),options:rr._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(e.length);for(let a=0,l=e.length;a<l;a++)s[a]={range:e[a].range,options:n};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),t?.length&&(this._findScopeDecorationIds=t.map(a=>i.addDecoration(a,rr._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){let n=this._decorations[t],o=this._editor.getModel().getDecorationRange(n);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}};rr._CURRENT_FIND_MATCH_DECORATION=Ge.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:un(ZN),position:ts.Center},minimap:{color:un(ib),position:is.Inline}});rr._FIND_MATCH_DECORATION=Ge.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:un(ZN),position:ts.Center},minimap:{color:un(ib),position:is.Inline}});rr._FIND_MATCH_NO_OVERVIEW_DECORATION=Ge.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});rr._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Ge.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:un(ZN),position:ts.Center}});rr._RANGE_HIGHLIGHT_DECORATION=Ge.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});rr._FIND_SCOPE_DECORATION=Ge.register({description:"find-scope",className:"findScope",isWholeLine:!0});Le();var nF=class{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let i=[];for(let s=0;s<this._ranges.length;s++)i.push({range:this._ranges[s],text:this._replaceStrings[s]});i.sort((s,a)=>D.compareRangesUsingStarts(s.range,a.range));let n=[],o=i[0];for(let s=1;s<i.length;s++)o.range.endLineNumber===i[s].range.startLineNumber&&o.range.endColumn===i[s].range.startColumn?(o.range=o.range.plusRange(i[s].range),o.text=o.text+i[s].text):(n.push(o),o=i[s]);n.push(o);for(let s of n)t.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}};Ye();function BV(r,e){if(r&&r[0]!==""){let t=Qne(r,e,"-"),i=Qne(r,e,"_");return t&&!i?Jne(r,e,"-"):!t&&i?Jne(r,e,"_"):r[0].toUpperCase()===r[0]?e.toUpperCase():r[0].toLowerCase()===r[0]?e.toLowerCase():HY(r[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):r[0][0].toUpperCase()!==r[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function Qne(r,e,t){return r[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&r[0].split(t).length===e.split(t).length}function Jne(r,e,t){let i=e.split(t),n=r[0].split(t),o="";return i.forEach((s,a)=>{o+=BV([n[a]],s)+t}),o.slice(0,-1)}var oF=class{constructor(e){this.staticValue=e,this.kind=0}},jV=class{constructor(e){this.pieces=e,this.kind=1}},ug=class{constructor(e){!e||e.length===0?this._state=new oF(""):e.length===1&&e[0].staticValue!==null?this._state=new oF(e[0].staticValue):this._state=new jV(e)}static fromStaticValue(e){return new ug([hg.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(e,t){if(this._state.kind===0)return t?BV(e,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,o=this._state.pieces.length;n<o;n++){let s=this._state.pieces[n];if(s.staticValue!==null){i+=s.staticValue;continue}let a=ug._substitute(s.matchIndex,e);if(s.caseOps!==null&&s.caseOps.length>0){let l=[],c=s.caseOps.length,d=0;for(let h=0,u=a.length;h<u;h++){if(d>=c){l.push(a.slice(h));break}switch(s.caseOps[d]){case"U":l.push(a[h].toUpperCase());break;case"u":l.push(a[h].toUpperCase()),d++;break;case"L":l.push(a[h].toLowerCase());break;case"l":l.push(a[h].toLowerCase()),d++;break;default:l.push(a[h])}}a=l.join("")}i+=a}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}},hg=class{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(e){return new hg(e,-1,null)}static caseOps(e,t){return new hg(null,e,t)}},WV=class{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=hg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=hg.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=hg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new ug(this._result)}};function eoe(r){if(!r||r.length===0)return new ug(null);let e=[],t=new WV(r);for(let i=0,n=r.length;i<n;i++){let o=r.charCodeAt(i);if(o===92){if(i++,i>=n)break;let s=r.charCodeAt(i);switch(s){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(s));break}continue}if(o===36){if(i++,i>=n)break;let s=r.charCodeAt(i);if(s===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(s===48||s===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=s&&s<=57){let a=s-48;if(i+1<n){let l=r.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}}return t.finalize()}St();var fg=new Ce("findWidgetVisible",!1),PNt=fg.toNegated(),J1=new Ce("findInputFocussed",!1),mk=new Ce("replaceInputFocussed",!1),pk={primary:545,mac:{primary:2593}},_k={primary:565,mac:{primary:2613}},bk={primary:560,mac:{primary:2608}},vk={primary:554,mac:{primary:2602}},Ck={primary:558,mac:{primary:2606}},Fi={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},pu=19999,i1e=240,Tp=class{constructor(e,t){this._toDispose=new J,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new On,this._decorations=new rr(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new pt(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,ft(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||!this._editor.hasModel()||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},i1e)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t<"u"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new D(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));let n=this._findMatches(i,!1,pu);this._decorations.set(n,i);let o=this._editor.getSelection(),s=this._decorations.getCurrentMatchesPosition(o);if(s===0&&n.length>0){let a=UE(n.map(l=>l.range),l=>D.compareRangesUsingStarts(l,o)>=0);s=a>0?a-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),e&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||n===1?(i===1?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new H(i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){let d=this._decorations.matchAfterPosition(e);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<pu){let d=this._decorations.matchBeforePosition(e);d&&d.isEmpty()&&d.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),d=this._decorations.matchBeforePosition(e)),d&&this._setCurrentFindMatch(d);return}if(this._cannotFind())return;let i=this._decorations.getFindScope(),n=Tp._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());let{lineNumber:o,column:s}=e,a=this._editor.getModel(),l=new H(o,s),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),!!c){if(!t&&!n.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new H(i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){let i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<pu){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;let o=this._decorations.getFindScope(),s=Tp._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());let{lineNumber:a,column:l}=e,c=this._editor.getModel(),d=new H(a,l),h=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t);return i&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),h=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t)),h?!n&&!s.containsRange(h.range)?this._getNextMatch(h.range.getEndPosition(),t,i,!0):h:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?eoe(this._state.replaceString):ug.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let n=e.buildReplaceString(i.matches,this._state.preserveCase),o=new Kn(t,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new H(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){let n=(e||[null]).map(o=>Tp._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t,i)}replaceAll(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=pu?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){let t=new ld(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let h="mu";i.ignoreCase&&(h+="i"),i.global&&(h+="g"),i=new RegExp(i.source,h)}let n=this._editor.getModel(),o=n.getValue(1),s=n.getFullModelRange(),a=this._getReplacePattern(),l,c=this._state.preserveCase;a.hasReplacementPatterns||c?l=o.replace(i,function(){return a.buildReplaceString(arguments,c)}):l=o.replace(i,a.buildReplaceString(null,c));let d=new Mm(s,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}_regularReplaceAll(e){let t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let s=0,a=i.length;s<a;s++)n[s]=t.buildReplaceString(i[s].matches,this._state.preserveCase);let o=new nF(this._editor.getSelection(),i.map(s=>s.range),n);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),i=this._findMatches(e,!1,1073741824).map(o=>new ge(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)),n=this._editor.getSelection();for(let o=0,s=i.length;o<s;o++)if(i[o].equalsRange(n)){i=[n].concat(i.slice(0,o)).concat(i.slice(o+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}};Fe();ot();Ai();Ct();var Nv=class extends Po{constructor(e,t,i,n){super(),this._hideSoon=this._register(new pt(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");let o=n.getColorTheme().getColor(nb),s=n.getColorTheme().getColor(rb),a=n.getColorTheme().getColor(ob);this.caseSensitive=this._register(new a1({appendTitle:this._keybindingLabelFor(Fi.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new l1({appendTitle:this._keybindingLabelFor(Fi.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new c1({appendTitle:this._keybindingLabelFor(Fi.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(l=>{let c=!1;l.isRegex&&(this.regex.checked=this._state.isRegex,c=!0),l.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,c=!0),l.matchCase&&(this.caseSensitive.checked=this._state.matchCase,c=!0),!this._state.isRevealed&&c&&this._revealTemporarily()})),this._register(ne(this._domNode,ye.MOUSE_LEAVE,l=>this._onMouseLeave())),this._register(ne(this._domNode,"mouseover",l=>this._onMouseOver())),this._applyTheme(n.getColorTheme()),this._register(n.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Nv.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(nb),inputActiveOptionForeground:e.getColor(rb),inputActiveOptionBackground:e.getColor(ob)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}};Nv.ID="editor.contrib.findOptionsWidget";Lt((r,e)=>{let t=r.getColor(jn);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);let i=r.getColor(xc);i&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${i}; }`);let n=r.getColor(ya);n&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${n}; }`);let o=r.getColor(Nt);o&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${o}; }`)});Oe();se();Le();function rF(r,e){return r===1?!0:r===2?!1:e}var sF=class extends ${constructor(){super(),this._onFindReplaceStateChange=this._register(new B),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return rF(this._isRegexOverride,this._isRegex)}get wholeWord(){return rF(this._wholeWordOverride,this._wholeWord)}get matchCase(){return rF(this._matchCaseOverride,this._matchCase)}get preserveCase(){return rF(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),typeof i<"u"&&(D.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;let o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},s=!1,a=this.isRegex,l=this.wholeWord,c=this.matchCase,d=this.preserveCase;typeof e.searchString<"u"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,s=!0),typeof e.replaceString<"u"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,s=!0),typeof e.isRevealed<"u"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,s=!0),typeof e.isReplaceRevealed<"u"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),typeof e.isRegex<"u"&&(this._isRegex=e.isRegex),typeof e.wholeWord<"u"&&(this._wholeWord=e.wholeWord),typeof e.matchCase<"u"&&(this._matchCase=e.matchCase),typeof e.preserveCase<"u"&&(this._preserveCase=e.preserveCase),typeof e.searchScope<"u"&&(!((n=e.searchScope)===null||n===void 0)&&n.every(h=>{var u;return(u=this._searchScope)===null||u===void 0?void 0:u.some(f=>!D.equalsRange(f,h))})||(this._searchScope=e.searchScope,o.searchScope=!0,s=!0)),typeof e.loop<"u"&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,s=!0),typeof e.isSearching<"u"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,s=!0),typeof e.filters<"u"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,s=!0),this._isRegexOverride=typeof e.isRegexOverride<"u"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride<"u"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride<"u"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride<"u"?e.preserveCaseOverride:0,a!==this.isRegex&&(s=!0,o.isRegex=!0),l!==this.wholeWord&&(s=!0,o.wholeWord=!0),c!==this.matchCase&&(s=!0,o.matchCase=!0),d!==this.preserveCase&&(s=!0,o.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=pu}};Fe();Vs();ot();bn();ut();se();At();Ye();Le();Ne();function zV(r){var e,t;return((e=r.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=r.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}Ai();Ct();Tl();var n1e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},o1e=fn("find-selection",p.selection,g("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),toe=fn("find-collapsed",p.chevronRight,g("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),ioe=fn("find-expanded",p.chevronDown,g("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),r1e=fn("find-replace",p.replace,g("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),s1e=fn("find-replace-all",p.replaceAll,g("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),a1e=fn("find-previous-match",p.arrowUp,g("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),l1e=fn("find-next-match",p.arrowDown,g("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),c1e=g("label.find","Find"),d1e=g("placeholder.find","Find"),h1e=g("label.previousMatchButton","Previous Match"),u1e=g("label.nextMatchButton","Next Match"),f1e=g("label.toggleSelectionFind","Find in Selection"),g1e=g("label.closeButton","Close"),m1e=g("label.replace","Replace"),p1e=g("placeholder.replace","Replace"),_1e=g("label.replaceButton","Replace"),b1e=g("label.replaceAllButton","Replace All"),v1e=g("label.toggleReplaceButton","Toggle Replace"),C1e=g("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",pu),w1e=g("label.matchesLocation","{0} of {1}"),noe=g("label.noResults","No results"),_u=419,y1e=275,S1e=y1e-54,wk=69,L1e=33,ooe="ctrlEnterReplaceAll.windows.donotask",roe=at?256:2048,yk=class{constructor(e){this.afterLineNumber=e,this.heightInPx=L1e,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}};function soe(r,e,t){let i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){r.stopPropagation();return}}function aoe(r,e,t){let i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){r.stopPropagation();return}}var Tv=class extends Po{constructor(e,t,i,n,o,s,a,l,c){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=n,this._keybindingService=o,this._contextKeyService=s,this._storageService=l,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(ooe,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new gr(500),this._register(Ke(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(d=>{if(d.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),d.hasChanged(133)&&this._tryUpdateWidgetWidth(),d.hasChanged(2)&&this.updateAccessibilitySupport(),d.hasChanged(37)){let h=this._codeEditor.getOption(37).addExtraSpaceOnTop;h&&!this._viewZone&&(this._viewZone=new yk(0),this._showViewZone()),!h&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>n1e(this,void 0,void 0,function*(){if(this._isVisible){let d=yield this._controller.getGlobalBufferTerm();d&&d!==this._state.searchString&&(this._state.change({searchString:d},!1),this._findInput.select())}}))),this._findInputFocused=J1.bindTo(s),this._findFocusTracker=this._register(Ol(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=mk.bindTo(s),this._replaceFocusTracker=this._register(Ol(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new yk(0)),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(d=>{if(d.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Tv.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=_a(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Pe)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=wk+"px",this._state.matchesCount>=pu?this._matchesCount.title=C1e:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=pu&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=td(w1e,i,t)}else e=noe;this._matchesCount.appendChild(document.createTextNode(e)),Tn(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),wk=Math.max(wk,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===noe)return i===""?g("ariaSearchNoResultEmpty","{0} found",e):g("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){let n=g("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${n}`:n}return g("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;let e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{let i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&e){let i=this._codeEditor.getDomNode();if(i){let n=dn(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=n.left+(o?o.left:0),a=o?o.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);let l=LN(this._domNode).left;s>l&&(t=!1);let c=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());n.left+(c?c.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;let i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(n=>{i.heightInPx=this._getHeight(),this._viewZoneId=n.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new yk(0));let i=this._viewZone;this._codeEditor.changeViewZones(n=>{if(this._viewZoneId!==void 0){let o=this._getHeight();if(o===i.heightInPx)return;let s=o-i.heightInPx;i.heightInPx=o,n.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s);return}else{let o=this._getHeight();if(o-=this._codeEditor.getOption(77).top,o<=0)return;i.heightInPx=o,this._viewZoneId=n.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(nb),inputActiveOptionBackground:e.getColor(ob),inputActiveOptionForeground:e.getColor(rb),inputBackground:e.getColor(Om),inputForeground:e.getColor(Nm),inputBorder:e.getColor(Tm),inputValidationInfoBackground:e.getColor(VC),inputValidationInfoForeground:e.getColor(UC),inputValidationInfoBorder:e.getColor(HC),inputValidationWarningBackground:e.getColor($C),inputValidationWarningForeground:e.getColor(KC),inputValidationWarningBorder:e.getColor(qC),inputValidationErrorBackground:e.getColor(YC),inputValidationErrorForeground:e.getColor(ZC),inputValidationErrorBorder:e.getColor(GC)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible||!vC(this._domNode))return;let e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");let i=e.width,n=e.minimap.minimapWidth,o=!1,s=!1,a=!1;if(this._resized&&_a(this._domNode)>_u){this._domNode.style.maxWidth=`${i-28-n-15}px`,this._replaceInput.width=_a(this._findInput.domNode);return}if(_u+28+n>=i&&(s=!0),_u+28+n-wk>=i&&(a=!0),_u+28+n-wk>=i+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",s),!a&&!o&&(this._domNode.style.maxWidth=`${i-28-n-15}px`),this._resized){this._findInput.inputBox.layout();let l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=_a(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){let e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));let i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!D.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(roe|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return soe(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return aoe(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(roe|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{Ji&&Ns&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(g("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ooe,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return soe(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return aoe(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new M2(null,this._contextViewProvider,{width:S1e,label:c1e,placeholder:d1e,appendCaseSensitiveLabel:this._keybindingLabelFor(Fi.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Fi.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Fi.ToggleRegexCommand),validation:l=>{if(l.length===0||!this._findInput.getRegex())return null;try{return new RegExp(l,"gu"),null}catch(c){return{content:c.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>zV(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(l=>this._onFindInputKeyDown(l))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(l=>{l.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),l.preventDefault())})),this._register(this._findInput.onRegexKeyDown(l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),l.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(l=>{this._tryUpdateHeight()&&this._showViewZone()})),$i&&this._register(this._findInput.onMouseDown(l=>this._onFindInputMouseDown(l))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Pp({label:h1e+this._keybindingLabelFor(Fi.PreviousMatchFindAction),icon:a1e,onTrigger:()=>{this._codeEditor.getAction(Fi.PreviousMatchFindAction).run().then(void 0,Pe)}})),this._nextBtn=this._register(new Pp({label:u1e+this._keybindingLabelFor(Fi.NextMatchFindAction),icon:l1e,onTrigger:()=>{this._codeEditor.getAction(Fi.NextMatchFindAction).run().then(void 0,Pe)}}));let i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);let n=document.createElement("div");n.className="find-actions",i.appendChild(n),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Bd({icon:o1e,title:f1e+this._keybindingLabelFor(Fi.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let l=this._codeEditor.getSelections();l.map(c=>(c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()?null:c)).filter(c=>!!c),l.length&&this._state.change({searchScope:l},!0)}}else this._state.change({searchScope:null},!0)})),n.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Pp({label:g1e+this._keybindingLabelFor(Fi.CloseFindWidgetCommand),icon:FA,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),l.preventDefault())}})),n.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new R2(null,void 0,{label:m1e,placeholder:p1e,appendPreserveCaseLabel:this._keybindingLabelFor(Fi.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>zV(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(l=>this._onReplaceInputKeyDown(l))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(l=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(l=>{l.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),l.preventDefault())})),this._replaceBtn=this._register(new Pp({label:_1e+this._keybindingLabelFor(Fi.ReplaceOneAction),icon:r1e,onTrigger:()=>{this._controller.replace()},onKeyDown:l=>{l.equals(1026)&&(this._closeBtn.focus(),l.preventDefault())}})),this._replaceAllBtn=this._register(new Pp({label:b1e+this._keybindingLabelFor(Fi.ReplaceAllAction),icon:s1e,onTrigger:()=>{this._controller.replaceAll()}}));let o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);let s=document.createElement("div");s.className="replace-actions",o.appendChild(s),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Pp({label:v1e,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=_a(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${_u}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(o),this._resizeSash=new oo(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let a=_u;this._register(this._resizeSash.onDidStart(()=>{a=_a(this._domNode)})),this._register(this._resizeSash.onDidChange(l=>{this._resized=!0;let c=a+l.startX-l.currentX;if(c<_u)return;let d=parseFloat(tL(this._domNode).maxWidth)||0;c>d||(this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=_a(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{let l=_a(this._domNode);if(l<_u)return;let c=_u;if(!this._resized||l===_u){let d=this._codeEditor.getLayoutInfo();c=d.width-28-d.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=_a(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){let e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}};Tv.ID="editor.contrib.findWidget";var Pp=class extends Po{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Vt.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{var n,o;if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}(o=(n=this._opts).onKeyDown)===null||o===void 0||o.call(n,i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Vt.asClassNameArray(toe)),this._domNode.classList.add(...Vt.asClassNameArray(ioe))):(this._domNode.classList.remove(...Vt.asClassNameArray(ioe)),this._domNode.classList.add(...Vt.asClassNameArray(toe)))}};Lt((r,e)=>{let t=(m,_)=>{_&&e.addRule(`.monaco-editor ${m} { background-color: ${_}; }`)};t(".findMatch",r.getColor(bd)),t(".currentFindMatch",r.getColor(iX)),t(".findScope",r.getColor(nX));let i=r.getColor(jn);t(".find-widget",i);let n=r.getColor(ya);n&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${n}; }`);let o=r.getColor(km);o&&e.addRule(`.monaco-editor .findMatch { border: 1px ${Qn(r.type)?"dotted":"solid"} ${o}; box-sizing: border-box; }`);let s=r.getColor(oX);s&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${s}; padding: 1px; box-sizing: border-box; }`);let a=r.getColor(rX);a&&e.addRule(`.monaco-editor .findScope { border: 1px ${Qn(r.type)?"dashed":"solid"} ${a}; }`);let l=r.getColor(Nt);l&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${l}; }`);let c=r.getColor(xc);c&&e.addRule(`.monaco-editor .find-widget { color: ${c}; }`);let d=r.getColor(FG);d&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${d}; }`);let h=r.getColor($G);if(h)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${h}; }`);else{let m=r.getColor(pd);m&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${m}; }`)}let u=r.getColor(VN);u&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${u} !important;
		}
	`);let f=r.getColor(Qa);f&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${f}; }`)});Ne();er();St();Ct();var loe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bu=function(r,e){return function(t,i){e(t,i,r)}},Pv=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},x1e=524288;function VV(r,e="single",t=!1){if(!r.hasModel())return null;let i=r.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){let n=r.getConfiguredWordAtPosition(i.getStartPosition());if(n&&t===!1)return n.word}else if(r.getModel().getValueLengthInRange(i)<x1e)return r.getModel().getValueInRange(i)}return null}var ea=class coe extends ${constructor(e,t,i,n){super(),this._editor=e,this._findWidgetVisible=fg.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=n,this._updateHistoryDelayer=new gr(500),this._state=this._register(new sF),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(o=>this._onStateChanged(o))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let o=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),o&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(coe.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!J1.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=_o(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return Pv(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let i=Object.assign(Object.assign({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){let n=VV(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);n&&(this._state.isRegex?i.searchString=_o(n):i.searchString=n)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){let n=VV(this._editor,e.seedSearchStringFromSelection);n&&(i.searchString=n)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){let n=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;n&&(i.searchString=n)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){let n=this._editor.getSelections();n.some(o=>!o.isEmpty())&&(i.searchScope=n)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new Tp(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Pv(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};ea.ID="editor.contrib.findController";ea=loe([bu(1,Te),bu(2,rs),bu(3,Ls)],ea);var UV=class extends ea{constructor(e,t,i,n,o,s,a,l){super(e,i,a,l),this._contextViewService=t,this._keybindingService=n,this._themeService=o,this._notificationService=s,this._widget=null,this._findOptionsWidget=null}_start(e,t){let i=Object.create(null,{_start:{get:()=>super._start}});return Pv(this,void 0,void 0,function*(){this._widget||this._createFindWidget();let n=this._editor.getSelection(),o=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":{o=!!n&&n.startLineNumber!==n.endLineNumber;break}default:break}e.updateSearchScope=e.updateSearchScope||o,yield i._start.call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Tv(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Nv(this._editor,this._state,this._keybindingService,this._themeService))}};UV=loe([bu(1,Bl),bu(2,Te),bu(3,gn),bu(4,Tt),bu(5,ui),bu(6,rs),bu(7,Ls)],UV);var D1e=u8(new aL({id:Fi.StartFindAction,label:g("startFindAction","Find"),alias:"Find",precondition:Se.or(F.focus,Se.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:z.MenubarEditMenu,group:"3_find",title:g({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));D1e.addImplementation(0,(r,e,t)=>{let i=ea.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(37).loop}):!1});var k1e={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:g("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:g("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:g("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:g("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]},HV=class extends we{constructor(){super({id:Fi.StartFindWithArgs,label:g("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:k1e})}run(e,t,i){return Pv(this,void 0,void 0,function*(){let n=ea.get(t);if(n){let o=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getState().searchString.length===0&&t.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:i?.findInSelection||!1,loop:t.getOption(37).loop},o),n.setGlobalBufferTerm(n.getState().searchString)}})}},$V=class extends we{constructor(){super({id:Fi.StartFindWithSelection,label:g("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return Pv(this,void 0,void 0,function*(){let i=ea.get(t);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}},aF=class extends we{run(e,t){return Pv(this,void 0,void 0,function*(){let i=ea.get(t);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),this._run(i))})}},KV=class extends aF{constructor(){super({id:Fi.NextMatchFindAction,label:g("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:F.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Se.and(F.focus,J1),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}},qV=class extends aF{constructor(){super({id:Fi.PreviousMatchFindAction,label:g("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:F.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Se.and(F.focus,J1),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}},lF=class extends we{run(e,t){return Pv(this,void 0,void 0,function*(){let i=ea.get(t);if(!i)return;let n=t.getOption(37).seedSearchStringFromSelection==="selection",o=null;t.getOption(37).seedSearchStringFromSelection!=="never"&&(o=VV(t,"single",n)),o&&i.setSearchString(o),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:n,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),this._run(i))})}},YV=class extends lF{constructor(){super({id:Fi.NextSelectionMatchFindAction,label:g("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}},ZV=class extends lF{constructor(){super({id:Fi.PreviousSelectionMatchFindAction,label:g("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}},E1e=u8(new aL({id:Fi.StartFindReplaceAction,label:g("startReplace","Replace"),alias:"Replace",precondition:Se.or(F.focus,Se.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:z.MenubarEditMenu,group:"3_find",title:g({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));E1e.addImplementation(0,(r,e,t)=>{if(!e.hasModel()||e.getOption(83))return!1;let i=ea.get(e);if(!i)return!1;let n=e.getSelection(),o=i.isFindInputFocused(),s=!n.isEmpty()&&n.startLineNumber===n.endLineNumber&&e.getOption(37).seedSearchStringFromSelection!=="never"&&!o,a=o||s?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(37).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(37).loop})});Ze(ea.ID,UV);le(HV);le($V);le(KV);le(qV);le(YV);le(ZV);var Yd=zi.bindToContribution(ea.get);me(new Yd({id:Fi.CloseFindWidgetCommand,precondition:fg,handler:r=>r.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:Se.and(F.focus,Se.not("isComposing")),primary:9,secondary:[1033]}}));me(new Yd({id:Fi.ToggleCaseSensitiveCommand,precondition:void 0,handler:r=>r.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:pk.primary,mac:pk.mac,win:pk.win,linux:pk.linux}}));me(new Yd({id:Fi.ToggleWholeWordCommand,precondition:void 0,handler:r=>r.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:_k.primary,mac:_k.mac,win:_k.win,linux:_k.linux}}));me(new Yd({id:Fi.ToggleRegexCommand,precondition:void 0,handler:r=>r.toggleRegex(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:bk.primary,mac:bk.mac,win:bk.win,linux:bk.linux}}));me(new Yd({id:Fi.ToggleSearchScopeCommand,precondition:void 0,handler:r=>r.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:vk.primary,mac:vk.mac,win:vk.win,linux:vk.linux}}));me(new Yd({id:Fi.TogglePreserveCaseCommand,precondition:void 0,handler:r=>r.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:Ck.primary,mac:Ck.mac,win:Ck.win,linux:Ck.linux}}));me(new Yd({id:Fi.ReplaceOneAction,precondition:fg,handler:r=>r.replace(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:3094}}));me(new Yd({id:Fi.ReplaceOneAction,precondition:fg,handler:r=>r.replace(),kbOpts:{weight:100+5,kbExpr:Se.and(F.focus,mk),primary:3}}));me(new Yd({id:Fi.ReplaceAllAction,precondition:fg,handler:r=>r.replaceAll(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:2563}}));me(new Yd({id:Fi.ReplaceAllAction,precondition:fg,handler:r=>r.replaceAll(),kbOpts:{weight:100+5,kbExpr:Se.and(F.focus,mk),primary:void 0,mac:{primary:2051}}}));me(new Yd({id:Fi.SelectAllMatchesAction,precondition:fg,handler:r=>r.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:F.focus,primary:515}}));ot();ut();bl();se();Ye();ti();xt();Ui();Un();io();Oe();var Sk=class{constructor(e){let t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){let t=e/32|0,i=e%32;return(this._states[t]&1<<i)!==0}set(e,t){let i=e/32|0,n=e%32,o=this._states[i];t?this._states[i]=o|1<<n:this._states[i]=o&~(1<<n)}},Lr=class{constructor(e,t,i){if(this.sourceAbbr={[0]:" ",[1]:"u",[2]:"r"},e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Sk(e.length),this._userDefinedStates=new Sk(e.length),this._recoveredStates=new Sk(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(i,n)=>{let o=e[e.length-1];return this.getStartLineNumber(o)<=i&&this.getEndLineNumber(o)>=n};for(let i=0,n=this._startIndexes.length;i<n;i++){let o=this._startIndexes[i],s=this._endIndexes[i];if(o>16777215||s>16777215)throw new Error("startLineNumber or endLineNumber must not exceed "+16777215);for(;e.length>0&&!t(o,s);)e.pop();let a=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((a&255)<<24),this._endIndexes[i]=s+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&16777215}getEndLineNumber(e){return this._endIndexes[e]&16777215}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){t===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new GV(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((this._startIndexes[e]&4278190080)>>>24)+((this._endIndexes[e]&4278190080)>>>16);return t===65535?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){let n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.sourceAbbr[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&16777215,endLineNumber:this._endIndexes[e]&16777215,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){let t=e.length,i=new Uint32Array(t),n=new Uint32Array(t),o=[],s=!1;for(let l=0;l<t;l++){let c=e[l];i[l]=c.startLineNumber,n[l]=c.endLineNumber,o.push(c.type),c.type&&(s=!0)}s||(o=void 0);let a=new Lr(i,n,o);for(let l=0;l<t;l++)e[l].isCollapsed&&a.setCollapsed(l,!0),a.setSource(l,e[l].source);return a}static sanitizeAndMerge(e,t,i){i=i??Number.MAX_VALUE;let n=(_,v)=>Array.isArray(_)?w=>w<v?_[w]:void 0:w=>w<v?_.toFoldRange(w):void 0,o=n(e,e.length),s=n(t,t.length),a=0,l=0,c=o(0),d=s(0),h=[],u,f=0,m=[];for(;c||d;){let _;if(d&&(!c||c.startLineNumber>=d.startLineNumber))c&&c.startLineNumber===d.startLineNumber?(d.source===1?_=d:(_=c,_.isCollapsed=d.isCollapsed&&c.endLineNumber===d.endLineNumber,_.source=0),c=o(++a)):(_=d,d.isCollapsed&&d.source===0&&(_.source=2)),d=s(++l);else{let v=l,w=d;for(;;){if(!w||w.startLineNumber>c.endLineNumber){_=c;break}if(w.source===1&&w.endLineNumber>c.endLineNumber)break;w=s(++v)}c=o(++a)}if(_){for(;u&&u.endLineNumber<_.startLineNumber;)u=h.pop();_.endLineNumber>_.startLineNumber&&_.startLineNumber>f&&_.endLineNumber<=i&&(!u||u.endLineNumber>=_.endLineNumber)&&(m.push(_),f=_.startLineNumber,u&&h.push(u),u=_)}}return m}},GV=class{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}};k_();var cF=class{constructor(e,t){this._updateEventEmitter=new B,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Lr(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,n)=>i.regionIndex-n.regionIndex);let t={};this._decorationProvider.changeDecorations(i=>{let n=0,o=-1,s=-1,a=l=>{for(;n<l;){let c=this._regions.getEndLineNumber(n),d=this._regions.isCollapsed(n);if(c<=o){let h=this.regions.getSource(n)!==0;i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(d,c<=s,h))}d&&c>s&&(s=c),n++}};for(let l of e){let c=l.regionIndex,d=this._editorDecorationIds[c];if(d&&!t[d]){t[d]=!0,a(c);let h=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,h),o=Math.max(o,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){let t=new Array,i=n=>{for(let o of e)if(!(o.startLineNumber>n.endLineNumber||n.startLineNumber>o.endLineNumber))return!0;return!1};for(let n=0;n<this._regions.length;n++){let o=this._regions.toFoldRange(n);(o.source===0||!i(o))&&t.push(o)}this.updatePost(Lr.fromFoldRanges(t))}update(e,t=[]){let i=this._currentFoldedOrManualRanges(t),n=Lr.sanitizeAndMerge(e,i,this._textModel.getLineCount());this.updatePost(Lr.fromFoldRanges(n))}updatePost(e){let t=[],i=-1;for(let n=0,o=e.length;n<o;n++){let s=e.getStartLineNumber(n),a=e.getEndLineNumber(n),l=e.isCollapsed(n),c=e.getSource(n)!==0,d={startLineNumber:s,startColumn:this._textModel.getLineMaxColumn(s),endLineNumber:a,endColumn:this._textModel.getLineMaxColumn(a)+1};t.push({range:d,options:this._decorationProvider.getDecorationOption(l,a<=i,c)}),l&&a>i&&(i=a)}this._decorationProvider.changeDecorations(n=>this._editorDecorationIds=n.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e=[]){let t=(n,o)=>{for(let s of e)if(n<s&&s<=o)return!0;return!1},i=[];for(let n=0,o=this._regions.length;n<o;n++){let s=this.regions.isCollapsed(n),a=this.regions.getSource(n);if(s||a!==0){let l=this._regions.toFoldRange(n),c=this._textModel.getDecorationRange(this._editorDecorationIds[n]);c&&(s&&(t(c.startLineNumber,c.endLineNumber)||c.endLineNumber-c.startLineNumber!==l.endLineNumber-l.startLineNumber)&&(s=!1),i.push({startLineNumber:c.startLineNumber,endLineNumber:c.endLineNumber,type:l.type,isCollapsed:s,source:a}))}}return i}getMemento(){let e=this._currentFoldedOrManualRanges(),t=[];for(let i=0,n=e.length;i<n;i++){let o=e[i],s=this._getLinesChecksum(o.startLineNumber+1,o.endLineNumber);t.push({startLineNumber:o.startLineNumber,endLineNumber:o.endLineNumber,isCollapsed:o.isCollapsed,source:o.source,checksum:s})}return t.length>0?t:void 0}applyMemento(e){var t,i;if(!Array.isArray(e))return;let n=[],o=this._textModel.getLineCount();for(let a of e){if(a.startLineNumber>=a.endLineNumber||a.startLineNumber<1||a.endLineNumber>o)continue;let l=this._getLinesChecksum(a.startLineNumber+1,a.endLineNumber);(!a.checksum||l===a.checksum)&&n.push({startLineNumber:a.startLineNumber,endLineNumber:a.endLineNumber,type:void 0,isCollapsed:(t=a.isCollapsed)!==null&&t!==void 0?t:!0,source:(i=a.source)!==null&&i!==void 0?i:0})}let s=Lr.sanitizeAndMerge(this._regions,n,o);this.updatePost(Lr.fromFoldRanges(s))}_getLinesChecksum(e,t){return nC(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let n=this._regions.findRange(e),o=1;for(;n>=0;){let s=this._regions.toRegion(n);(!t||t(s,o))&&i.push(s),o++,n=s.parentIndex}}return i}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let i=[],n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){let s=[];for(let a=n,l=this._regions.length;a<l;a++){let c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o){for(;s.length>0&&!c.containedBy(s[s.length-1]);)s.pop();s.push(c),t(c,s.length)&&i.push(c)}else break}}else for(let s=n,a=this._regions.length;s<a;s++){let l=this._regions.toRegion(s);if(this._regions.getStartLineNumber(s)<o)(!t||t(l))&&i.push(l);else break}return i}};function doe(r,e,t){let i=[];for(let n of t){let o=r.getRegionAtLine(n);if(o){let s=!o.isCollapsed;if(i.push(o),e>1){let a=r.getRegionsInside(o,(l,c)=>l.isCollapsed!==s&&c<e);i.push(...a)}}}r.toggleCollapseState(i)}function Av(r,e,t=Number.MAX_VALUE,i){let n=[];if(i&&i.length>0)for(let o of i){let s=r.getRegionAtLine(o);if(s&&(s.isCollapsed!==e&&n.push(s),t>1)){let a=r.getRegionsInside(s,(l,c)=>l.isCollapsed!==e&&c<t);n.push(...a)}}else{let o=r.getRegionsInside(null,(s,a)=>s.isCollapsed!==e&&a<t);n.push(...o)}r.toggleCollapseState(n)}function XV(r,e,t,i){let n=[];for(let o of i){let s=r.getAllRegionsAtLine(o,(a,l)=>a.isCollapsed!==e&&l<=t);n.push(...s)}r.toggleCollapseState(n)}function hoe(r,e,t){let i=[];for(let n of t){let o=r.getAllRegionsAtLine(n,s=>s.isCollapsed!==e);o.length>0&&i.push(o[0])}r.toggleCollapseState(i)}function uoe(r,e,t,i){let n=(s,a)=>a===e&&s.isCollapsed!==t&&!i.some(l=>s.containsLine(l)),o=r.getRegionsInside(null,n);r.toggleCollapseState(o)}function QV(r,e,t){let i=[];for(let s of t){let a=r.getAllRegionsAtLine(s,void 0);a.length>0&&i.push(a[0])}let n=s=>i.every(a=>!a.containedBy(s)&&!s.containedBy(a))&&s.isCollapsed!==e,o=r.getRegionsInside(null,n);r.toggleCollapseState(o)}function dF(r,e,t){let i=r.textModel,n=r.regions,o=[];for(let s=n.length-1;s>=0;s--)if(t!==n.isCollapsed(s)){let a=n.getStartLineNumber(s);e.test(i.getLineContent(a))&&o.push(n.toRegion(s))}r.toggleCollapseState(o)}function hF(r,e,t){let i=r.regions,n=[];for(let o=i.length-1;o>=0;o--)t!==i.isCollapsed(o)&&e===i.getType(o)&&n.push(i.toRegion(o));r.toggleCollapseState(n)}function foe(r,e){let t=null,i=e.getRegionAtLine(r);if(i!==null&&(t=i.startLineNumber,r===t)){let n=i.parentIndex;n!==-1?t=e.regions.getStartLineNumber(n):t=null}return t}function goe(r,e){let t=e.getRegionAtLine(r);if(t!==null&&t.startLineNumber===r){if(r!==t.startLineNumber)return t.startLineNumber;{let i=t.parentIndex,n=0;for(i!==-1&&(n=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=n)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<r)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function moe(r,e){let t=e.getRegionAtLine(r);if(t!==null&&t.startLineNumber===r){let i=t.parentIndex,n=0;if(i!==-1)n=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;n=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=n)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>r)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}Ft();Oe();Le();ww();var uF=class{constructor(e){this._updateEventEmitter=new B,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||Ac(t.text)[0]!==0))}updateHiddenRanges(){let e=!1,t=[],i=0,n=0,o=Number.MAX_VALUE,s=-1,a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;let l=a.getStartLineNumber(i)+1,c=a.getEndLineNumber(i);o<=l&&c<=s||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===l&&this._hiddenRanges[n].endLineNumber===c?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new D(l,1,c,1))),o=l,s=c)}(this._hasLineChanges||e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return poe(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,n=null,o=s=>((!n||!I1e(s,n))&&(n=poe(this._hiddenRanges,s)),n?n.startLineNumber-1:null);for(let s=0,a=e.length;s<a;s++){let l=e[s],c=o(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),t=!0);let d=o(l.endLineNumber);d&&(l=l.setEndPosition(d,i.getLineMaxColumn(d)),t=!0),e[s]=l}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}};function I1e(r,e){return r>=e.startLineNumber&&r<=e.endLineNumber}function poe(r,e){let t=UE(r,i=>e<i.startLineNumber)-1;return t>=0&&r[t].endLineNumber>=e?r[t]:null}YT();var O1e=5e3,N1e="indent",fF=class{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.maxFoldingRegions=i,this.id=N1e}dispose(){}compute(e,t){let i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=i&&!!i.offSide,o=i&&i.markers;return Promise.resolve(T1e(this.editorModel,n,o,this.maxFoldingRegions,t))}},JV=class{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>16777215||t>16777215)return;let n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){var t;if(this._length<=this._foldingRangesLimit){let i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let o=this._length-1,s=0;o>=0;o--,s++)i[s]=this._startIndexes[o],n[s]=this._endIndexes[o];return new Lr(i,n)}else{(t=this._notifyTooManyRegions)===null||t===void 0||t.call(this,this._foldingRangesLimit);let i=0,n=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){let c=this._indentOccurrences[l];if(c){if(c+i>this._foldingRangesLimit){n=l;break}i+=c}}let o=e.getOptions().tabSize,s=new Uint32Array(this._foldingRangesLimit),a=new Uint32Array(this._foldingRangesLimit);for(let l=this._length-1,c=0;l>=0;l--){let d=this._startIndexes[l],h=e.getLineContent(d),u=Lb(h,o);(u<n||u===n&&i++<this._foldingRangesLimit)&&(s[c]=d,a[c]=this._endIndexes[l],c++)}return new Lr(s,a)}}};function T1e(r,e,t,i,n){let o=r.getOptions().tabSize;i=i??O1e;let s=new JV(i,n),a;t&&(a=new RegExp(`(${t.start.source})|(?:${t.end.source})`));let l=[],c=r.getLineCount()+1;l.push({indent:-1,endAbove:c,line:c});for(let d=r.getLineCount();d>0;d--){let h=r.getLineContent(d),u=Lb(h,o),f=l[l.length-1];if(u===-1){e&&(f.endAbove=d);continue}let m;if(a&&(m=h.match(a)))if(m[1]){let _=l.length-1;for(;_>0&&l[_].indent!==-2;)_--;if(_>0){l.length=_+1,f=l[_],s.insertFirst(d,f.line,u),f.line=d,f.indent=u,f.endAbove=d;continue}}else{l.push({indent:-2,endAbove:d,line:d});continue}if(f.indent>u){do l.pop(),f=l[l.length-1];while(f.indent>u);let _=f.endAbove-1;_-d>=1&&s.insertFirst(d,_,u)}f.indent===u?f.endAbove=d:l.push({indent:u,endAbove:d,line:d})}return s.toIndentRanges(r)}Ne();St();Ai();Ct();bn();Ao();Ne();Ct();var ey=fn("folding-expanded",p.chevronDown,g("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),xk=fn("folding-collapsed",p.chevronRight,g("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),eU=fn("folding-manual-collapsed",xk,g("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),gF=fn("folding-manual-expanded",ey,g("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),Bo=class{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t||this.showFoldingControls==="never"?Bo.HIDDEN_RANGE_DECORATION:e?i?this.showFoldingHighlights?Bo.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Bo.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?Bo.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Bo.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?i?Bo.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Bo.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?Bo.MANUALLY_EXPANDED_VISUAL_DECORATION:Bo.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}};Bo.COLLAPSED_VISUAL_DECORATION=Ge.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Vt.asClassName(xk)});Bo.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ge.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Vt.asClassName(xk)});Bo.MANUALLY_COLLAPSED_VISUAL_DECORATION=Ge.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Vt.asClassName(ey)});Bo.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ge.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Vt.asClassName(eU)});Bo.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ge.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Vt.asClassName(ey)});Bo.EXPANDED_VISUAL_DECORATION=Ge.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Vt.asClassName(ey)});Bo.MANUALLY_EXPANDED_VISUAL_DECORATION=Ge.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Vt.asClassName(gF)});Bo.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ge.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Vt.asClassName(gF)});Bo.HIDDEN_RANGE_DECORATION=Ge.register({description:"folding-hidden-range-decoration",stickiness:1});ut();se();var P1e={},A1e="syntax",mF=class{constructor(e,t,i,n){this.editorModel=e,this.providers=t,this.limit=n,this.id=A1e;for(let o of t)typeof o.onDidChange=="function"&&(this.disposables||(this.disposables=new J),this.disposables.add(o.onDidChange(i)))}compute(e,t){return M1e(this.providers,this.editorModel,e).then(i=>i?R1e(i,this.limit,t):null)}dispose(){var e;(e=this.disposables)===null||e===void 0||e.dispose()}};function M1e(r,e,t){let i=null,n=r.map((o,s)=>Promise.resolve(o.provideFoldingRanges(e,P1e,t)).then(a=>{if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);let l=e.getLineCount();for(let c of a)c.start>0&&c.end>c.start&&c.end<=l&&i.push({start:c.start,end:c.end,rank:s,kind:c.kind})}},Oi));return Promise.all(n).then(o=>i)}var tU=class{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>16777215||t>16777215)return;let o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){var e;if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let n=0;n<this._length;n++)t[n]=this._startIndexes[n],i[n]=this._endIndexes[n];return new Lr(t,i,this._types)}else{(e=this._notifyTooManyRegions)===null||e===void 0||e.call(this,this._foldingRangesLimit);let t=0,i=this._nestingLevelCounts.length;for(let a=0;a<this._nestingLevelCounts.length;a++){let l=this._nestingLevelCounts[a];if(l){if(l+t>this._foldingRangesLimit){i=a;break}t+=l}}let n=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit),s=[];for(let a=0,l=0;a<this._length;a++){let c=this._nestingLevels[a];(c<i||c===i&&t++<this._foldingRangesLimit)&&(n[l]=this._startIndexes[a],o[l]=this._endIndexes[a],s[l]=this._types[a],l++)}return new Lr(n,o,s)}}};function R1e(r,e,t){let i=r.sort((a,l)=>{let c=a.start-l.start;return c===0&&(c=a.rank-l.rank),c}),n=new tU(e,t),o,s=[];for(let a of i)if(!o)o=a,n.add(a.start,a.end,a.kind&&a.kind.value,s.length);else if(a.start>o.start)if(a.end<=o.end)s.push(o),o=a,n.add(a.start,a.end,a.kind&&a.kind.value,s.length);else{if(a.start>o.end){do o=s.pop();while(o&&a.start>o.end);o&&s.push(o),o=a}n.add(a.start,a.end,a.kind&&a.kind.value,s.length)}return n.toIndentRanges()}Bc();Ha();oi();var F1e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Dk=function(r,e){return function(t,i){e(t,i,r)}},qr=new Ce("foldingEnabled",!1),ty=class _oe extends ${constructor(e,t,i,n,o,s){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=s,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new J),this.editor=e;let a=this.editor.getOptions();this._isEnabled=a.get(39),this._useFoldingProviders=a.get(40)!=="indentation",this._unfoldOnClickAfterEndOfLine=a.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=a.get(42),this._maxFoldingRegions=a.get(43),this.updateDebounceInfo=o.for(s.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Bo(e),this.foldingDecorationProvider.showFoldingControls=a.get(101),this.foldingDecorationProvider.showFoldingHighlights=a.get(41),this.foldingEnabled=qr.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=l=>{this._tooManyRegionsNotified||(n.notify({severity:Ri.Warning,sticky:!0,message:g("maximum fold ranges",`The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?["editor.foldingMaximumRegions"]) to enable more.`,l)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(l=>{if(l.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),l.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),l.hasChanged(101)||l.hasChanged(41)){let c=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=c.get(101),this.foldingDecorationProvider.showFoldingHighlights=c.get(41),this.triggerFoldingModelChanged()}l.hasChanged(40)&&(this._useFoldingProviders=this.editor.getOptions().get(40)!=="indentation",this.onFoldingStrategyChanged()),l.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),l.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(e){return e.getContribution(_oe.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!e||e.lineCount!==t.getLineCount())&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new cF(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new uF(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new gr(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new pt(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new fF(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let t=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);t.length>0&&(this.rangeProvider=new mF(e,t,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{let e=this.foldingModel;if(!e)return null;let t=new _n(!0),i=this.getRangeProvider(e.textModel),n=this.foldingRegionPromise=wi(o=>i.compute(o,this._notifyTooManyRegions));return n.then(o=>{if(o&&n===this.foldingRegionPromise){let s;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){let d=o.setCollapsedAllOfType(ha.Imports.value,!0);d&&(s=rl.capture(this.editor),this._currentModelHasFoldedImports=d)}let a=this.editor.getSelections(),l=a?a.map(d=>d.startLineNumber):[];e.update(o,l),s?.restore(this.editor);let c=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=c)}return e})}).then(void 0,e=>(Pe(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){let e=this.getFoldingModel();!e||e.then(t=>{if(t){let i=this.editor.getSelections();if(i&&i.length>0){let n=[];for(let o of i){let s=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(s)&&n.push(...t.getAllRegionsAtLine(s,a=>a.isCollapsed&&s>a.startLineNumber))}n.length&&(t.toggleCollapseState(n),this.reveal(i[0].getPosition()))}}}).then(void 0,Pe)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;let t=e.target.range,i=!1;switch(e.target.type){case 4:{let n=e.target.detail,o=e.target.element.offsetLeft;if(n.offsetX-o<5)return;i=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let n=this.editor.getModel();if(n&&t.startColumn===n.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){let t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;let i=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==i)return;if(n){if(e.target.type!==4)return}else{let a=this.editor.getModel();if(!a||o.startColumn!==a.getLineMaxColumn(i))return}let s=t.getRegionAtLine(i);if(s&&s.startLineNumber===i){let a=s.isCollapsed;if(n||a){let l=e.event.altKey,c=[];if(l){let d=u=>!u.containedBy(s)&&!s.containedBy(u),h=t.getRegionsInside(null,d);for(let u of h)u.isCollapsed&&c.push(u);c.length===0&&(c=h)}else{let d=e.event.middleButton||e.event.shiftKey;if(d)for(let h of t.getRegionsInside(s))h.isCollapsed===a&&c.push(h);(a||!d||c.length===0)&&c.push(s)}t.toggleCollapseState(c),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};ty.ID="editor.contrib.folding";ty=F1e([Dk(1,Te),Dk(2,ii),Dk(3,ui),Dk(4,Mo),Dk(5,_e)],ty);var xr=class extends we{runEditorCommand(e,t,i){let n=e.get(ii),o=ty.get(t);if(!o)return;let s=o.getFoldingModel();if(s)return this.reportTelemetry(e,t),s.then(a=>{if(a){this.invoke(o,a,t,i,n);let l=t.getSelection();l&&o.reveal(l.getStartPosition())}})}getSelectedLines(e){let t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}};function boe(r){if(!cr(r)){if(!mo(r))return!1;let e=r;if(!cr(e.levels)&&!za(e.levels)||!cr(e.direction)&&!zo(e.direction)||!cr(e.selectionLines)&&(!YE(e.selectionLines)||!e.selectionLines.every(za)))return!1}return!0}var iU=class extends xr{constructor(){super({id:"editor.unfold",label:g("unfoldAction.label","Unfold"),alias:"Unfold",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:boe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=n&&n.levels||1,s=this.getLineNumbers(n,i);n&&n.direction==="up"?XV(t,!1,o,s):Av(t,!1,o,s)}},nU=class extends xr{constructor(){super({id:"editor.unfoldRecursively",label:g("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2137),weight:100}})}invoke(e,t,i,n){Av(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}},oU=class extends xr{constructor(){super({id:"editor.fold",label:g("foldAction.label","Fold"),alias:"Fold",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:boe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=this.getLineNumbers(n,i),s=n&&n.levels,a=n&&n.direction;typeof s!="number"&&typeof a!="string"?hoe(t,!0,o):a==="up"?XV(t,!0,s||1,o):Av(t,!0,s||1,o)}},rU=class extends xr{constructor(){super({id:"editor.toggleFold",label:g("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2090),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);doe(t,1,n)}},sU=class extends xr{constructor(){super({id:"editor.foldRecursively",label:g("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2135),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);Av(t,!0,Number.MAX_VALUE,n)}},aU=class extends xr{constructor(){super({id:"editor.foldAllBlockComments",label:g("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2133),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())hF(t,ha.Comment.value,!0);else{let s=i.getModel();if(!s)return;let a=o.getLanguageConfiguration(s.getLanguageId()).comments;if(a&&a.blockCommentStartToken){let l=new RegExp("^\\s*"+_o(a.blockCommentStartToken));dF(t,l,!0)}}}},lU=class extends xr{constructor(){super({id:"editor.foldAllMarkerRegions",label:g("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2077),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())hF(t,ha.Region.value,!0);else{let s=i.getModel();if(!s)return;let a=o.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);dF(t,l,!0)}}}},cU=class extends xr{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:g("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2078),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())hF(t,ha.Region.value,!1);else{let s=i.getModel();if(!s)return;let a=o.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);dF(t,l,!1)}}}},dU=class extends xr{constructor(){super({id:"editor.foldAllExcept",label:g("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2131),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);QV(t,!0,n)}},hU=class extends xr{constructor(){super({id:"editor.unfoldAllExcept",label:g("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2129),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);QV(t,!1,n)}},uU=class extends xr{constructor(){super({id:"editor.foldAll",label:g("foldAllAction.label","Fold All"),alias:"Fold All",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2069),weight:100}})}invoke(e,t,i){Av(t,!0)}},fU=class extends xr{constructor(){super({id:"editor.unfoldAll",label:g("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2088),weight:100}})}invoke(e,t,i){Av(t,!1)}},gg=class extends xr{getFoldingLevel(){return parseInt(this.id.substr(gg.ID_PREFIX.length))}invoke(e,t,i){uoe(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}};gg.ID_PREFIX="editor.foldLevel";gg.ID=r=>gg.ID_PREFIX+r;var gU=class extends xr{constructor(){super({id:"editor.gotoParentFold",label:g("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let o=foe(n[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}},mU=class extends xr{constructor(){super({id:"editor.gotoPreviousFold",label:g("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let o=goe(n[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}},pU=class extends xr{constructor(){super({id:"editor.gotoNextFold",label:g("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let o=moe(n[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}},_U=class extends xr{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:g("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2130),weight:100}})}invoke(e,t,i){var n;let o=[],s=i.getSelections();if(s){for(let a of s){let l=a.endLineNumber;a.endColumn===1&&--l,l>a.startLineNumber&&(o.push({startLineNumber:a.startLineNumber,endLineNumber:l,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:a.startLineNumber,startColumn:1,endLineNumber:a.startLineNumber,endColumn:1}))}if(o.length>0){o.sort((l,c)=>l.startLineNumber-c.startLineNumber);let a=Lr.sanitizeAndMerge(t.regions,o,(n=i.getModel())===null||n===void 0?void 0:n.getLineCount());t.updatePost(Lr.fromFoldRanges(a))}}}},bU=class extends xr{constructor(){super({id:"editor.removeManualFoldingRanges",label:g("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2132),weight:100}})}invoke(e,t,i){let n=i.getSelections();if(n){let o=[];for(let s of n){let{startLineNumber:a,endLineNumber:l}=s;o.push(l>=a?{startLineNumber:a,endLineNumber:l}:{endLineNumber:l,startLineNumber:a})}t.removeManualRanges(o),e.triggerFoldingModelChanged()}}};Ze(ty.ID,ty);le(iU);le(nU);le(oU);le(sU);le(uU);le(fU);le(aU);le(lU);le(cU);le(dU);le(hU);le(rU);le(gU);le(mU);le(pU);le(_U);le(bU);for(let r=1;r<=7;r++)RN(new gg({id:gg.ID(r),label:g("foldLevelAction.label","Fold Level {0}",r),alias:`Fold Level ${r}`,precondition:qr,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2048|21+r),weight:100}}));var B1e=W("editor.foldBackground",{light:ze(_d,.3),dark:ze(_d,.3),hcDark:null,hcLight:null},g("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),j1e=W("editorGutter.foldingControlForeground",{dark:dL,light:dL,hcDark:dL,hcLight:dL},g("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));Lt((r,e)=>{let t=r.getColor(B1e);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);let i=r.getColor(j1e);i&&e.addRule(`
		.monaco-editor .cldr${Vt.asCSSSelector(ey)},
		.monaco-editor .cldr${Vt.asCSSSelector(xk)},
		.monaco-editor .cldr${Vt.asCSSSelector(gF)},
		.monaco-editor .cldr${Vt.asCSSSelector(eU)} {
			color: ${i} !important;
		}
		`)});xt();Ne();var vU=class extends we{constructor(){super({id:"editor.action.fontZoomIn",label:g("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Sl.setZoomLevel(Sl.getZoomLevel()+1)}},CU=class extends we{constructor(){super({id:"editor.action.fontZoomOut",label:g("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Sl.setZoomLevel(Sl.getZoomLevel()-1)}},wU=class extends we{constructor(){super({id:"editor.action.fontZoomReset",label:g("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Sl.setZoomLevel(0)}};le(vU);le(CU);le(wU);var ezt=l0(Coe()),tzt=l0(woe());xt();Ui();var Fv="editor.action.inlineSuggest.commit";Oe();se();Ye();xt();Oc();Ui();Oe();se();rt();Un();ot();Di();ut();Oe();se();Wl();Le();Un();Oe();se();Le();function yoe(r,e){return{object:r,dispose:()=>e?.dispose()}}function Soe(r,e){let t=new NU(r),i=e.map(n=>{let o=D.lift(n.range);return{startOffset:t.getOffset(o.getStartPosition()),endOffset:t.getOffset(o.getEndPosition()),text:n.text}});i.sort((n,o)=>o.startOffset-n.startOffset);for(let n of i)r=r.substring(0,n.startOffset)+n.text+r.substring(n.endOffset);return r}var NU=class{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}},U1e=[];function Loe(){return U1e}var iy=class{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(this.parts.length===0)return"";let t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return Soe(i,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(e=>e.lines.length===0)}},ny=class{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}},oy=class{constructor(e,t,i,n,o=0){this.lineNumber=e,this.columnStart=t,this.length=i,this.newLines=n,this.additionalReservedLineCount=o,this.parts=[new ny(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(e){return this.newLines.join(`
`)}},ry=class extends ${constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(108)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}};hn();Ye();Le();function sy(r,e){if(!e)return e;let t=r.getValueInRange(e.range),i=wl(t,e.insertText),n=r.getOffsetAt(e.range.getStartPosition())+i,o=r.getPositionAt(n),s=t.substr(i),a=qu(s,e.insertText),l=r.getPositionAt(Math.max(n,r.getOffsetAt(e.range.getEndPosition())-a));return{range:D.fromPositions(o,l),insertText:e.insertText.substr(i,e.insertText.length-i-a),snippetInfo:e.snippetInfo,filterText:e.filterText,additionalTextEdits:e.additionalTextEdits}}function koe(r,e){return r===e?!0:!r||!e?!1:r.range.equalsRange(e.range)&&r.insertText===e.insertText&&r.command===e.command}function _F(r,e,t,i,n=0){if(r.range.startLineNumber!==r.range.endLineNumber)return;let o=e.getLineContent(r.range.startLineNumber),s=ri(o).length;if(r.range.startColumn-1<=s){let f=ri(r.insertText).length,m=o.substring(r.range.startColumn-1,s),_=D.fromPositions(r.range.getStartPosition().delta(0,m.length),r.range.getEndPosition()),v=r.insertText.startsWith(m)?r.insertText.substring(m.length):r.insertText.substring(f);r={range:_,insertText:v,command:r.command,snippetInfo:void 0,filterText:r.filterText,additionalTextEdits:r.additionalTextEdits}}let l=e.getValueInRange(r.range),c=H1e(l,r.insertText);if(!c)return;let d=r.range.startLineNumber,h=new Array;if(t==="prefix"){let f=c.filter(m=>m.originalLength===0);if(f.length>1||f.length===1&&f[0].originalStart!==l.length)return}let u=r.insertText.length-n;for(let f of c){let m=r.range.startColumn+f.originalStart+f.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===r.range.startLineNumber&&m<i.column||f.originalLength>0)return;if(f.modifiedLength===0)continue;let _=f.modifiedStart+f.modifiedLength,v=Math.max(f.modifiedStart,Math.min(_,u)),w=r.insertText.substring(f.modifiedStart,v),y=r.insertText.substring(v,Math.max(f.modifiedStart,_));if(w.length>0){let x=Mr(w);h.push(new ny(m,x,!1))}if(y.length>0){let x=Mr(y);h.push(new ny(m,x,!0))}}return new iy(d,h,0)}var vu;function H1e(r,e){if(vu?.originalValue===r&&vu?.newValue===e)return vu?.changes;{let t=Doe(r,e,!0);if(t){let i=xoe(t);if(i>0){let n=Doe(r,e,!1);n&&xoe(n)<i&&(t=n)}}return vu={originalValue:r,newValue:e,changes:t},t}}function xoe(r){let e=0;for(let t of r)e+=Math.max(t.originalLength-t.modifiedLength,0);return e}function Doe(r,e,t){if(r.length>5e3||e.length>5e3)return;function i(c){let d=0;for(let h=0,u=c.length;h<u;h++){let f=c.charCodeAt(h);f>d&&(d=f)}return d}let n=Math.max(i(r),i(e));function o(c){if(c<0)throw new Error("unexpected");return n+c+1}function s(c){let d=0,h=0,u=new Int32Array(c.length);for(let f=0,m=c.length;f<m;f++)if(t&&c[f]==="("){let _=h*100+d;u[f]=o(2*_),d++}else if(t&&c[f]===")"){d=Math.max(d-1,0);let _=h*100+d;u[f]=o(2*_+1),d===0&&h++}else u[f]=c.charCodeAt(f);return u}let a=s(r),l=s(e);return new ma({getElements:()=>a},{getElements:()=>l}).ComputeDiff(!1).changes}io();pB();xf();wB();Fb();GP();function Eoe(r,e){let t=new Sw,i=new Dw(t,c=>e.getLanguageConfiguration(c)),n=new xw(new TU([r]),i),o=$L(n,[],void 0,!0),s="",a=r.getLineContent();function l(c,d){if(c.kind===2)l(c.openingBracket,d),d=nn(d,c.openingBracket.length),c.child&&(l(c.child,d),d=nn(d,c.child.length)),c.closingBracket?(l(c.closingBracket,d),d=nn(d,c.closingBracket.length)):s+=i.getSingleLanguageBracketTokens(c.openingBracket.languageId).findClosingTokenText(c.openingBracket.bracketIds);else if(c.kind!==3){if(c.kind===0||c.kind===1)s+=a.substring(d,nn(d,c.length));else if(c.kind===4)for(let h of c.children)l(h,d),d=nn(d,h.length)}}return l(o,ys),s}var TU=class{constructor(e){this.lines=e,this.tokenization={getLineTokens:t=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}};oi();Bc();ti();to();var $1e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ik=function(r,e){return function(t,i){e(t,i,r)}},mg=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},bF=class extends ${constructor(e,t,i,n,o,s,a){super(),this.editor=e,this.cache=t,this.commandService=i,this.languageConfigurationService=n,this.languageFeaturesService=o,this.debounceService=s,this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new Cn),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(i.onDidExecuteCommand(l=>{new Set([Rm.Tab.id,Rm.DeleteLeft.id,Rm.DeleteRight.id,Fv,"acceptSelectedSuggestion"]).has(l.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(l=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(l=>{(l.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register(Ke(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{a.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return(e=this.session)===null||e===void 0?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;(t=this.session)===null||t===void 0||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&((t=this.session)===null||t===void 0||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(57).enabled||this.session&&this.session.isValid||this.trigger(Ms.Automatic)}trigger(e){if(this.completionSession.value){e===Ms.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new PU(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;(e=this.session)===null||e===void 0||e.commitCurrentCompletion()}showNext(){var e;(e=this.session)===null||e===void 0||e.showNextInlineCompletion()}showPrevious(){var e;(e=this.session)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return mg(this,void 0,void 0,function*(){let t=yield(e=this.session)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};bF=$1e([Ik(2,yi),Ik(3,ii),Ik(4,_e),Ik(5,Mo),Ik(6,yt)],bF);var PU=class extends ry{constructor(e,t,i,n,o,s,a,l,c){super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=n,this.cache=o,this.initialTriggerKind=s,this.languageConfigurationService=a,this.registry=l,this.debounce=c,this.minReservedLineCount=0,this.updateOperation=this._register(new Cn),this.updateSoon=this._register(new pt(()=>{let h=this.initialTriggerKind;return this.initialTriggerKind=Ms.Automatic,this.update(h)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let d;this._register(this.onDidChange(()=>{var h;let u=this.currentCompletion;if(u&&u.sourceInlineCompletion!==d){d=u.sourceInlineCompletion;let f=u.sourceProvider;(h=f.handleItemDidShow)===null||h===void 0||h.call(f,u.sourceInlineCompletions,d)}})),this._register(Ke(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(h=>{var u;h.reason!==3&&((u=this.cache.value)===null||u===void 0||u.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(h=>{var u;(u=this.cache.value)===null||u===void 0||u.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}let e=this.editor.getModel(),t=e.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(i=>{let n=e.getValueInRange(i.synchronizedRange).toLowerCase(),o=i.inlineCompletion.filterText.toLowerCase(),s=e.getLineIndentColumn(i.synchronizedRange.startLineNumber),a=Math.max(0,t.column-i.synchronizedRange.startColumn),l=o.substring(0,a),c=o.substring(a),d=n.substring(0,a),h=n.substring(a);return i.synchronizedRange.startColumn<=s&&(d=d.trimStart(),d.length===0&&(h=h.trimStart()),l=l.trimStart(),l.length===0&&(c=c.trimStart())),l.startsWith(d)&&A9(h,c)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;let e=this.filteredCompletions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return e===-1?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return mg(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();let e=this.filteredCompletions||[];if(e.length>0){let t=(this.fixAndGetIndexOfCurrentSelection()+1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return mg(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();let e=this.filteredCompletions||[];if(e.length>0){let t=(this.fixAndGetIndexOfCurrentSelection()+e.length-1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return mg(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===Ms.Explicit?yield this.updateOperation.value.promise:yield this.update(Ms.Explicit):((e=this.cache.value)===null||e===void 0?void 0:e.triggerKind)!==Ms.Explicit&&(yield this.update(Ms.Explicit))})}hasMultipleInlineCompletions(){var e;return mg(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((e=this.cache.value)===null||e===void 0?void 0:e.completions.length)||0)>1})}get ghostText(){let e=this.currentCompletion;if(!e)return;let t=this.editor.getPosition();if(e.range.getEndPosition().isBefore(t))return;let i=this.editor.getOptions().get(57).mode,n=_F(e,this.editor.getModel(),i,t);return n?n.isEmpty()?void 0:n:new oy(e.range.startLineNumber,e.range.startColumn,e.range.endColumn-e.range.startColumn,e.insertText.split(`
`),0)}get currentCompletion(){let e=this.currentCachedCompletion;if(!!e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(e){return mg(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;let t=this.editor.getPosition(),i=new Date,n=wi(s=>mg(this,void 0,void 0,function*(){let a;try{a=yield MU(this.registry,t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},s,this.languageConfigurationService);let l=new Date;this.debounce.update(this.editor.getModel(),l.getTime()-i.getTime())}catch(l){Pe(l);return}s.isCancellationRequested||(this.cache.setValue(this.editor,a,e),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),o=new Ok(n,e);this.updateOperation.value=o,yield n,this.updateOperation.value===o&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;let t=this.currentCompletion;t&&this.commit(t)}commit(e){var t;let i=this.cache.clearAndLeak();e.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[li.replaceMove(e.range,""),...e.additionalTextEdits]),this.editor.setPosition(e.snippetInfo.range.getStartPosition()),(t=fo.get(this.editor))===null||t===void 0||t.insert(e.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[li.replaceMove(e.range,e.insertText),...e.additionalTextEdits]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{i?.dispose()}).then(void 0,Oi):i?.dispose(),this.onDidChangeEmitter.fire()}get commands(){var e;return[...new Set(((e=this.cache.value)===null||e===void 0?void 0:e.completions.map(i=>i.inlineCompletion.sourceInlineCompletions))||[])].flatMap(i=>i.commands||[])}},Ok=class{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}},vF=class extends ${constructor(e,t,i,n){super(),this.editor=t,this.onChange=i,this.triggerKind=n,this.isDisposing=!1;let o=t.changeDecorations(s=>s.deltaDecorations([],e.items.map(a=>({range:a.range,options:{description:"inline-completion-tracking-range"}}))));this._register(Ke(()=>{this.isDisposing=!0,t.removeDecorations(o)})),this.completions=e.items.map((s,a)=>new AU(s,o[a])),this._register(t.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(e)}updateRanges(){if(this.isDisposing)return;let e=!1,t=this.editor.getModel();for(let i of this.completions){let n=t.getDecorationRange(i.decorationId);if(!n){Pe(new Error("Decoration has no range"));continue}i.synchronizedRange.equalsRange(n)||(e=!0,i.synchronizedRange=n)}e&&this.onChange()}},AU=class{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}};function MU(r,e,t,i,n=Je.None,o){return mg(this,void 0,void 0,function*(){let s=K1e(e,t),a=r.all(t),l=yield Promise.all(a.map(d=>mg(this,void 0,void 0,function*(){let h=yield Promise.resolve(d.provideInlineCompletions(t,e,i,n)).catch(Oi);return{completions:h,provider:d,dispose:()=>{h&&d.freeInlineCompletions(h)}}}))),c=new Map;for(let d of l){let h=d.completions;if(!!h)for(let u of h.items){let f=u.range?D.lift(u.range):s;if(f.startLineNumber!==f.endLineNumber)continue;let m,_;if(typeof u.insertText=="string"){if(m=u.insertText,o&&u.completeBracketPairs){m=q1e(m,f.getStartPosition(),t,o);let w=m.length-u.insertText.length;w!==0&&(f=new D(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+w))}_=void 0}else"snippet"in u.insertText?(m=new Is().parse(u.insertText.snippet).toString(),_={snippet:u.insertText.snippet,range:f}):Bg(u.insertText);let v={insertText:m,snippetInfo:_,range:f,command:u.command,sourceProvider:d.provider,sourceInlineCompletions:h,sourceInlineCompletion:u,filterText:u.filterText||m,additionalTextEdits:u.additionalTextEdits||Loe()};c.set(JSON.stringify({insertText:m,range:u.range}),v)}}return{items:[...c.values()],dispose:()=>{for(let d of l)d.dispose()}}})}function K1e(r,e){let t=e.getWordAtPosition(r),i=e.getLineMaxColumn(r.lineNumber);return t?new D(r.lineNumber,t.startColumn,r.lineNumber,i):D.fromPositions(r,r.with(void 0,i))}function q1e(r,e,t,i){let o=t.getLineContent(e.lineNumber).substring(0,e.column-1)+r,s=t.tokenization.tokenizeLineWithEdit(e,o.length-(e.column-1),r),a=s?.sliceAndInflate(e.column-1,o.length,0);return a?Eoe(a,i):r}ot();ut();se();Un();oi();Ft();ot();Oe();se();rt();Le();Vs();Ft();ot();Di();ut();Oe();H_();se();At();Ha();ti();xt();Wl();rt();Le();Ui();ot();se();xa();Un();to();Bs();Xe();var Y1e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ioe=function(r,e){return function(t,i){e(t,i,r)}},Nk=class{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;let n=i[0].score[0];for(let o=0;o<i.length;o++){let{score:s,completion:a}=i[o];if(s[0]!==n)break;if(a.preselect)return o}return 0}},wF=class extends Nk{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}},RU=class extends Nk{constructor(){super("recentlyUsed"),this._cache=new qs(300,.66),this._seq=0}memorize(e,t,i){let n=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;let n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);let o=i[0].score[0],s=-1,a=-1,l=-1;for(let c=0;c<i.length&&i[c].score[0]===o;c++){let d=`${e.getLanguageId()}/${i[c].textLabel}`,h=this._cache.peek(d);if(h&&h.touch>l&&h.type===i[c].completion.kind&&h.insertText===i[c].completion.insertText&&(l=h.touch,a=c),i[c].completion.preselect&&s===-1)return s=c}return a!==-1?a:s!==-1?s:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();let t=0;for(let[i,n]of e)n.touch=t,n.type=typeof n.type=="number"?n.type:g_.fromString(n.type),this._cache.set(i,n);this._seq=this._cache.size}},FU=class extends Nk{constructor(){super("recentlyUsedByPrefix"),this._trie=Td.forStrings(),this._seq=0}memorize(e,t,i){let{word:n}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${n}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){let{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);let o=`${e.getLanguageId()}/${n}`,s=this._trie.get(o);if(s||(s=this._trie.findSubstr(o)),s)for(let a=0;a<i.length;a++){let{kind:l,insertText:c}=i[a].completion;if(l===s.type&&c===s.insertText)return a}return super.select(e,t,i)}toJSON(){let e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(let[t,i]of e)i.type=typeof i.type=="number"?i.type:g_.fromString(i.type),this._trie.set(t,i)}}},Tk=class CF{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new J,this._persistSoon=new pt(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===b1.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var i;let n=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((i=this._strategy)===null||i===void 0?void 0:i.name)!==n){this._saveState();let o=CF._strategyCtors.get(n)||wF;this._strategy=new o;try{let a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get(`${CF._storagePrefix}/${n}`,a);l&&this._strategy.fromJSON(JSON.parse(l))}catch{}}return this._strategy}_saveState(){if(this._strategy){let t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${CF._storagePrefix}/${this._strategy.name}`,i,t,1)}}};Tk._strategyCtors=new Map([["recentlyUsedByPrefix",FU],["recentlyUsed",RU],["first",wF]]);Tk._storagePrefix="suggest/memories";Tk=Y1e([Ioe(0,rs),Ioe(1,yt)],Tk);var ay=We("ISuggestMemories");Ot(ay,Tk,!0);St();var Z1e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},G1e=function(r,e){return function(t,i){e(t,i,r)}},ly=class Ooe{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=Ooe.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(113)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){let e=this._editor.getOption(113)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){let t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}let i=this._editor.getModel(),n=this._editor.getSelection(),o=i.getWordAtPosition(n.getStartPosition());if(!o){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(o.endColumn===n.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};ly.AtEnd=new Ce("atEndOfWord",!1);ly=Z1e([G1e(1,Te)],ly);Ne();hn();St();Xe();pc();St();var X1e=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Q1e=function(r,e){return function(t,i){e(t,i,r)}},Mp=class yF{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=yF.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if(yF._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let n=i;for(;n=(n+t.items.length+(e?1:-1))%t.items.length,!(n===i||!t.items[n].completion.additionalTextEdits););return n}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(!!this._model)try{this._ignore=!0,this._index=yF._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Mp.OtherSuggestions=new Ce("hasOtherSuggestions",!1);Mp=X1e([Q1e(1,Te)],Mp);Ft();se();T_();var SF=class{constructor(e,t,i){this._disposables=new J,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(n=>{if(this._active&&!t.isFrozen()){let o=n.charCodeAt(n.length-1);this._active.acceptCharacters.has(o)&&e.getOption(0)&&i(this._active.item)}}))}_onItem(e){if(!e||!an(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;let t=new ad;for(let i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}};ot();Di();ut();Oe();se();Ye();Ci();Mf();Ft();Le();Xc();rt();Le();var J1e=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},as=class{provideSelectionRanges(e,t){return J1e(this,void 0,void 0,function*(){let i=[];for(let n of t){let o=[];i.push(o);let s=new Map;yield new Promise(a=>as._bracketsRightYield(a,0,e,n,s)),yield new Promise(a=>as._bracketsLeftYield(a,0,e,n,s,o))}return i})}static _bracketsRightYield(e,t,i,n,o){let s=new Map,a=Date.now();for(;;){if(t>=as._maxRounds){e();break}if(!n){e();break}let l=i.bracketPairs.findNextBracket(n);if(!l){e();break}if(Date.now()-a>as._maxDuration){setTimeout(()=>as._bracketsRightYield(e,t+1,i,n,o));break}if(l.bracketInfo.isOpeningBracket){let d=l.bracketInfo.bracketText,h=s.has(d)?s.get(d):0;s.set(d,h+1)}else{let d=l.bracketInfo.getClosedBrackets()[0].bracketText,h=s.has(d)?s.get(d):0;if(h-=1,s.set(d,Math.max(0,h)),h<0){let u=o.get(d);u||(u=new Rn,o.set(d,u)),u.push(l.range)}}n=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,o,s){let a=new Map,l=Date.now();for(;;){if(t>=as._maxRounds&&o.size===0){e();break}if(!n){e();break}let c=i.bracketPairs.findPrevBracket(n);if(!c){e();break}if(Date.now()-l>as._maxDuration){setTimeout(()=>as._bracketsLeftYield(e,t+1,i,n,o,s));break}if(c.bracketInfo.isOpeningBracket){let h=c.bracketInfo.bracketText,u=a.has(h)?a.get(h):0;if(u-=1,a.set(h,Math.max(0,u)),u<0){let f=o.get(h);if(f){let m=f.shift();f.size===0&&o.delete(h);let _=D.fromPositions(c.range.getEndPosition(),m.getStartPosition()),v=D.fromPositions(c.range.getStartPosition(),m.getEndPosition());s.push({range:_}),s.push({range:v}),as._addBracketLeading(i,v,s)}}}else{let h=c.bracketInfo.getClosedBrackets()[0].bracketText,u=a.has(h)?a.get(h):0;a.set(h,u+1)}n=c.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;let n=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(n);o!==0&&o!==t.startColumn&&(i.push({range:D.fromPositions(new H(n,o),t.getEndPosition())}),i.push({range:D.fromPositions(new H(n,1),t.getEndPosition())}));let s=n-1;if(s>0){let a=e.getLineFirstNonWhitespaceColumn(s);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(s)&&(i.push({range:D.fromPositions(new H(s,a),t.getEndPosition())}),i.push({range:D.fromPositions(new H(s,1),t.getEndPosition())}))}}};as._maxDuration=30;as._maxRounds=2;var eye=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Pa=class{static create(e,t){return eye(this,void 0,void 0,function*(){if(!t.getOption(108).localityBonus||!t.hasModel())return Pa.None;let i=t.getModel(),n=t.getPosition();if(!e.canComputeWordRanges(i.uri))return Pa.None;let[o]=yield new as().provideSelectionRanges(i,[n]);if(o.length===0)return Pa.None;let s=yield e.computeWordRanges(i.uri,o[0].range);if(!s)return Pa.None;let a=i.getWordUntilPosition(n);return delete s[a.word],new class extends Pa{distance(l,c){if(!n.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;let d=typeof c.label=="string"?c.label:c.label.label,h=s[d];if(HE(h))return 2<<20;let u=I0(h,D.fromPositions(l),D.compareRangesUsingStarts),f=u>=0?h[u]:h[Math.max(0,~u-1)],m=o.length;for(let _ of o){if(!D.containsRange(_.range,f))break;m-=1}return m}}})}};Pa.None=new class extends Pa{distance(){return 0}};to();St();pc();Sm();Ft();Ye();var Pk=class{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}},Kc=class{constructor(e,t,i,n,o,s,a=Uw.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=Kc._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=a,s==="top"?this._snippetCompareFn=Kc._compareCompletionItemsSnippetsUp:s==="bottom"&&(this._snippetCompareFn=Kc._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();let e=new Set;for(let[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;let e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext,n="",o="",s=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||s.length>2e3?Ub:pee;for(let c=0;c<s.length;c++){let d=s[c];if(d.isInvalid)continue;this._providerInfo.set(d.provider,Boolean(d.container.incomplete));let h=d.position.column-d.editStart.column,u=h+i-(d.position.column-this._column);if(n.length!==u&&(n=u===0?"":t.slice(-u),o=n.toLowerCase()),d.word=n,u===0)d.score=Ys.Default;else{let f=0;for(;f<h;){let m=n.charCodeAt(f);if(m===32||m===9)f+=1;else break}if(f>=u)d.score=Ys.Default;else if(typeof d.completion.filterText=="string"){let m=l(n,o,f,d.completion.filterText,d.filterTextLow,0,this._fuzzyScoreOptions);if(!m)continue;bS(d.completion.filterText,d.textLabel)===0?d.score=m:(d.score=fee(n,o,f,d.textLabel,d.labelLow,0),d.score[0]=m[0])}else{let m=l(n,o,f,d.textLabel,d.labelLow,0,this._fuzzyScoreOptions);if(!m)continue;d.score=m}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),a.push(d),e.push(d.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?VE(e.length-.85,e,(c,d)=>c-d):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Kc._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Kc._compareCompletionItems(e,t)}};oi();var tye=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Bv=function(r,e){return function(t,i){e(t,i,r)}},iye=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Rp=class{constructor(e,t,i,n,o){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=n,this.noSelect=o}static shouldAutoTrigger(e){if(!e.hasModel())return!1;let t=e.getModel(),i=e.getPosition();t.tokenization.tokenizeIfCheap(i.lineNumber);let n=t.getWordAtPosition(i);return!(!n||n.endColumn!==i.column||!isNaN(Number(n.word)))}};function nye(r,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;let i=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return i!==void 0?Boolean(i):!1}function oye(r,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;let i=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return i!==void 0?Boolean(i):!1}var LF=class Noe{constructor(e,t,i,n,o,s,a,l){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=n,this._logService=o,this._contextKeyService=s,this._configurationService=a,this._languageFeaturesService=l,this._toDispose=new J,this._triggerCharacterListener=new J,this._triggerQuickSuggest=new On,this._state=0,this._completionDisposables=new J,this._onDidCancel=new B,this._onDidTrigger=new B,this._onDidSuggest=new B,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new ge(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let c=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{c=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{c=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(d=>{c||this._onCursorChange(d)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{c||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){ft(this._triggerCharacterListener),ft([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;let e=new Map;for(let i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(let n of i.triggerCharacters||[]){let o=e.get(n);o||(o=new Set,o.add(Sne()),e.set(n,o)),o.add(i)}let t=i=>{if(!oye(this._editor,this._contextKeyService,this._configurationService)||Rp.shouldAutoTrigger(this._editor))return;if(!i){let s=this._editor.getPosition();i=this._editor.getModel().getLineContent(s.lineNumber).substr(0,s.column-1)}let n="";hh(i.charCodeAt(i.length-1))?ln(i.charCodeAt(i.length-2))&&(n=i.substr(i.length-2)):n=i.charAt(i.length-1);let o=e.get(n);if(o){let s=this._completionModel?{items:this._completionModel.adopt(o),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:n},Boolean(this._completionModel),o,s)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._state}cancel(e=!1){var t;this._state!==0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1,noSelect:!1},!0))}_onCursorChange(e){if(!this._editor.hasModel())return;let t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._state===0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;gu.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&((e=fo.get(this._editor))===null||e===void 0?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!Rp.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;let t=this._editor.getModel(),i=this._editor.getPosition(),n=this._editor.getOption(81);if(!gu.isAllOff(n)){if(!gu.isAllOn(n)){t.tokenization.tokenizeIfCheap(i.lineNumber);let o=t.tokenization.getLineTokens(i.lineNumber),s=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(gu.valueFor(n,s)!=="on")return}!nye(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(t)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;let e=this._editor.getModel(),t=this._editor.getPosition(),i=new Rp(e,t,this._state===2,!1,!1);this._onNewContext(i)})}trigger(e,t=!1,i,n,o){var s;if(!this._editor.hasModel())return;let a=this._editor.getModel(),l=e.auto,c=new Rp(a,this._editor.getPosition(),l,e.shy,e.noSelect);this.cancel(t),this._state=l?2:1,this._onDidTrigger.fire({auto:l,shy:e.shy,position:this._editor.getPosition()}),this._context=c;let d={triggerKind:(s=e.triggerKind)!==null&&s!==void 0?s:0};e.triggerCharacter&&(d={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new qi;let h=this._editor.getOption(103),u=1;switch(h){case"top":u=0;break;case"bottom":u=2;break}let{itemKind:f,showDeprecated:m}=Noe._createSuggestFilter(this._editor),_=new og(u,o?new Set:f,i,m),v=Pa.create(this._editorWorkerService,this._editor),w=YD(this._languageFeaturesService.completionProvider,a,this._editor.getPosition(),_,d,this._requestToken.token);Promise.all([w,v]).then(([y,x])=>iye(this,void 0,void 0,function*(){var k;if((k=this._requestToken)===null||k===void 0||k.dispose(),!this._editor.hasModel())return;let N=n?.clipboardText;if(!N&&y.needsClipboard&&(N=yield this._clipboardService.readText()),this._state===0)return;let M=this._editor.getModel(),I=y.items;if(n){let R=oV(u);I=I.concat(n.items).sort(R)}let O=new Rp(M,this._editor.getPosition(),l,e.shy,e.noSelect);this._completionModel=new Kc(I,this._context.column,{leadingLineContent:O.leadingLineContent,characterCountDelta:O.column-this._context.column},x,this._editor.getOption(108),this._editor.getOption(103),void 0,N),this._completionDisposables.add(y.disposable),this._onNewContext(O),this._reportDurationsTelemetry(y.durations)})).catch(Pe)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){let t=new Set;e.getOption(103)==="none"&&t.add(27);let n=e.getOption(108);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),{itemKind:t,showDeprecated:n.showDeprecated}}_onNewContext(e){if(!!this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(ri(e.leadingLineContent)!==ri(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();return}if(!!this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){let t=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(let n of this._completionModel.allProvider)t.delete(n);let i=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,t,{items:i,clipboardText:this._completionModel.clipboardText});return}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){let{incomplete:t}=this._completionModel,i=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1,noSelect:!1,triggerKind:2},!0,t,{items:i,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(Rp.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:i})}}}}};LF=tye([Bv(1,or),Bv(2,Ls),Bv(3,Hs),Bv(4,Oo),Bv(5,Te),Bv(6,yt),Bv(7,_e)],LF);se();var jv=class{constructor(e,t){this._disposables=new J,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;let i=e.getSelections(),n=i.length,o=!1;for(let a=0;a<n;a++)if(!i[a].isEmpty()){o=!0;break}if(!o)return;this._lastOvertyped=[];let s=e.getModel();for(let a=0;a<n;a++){let l=i[a];if(s.getValueLengthInRange(l)>jv._maxSelectionLength)return;this._lastOvertyped[a]={value:s.getValueInRange(l),multiline:l.startLineNumber!==l.endLineNumber}}this._empty=!1})),this._disposables.add(t.onDidCancel(i=>{!this._empty&&!i.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}};jv._maxSelectionLength=51200;Fe();ot();ut();Oe();se();Yw();Ye();Fe();se();Ne();er();St();Xe();var rye=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},BU=function(r,e){return function(t,i){e(t,i,r)}},Ak=class extends Lv{updateLabel(){let e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=g("ddd","{0} ({1})",this._action.label,Ak.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}},xF=class{constructor(e,t,i,n){this._menuService=i,this._contextKeyService=n,this._menuDisposables=new J,this.element=oe(e,he(".suggest-status-bar"));let o=s=>s instanceof Sc?t.createInstance(Ak,s,void 0):void 0;this._leftActions=new nr(this.element,{actionViewItemProvider:o}),this._rightActions=new nr(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){let e=this._menuService.createMenu(mu,this._contextKeyService),t=()=>{let i=[],n=[];for(let[o,s]of e.getActions())o==="left"?i.push(...s):n.push(...s);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};xF=rye([BU(1,je),BU(2,Xa),BU(3,Te)],xF);bn();Ne();Ai();Ct();var sye=W("symbolIcon.arrayForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),aye=W("symbolIcon.booleanForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lye=W("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},g("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cye=W("symbolIcon.colorForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dye=W("symbolIcon.constantForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hye=W("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},g("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uye=W("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},g("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fye=W("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},g("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gye=W("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},g("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mye=W("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},g("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pye=W("symbolIcon.fileForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_ye=W("symbolIcon.folderForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bye=W("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},g("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vye=W("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},g("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cye=W("symbolIcon.keyForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wye=W("symbolIcon.keywordForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yye=W("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},g("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Sye=W("symbolIcon.moduleForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lye=W("symbolIcon.namespaceForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xye=W("symbolIcon.nullForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dye=W("symbolIcon.numberForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kye=W("symbolIcon.objectForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Eye=W("symbolIcon.operatorForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Iye=W("symbolIcon.packageForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Oye=W("symbolIcon.propertyForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nye=W("symbolIcon.referenceForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Tye=W("symbolIcon.snippetForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Pye=W("symbolIcon.stringForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Aye=W("symbolIcon.structForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mye=W("symbolIcon.textForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Rye=W("symbolIcon.typeParameterForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fye=W("symbolIcon.unitForeground",{dark:be,light:be,hcDark:be,hcLight:be},g("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bye=W("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},g("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Lt((r,e)=>{let t=r.getColor(sye);t&&e.addRule(`${p.symbolArray.cssSelector} { color: ${t}; }`);let i=r.getColor(aye);i&&e.addRule(`${p.symbolBoolean.cssSelector} { color: ${i}; }`);let n=r.getColor(lye);n&&e.addRule(`${p.symbolClass.cssSelector} { color: ${n}; }`);let o=r.getColor(yye);o&&e.addRule(`${p.symbolMethod.cssSelector} { color: ${o}; }`);let s=r.getColor(cye);s&&e.addRule(`${p.symbolColor.cssSelector} { color: ${s}; }`);let a=r.getColor(dye);a&&e.addRule(`${p.symbolConstant.cssSelector} { color: ${a}; }`);let l=r.getColor(hye);l&&e.addRule(`${p.symbolConstructor.cssSelector} { color: ${l}; }`);let c=r.getColor(uye);c&&e.addRule(`
			${p.symbolValue.cssSelector},${p.symbolEnum.cssSelector} { color: ${c}; }`);let d=r.getColor(fye);d&&e.addRule(`${p.symbolEnumMember.cssSelector} { color: ${d}; }`);let h=r.getColor(gye);h&&e.addRule(`${p.symbolEvent.cssSelector} { color: ${h}; }`);let u=r.getColor(mye);u&&e.addRule(`${p.symbolField.cssSelector} { color: ${u}; }`);let f=r.getColor(pye);f&&e.addRule(`${p.symbolFile.cssSelector} { color: ${f}; }`);let m=r.getColor(_ye);m&&e.addRule(`${p.symbolFolder.cssSelector} { color: ${m}; }`);let _=r.getColor(bye);_&&e.addRule(`${p.symbolFunction.cssSelector} { color: ${_}; }`);let v=r.getColor(vye);v&&e.addRule(`${p.symbolInterface.cssSelector} { color: ${v}; }`);let w=r.getColor(Cye);w&&e.addRule(`${p.symbolKey.cssSelector} { color: ${w}; }`);let y=r.getColor(wye);y&&e.addRule(`${p.symbolKeyword.cssSelector} { color: ${y}; }`);let x=r.getColor(Sye);x&&e.addRule(`${p.symbolModule.cssSelector} { color: ${x}; }`);let k=r.getColor(Lye);k&&e.addRule(`${p.symbolNamespace.cssSelector} { color: ${k}; }`);let N=r.getColor(xye);N&&e.addRule(`${p.symbolNull.cssSelector} { color: ${N}; }`);let M=r.getColor(Dye);M&&e.addRule(`${p.symbolNumber.cssSelector} { color: ${M}; }`);let I=r.getColor(kye);I&&e.addRule(`${p.symbolObject.cssSelector} { color: ${I}; }`);let O=r.getColor(Eye);O&&e.addRule(`${p.symbolOperator.cssSelector} { color: ${O}; }`);let R=r.getColor(Iye);R&&e.addRule(`${p.symbolPackage.cssSelector} { color: ${R}; }`);let K=r.getColor(Oye);K&&e.addRule(`${p.symbolProperty.cssSelector} { color: ${K}; }`);let q=r.getColor(Nye);q&&e.addRule(`${p.symbolReference.cssSelector} { color: ${q}; }`);let te=r.getColor(Tye);te&&e.addRule(`${p.symbolSnippet.cssSelector} { color: ${te}; }`);let ie=r.getColor(Pye);ie&&e.addRule(`${p.symbolString.cssSelector} { color: ${ie}; }`);let xe=r.getColor(Aye);xe&&e.addRule(`${p.symbolStruct.cssSelector} { color: ${xe}; }`);let Ae=r.getColor(Mye);Ae&&e.addRule(`${p.symbolText.cssSelector} { color: ${Ae}; }`);let Re=r.getColor(Rye);Re&&e.addRule(`${p.symbolTypeParameter.cssSelector} { color: ${Re}; }`);let Ve=r.getColor(Fye);Ve&&e.addRule(`${p.symbolUnit.cssSelector} { color: ${Ve}; }`);let nt=r.getColor(Bye);nt&&e.addRule(`${p.symbolVariable.cssSelector} { color: ${nt}; }`)});Ne();St();Xe();Ai();Tl();Ct();Fe();Oe();se();var cy=class{constructor(){this._onDidWillResize=new B,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new B,this.onDidResize=this._onDidResize.event,this._sashListener=new J,this._size=new gi(0,0),this._minSize=new gi(0,0),this._maxSize=new gi(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new oo(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new oo(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new oo(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:hx.North}),this._southSash=new oo(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:hx.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(Ie.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(Ie.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(Ie.any(this._eastSash.onDidReset,this._westSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(Ie.any(this._northSash.onDidReset,this._southSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){let{height:i,width:n}=this._minSize,{height:o,width:s}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(n,Math.min(s,t));let a=new gi(t,e);gi.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}};Fe();bn();Oe();se();Ne();Xe();var jye=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Wye=function(r,e){return function(t,i){e(t,i,r)}};function Mk(r){return!!r&&Boolean(r.completion.documentation||r.completion.detail&&r.completion.detail!==r.completion.label)}var DF=class{constructor(e,t){this._editor=e,this._onDidClose=new B,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new B,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new J,this._renderDisposeable=new J,this._borderWidth=1,this._size=new gi(330,0),this.domNode=he(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Na,{editor:e}),this._body=he(".body"),this._scrollbar=new Tc(this._body,{alwaysConsumeMouseWheel:!0}),oe(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=oe(this._body,he(".header")),this._close=oe(this._header,he("span"+p.close.cssSelector)),this._close.title=g("details.close","Close"),this._type=oe(this._header,he("p.type")),this._docs=oe(this._body,he("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){let e=this._editor.getOptions(),t=e.get(46),i=t.getMassagedFontFamily(),n=e.get(109)||t.fontSize,o=e.get(110)||t.lineHeight,s=t.fontWeight,a=`${n}px`,l=`${o}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${o/n}`,this.domNode.style.fontWeight=s,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){let e=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=g("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,n;this._renderDisposeable.clear();let{detail:o,documentation:s}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${(i=e.word)!==null&&i!==void 0?i:"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(n=e.completion.commitCharacters)===null||n===void 0?void 0:n.join("")}
`,s=new ro().appendCodeblock("empty",a),o=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!Mk(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){let a=o.length>1e5?`${o.substr(0,1e5)}\u2026`:o;this._type.textContent=a,this._type.title=a,Jo(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else Yi(this._type),this._type.title="",$o(this._type),this.domNode.classList.add("no-type");if(Yi(this._docs),typeof s=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=s;else if(s){this._docs.classList.add("markdown-docs"),Yi(this._docs);let a=this._markdownRenderer.render(s);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){let i=new gi(e,t);gi.equals(i,this._size)||(this._size=i,rG(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};DF=jye([Wye(1,je)],DF);var kF=class{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new J,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new cy,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,n,o=0,s=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,n=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&n){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(s=n.width-a.dimension.width,l=!0),a.north&&(o=n.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+o,left:i.left+s})}a.done&&(i=void 0,n=void 0,o=0,s=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var a;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;let n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var n;let o=_m(document.body),s=this.widget.getLayoutInfo(),a=new gi(220,2*s.lineHeight),l=e.top,c=function(){let x=o.width-(e.left+e.width+s.borderWidth+s.horizontalPadding),k=-s.borderWidth+e.left+e.width,N=new gi(x,o.height-e.top-s.borderHeight-s.verticalPadding),M=N.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:k,fit:x-t.width,maxSizeTop:N,maxSizeBottom:M,minSize:a.with(Math.min(x,a.width))}}(),d=function(){let x=e.left-s.borderWidth-s.horizontalPadding,k=Math.max(s.horizontalPadding,e.left-t.width-s.borderWidth),N=new gi(x,o.height-e.top-s.borderHeight-s.verticalPadding),M=N.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:k,fit:x-t.width,maxSizeTop:N,maxSizeBottom:M,minSize:a.with(Math.min(x,a.width))}}(),h=function(){let x=e.left,k=-s.borderWidth+e.top+e.height,N=new gi(e.width-s.borderHeight,o.height-e.top-e.height-s.verticalPadding);return{top:k,left:x,fit:N.height-t.height,maxSizeBottom:N,maxSizeTop:N,minSize:a.with(N.width)}}(),u=[c,d,h],f=(n=u.find(x=>x.fit>=0))!==null&&n!==void 0?n:u.sort((x,k)=>k.fit-x.fit)[0],m=e.top+e.height-s.borderHeight,_,v=t.height,w=Math.max(f.maxSizeTop.height,f.maxSizeBottom.height);v>w&&(v=w);let y;i?v<=f.maxSizeTop.height?(_=!0,y=f.maxSizeTop):(_=!1,y=f.maxSizeBottom):v<=f.maxSizeBottom.height?(_=!1,y=f.maxSizeBottom):(_=!0,y=f.maxSizeTop),this._applyTopLeft({left:f.left,top:_?f.top:m-v}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!_,f===c,_,f!==c),this._resizable.minSize=f.minSize,this._resizable.maxSize=y,this._resizable.layout(v,Math.min(y.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}};Fe();bn();Oe();se();vi();Un();Ws();Vr();fc();var Zd;(function(r){r[r.FILE=0]="FILE",r[r.FOLDER=1]="FOLDER",r[r.ROOT_FOLDER=2]="ROOT_FOLDER"})(Zd||(Zd={}));var zye=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Rk(r,e,t,i){let n=i===Zd.ROOT_FOLDER?["rootfolder-icon"]:i===Zd.FOLDER?["folder-icon"]:["file-icon"];if(t){let o;if(t.scheme===lt.data)o=Vh.parseMetaData(t).get(Vh.META_DATA_LABEL);else{let s=t.path.match(zye);s?(o=EF(s[2].toLowerCase()),s[1]&&n.push(`${EF(s[1].toLowerCase())}-name-dir-icon`)):o=EF(t.authority.toLowerCase())}if(i===Zd.FOLDER)n.push(`${o}-name-folder-icon`);else{if(o){if(n.push(`${o}-name-file-icon`),n.push("name-file-icon"),o.length<=255){let a=o.split(".");for(let l=1;l<a.length;l++)n.push(`${a.slice(l).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}let s=Vye(r,e,t);s&&n.push(`${EF(s)}-lang-file-icon`)}}return n}function Vye(r,e,t){if(!t)return null;let i=null;if(t.scheme===lt.data){let o=Vh.parseMetaData(t).get(Vh.META_DATA_MIME);o&&(i=e.getLanguageIdByMimeType(o))}else{let n=r.getModel(t);n&&(i=n.getLanguageId())}return i&&i!==Io?i:e.guessLanguageIdByFilepathOrFirstLine(t)}function EF(r){return r.replace(/[\11\12\14\15\40]/g,"/")}_s();Qo();Ne();Ct();var Uye=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},jU=function(r,e){return function(t,i){e(t,i,r)}},Fk;function zU(r){return`suggest-aria-id:${r}`}var Hye=fn("suggest-more-info",p.chevronRight,g("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),$ye=new(Fk=class IF{extract(e,t){if(e.textLabel.match(IF._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(IF._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){let i=IF._regexRelaxed.exec(e.completion.documentation);if(i&&(i.index===0||i.index+i[0].length===e.completion.documentation.length))return t[0]=i[0],!0}return!1}},Fk._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Fk._regexStrict=new RegExp(`^${Fk._regexRelaxed.source}$`,"i"),Fk),OF=class{constructor(e,t,i,n){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=n,this._onDidToggleDetails=new B,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){let t=Object.create(null);t.disposables=new J,t.root=e,t.root.classList.add("show-file-icons"),t.icon=oe(e,he(".icon")),t.colorspan=oe(t.icon,he("span.colorspan"));let i=oe(e,he(".contents")),n=oe(i,he(".main"));t.iconContainer=oe(n,he(".icon-label.codicon")),t.left=oe(n,he("span.left")),t.right=oe(n,he("span.right")),t.iconLabel=new Uf(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=oe(t.left,he("span.signature-label")),t.qualifierLabel=oe(t.left,he("span.qualifier-label")),t.detailsLabel=oe(t.right,he("span.details-label")),t.readMore=oe(t.right,he("span.readMore"+Vt.asCSSSelector(Hye))),t.readMore.title=g("readMore","Read More");let o=()=>{let s=this._editor.getOptions(),a=s.get(46),l=a.getMassagedFontFamily(),c=a.fontFeatureSettings,d=s.get(109)||a.fontSize,h=s.get(110)||a.lineHeight,u=a.fontWeight,f=a.letterSpacing,m=`${d}px`,_=`${h}px`,v=`${f}px`;t.root.style.fontSize=m,t.root.style.fontWeight=u,t.root.style.letterSpacing=v,n.style.fontFamily=l,n.style.fontFeatureSettings=c,n.style.lineHeight=_,t.icon.style.height=_,t.icon.style.width=_,t.readMore.style.height=_,t.readMore.style.width=_};return o(),t.disposables.add(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(46)||s.hasChanged(109)||s.hasChanged(110))&&o()})),t}renderElement(e,t,i){let{completion:n}=e;i.root.id=zU(t),i.colorspan.style.backgroundColor="";let o={labelEscapeNewLines:!0,matches:mx(e.score)},s=[];if(n.kind===19&&$ye.extract(e,s))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0];else if(n.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";let a=Rk(this._modelService,this._languageService,Ee.from({scheme:"fake",path:e.textLabel}),Zd.FILE),l=Rk(this._modelService,this._languageService,Ee.from({scheme:"fake",path:n.detail}),Zd.FILE);o.extraClasses=a.length>l.length?a:l}else n.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=[Rk(this._modelService,this._languageService,Ee.from({scheme:"fake",path:e.textLabel}),Zd.FOLDER),Rk(this._modelService,this._languageService,Ee.from({scheme:"fake",path:n.detail}),Zd.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...po.asClassNameArray(g_.toIcon(n.kind))));n.tags&&n.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),typeof n.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=WU(n.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=WU(n.label.detail||""),i.detailsLabel.textContent=WU(n.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?Jo(i.detailsLabel):$o(i.detailsLabel),Mk(e)?(i.right.classList.add("can-expand-details"),Jo(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),$o(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};OF=Uye([jU(1,si),jU(2,ei),jU(3,Tt)],OF);function WU(r){return r.replace(/\r\n|\r|\n/g,"")}var Kye=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},NF=function(r,e){return function(t,i){e(t,i,r)}},qye=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},I2t=W("editorSuggestWidget.background",{dark:jn,light:jn,hcDark:jn,hcLight:jn},g("editorSuggestWidgetBackground","Background color of the suggest widget.")),O2t=W("editorSuggestWidget.border",{dark:pd,light:pd,hcDark:pd,hcLight:pd},g("editorSuggestWidgetBorder","Border color of the suggest widget.")),TF=W("editorSuggestWidget.foreground",{dark:Wr,light:Wr,hcDark:Wr,hcLight:Wr},g("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),N2t=W("editorSuggestWidget.selectedForeground",{dark:ab,light:ab,hcDark:ab,hcLight:ab},g("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),T2t=W("editorSuggestWidget.selectedIconForeground",{dark:lb,light:lb,hcDark:lb,hcLight:lb},g("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),Yye=W("editorSuggestWidget.selectedBackground",{dark:cb,light:cb,hcDark:cb,hcLight:cb},g("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),P2t=W("editorSuggestWidget.highlightForeground",{dark:Ja,light:Ja,hcDark:Ja,hcLight:Ja},g("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),A2t=W("editorSuggestWidget.focusHighlightForeground",{dark:fL,light:fL,hcDark:fL,hcLight:fL},g("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),M2t=W("editorSuggestWidgetStatus.foreground",{dark:ze(TF,.5),light:ze(TF,.5),hcDark:ze(TF,.5),hcLight:ze(TF,.5)},g("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status.")),VU=class{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof Hd}`}restore(){var e;let t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{let i=JSON.parse(t);if(gi.is(i))return gi.lift(i)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}},dy=class UU{constructor(e,t,i,n,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new On,this._disposables=new J,this._onDidSelect=new B,this._onDidFocus=new B,this._onDidHide=new B,this._onDidShow=new B,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new B,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new cy,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new HU(this,e),this._persistedSize=new VU(t,e);class s{constructor(f,m,_=!1,v=!1){this.persistedSize=f,this.currentSize=m,this.persistHeight=_,this.persistWidth=v}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new s(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(u=>{var f,m,_,v;if(this._resize(u.dimension.width,u.dimension.height),a&&(a.persistHeight=a.persistHeight||!!u.north||!!u.south,a.persistWidth=a.persistWidth||!!u.east||!!u.west),!!u.done){if(a){let{itemHeight:w,defaultSize:y}=this.getLayoutInfo(),x=Math.round(w/2),{width:k,height:N}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-N)<=x)&&(N=(m=(f=a.persistedSize)===null||f===void 0?void 0:f.height)!==null&&m!==void 0?m:y.height),(!a.persistWidth||Math.abs(a.currentSize.width-k)<=x)&&(k=(v=(_=a.persistedSize)===null||_===void 0?void 0:_.width)!==null&&v!==void 0?v:y.width),this._persistedSize.store(new gi(k,N))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=oe(this.element.domNode,he(".message")),this._listElement=oe(this.element.domNode,he(".tree"));let l=o.createInstance(DF,this.editor);l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new kF(l,this.editor);let c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);c();let d=o.createInstance(OF,this.editor);this._disposables.add(d),this._disposables.add(d.onDidToggleDetails(()=>this.toggleDetails())),this._list=new $r("SuggestWidget",this._listElement,{getHeight:u=>this.getLayoutInfo().itemHeight,getTemplateId:u=>"suggestion"},[d],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>g("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:u=>{let f=u.textLabel;if(typeof u.completion.label!="string"){let{detail:w,description:y}=u.completion.label;w&&y?f=g("label.full","{0}{1}, {2}",f,w,y):w?f=g("label.detail","{0}{1}",f,w):y&&(f=g("label.desc","{0}, {1}",f,y))}if(!u.isResolved||!this._isDetailsVisible())return f;let{documentation:m,detail:_}=u.completion,v=td("{0}{1}",_||"",m?typeof m=="string"?m:m.value:"");return g("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",f,v)}}}),this._status=o.createInstance(xF,this.element.domNode);let h=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);h(),this._disposables.add(Vf(this._list,n,{listInactiveFocusBackground:Yye,listInactiveFocusOutline:Pi})),this._disposables.add(n.onDidColorThemeChange(u=>this._onThemeChange(u))),this._onThemeChange(n.getColorTheme()),this._disposables.add(this._list.onMouseDown(u=>this._onListMouseDownOrTap(u))),this._disposables.add(this._list.onTap(u=>this._onListMouseDownOrTap(u))),this._disposables.add(this._list.onDidChangeSelection(u=>this._onListSelection(u))),this._disposables.add(this._list.onDidChangeFocus(u=>this._onListFocus(u))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(u=>{u.hasChanged(108)&&(h(),c())})),this._ctxSuggestWidgetVisible=qt.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=qt.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=qt.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=qt.HasFocusedSuggestion.bindTo(i),this._disposables.add(Ti(this._details.widget.domNode,"keydown",u=>{this._onDetailsKeydown.fire(u)})),this._disposables.add(this.editor.onMouseDown(u=>this._onEditorMouseDown(u)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element>"u"||typeof e.index>"u"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){let i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=Qn(e.type)?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);let i=e.elements[0],n=e.indexes[0];i!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(n),this._currentSuggestionDetails=wi(o=>qye(this,void 0,void 0,function*(){let s=gc(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),a=o.onCancellationRequested(()=>s.dispose()),l=yield i.resolve(o);return s.dispose(),a.dispose(),l})),this._currentSuggestionDetails.then(()=>{n>=this._list.length||i!==this._list.element(n)||(this._ignoreFocusEvents=!0,this._list.splice(n,1,[i]),this._list.setFocus([n]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:zU(n)}))}).catch(Pe)),this._onDidFocus.fire({item:i,index:n,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:$o(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=UU.LOADING_MESSAGE,$o(this._listElement,this._status.element),Jo(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=UU.NO_SUGGESTIONS_MESSAGE,$o(this._listElement,this._status.element),Jo(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:$o(this._messageElement),Jo(this._listElement,this._status.element),this._show();break;case 4:$o(this._messageElement),Jo(this._listElement,this._status.element),this._show();break;case 5:$o(this._messageElement),Jo(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=gc(()=>this._setState(1),t)))}showSuggestions(e,t,i,n){var o,s;if(this._contentWidget.setPosition(this.editor.getPosition()),(o=this._loadingTimeout)===null||o===void 0||o.dispose(),(s=this._currentSuggestionDetails)===null||s===void 0||s.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}let a=this._completionModel.items.length,l=a===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),l){this._setState(n?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),t>=0&&(this._list.reveal(t,0),this._list.setFocus([t])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Mk(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();let t=this._persistedSize.restore(),i=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,i,n;if(!this.editor.hasModel()||!this.editor.getDomNode())return;let o=_m(document.body),s=this.getLayoutInfo();e||(e=s.defaultSize);let a=e.height,l=e.width;if(this._status.element.style.lineHeight=`${s.itemHeight}px`,this._state===2||this._state===1)a=s.itemHeight+s.borderHeight,l=s.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new gi(l,a),this._contentWidget.setPreference(2);else{let c=o.width-s.borderHeight-2*s.horizontalPadding;l>c&&(l=c);let d=this._completionModel?this._completionModel.stats.pLabelLen*s.typicalHalfwidthCharacterWidth:l,h=s.statusBarHeight+this._list.contentHeight+s.borderHeight,u=s.itemHeight+s.statusBarHeight,f=dn(this.editor.getDomNode()),m=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),_=f.top+m.top+m.height,v=Math.min(o.height-_-s.verticalPadding,h),w=f.top+m.top-s.verticalPadding,y=Math.min(w,h),x=Math.min(Math.max(y,v)+s.borderHeight,h);a===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<u&&(a=u),a>x&&(a=x);let k=150;a>v||this._forceRenderingAbove&&w>k?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),x=y):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),x=v),this.element.preferredSize=new gi(d,s.defaultSize.height),this.element.maxSize=new gi(c,x),this.element.minSize=new gi(220,u),this._cappedHeight=a===h?{wanted:(n=(i=this._cappedHeight)===null||i===void 0?void 0:i.wanted)!==null&&n!==void 0?n:e.height,capped:a}:void 0}this._resize(l,a)}_resize(e,t){let{width:i,height:n}=this.element.maxSize;e=Math.min(i,e),t=Math.min(n,t);let{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=`${t-o}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){let e=this.editor.getOption(46),t=vr(this.editor.getOption(110)||e.lineHeight,8,1e3),i=!this.editor.getOption(108).showStatusBar||this._state===2||this._state===1?0:t,n=this._details.widget.borderWidth,o=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new gi(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};dy.LOADING_MESSAGE=g("suggestWidget.loading","Loading...");dy.NO_SUGGESTIONS_MESSAGE=g("suggestWidget.noSuggestions","No suggestions.");dy=Kye([NF(1,rs),NF(2,Te),NF(3,Tt),NF(4,je)],dy);var HU=class{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){let{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:n}=this._widget.getLayoutInfo();return new gi(t+2*i+n,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}};Sm();Vr();k_();var Zye=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},hy=function(r,e){return function(t,i){e(t,i,r)}},Gye=!1,$U=class{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){let n=e.getOffsetAt(t),o=e.getPositionAt(n+1);this._marker=e.deltaDecorations([],[{range:D.fromPositions(t,o),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){let t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}},Zl=class Toe{constructor(e,t,i,n,o,s,a){this._memoryService=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=o,this._logService=s,this._telemetryService=a,this._lineSuffix=new Cn,this._toDispose=new J,this._selectors=new KU(h=>h.priority),this._telemetryGate=0,this.editor=e,this.model=o.createInstance(LF,this.editor);let l=qt.InsertMode.bindTo(n);l.set(e.getOption(108).insertMode),this.model.onDidTrigger(()=>l.set(e.getOption(108).insertMode)),this.widget=this._toDispose.add(new Za(()=>{let h=this._instantiationService.createInstance(dy,this.editor);this._toDispose.add(h),this._toDispose.add(h.onDidSelect(v=>this._insertSuggestion(v,0),this));let u=new SF(this.editor,h,v=>this._insertSuggestion(v,2));this._toDispose.add(u),this._toDispose.add(this.model.onDidSuggest(v=>{v.completionModel.items.length===0&&u.reset()}));let f=qt.MakesTextEdit.bindTo(this._contextKeyService),m=qt.HasInsertAndReplaceRange.bindTo(this._contextKeyService),_=qt.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(Ke(()=>{f.reset(),m.reset(),_.reset()})),this._toDispose.add(h.onDidFocus(({item:v})=>{let w=this.editor.getPosition(),y=v.editStart.column,x=w.column,k=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!v.completion.additionalTextEdits&&!(v.completion.insertTextRules&4)&&x-y===v.completion.insertText.length&&(k=this.editor.getModel().getValueInRange({startLineNumber:w.lineNumber,startColumn:y,endLineNumber:w.lineNumber,endColumn:x})!==v.completion.insertText),f.set(k),m.set(!H.equals(v.editInsertEnd,v.editReplaceEnd)),_.set(Boolean(v.provider.resolveCompletionItem)||Boolean(v.completion.documentation)||v.completion.detail!==v.completion.label)})),this._toDispose.add(h.onDetailsKeyDown(v=>{if(v.toKeybinding().equals(new El(!0,!1,!1,!1,33))||at&&v.toKeybinding().equals(new El(!1,!1,!1,!0,33))){v.stopPropagation();return}v.toKeybinding().isModifierKey()||this.editor.focus()})),h})),this._overtypingCapturer=this._toDispose.add(new Za(()=>this._toDispose.add(new jv(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Za(()=>this._toDispose.add(new Mp(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(ly,e)),this._toDispose.add(this.model.onDidTrigger(h=>{this.widget.value.showTriggered(h.auto,h.shy?250:50),this._lineSuffix.value=new $U(this.editor.getModel(),h.position)})),this._toDispose.add(this.model.onDidSuggest(h=>{if(h.shy)return;let u=-1;if(!h.noSelect){for(let f of this._selectors.itemsOrderedByPriorityDesc)if(u=f.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items),u!==-1)break;u===-1&&(u=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items))}this.widget.value.showSuggestions(h.completionModel,u,h.isFrozen,h.auto)})),this._toDispose.add(this.model.onDidCancel(h=>{h.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Gye||(this.model.cancel(),this.model.clear())}));let c=qt.AcceptSuggestionsOnEnter.bindTo(n),d=()=>{let h=this.editor.getOption(1);c.set(h==="on"||h==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>d())),d()}static get(e){return e.getContribution(Toe.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;let i=fo.get(this.editor);if(!i)return;let n=this.editor.getModel(),o=n.getAlternativeVersionId(),{item:s}=e,a=[],l=new qi;t&1||this.editor.pushUndoStop();let c=this.getOverwriteInfo(s,Boolean(t&8));if(this._memoryService.memorize(n,this.editor.getPosition(),s),Array.isArray(s.completion.additionalTextEdits)){let h=rl.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map(u=>li.replaceMove(D.lift(u.range),u.text))),h.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!s.isResolved){let h=new _n(!0),u,f=n.onDidChangeContent(w=>{if(w.isFlush){l.cancel(),f.dispose();return}for(let y of w.changes){let x=D.getEndPosition(y.range);(!u||H.isBefore(x,u))&&(u=x)}}),m=t;t|=2;let _=!1,v=this.editor.onWillType(()=>{v.dispose(),_=!0,m&2||this.editor.pushUndoStop()});a.push(s.resolve(l.token).then(()=>{if(!s.completion.additionalTextEdits||l.token.isCancellationRequested||u&&s.completion.additionalTextEdits.some(y=>H.isBefore(u,D.getStartPosition(y.range))))return!1;_&&this.editor.pushUndoStop();let w=rl.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map(y=>li.replaceMove(D.lift(y.range),y.text))),w.restoreRelativeVerticalPositionOfCursor(this.editor),(_||!(m&2))&&this.editor.pushUndoStop(),!0}).then(w=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",h.elapsed(),w),f.dispose(),v.dispose()}))}let{insertText:d}=s.completion;s.completion.insertTextRules&4||(d=Is.escape(d)),i.insert(d,{overwriteBefore:c.overwriteBefore,overwriteAfter:c.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(s.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),s.completion.command?s.completion.command.id===Wv.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(a.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(Pe)),this.model.cancel()):this.model.cancel(),t&4&&this._alternatives.value.set(e,h=>{for(l.cancel();n.canUndo();){o!==n.getAlternativeVersionId()&&n.undo(),this._insertSuggestion(h,3|(t&8?8:0));break}}),this._alertCompletionItem(s),Promise.all(a).finally(()=>{this._reportSuggestionAcceptedTelemetry(s,n,e),this.model.clear(),l.dispose()})}_reportSuggestionAcceptedTelemetry(e,t,i){var n;if(this._telemetryGate++%100!==0)return;let o=e.extensionId?e.extensionId.value:((n=i.item.provider._debugDisplayName)!==null&&n!==void 0?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:o,kind:e.completion.kind,basenameHash:nC(ir(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:bJ(t.uri)})}getOverwriteInfo(e,t){$t(this.editor.hasModel());let i=this.editor.getOption(108).insertMode==="replace";t&&(i=!i);let n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,s=this.editor.getPosition().column-e.position.column,a=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:n+s,overwriteAfter:o+a}}_alertCompletionItem(e){if(an(e.completion.additionalTextEdits)){let t=g("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);Tn(t)}}triggerSuggest(e,t,i,n){this.editor.hasModel()&&(this.model.trigger({auto:t??!1,shy:!1,noSelect:n??!1},!1,e,void 0,i),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;let t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=o=>{if(o.completion.insertTextRules&4||o.completion.additionalTextEdits)return!0;let s=this.editor.getPosition(),a=o.editStart.column,l=s.column;return l-a!==o.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:s.lineNumber,startColumn:a,endLineNumber:s.lineNumber,endColumn:l})!==o.completion.insertText};Ie.once(this.model.onDidTrigger)(o=>{let s=[];Ie.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{ft(s),i()},void 0,s),this.model.onDidSuggest(({completionModel:a})=>{if(ft(s),a.items.length===0){i();return}let l=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),a.items),c=a.items[l];if(!n(c)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:l,item:c,model:a},7)},void 0,s)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){let i=this.widget.value.getFocusedItem(),n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};Zl.ID="editor.contrib.suggestController";Zl=Zye([hy(1,ay),hy(2,yi),hy(3,Te),hy(4,je),hy(5,Oo),hy(6,Hs)],Zl);var KU=class{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{let t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}},Wv=class extends we{constructor(){super({id:Wv.id,label:g("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Se.and(F.writable,F.hasCompletionItemProvider),kbOpts:{kbExpr:F.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){let n=Zl.get(t);if(!n)return;let o,s;i&&typeof i=="object"&&(i.auto===!0&&(o=!0),i.noSelection===!0&&(s=!0)),n.triggerSuggest(void 0,o,void 0,s)}};Wv.id="editor.action.triggerSuggest";Ze(Zl.ID,Zl);le(Wv);var Gl=100+90,Aa=zi.bindToContribution(Zl.get);me(new Aa({id:"acceptSelectedSuggestion",precondition:Se.and(qt.Visible,qt.HasFocusedSuggestion),handler(r){r.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:Se.and(qt.Visible,F.textInputFocus),weight:Gl},{primary:3,kbExpr:Se.and(qt.Visible,F.textInputFocus,qt.AcceptSuggestionsOnEnter,qt.MakesTextEdit),weight:Gl}],menuOpts:[{menuId:mu,title:g("accept.insert","Insert"),group:"left",order:1,when:qt.HasInsertAndReplaceRange.toNegated()},{menuId:mu,title:g("accept.insert","Insert"),group:"left",order:1,when:Se.and(qt.HasInsertAndReplaceRange,qt.InsertMode.isEqualTo("insert"))},{menuId:mu,title:g("accept.replace","Replace"),group:"left",order:1,when:Se.and(qt.HasInsertAndReplaceRange,qt.InsertMode.isEqualTo("replace"))}]}));me(new Aa({id:"acceptAlternativeSelectedSuggestion",precondition:Se.and(qt.Visible,F.textInputFocus,qt.HasFocusedSuggestion),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:1027,secondary:[1026]},handler(r){r.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:mu,group:"left",order:2,when:Se.and(qt.HasInsertAndReplaceRange,qt.InsertMode.isEqualTo("insert")),title:g("accept.replace","Replace")},{menuId:mu,group:"left",order:2,when:Se.and(qt.HasInsertAndReplaceRange,qt.InsertMode.isEqualTo("replace")),title:g("accept.insert","Insert")}]}));gt.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");me(new Aa({id:"hideSuggestWidget",precondition:qt.Visible,handler:r=>r.cancelSuggestWidget(),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:9,secondary:[1033]}}));me(new Aa({id:"selectNextSuggestion",precondition:Se.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectNextSuggestion(),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));me(new Aa({id:"selectNextPageSuggestion",precondition:Se.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectNextPageSuggestion(),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:12,secondary:[2060]}}));me(new Aa({id:"selectLastSuggestion",precondition:Se.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectLastSuggestion()}));me(new Aa({id:"selectPrevSuggestion",precondition:Se.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectPrevSuggestion(),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));me(new Aa({id:"selectPrevPageSuggestion",precondition:Se.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectPrevPageSuggestion(),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:11,secondary:[2059]}}));me(new Aa({id:"selectFirstSuggestion",precondition:Se.and(qt.Visible,qt.MultipleSuggestions),handler:r=>r.selectFirstSuggestion()}));me(new Aa({id:"toggleSuggestionDetails",precondition:qt.Visible,handler:r=>r.toggleSuggestionDetails(),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:mu,group:"right",order:1,when:Se.and(qt.DetailsVisible,qt.CanResolve),title:g("detail.more","show less")},{menuId:mu,group:"right",order:1,when:Se.and(qt.DetailsVisible.toNegated(),qt.CanResolve),title:g("detail.less","show more")}]}));me(new Aa({id:"toggleExplainMode",precondition:qt.Visible,handler:r=>r.toggleExplainMode(),kbOpts:{weight:100,primary:2133}}));me(new Aa({id:"toggleSuggestionFocus",precondition:qt.Visible,handler:r=>r.toggleSuggestionFocus(),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:2570,mac:{primary:778}}}));me(new Aa({id:"insertBestCompletion",precondition:Se.and(F.textInputFocus,Se.equals("config.editor.tabCompletion","on"),ly.AtEnd,qt.Visible.toNegated(),Mp.OtherSuggestions.toNegated(),fo.InSnippetMode.toNegated()),handler:(r,e)=>{r.triggerSuggestAndAcceptBest(mo(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:Gl,primary:2}}));me(new Aa({id:"insertNextSuggestion",precondition:Se.and(F.textInputFocus,Se.equals("config.editor.tabCompletion","on"),Mp.OtherSuggestions,qt.Visible.toNegated(),fo.InSnippetMode.toNegated()),handler:r=>r.acceptNextSuggestion(),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:2}}));me(new Aa({id:"insertPrevSuggestion",precondition:Se.and(F.textInputFocus,Se.equals("config.editor.tabCompletion","on"),Mp.OtherSuggestions,qt.Visible.toNegated(),fo.InSnippetMode.toNegated()),handler:r=>r.acceptPrevSuggestion(),kbOpts:{weight:Gl,kbExpr:F.textInputFocus,primary:1026}}));le(class extends we{constructor(){super({id:"editor.action.resetSuggestSize",label:g("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(r,e){var t;(t=Zl.get(e))===null||t===void 0||t.resetWidgetSize()}});var PF=class extends ${constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new pt(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(n=>{n.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(n=>{n.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));let i=Zl.get(this.editor);if(i){this._register(i.registerSelector({priority:100,select:(s,a,l)=>{let c=this.editor.getModel(),d=sy(c,this.suggestControllerPreselector());if(!d)return-1;let h=H.lift(a),u=l.map((m,_)=>{let v=Poe(i,h,m,this.isShiftKeyPressed),w=sy(c,v?.normalizedInlineCompletion);if(!w)return;let y=Xye(d.range,w.range)&&d.insertText.startsWith(w.insertText);return{index:_,valid:y,prefixLength:w.insertText.length,suggestItem:m}}).filter(m=>m&&m.valid),f=y5(u,Fg(m=>m.prefixLength,aY));return f?f.index:-1}}));let n=!1,o=()=>{n||(n=!0,this._register(i.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(i.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(i.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(Ie.once(i.model.onDidTrigger)(s=>{o()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){let t=this.getSuggestItemInfo(),i=!1;Qye(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){let e=Zl.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;let t=e.widget.value.getFocusedItem();if(!!t)return Poe(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){let e=Zl.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){let e=Zl.get(this.editor);e&&e.forceRenderingAbove()}};function Xye(r,e){return e.startLineNumber===r.startLineNumber&&e.startColumn===r.startColumn&&(e.endLineNumber<r.endLineNumber||e.endLineNumber===r.endLineNumber&&e.endColumn<=r.endColumn)}function Qye(r,e){return r===e?!0:!r||!e?!1:r.completionItemKind===e.completionItemKind&&r.isSnippetText===e.isSnippetText&&koe(r.normalizedInlineCompletion,e.normalizedInlineCompletion)}function Poe(r,e,t,i){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:D.fromPositions(e,e),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:n}=t.completion,o=!1;if(t.completion.insertTextRules&4){let a=new Is().parse(n),l=r.editor.getModel();if(a.children.length>100)return;Y1.adjustWhitespace(l,e,a,!0,!0),n=a.toString(),o=!0}let s=r.getOverwriteInfo(t,i);return{isSnippetText:o,completionItemKind:t.completion.kind,normalizedInlineCompletion:{insertText:n,filterText:n,range:D.fromPositions(e.delta(0,-s.overwriteBefore),e.delta(0,Math.max(s.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var Jye=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},eSe=function(r,e){return function(t,i){e(t,i,r)}},Aoe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},AF=class extends ry{constructor(e,t,i){super(e),this.cache=t,this.languageFeaturesService=i,this.suggestionInlineCompletionSource=this._register(new PF(this.editor,()=>{var n,o;return(o=(n=this.cache.value)===null||n===void 0?void 0:n.completions[0])===null||o===void 0?void 0:o.toLiveInlineCompletion()})),this.updateOperation=this._register(new Cn),this.updateCacheSoon=this._register(new pt(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);let o=this.ghostText;o&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,tSe(o.parts.map(s=>s.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(n=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register(Ke(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return Aoe(this,void 0,void 0,function*(){let e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;let t={text:e.selectedItem.normalizedInlineCompletion.insertText,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},i=this.editor.getPosition();if(e.selectedItem.isSnippetText||e.selectedItem.completionItemKind===27||e.selectedItem.completionItemKind===20||e.selectedItem.completionItemKind===23){this.cache.clear();return}let n=wi(s=>Aoe(this,void 0,void 0,function*(){let a;try{a=yield MU(this.languageFeaturesService.inlineCompletionsProvider,i,this.editor.getModel(),{triggerKind:Ms.Automatic,selectedSuggestionInfo:t},s)}catch(l){Pe(l);return}if(s.isCancellationRequested){a.dispose();return}this.cache.setValue(this.editor,a,Ms.Automatic),this.onDidChangeEmitter.fire()})),o=new Ok(n,Ms.Automatic);this.updateOperation.value=o,yield n,this.updateOperation.value===o&&this.updateOperation.clear()})}get ghostText(){var e,t,i;let n=this.isSuggestionPreviewEnabled(),o=this.editor.getModel(),s=sy(o,(t=(e=this.cache.value)===null||e===void 0?void 0:e.completions[0])===null||t===void 0?void 0:t.toLiveInlineCompletion()),a=this.suggestionInlineCompletionSource.state,l=sy(o,(i=a?.selectedItem)===null||i===void 0?void 0:i.normalizedInlineCompletion),c=s&&l&&s.insertText.startsWith(l.insertText)&&s.range.equalsRange(l.range);if(!n&&!c)return;let d=c?s:l||s,h=c?d.insertText.length-l.insertText.length:0;return this.toGhostText(d,h)}toGhostText(e,t){let i=this.editor.getOptions().get(108).previewMode;return e?_F(e,this.editor.getModel(),i,this.editor.getPosition(),t)||new iy(e.range.endLineNumber,[],this.minReservedLineCount):void 0}};AF=Jye([eSe(2,_e)],AF);function tSe(r){return r.reduce((e,t)=>e+t,0)}Xe();var iSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},nSe=function(r,e){return function(t,i){e(t,i,r)}},oSe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},qU=class extends ${constructor(){super(...arguments),this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new Cn)}get targetModel(){var e;return(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object}setTargetModel(e){var t;((t=this.currentModelRef.value)===null||t===void 0?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?yoe(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=(t=(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object)===null||t===void 0?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;(t=this.targetModel)===null||t===void 0||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}},MF=class extends qU{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.sharedCache=this._register(new YU),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(AF,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(bF,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;let i=(t=this.activeInlineCompletionsModel)===null||t===void 0?void 0:t.ghostText;return i?i.parts.some(n=>e.containsPosition(new H(i.lineNumber,n.column))):!1}triggerInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.trigger(Ms.Explicit)}commitInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.hide()}showNextInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showNext()}showPreviousInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showPrevious()}hasMultipleInlineCompletions(){var e;return oSe(this,void 0,void 0,function*(){let t=yield(e=this.activeInlineCompletionsModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};MF=iSe([nSe(1,je)],MF);var YU=class extends ${constructor(){super(...arguments),this.onDidChangeEmitter=new B,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new Cn)}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new vF(t,e,()=>this.onDidChangeEmitter.fire(),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}};Fe();se();Ye();mh();rt();Le();Zu();Rs();Qo();La();dC();F_();Xe();Ct();var rSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Moe=function(r,e){return function(t,i){e(t,i,r)}},ZU,Roe=(ZU=window.trustedTypes)===null||ZU===void 0?void 0:ZU.createPolicy("editorGhostText",{createHTML:r=>r}),RF=class extends ${constructor(e,t,i,n){super(),this.editor=e,this.model=t,this.instantiationService=i,this.languageService=n,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(XU,this.editor)),this.additionalLinesWidget=this._register(new QU(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new GU(this.editor)),this._register(this.editor.onDidChangeConfiguration(o=>{(o.hasChanged(29)||o.hasChanged(107)||o.hasChanged(90)||o.hasChanged(85)||o.hasChanged(47)||o.hasChanged(46)||o.hasChanged(61))&&this.update()})),this._register(Ke(()=>{var o;this.disposed=!0,this.update(),(o=this.viewMoreContentWidget)===null||o===void 0||o.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;let t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}let i=new Array,n=new Array;function o(c,d){if(n.length>0){let h=n[n.length-1];d&&h.decorations.push(new Ho(h.content.length+1,h.content.length+1+c[0].length,d,0)),h.content+=c[0],c=c.slice(1)}for(let h of c)n.push({content:h,decorations:d?[new Ho(1,h.length+1,d,0)]:[]})}t instanceof oy?this.replacementDecoration.setDecorations([{range:new D(t.lineNumber,t.columnStart,t.lineNumber,t.columnStart+t.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);let s=this.editor.getModel().getLineContent(t.lineNumber),a,l=0;for(let c of t.parts){let d=c.lines;a===void 0?(i.push({column:c.column,text:d[0],preview:c.preview}),d=d.slice(1)):o([s.substring(l,c.column-1)],void 0),d.length>0&&(o(d,"ghost-text"),a===void 0&&c.column<=s.length&&(a=c.column)),l=c.column-1}a!==void 0&&o([s.substring(l)],void 0),this.partsWidget.setParts(t.lineNumber,i,a!==void 0?{column:a,length:s.length+1-a}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),0<0?this.viewMoreContentWidget=this.renderViewMoreLines(new H(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):((e=this.viewMoreContentWidget)===null||e===void 0||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){let n=this.editor.getOption(46),o=document.createElement("div");o.className="suggest-preview-additional-widget",In(o,n);let s=document.createElement("span");s.className="content-spacer",s.append(t),o.append(s);let a=document.createElement("span");a.className="content-newline suggest-preview-text",a.append("\u23CE  "),o.append(a);let l=new J,c=document.createElement("div");return c.className="button suggest-preview-text",c.append(`+${i} lines\u2026`),l.add(Ti(c,"mousedown",d=>{var h;(h=this.model)===null||h===void 0||h.setExpanded(!0),d.preventDefault(),this.editor.focus()})),o.append(c),new JU(this.editor,e,o,l)}};RF=rSe([Moe(2,je),Moe(3,ei)],RF);var GU=class{constructor(e){this.editor=e,this.decorationIds=[]}setDecorations(e){this.editor.changeDecorations(t=>{this.decorationIds=t.deltaDecorations(this.decorationIds,e)})}clear(){this.setDecorations([])}dispose(){this.clear()}},XU=class{constructor(e){this.editor=e,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(e=>{this.decorationIds=e.deltaDecorations(this.decorationIds,[])})}setParts(e,t,i){if(!this.editor.getModel())return;let o=new Array;i&&o.push({range:D.fromPositions(new H(e,i.column),new H(e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(s=>{this.decorationIds=s.deltaDecorations(this.decorationIds,t.map(a=>({range:D.fromPositions(new H(e,a.column)),options:{description:"ghost-text",after:{content:a.text,inlineClassName:a.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:qa.Left},showIfCollapsed:!0}})).concat(o))})}},QU=class{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){let n=this.editor.getModel();if(!n)return;let{tabSize:o}=n.getOptions();this.editor.changeViewZones(s=>{this._viewZoneId&&(s.removeZone(this._viewZoneId),this._viewZoneId=void 0);let a=Math.max(t.length,i);if(a>0){let l=document.createElement("div");sSe(l,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=s.addZone({afterLineNumber:e,heightInLines:a,domNode:l,afterColumnAffinity:1})}})}};function sSe(r,e,t,i,n){let o=i.get(29),s=i.get(107),a="none",l=i.get(85),c=i.get(47),d=i.get(46),h=i.get(61),u=Ya(1e4);u.appendASCIIString('<div class="suggest-preview-text">');for(let _=0,v=t.length;_<v;_++){let w=t[_],y=w.content;u.appendASCIIString('<div class="view-line'),u.appendASCIIString('" style="top:'),u.appendASCIIString(String(_*h)),u.appendASCIIString('px;width:1000000px;">');let x=em(y),k=id(y),N=tn.createEmpty(y,n);Ju(new js(d.isMonospace&&!o,d.canUseHalfwidthRightwardsArrow,y,!1,x,k,0,N,w.decorations,e,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,s,a,l,c!==Xo.OFF,null),u),u.appendASCIIString("</div>")}u.appendASCIIString("</div>"),In(r,d);let f=u.build(),m=Roe?Roe.createHTML(f):f;r.innerHTML=m}var JU=class extends ${constructor(e,t,i,n){super(),this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(n),this._register(Ke(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}};Lt((r,e)=>{let t=r.getColor(CQ);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));let i=r.getColor(wQ);i&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${i.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${i.toString()}; }`));let n=r.getColor(vQ);n&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${n}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${n}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${n}; }`))});Ne();St();Xe();var Foe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},eH=function(r,e){return function(t,i){e(t,i,r)}},BF=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},yo=class Boe extends ${constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new Cn),this.activeModelDidChangeEmitter=this._register(new B),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(i=>{i.hasChanged(108)&&this.updateModelController(),i.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(Boe.ID)}get activeModel(){var e;return(e=this.activeController.value)===null||e===void 0?void 0:e.model}updateModelController(){let e=this.editor.getOption(108),t=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(iH,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(e){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return((i=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||i===void 0?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(e=this.activeModel)===null||e===void 0||e.triggerInlineCompletion()}commit(){var e;(e=this.activeModel)===null||e===void 0||e.commitInlineCompletion()}hide(){var e;(e=this.activeModel)===null||e===void 0||e.hideInlineCompletion()}showNextInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return BF(this,void 0,void 0,function*(){let t=yield(e=this.activeModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};yo.inlineSuggestionVisible=new Ce("inlineSuggestionVisible",!1,g("inlineSuggestionVisible","Whether an inline suggestion is visible"));yo.inlineSuggestionHasIndentation=new Ce("inlineSuggestionHasIndentation",!1,g("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));yo.inlineSuggestionHasIndentationLessThanTabSize=new Ce("inlineSuggestionHasIndentationLessThanTabSize",!0,g("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));yo.ID="editor.contrib.ghostTextController";yo=Foe([eH(1,je)],yo);var tH=class{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=yo.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=yo.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=yo.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}},iH=class extends ${constructor(e,t,i){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new tH(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(MF,this.editor)),this.widget=this._register(this.instantiationService.createInstance(RF,this.editor,this.model)),this._register(Ke(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(((e=this.model.activeInlineCompletionsModel)===null||e===void 0?void 0:e.ghostText)!==void 0);let t=!1,i=!0,n=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&n&&n.parts.length>0){let{column:o,lines:s}=n.parts[0],a=s[0],l=this.editor.getModel().getLineIndentColumn(n.lineNumber);if(o<=l){let d=En(a);d===-1&&(d=a.length-1),t=d>0;let h=this.editor.getModel().getOptions().tabSize;i=Mi.visibleColumnFromColumn(a,d+1,h)<h}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}};iH=Foe([eH(1,je),eH(2,Te)],iH);var Cu=class extends we{constructor(){super({id:Cu.ID,label:g("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Se.and(F.writable,yo.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return BF(this,void 0,void 0,function*(){let i=yo.get(t);i&&(i.showNextInlineCompletion(),t.focus())})}};Cu.ID="editor.action.inlineSuggest.showNext";var wu=class extends we{constructor(){super({id:wu.ID,label:g("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Se.and(F.writable,yo.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return BF(this,void 0,void 0,function*(){let i=yo.get(t);i&&(i.showPreviousInlineCompletion(),t.focus())})}};wu.ID="editor.action.inlineSuggest.showPrevious";var FF=class extends we{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:g("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:F.writable})}run(e,t){return BF(this,void 0,void 0,function*(){let i=yo.get(t);i&&i.trigger()})}};Fe();se();Le();Qo();Ne();er();hn();St();Ds();var aSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},uy=function(r,e){return function(t,i){e(t,i,r)}},nH=class{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var e,t,i;return((i=(t=(e=this.controller.activeModel)===null||e===void 0?void 0:e.activeInlineCompletionsModel)===null||t===void 0?void 0:t.completionSession.value)===null||i===void 0?void 0:i.commands)||[]}},jF=class{constructor(e,t,i,n,o,s,a){this._editor=e,this._commandService=t,this._menuService=i,this._contextKeyService=n,this._languageService=o,this._openerService=s,this.accessibilityService=a,this.hoverOrdinal=3}suggestHoverAnchor(e){let t=yo.get(this._editor);if(!t)return null;let i=e.target;if(i.type===8){let n=i.detail;if(t.shouldShowHoverAtViewZone(n.viewZoneId))return new Ep(1e3,this,D.fromPositions(n.positionBefore||n.position,n.positionBefore||n.position))}return i.type===7&&t.shouldShowHoverAt(i.range)?new Ep(1e3,this,i.range):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new Ep(1e3,this,i.range):null}computeSync(e,t){let i=yo.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new nH(this,e.range,i)]:[]}renderHoverParts(e,t){let i=new J,n=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,n,i);let o=i.add(this._menuService.createMenu(z.InlineCompletionsActions,this._contextKeyService)),s=e.statusBar.addAction({label:g("showNextInlineSuggestion","Next"),commandId:Cu.ID,run:()=>this._commandService.executeCommand(Cu.ID)}),a=e.statusBar.addAction({label:g("showPreviousInlineSuggestion","Previous"),commandId:wu.ID,run:()=>this._commandService.executeCommand(wu.ID)});e.statusBar.addAction({label:g("acceptInlineSuggestion","Accept"),commandId:Fv,run:()=>this._commandService.executeCommand(Fv)});let l=[s,a];for(let c of l)c.setEnabled(!1);n.hasMultipleSuggestions().then(c=>{for(let d of l)d.setEnabled(c)});for(let c of n.commands)e.statusBar.addAction({label:c.title,commandId:c.id,run:()=>this._commandService.executeCommand(c.id,...c.arguments||[])});for(let[c,d]of o.getActions())for(let h of d)h instanceof Sc&&e.statusBar.addAction({label:h.label,commandId:h.item.id,run:()=>this._commandService.executeCommand(h.item.id)});return i}renderScreenReaderText(e,t,i){var n,o;let s=he,a=s("div.hover-row.markdown-hover"),l=oe(a,s("div.hover-contents")),c=i.add(new Na({editor:this._editor},this._languageService,this._openerService)),d=u=>{i.add(c.onDidRenderAsync(()=>{l.className="hover-contents code-hover-contents",e.onContentsChanged()}));let f=g("inlineSuggestionFollows","Suggestion:"),m=i.add(c.render(new ro().appendText(f).appendCodeblock("text",u)));l.replaceChildren(m.element)},h=(o=(n=t.controller.activeModel)===null||n===void 0?void 0:n.inlineCompletionsModel)===null||o===void 0?void 0:o.ghostText;if(h){let u=this._editor.getModel().getLineContent(h.lineNumber);d(h.renderForScreenReader(u))}e.fragment.appendChild(a)}};jF=aSe([uy(1,yi),uy(2,Xa),uy(3,Te),uy(4,ei),uy(5,wo),uy(6,vs)],jF);St();ym();Ze(yo.ID,yo);le(FF);le(Cu);le(wu);ql.register(jF);var joe=zi.bindToContribution(yo.get),oH=new joe({id:Fv,precondition:yo.inlineSuggestionVisible,handler(r){r.commit(),r.editor.focus()}});me(oH);Ko.registerKeybindingRule({primary:2,weight:200,id:oH.id,when:Se.and(oH.precondition,F.tabMovesFocus.toNegated(),yo.inlineSuggestionHasIndentationLessThanTabSize)});me(new joe({id:"editor.action.inlineSuggest.hide",precondition:yo.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(r){r.hide()}}));se();Ye();xt();Wl();Le();Ci();Ui();io();_s();function Os(r,e){let t=0;for(let i=0;i<r.length;i++)r.charAt(i)==="	"?t+=e:t++;return t}function zv(r,e,t){r=r<0?0:r;let i="";if(!t){let n=Math.floor(r/e);r=r%e;for(let o=0;o<n;o++)i+="	"}for(let n=0;n<r;n++)i+=" ";return i}Ne();yT();var lSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},cSe=function(r,e){return function(t,i){e(t,i,r)}};function zoe(r,e,t,i,n){if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return[];let o=e.getLanguageConfiguration(r.getLanguageId()).indentationRules;if(!o)return[];for(i=Math.min(i,r.getLineCount());t<=i&&o.unIndentedLinePattern;){let v=r.getLineContent(t);if(!o.unIndentedLinePattern.test(v))break;t++}if(t>i-1)return[];let{tabSize:s,indentSize:a,insertSpaces:l}=r.getOptions(),c=(v,w)=>(w=w||1,$s.shiftIndent(v,v.length+w,s,a,l)),d=(v,w)=>(w=w||1,$s.unshiftIndent(v,v.length+w,s,a,l)),h=[],u,f=r.getLineContent(t),m=f;if(n!=null){u=n;let v=ri(f);m=u+f.substring(v.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(m)&&(u=d(u),m=u+f.substring(v.length)),f!==m&&h.push(li.replaceMove(new ge(t,1,t,v.length+1),gb(u,a,l)))}else u=ri(f);let _=u;o.increaseIndentPattern&&o.increaseIndentPattern.test(m)?(_=c(_),u=c(u)):o.indentNextLinePattern&&o.indentNextLinePattern.test(m)&&(_=c(_)),t++;for(let v=t;v<=i;v++){let w=r.getLineContent(v),y=ri(w),x=_+w.substring(y.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(x)&&(_=d(_),u=d(u)),y!==_&&h.push(li.replaceMove(new ge(v,1,v,y.length+1),gb(_,a,l))),!(o.unIndentedLinePattern&&o.unIndentedLinePattern.test(w))&&(o.increaseIndentPattern&&o.increaseIndentPattern.test(x)?(u=c(u),_=u):o.indentNextLinePattern&&o.indentNextLinePattern.test(x)?_=c(_):_=u)}return h}var fy=class extends we{constructor(){super({id:fy.ID,label:g("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:F.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;let s=new lH(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}};fy.ID="editor.action.indentationToSpaces";var gy=class extends we{constructor(){super({id:gy.ID,label:g("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:F.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;let s=new cH(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}};gy.ID="editor.action.indentationToTabs";var WF=class extends we{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){let i=e.get(lu),n=e.get(si),o=t.getModel();if(!o)return;let s=n.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),a=[1,2,3,4,5,6,7,8].map(c=>({id:c.toString(),label:c.toString(),description:c===s.tabSize?g("configuredTabSize","Configured Tab Size"):void 0})),l=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:g({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then(c=>{c&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(c.label,10),insertSpaces:this.insertSpaces})})},50)}},my=class extends WF{constructor(){super(!1,{id:my.ID,label:g("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}};my.ID="editor.action.indentUsingTabs";var py=class extends WF{constructor(){super(!0,{id:py.ID,label:g("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}};py.ID="editor.action.indentUsingSpaces";var _y=class extends we{constructor(){super({id:_y.ID,label:g("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){let i=e.get(si),n=t.getModel();if(!n)return;let o=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}};_y.ID="editor.action.detectIndentation";var rH=class extends we{constructor(){super({id:"editor.action.reindentlines",label:g("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:F.writable})}run(e,t){let i=e.get(ii),n=t.getModel();if(!n)return;let o=zoe(n,i,1,n.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}},sH=class extends we{constructor(){super({id:"editor.action.reindentselectedlines",label:g("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:F.writable})}run(e,t){let i=e.get(ii),n=t.getModel();if(!n)return;let o=t.getSelections();if(o===null)return;let s=[];for(let a of o){let l=a.startLineNumber,c=a.endLineNumber;if(l!==c&&a.endColumn===1&&c--,l===1){if(l===c)continue}else l--;let d=zoe(n,i,l,c);s.push(...d)}s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}},aH=class{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(let n of this._edits)t.addEditOperation(D.lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}},Bk=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new J,this.callOnModel=new J,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)})))}trigger(e){let t=this.editor.getSelections();if(t===null||t.length>1)return;let i=this.editor.getModel();if(!i||!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;let n=this.editor.getOption(9),{tabSize:o,indentSize:s,insertSpaces:a}=i.getOptions(),l=[],c={shiftIndent:f=>$s.shiftIndent(f,f.length+1,o,s,a),unshiftIndent:f=>$s.unshiftIndent(f,f.length+1,o,s,a)},d=e.startLineNumber;for(;d<=e.endLineNumber;){if(this.shouldIgnoreLine(i,d)){d++;continue}break}if(d>e.endLineNumber)return;let h=i.getLineContent(d);if(!/\S/.test(h.substring(0,e.startColumn-1))){let f=vb(n,i,i.getLanguageId(),d,c,this._languageConfigurationService);if(f!==null){let m=ri(h),_=Os(f,o),v=Os(m,o);if(_!==v){let w=zv(_,o,a);l.push({range:new D(d,1,d,m.length+1),text:w}),h=w+h.substr(m.length)}else{let w=kT(i,d,this._languageConfigurationService);if(w===0||w===8)return}}}let u=d;for(;d<e.endLineNumber;){if(!/\S/.test(i.getLineContent(d+1))){d++;continue}break}if(d!==e.endLineNumber){let m=vb(n,{tokenization:{getLineTokens:_=>i.tokenization.getLineTokens(_),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(_,v)=>i.getLanguageIdAtPosition(_,v)},getLineContent:_=>_===u?h:i.getLineContent(_)},i.getLanguageId(),d+1,c,this._languageConfigurationService);if(m!==null){let _=Os(m,o),v=Os(ri(i.getLineContent(d+1)),o);if(_!==v){let w=_-v;for(let y=d+1;y<=e.endLineNumber;y++){let x=i.getLineContent(y),k=ri(x),M=Os(k,o)+w,I=zv(M,o,a);I!==k&&l.push({range:new D(y,1,y,k.length+1),text:I})}}}}if(l.length>0){this.editor.pushUndoStop();let f=new aH(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",f),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;let n=e.tokenization.getLineTokens(t);if(n.getCount()>0){let o=n.findTokenIndexAtOffset(i);if(o>=0&&n.getStandardTokenType(o)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};Bk.ID="editor.contrib.autoIndentOnPaste";Bk=lSe([cSe(1,ii)],Bk);function Voe(r,e,t,i){if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;let n="";for(let s=0;s<t;s++)n+=" ";let o=new RegExp(n,"gi");for(let s=1,a=r.getLineCount();s<=a;s++){let l=r.getLineFirstNonWhitespaceColumn(s);if(l===0&&(l=r.getLineMaxColumn(s)),l===1)continue;let c=new D(s,1,s,l),d=r.getValueInRange(c),h=i?d.replace(/\t/ig,n):d.replace(o,"	");e.addEditOperation(c,h)}}var lH=class{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Voe(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}},cH=class{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Voe(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}};Ze(Bk.ID,Bk);le(fy);le(gy);le(my);le(py);le(_y);le(rH);le(sH);xt();Fe();Ft();ot();Di();ut();se();xa();ti();vi();Wl();Le();Un();Rs();Ao();Bc();oi();Ga();ut();se();rt();Le();Ws();vi();var zF=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},jk=class{constructor(e,t){this.range=e,this.direction=t}},Wk=class{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){let t=new Wk(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return zF(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){var t,i;return zF(this,void 0,void 0,function*(){try{let n=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=n?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(i=n?.label)!==null&&i!==void 0?i:this.hint.label,this._isResolved=!0}catch(n){Oi(n),this._isResolved=!1}})}},Fp=class{constructor(e,t,i){this._disposables=new J,this.ranges=e,this.provider=new Set;let n=[];for(let[o,s]of t){this._disposables.add(o),this.provider.add(s);for(let a of o.hints){let l=i.validatePosition(a.position),c="before",d=Fp._getRangeAtPosition(i,l),h;d.getStartPosition().isBefore(l)?(h=D.fromPositions(d.getStartPosition(),l),c="after"):(h=D.fromPositions(l,d.getEndPosition()),c="before"),n.push(new Wk(a,new jk(h,c),s))}}this.items=n.sort((o,s)=>H.compare(o.hint.position,s.hint.position))}static create(e,t,i,n){return zF(this,void 0,void 0,function*(){let o=[],s=e.ordered(t).reverse().map(a=>i.map(l=>zF(this,void 0,void 0,function*(){try{let c=yield a.provideInlayHints(t,l,n);c?.hints.length&&o.push([c,a])}catch(c){Oi(c)}})));if(yield Promise.all(s.flat()),n.isCancellationRequested||t.isDisposed())throw new _l;return new Fp(i,o,t)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){let i=t.lineNumber,n=e.getWordAtPosition(t);if(n)return new D(i,n.startColumn,i,n.endColumn);e.tokenization.tokenizeIfCheap(i);let o=e.tokenization.getLineTokens(i),s=t.column-1,a=o.findTokenIndexAtOffset(s),l=o.getStartOffset(a),c=o.getEndOffset(a);return c-l===1&&(l===s&&a>1?(l=o.getStartOffset(a-1),c=o.getEndOffset(a-1)):c===s&&a<o.getCount()-1&&(l=o.getStartOffset(a+1),c=o.getEndOffset(a+1))),new D(i,l+1,i,c+1)}};function Uoe(r){return Ee.from({scheme:lt.command,path:r.id,query:r.arguments&&encodeURIComponent(JSON.stringify(r.arguments))}).toString()}Fe();Fr();Di();xt();Le();Ga();er();hn();St();Xe();var zk=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})};function Hoe(r,e,t,i){var n;return zk(this,void 0,void 0,function*(){let o=r.get(Fn),s=r.get(Gs),a=r.get(yi),l=r.get(je),c=r.get(ui);if(yield i.item.resolve(Je.None),!i.part.location)return;let d=i.part.location,h=[],u=new Set(jr.getMenuItems(z.EditorContext).map(m=>wm(m)?m.command.id:""));for(let m of Lh.getEditorActions())m instanceof Ia&&u.has(m.id)&&h.push(new Xn(m.id,m.label,void 0,!0,()=>zk(this,void 0,void 0,function*(){let _=yield o.createModelReference(d.uri);try{yield l.invokeFunction(m.run.bind(m),e,new Dp(_.object.textEditorModel,D.getStartPosition(d.range)))}finally{_.dispose()}})));if(i.part.command){let{command:m}=i.part;h.push(new Bn),h.push(new Xn(m.id,m.title,void 0,!0,()=>zk(this,void 0,void 0,function*(){var _;try{yield a.executeCommand(m.id,...(_=m.arguments)!==null&&_!==void 0?_:[])}catch(v){c.notify({severity:kA.Error,source:i.item.provider.displayName,message:v})}})))}let f=e.getOption(117);s.showContextMenu({domForShadowRoot:f&&(n=e.getDomNode())!==null&&n!==void 0?n:void 0,getAnchor:()=>{let m=dn(t);return{x:m.left,y:m.top+m.height+8}},getActions:()=>h,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function $oe(r,e,t,i){return zk(this,void 0,void 0,function*(){let o=yield r.get(Fn).createModelReference(i.uri);yield t.invokeWithinContext(s=>zk(this,void 0,void 0,function*(){let a=e.hasSideBySideModifier,l=s.get(Te),c=wr.inPeekEditor.getValue(l),d=!a&&t.getOption(80)&&!c;return new ig({openToSide:a,openInPeek:d,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(s,t,{model:o.object.textEditorModel,position:D.getStartPosition(i.range)})})),o.dispose()})}hn();Bs();Xe();Ai();Ct();var dSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},by=function(r,e){return function(t,i){e(t,i,r)}},vy=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Cy=class{constructor(){this._entries=new qs(50)}get(e){let t=Cy._key(e);return this._entries.get(t)}set(e,t){let i=Cy._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}},Koe=We("IInlayHintsCache");Ot(Koe,Cy,!0);var wy=class{constructor(e,t){this.item=e,this.index=t}get part(){let e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}},dH=class{constructor(e,t){this.part=e,this.hasTriggerModifier=t}},pg=class hH{constructor(e,t,i,n,o,s,a){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=n,this._commandService=o,this._notificationService=s,this._instaService=a,this._disposables=new J,this._sessionDisposables=new J,this._decorationsMetadata=new Map,this._ruleFactory=new df(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(l=>{l.hasChanged(129)&&this._update()})),this._update()}static get(e){var t;return(t=e.getContribution(hH.ID))!==null&&t!==void 0?t:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();let e=this._editor.getOption(129);if(e.enabled==="off")return;let t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;let i=this._inlayHintsCache.get(t);i&&this._updateHintsDecorators([t.getFullModelRange()],i),this._sessionDisposables.add(Ke(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let n,o=new Set,s=new pt(()=>vy(this,void 0,void 0,function*(){let a=Date.now();n?.dispose(!0),n=new qi;let l=t.onWillDispose(()=>n?.cancel());try{let c=n.token,d=yield Fp.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),c);if(s.delay=this._debounceInfo.update(t,Date.now()-a),c.isCancellationRequested){d.dispose();return}for(let h of d.provider)typeof h.onDidChangeInlayHints=="function"&&!o.has(h)&&(o.add(h),this._sessionDisposables.add(h.onDidChangeInlayHints(()=>{s.isScheduled()||s.schedule()})));this._sessionDisposables.add(d),this._updateHintsDecorators(d.ranges,d.items),this._cacheHintsForFastRestore(t)}catch(c){Pe(c)}finally{n.dispose(),l.dispose()}}),this._debounceInfo.get(t));if(this._sessionDisposables.add(s),this._sessionDisposables.add(Ke(()=>n?.dispose(!0))),s.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||!s.isScheduled())&&s.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(a=>{let l=Math.max(s.delay,1250);s.schedule(l)})),e.enabled==="on")this._activeRenderMode=0;else{let a,l;e.enabled==="onUnlessPressed"?(a=0,l=1):(a=1,l=0),this._activeRenderMode=a,this._sessionDisposables.add(Il.getInstance().event(c=>{if(!this._editor.hasModel())return;let d=c.altKey&&c.ctrlKey?l:a;if(d!==this._activeRenderMode){this._activeRenderMode=d;let h=this._editor.getModel(),u=this._copyInlayHintsWithCurrentAnchor(h);this._updateHintsDecorators([h.getFullModelRange()],u),s.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>s.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){let e=new J,t=e.add(new Lp(this._editor)),i=new J;return e.add(i),e.add(t.onMouseMoveOrRelevantKeyDown(n=>{let[o]=n,s=this._getInlayHintLabelPart(o),a=this._editor.getModel();if(!s||!a){i.clear();return}let l=new qi;i.add(Ke(()=>l.dispose(!0))),s.item.resolve(l.token),this._activeInlayHintPart=s.part.command||s.part.location?new dH(s,o.hasTriggerModifier):void 0;let c=s.item.hint.position.lineNumber,d=new D(c,1,c,a.getLineMaxColumn(c)),h=this._getInlineHintsForRange(d);this._updateHintsDecorators([d],h),i.add(Ke(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([d],h)}))})),e.add(t.onCancel(()=>i.clear())),e.add(t.onExecute(n=>vy(this,void 0,void 0,function*(){let o=this._getInlayHintLabelPart(n);if(o){let s=o.part;s.location?this._instaService.invokeFunction($oe,n,this._editor,s.location):_I.is(s.command)&&(yield this._invokeCommand(s.command,o.item))}}))),e}_getInlineHintsForRange(e){let t=new Set;for(let i of this._decorationsMetadata.values())e.containsRange(i.item.anchor.range)&&t.add(i.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp(t=>vy(this,void 0,void 0,function*(){if(t.event.detail!==2)return;let i=this._getInlayHintLabelPart(t);if(!!i&&(t.event.preventDefault(),yield i.item.resolve(Je.None),an(i.item.hint.textEdits))){let n=i.item.hint.textEdits.map(o=>li.replace(D.lift(o.range),o.text));this._editor.executeEdits("inlayHint.default",n),e()}}))}_installContextMenu(){return this._editor.onContextMenu(e=>vy(this,void 0,void 0,function*(){if(!(e.event.target instanceof HTMLElement))return;let t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(Hoe,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;let i=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(i instanceof Nd&&i?.attachedData instanceof wy)return i.attachedData}_invokeCommand(e,t){var i;return vy(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(e.id,...(i=e.arguments)!==null&&i!==void 0?i:[])}catch(n){this._notificationService.notify({severity:kA.Error,source:t.provider.displayName,message:n})}})}_cacheHintsForFastRestore(e){let t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){let t=new Map;for(let[i,n]of this._decorationsMetadata){if(t.has(n.item))continue;let o=e.getDecorationRange(i);if(o){let s=new jk(o,n.item.anchor.direction),a=n.item.with({anchor:s});t.set(n.item,a)}}return Array.from(t.values())}_getHintsRanges(){let t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),n=[];for(let o of i.sort(D.compareRangesUsingStarts)){let s=t.validateRange(new D(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));n.length===0||!D.areIntersectingOrTouching(n[n.length-1],s)?n.push(s):n[n.length-1]=D.plusRange(n[n.length-1],s)}return n}_updateHintsDecorators(e,t){var i,n;let o=[],s=(m,_,v,w,y)=>{let x={content:v,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:_.className,cursorStops:w,attachedData:y};o.push({item:m,classNameRef:_,decoration:{range:m.anchor.range,options:{description:"InlayHint",showIfCollapsed:m.anchor.range.isEmpty(),collapseOnReplaceEdit:!m.anchor.range.isEmpty(),stickiness:0,[m.anchor.direction]:this._activeRenderMode===0?x:void 0}}})},a=(m,_)=>{let v=this._ruleFactory.createClassNameRef({width:`${l/3|0}px`,display:"inline-block"});s(m,v,"\u200A",_?qa.Right:qa.None)},{fontSize:l,fontFamily:c,padding:d,isUniform:h}=this._getLayoutInfo(),u="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(u,c);for(let m of t){m.hint.paddingLeft&&a(m,!1);let _=typeof m.hint.label=="string"?[{label:m.hint.label}]:m.hint.label;for(let v=0;v<_.length;v++){let w=_[v],y=v===0,x=v===_.length-1,k={fontSize:`${l}px`,fontFamily:`var(${u}), ${Ar.fontFamily}`,verticalAlign:h?"baseline":"middle"};an(m.hint.textEdits)&&(k.cursor="default"),this._fillInColors(k,m.hint),(w.command||w.location)&&((i=this._activeInlayHintPart)===null||i===void 0?void 0:i.part.item)===m&&this._activeInlayHintPart.part.index===v&&(k.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(k.color=un(XC),k.cursor="pointer")),d&&(y&&x?(k.padding=`1px ${Math.max(1,l/4)|0}px`,k.borderRadius=`${l/4|0}px`):y?(k.padding=`1px 0 1px ${Math.max(1,l/4)|0}px`,k.borderRadius=`${l/4|0}px 0 0 ${l/4|0}px`):x?(k.padding=`1px ${Math.max(1,l/4)|0}px 1px 0`,k.borderRadius=`0 ${l/4|0}px ${l/4|0}px 0`):k.padding="1px 0 1px 0"),s(m,this._ruleFactory.createClassNameRef(k),hSe(w.label),x&&!m.hint.paddingRight?qa.Right:qa.None,new wy(m,v))}if(m.hint.paddingRight&&a(m,!0),o.length>hH._MAX_DECORATORS)break}let f=[];for(let m of e)for(let{id:_}of(n=this._editor.getDecorationsInRange(m))!==null&&n!==void 0?n:[]){let v=this._decorationsMetadata.get(_);v&&(f.push(_),v.classNameRef.dispose(),this._decorationsMetadata.delete(_))}this._editor.changeDecorations(m=>{let _=m.deltaDecorations(f,o.map(v=>v.decoration));for(let v=0;v<_.length;v++){let w=o[v];this._decorationsMetadata.set(_[v],w)}})}_fillInColors(e,t){t.kind===gS.Parameter?(e.backgroundColor=un(hX),e.color=un(dX)):t.kind===gS.Type?(e.backgroundColor=un(cX),e.color=un(lX)):(e.backgroundColor=un(Th),e.color=un(Nh))}_getLayoutInfo(){let e=this._editor.getOption(129),t=e.padding,i=this._editor.getOption(48),n=this._editor.getOption(45),o=e.fontSize;(!o||o<5||o>i)&&(o=i);let s=e.fontFamily||n;return{fontSize:o,fontFamily:s,padding:t,isUniform:!t&&s===n&&o===i}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};pg.ID="editor.contrib.InlayHints";pg._MAX_DECORATORS=1500;pg=dSe([by(1,_e),by(2,Mo),by(3,Koe),by(4,yi),by(5,ui),by(6,je)],pg);function hSe(r){let e="\xA0";return r.replace(/[ \t]/g,e)}gt.registerCommand("_executeInlayHintProvider",(r,...e)=>vy(void 0,void 0,void 0,function*(){let[t,i]=e;$t(Ee.isUri(t)),$t(D.isIRange(i));let{inlayHintsProvider:n}=r.get(_e),o=yield r.get(Fn).createModelReference(t);try{let s=yield Fp.create(n,o.object.textEditorModel,[D.lift(i)],Je.None),a=s.items.map(l=>l.hint);return setTimeout(()=>s.dispose(),0),a}finally{o.dispose()}}));ot();rt();Ao();Qo();Ga();to();Ds();oi();Ne();At();Ft();var uSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Vk=function(r,e){return function(t,i){e(t,i,r)}},qoe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},fSe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=r[o]&&function(s){return new Promise(function(a,l){s=r[o](s),n(a,l,s.done,s.value)})}}function n(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}},VF=class extends Ep{constructor(e,t){super(10,t,e.item.anchor.range),this.part=e}},UF=class extends H1{constructor(e,t,i,n,o,s){super(e,t,i,n,s),this._resolverService=o,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!pg.get(this._editor)||e.target.type!==6)return null;let n=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return n instanceof Nd&&n.attachedData instanceof wy?new VF(n.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof VF?new cn(n=>qoe(this,void 0,void 0,function*(){var o,s;let{part:a}=e;if(yield a.item.resolve(i),i.isCancellationRequested)return;let l;typeof a.item.hint.tooltip=="string"?l=new ro().appendText(a.item.hint.tooltip):a.item.hint.tooltip&&(l=a.item.hint.tooltip),l&&n.emitOne(new dl(this,e.range,[l],0)),an(a.item.hint.textEdits)&&n.emitOne(new dl(this,e.range,[new ro().appendText(g("hint.dbl","Double click to insert"))],10001));let c;if(typeof a.part.tooltip=="string"?c=new ro().appendText(a.part.tooltip):a.part.tooltip&&(c=a.part.tooltip),c&&n.emitOne(new dl(this,e.range,[c],1)),a.part.location||a.part.command){let f,_=this._editor.getOption(72)==="altKey"?at?g("links.navigate.kb.meta.mac","cmd + click"):g("links.navigate.kb.meta","ctrl + click"):at?g("links.navigate.kb.alt.mac","option + click"):g("links.navigate.kb.alt","alt + click");a.part.location&&a.part.command?f=new ro().appendText(g("hint.defAndCommand","Go to Definition ({0}), right click for more",_)):a.part.location?f=new ro().appendText(g("hint.def","Go to Definition ({0})",_)):a.part.command&&(f=new ro(`[${g("hint.cmd","Execute Command")}](${Uoe(a.part.command)} "${a.part.command.title}") (${_})`,{isTrusted:!0})),f&&n.emitOne(new dl(this,e.range,[f],1e4))}let d=yield this._resolveInlayHintLabelPartHover(a,i);try{for(var h=fSe(d),u;u=yield h.next(),!u.done;){let f=u.value;n.emitOne(f)}}catch(f){o={error:f}}finally{try{u&&!u.done&&(s=h.return)&&(yield s.call(h))}finally{if(o)throw o.error}}})):cn.EMPTY}_resolveInlayHintLabelPartHover(e,t){return qoe(this,void 0,void 0,function*(){if(!e.part.location)return cn.EMPTY;let{uri:i,range:n}=e.part.location,o=yield this._resolverService.createModelReference(i);try{let s=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(s)?GD(this._languageFeaturesService.hoverProvider,s,new H(n.startLineNumber,n.startColumn),t).filter(a=>!Af(a.hover.contents)).map(a=>new dl(this,e.item.anchor.range,a.hover.contents,2+a.ordinal)):cn.EMPTY}finally{o.dispose()}})}};UF=uSe([Vk(1,ei),Vk(2,wo),Vk(3,yt),Vk(4,Fn),Vk(5,_e)],UF);Ze(pg.ID,pg);ql.register(UF);var czt=l0(Zoe());xt();Ui();Ne();var mH=class extends we{constructor(){super({id:"expandLineSelection",label:g("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:F.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;let n=t._getViewModel();n.model.pushStackElement(),n.setCursorStates(i.source,3,no.expandLineSelection(n,n.getCursorStates())),n.revealPrimaryCursor(i.source,!0)}};le(mH);bl();xt();Ye();Wl();Le();var $F=class{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){let i=pSe(e,this._cursors);for(let n=0,o=i.length;n<o;n++){let s=i[n];t.addEditOperation(s.range,s.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}};function pSe(r,e){e.sort((s,a)=>s.lineNumber===a.lineNumber?s.column-a.column:s.lineNumber-a.lineNumber);for(let s=e.length-2;s>=0;s--)e[s].lineNumber===e[s+1].lineNumber&&e.splice(s,1);let t=[],i=0,n=0,o=e.length;for(let s=1,a=r.getLineCount();s<=a;s++){let l=r.getLineContent(s),c=l.length+1,d=0;if(n<o&&e[n].lineNumber===s&&(d=e[n].column,n++,d===c)||l.length===0)continue;let h=es(l),u=0;if(h===-1)u=1;else if(h!==l.length-1)u=h+2;else continue;u=Math.max(d,u),t[i++]=li.delete(new D(s,u,s,c))}return t}Wl();rt();Le();Ci();Ui();Le();Ci();var Hk=class{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)n.push(e.getLineContent(s));let o=n.join(`
`);o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new D(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new D(i.startLineNumber,1,i.startLineNumber,1),o+`
`):t.addEditOperation(new D(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let n=i.startLineNumber,o=i.startColumn,s=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(n=n+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),i=ge.createWithDirection(n,o,s,a,this._selectionDirection)}return i}};Ye();Le();Ci();om();io();var _Se=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bSe=function(r,e){return function(t,i){e(t,i,r)}},KF=class{constructor(e,t,i,n){this._languageConfigurationService=n,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let{tabSize:o,indentSize:s,insertSpaces:a}=e.getOptions(),l=this.buildIndentConverter(o,s,a),c={tokenization:{getLineTokens:d=>e.tokenization.getLineTokens(d),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(d,h)=>e.getLanguageIdAtPosition(d,h)},getLineContent:null};if(n.startLineNumber===n.endLineNumber&&e.getLineMaxColumn(n.startLineNumber)===1){let d=n.startLineNumber,h=this._isMovingDown?d+1:d-1;e.getLineMaxColumn(h)===1?t.addEditOperation(new D(1,1,1,1),null):(t.addEditOperation(new D(d,1,d,1),e.getLineContent(h)),t.addEditOperation(new D(h,1,h,e.getLineMaxColumn(h)),null)),n=new ge(h,1,h,1)}else{let d,h;if(this._isMovingDown){d=n.endLineNumber+1,h=e.getLineContent(d),t.addEditOperation(new D(d-1,e.getLineMaxColumn(d-1),d,e.getLineMaxColumn(d)),null);let u=h;if(this.shouldAutoIndent(e,n)){let f=this.matchEnterRule(e,l,o,d,n.startLineNumber-1);if(f!==null){let _=ri(e.getLineContent(d)),v=f+Os(_,o);u=zv(v,o,a)+this.trimLeft(h)}else{c.getLineContent=v=>v===n.startLineNumber?e.getLineContent(d):e.getLineContent(v);let _=vb(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),n.startLineNumber,l,this._languageConfigurationService);if(_!==null){let v=ri(e.getLineContent(d)),w=Os(_,o),y=Os(v,o);w!==y&&(u=zv(w,o,a)+this.trimLeft(h))}}t.addEditOperation(new D(n.startLineNumber,1,n.startLineNumber,1),u+`
`);let m=this.matchEnterRuleMovingDown(e,l,o,n.startLineNumber,d,u);if(m!==null)m!==0&&this.getIndentEditsOfMovingBlock(e,t,n,o,a,m);else{c.getLineContent=v=>v===n.startLineNumber?u:v>=n.startLineNumber+1&&v<=n.endLineNumber+1?e.getLineContent(v-1):e.getLineContent(v);let _=vb(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),n.startLineNumber+1,l,this._languageConfigurationService);if(_!==null){let v=ri(e.getLineContent(n.startLineNumber)),w=Os(_,o),y=Os(v,o);if(w!==y){let x=w-y;this.getIndentEditsOfMovingBlock(e,t,n,o,a,x)}}}}else t.addEditOperation(new D(n.startLineNumber,1,n.startLineNumber,1),u+`
`)}else if(d=n.startLineNumber-1,h=e.getLineContent(d),t.addEditOperation(new D(d,1,d+1,1),null),t.addEditOperation(new D(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),`
`+h),this.shouldAutoIndent(e,n)){c.getLineContent=f=>f===d?e.getLineContent(n.startLineNumber):e.getLineContent(f);let u=this.matchEnterRule(e,l,o,n.startLineNumber,n.startLineNumber-2);if(u!==null)u!==0&&this.getIndentEditsOfMovingBlock(e,t,n,o,a,u);else{let f=vb(this._autoIndent,c,e.getLanguageIdAtPosition(n.startLineNumber,1),d,l,this._languageConfigurationService);if(f!==null){let m=ri(e.getLineContent(n.startLineNumber)),_=Os(f,o),v=Os(m,o);if(_!==v){let w=_-v;this.getIndentEditsOfMovingBlock(e,t,n,o,a,w)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>$s.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>$s.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let s=o.indentation;o.indentAction===wn.None||o.indentAction===wn.Indent?s=o.indentation+o.appendText:o.indentAction===wn.IndentOutdent?s=o.indentation:o.indentAction===wn.Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);let a=e.getLineContent(n);if(this.trimLeft(a).indexOf(this.trimLeft(s))>=0){let l=ri(e.getLineContent(n)),c=ri(s),d=kT(e,n,this._languageConfigurationService);d!==null&&d&2&&(c=t.unshiftIndent(c));let h=Os(c,i),u=Os(l,i);return h-u}}return null}matchEnterRuleMovingDown(e,t,i,n,o,s){if(es(s)>=0){let a=e.getLineMaxColumn(o),l=_f(this._autoIndent,e,new D(o,a,o,a),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,l)}else{let a=n-1;for(;a>=1;){let d=e.getLineContent(a);if(es(d)>=0)break;a--}if(a<1||n>e.getLineCount())return null;let l=e.getLineMaxColumn(a),c=_f(this._autoIndent,e,new D(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,c)}}matchEnterRule(e,t,i,n,o,s){let a=o;for(;a>=1;){let d;if(a===o&&s!==void 0?d=s:d=e.getLineContent(a),es(d)>=0)break;a--}if(a<1||n>e.getLineCount())return null;let l=e.getLineMaxColumn(a),c=_f(this._autoIndent,e,new D(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,c)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1),n=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==n||this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport===null)}getIndentEditsOfMovingBlock(e,t,i,n,o,s){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){let l=e.getLineContent(a),c=ri(l),h=Os(c,n)+s,u=zv(h,n,o);u!==c&&(t.addEditOperation(new D(a,1,a,c.length+1),u),a===i.endLineNumber&&i.endColumn<=c.length+1&&u===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};KF=_Se([bSe(3,ii)],KF);Wl();Le();var Gd=class{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return Gd._COLLATOR||(Gd._COLLATOR=new Intl.Collator),Gd._COLLATOR}getEditOperations(e,t){let i=vSe(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;let n=Goe(e,t,i);if(!n)return!1;for(let o=0,s=n.before.length;o<s;o++)if(n.before[o]!==n.after[o])return!0;return!1}};Gd._COLLATOR=null;function Goe(r,e,t){let i=e.startLineNumber,n=e.endLineNumber;if(e.endColumn===1&&n--,i>=n)return null;let o=[];for(let a=i;a<=n;a++)o.push(r.getLineContent(a));let s=o.slice(0);return s.sort(Gd.getCollator().compare),t===!0&&(s=s.reverse()),{startLineNumber:i,endLineNumber:n,before:o,after:s}}function vSe(r,e,t){let i=Goe(r,e,t);return i?li.replace(new D(i.startLineNumber,1,i.endLineNumber,r.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}Ne();er();io();var qF=class extends we{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;let i=t.getSelections().map((s,a)=>({selection:s,index:a,ignore:!1}));i.sort((s,a)=>D.compareRangesUsingStarts(s.selection,a.selection));let n=i[0];for(let s=1;s<i.length;s++){let a=i[s];n.selection.endLineNumber===a.selection.startLineNumber&&(n.index<a.index?a.ignore=!0:(n.ignore=!0,n=a))}let o=[];for(let s of i)o.push(new Hk(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}},pH=class extends qF{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:g("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"2_line",title:g({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}},_H=class extends qF{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:g("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"2_line",title:g({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}},bH=class extends we{constructor(){super({id:"editor.action.duplicateSelection",label:g("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:F.writable,menuOpts:{menuId:z.MenubarSelectionMenu,group:"2_line",title:g({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;let n=[],o=t.getSelections(),s=t.getModel();for(let a of o)if(a.isEmpty())n.push(new Hk(a,!0));else{let l=new ge(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);n.push(new ST(l,s.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}},YF=class extends we{constructor(e,t){super(t),this.down=e}run(e,t){let i=e.get(ii),n=[],o=t.getSelections()||[],s=t.getOption(9);for(let a of o)n.push(new KF(a,this.down,s,i));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}},vH=class extends YF{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:g("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"2_line",title:g({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}},CH=class extends YF{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:g("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"2_line",title:g({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}},ZF=class extends we{constructor(e,t){super(t),this.descending=e}run(e,t){let i=t.getSelections()||[];for(let o of i)if(!Gd.canRun(t.getModel(),o,this.descending))return;let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new Gd(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}},wH=class extends ZF{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:g("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:F.writable})}},yH=class extends ZF{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:g("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:F.writable})}},SH=class extends we{constructor(){super({id:"editor.action.removeDuplicateLines",label:g("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:F.writable})}run(e,t){if(!t.hasModel())return;let i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;let n=[],o=[],s=0;for(let a of t.getSelections()){let l=new Set,c=[];for(let f=a.startLineNumber;f<=a.endLineNumber;f++){let m=i.getLineContent(f);l.has(m)||(c.push(m),l.add(m))}let d=new ge(a.startLineNumber,1,a.endLineNumber,i.getLineMaxColumn(a.endLineNumber)),h=a.startLineNumber-s,u=new ge(h,1,h+c.length-1,c[c.length-1].length);n.push(li.replace(d,c.join(`
`))),o.push(u),s+=a.endLineNumber-a.startLineNumber+1-c.length}t.pushUndoStop(),t.executeEdits(this.id,n,o),t.pushUndoStop()}},yy=class extends we{constructor(){super({id:yy.ID,label:g("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:en(2089,2102),weight:100}})}run(e,t,i){let n=[];i.reason==="auto-save"&&(n=(t.getSelections()||[]).map(a=>new H(a.positionLineNumber,a.positionColumn)));let o=t.getSelection();if(o===null)return;let s=new $F(o,n);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}};yy.ID="editor.action.trimTrailingWhitespace";var LH=class extends we{constructor(){super({id:"editor.action.deleteLines",label:g("lines.delete","Delete Line"),alias:"Delete Line",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),n=t.getModel();if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let o=0,s=[],a=[];for(let l=0,c=i.length;l<c;l++){let d=i[l],h=d.startLineNumber,u=d.endLineNumber,f=1,m=n.getLineMaxColumn(u);u<n.getLineCount()?(u+=1,m=1):h>1&&(h-=1,f=n.getLineMaxColumn(h)),s.push(li.replace(new ge(h,f,u,m),"")),a.push(new ge(h-o,d.positionColumn,h-o,d.positionColumn)),o+=d.endLineNumber-d.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,a),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(o=>{let s=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(s-=1),{startLineNumber:o.startLineNumber,selectionStartColumn:o.selectionStartColumn,endLineNumber:s,positionColumn:o.positionColumn}});t.sort((o,s)=>o.startLineNumber===s.startLineNumber?o.endLineNumber-s.endLineNumber:o.startLineNumber-s.startLineNumber);let i=[],n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}},xH=class extends we{constructor(){super({id:"editor.action.indentLines",label:g("lines.indent","Indent Line"),alias:"Indent Line",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:2137,weight:100}})}run(e,t){let i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,Vi.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}},DH=class extends we{constructor(){super({id:"editor.action.outdentLines",label:g("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:2135,weight:100}})}run(e,t){Rm.Outdent.runEditorCommand(e,t,null)}},kH=class extends we{constructor(){super({id:"editor.action.insertLineBefore",label:g("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:3075,weight:100}})}run(e,t){let i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,Vi.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}},EH=class extends we{constructor(){super({id:"editor.action.insertLineAfter",label:g("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:2051,weight:100}})}run(e,t){let i=t._getViewModel();!i||(t.pushUndoStop(),t.executeCommands(this.id,Vi.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}},GF=class extends we{run(e,t){if(!t.hasModel())return;let i=t.getSelection(),n=this._getRangesToDelete(t),o=[];for(let l=0,c=n.length-1;l<c;l++){let d=n[l],h=n[l+1];D.intersectRanges(d,h)===null?o.push(d):n[l+1]=D.plusRange(d,h)}o.push(n[n.length-1]);let s=this._getEndCursorState(i,o),a=o.map(l=>li.replace(l,""));t.pushUndoStop(),t.executeEdits(this.id,a,s),t.pushUndoStop()}},IH=class extends GF{constructor(){super({id:"deleteAllLeft",label:g("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],o=0;return t.forEach(s=>{let a;if(s.endColumn===1&&o>0){let l=s.startLineNumber-o;a=new ge(l,s.startColumn,l,s.startColumn)}else a=new ge(s.startLineNumber,s.startColumn,s.startLineNumber,s.startColumn);o+=s.endLineNumber-s.startLineNumber,s.intersectRanges(e)?i=a:n.push(a)}),i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getSelections();if(t===null)return[];let i=t,n=e.getModel();return n===null?[]:(i.sort(D.compareRangesUsingStarts),i=i.map(o=>{if(o.isEmpty())if(o.startColumn===1){let s=Math.max(1,o.startLineNumber-1),a=o.startLineNumber===1?1:n.getLineContent(s).length+1;return new D(s,a,o.startLineNumber,1)}else return new D(o.startLineNumber,1,o.startLineNumber,o.startColumn);else return new D(o.startLineNumber,1,o.endLineNumber,o.endColumn)}),i)}},OH=class extends GF{constructor(){super({id:"deleteAllRight",label:g("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let o=0,s=t.length,a=0;o<s;o++){let l=t[o],c=new ge(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(e)?i=c:n.push(c)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(t===null)return[];let i=e.getSelections();if(i===null)return[];let n=i.map(o=>{if(o.isEmpty()){let s=t.getLineMaxColumn(o.startLineNumber);return o.startColumn===s?new D(o.startLineNumber,o.startColumn,o.startLineNumber+1,1):new D(o.startLineNumber,o.startColumn,o.startLineNumber,s)}return o});return n.sort(D.compareRangesUsingStarts),n}},NH=class extends we{constructor(){super({id:"editor.action.joinLines",label:g("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:F.writable,kbOpts:{kbExpr:F.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(i===null)return;let n=t.getSelection();if(n===null)return;i.sort(D.compareRangesUsingStarts);let o=[],s=i.reduce((u,f)=>u.isEmpty()?u.endLineNumber===f.startLineNumber?(n.equalsSelection(u)&&(n=f),f):f.startLineNumber>u.endLineNumber+1?(o.push(u),f):new ge(u.startLineNumber,u.startColumn,f.endLineNumber,f.endColumn):f.startLineNumber>u.endLineNumber?(o.push(u),f):new ge(u.startLineNumber,u.startColumn,f.endLineNumber,f.endColumn));o.push(s);let a=t.getModel();if(a===null)return;let l=[],c=[],d=n,h=0;for(let u=0,f=o.length;u<f;u++){let m=o[u],_=m.startLineNumber,v=1,w=0,y,x,k=a.getLineContent(m.endLineNumber).length-m.endColumn;if(m.isEmpty()||m.startLineNumber===m.endLineNumber){let I=m.getStartPosition();I.lineNumber<a.getLineCount()?(y=_+1,x=a.getLineMaxColumn(y)):(y=I.lineNumber,x=a.getLineMaxColumn(I.lineNumber))}else y=m.endLineNumber,x=a.getLineMaxColumn(y);let N=a.getLineContent(_);for(let I=_+1;I<=y;I++){let O=a.getLineContent(I),R=a.getLineFirstNonWhitespaceColumn(I);if(R>=1){let K=!0;N===""&&(K=!1),K&&(N.charAt(N.length-1)===" "||N.charAt(N.length-1)==="	")&&(K=!1,N=N.replace(/[\s\uFEFF\xA0]+$/g," "));let q=O.substr(R-1);N+=(K?" ":"")+q,K?w=q.length+1:w=q.length}else w=0}let M=new D(_,v,y,x);if(!M.isEmpty()){let I;m.isEmpty()?(l.push(li.replace(M,N)),I=new ge(M.startLineNumber-h,N.length-w+1,_-h,N.length-w+1)):m.startLineNumber===m.endLineNumber?(l.push(li.replace(M,N)),I=new ge(m.startLineNumber-h,m.startColumn,m.endLineNumber-h,m.endColumn)):(l.push(li.replace(M,N)),I=new ge(m.startLineNumber-h,m.startColumn,m.startLineNumber-h,N.length-k)),D.intersectRanges(M,n)!==null?d=I:c.push(I)}h+=M.endLineNumber-M.startLineNumber}c.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,l,c),t.pushUndoStop()}},TH=class extends we{constructor(){super({id:"editor.action.transpose",label:g("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:F.writable})}run(e,t){let i=t.getSelections();if(i===null)return;let n=t.getModel();if(n===null)return;let o=[];for(let s=0,a=i.length;s<a;s++){let l=i[s];if(!l.isEmpty())continue;let c=l.getStartPosition(),d=n.getLineMaxColumn(c.lineNumber);if(c.column>=d){if(c.lineNumber===n.getLineCount())continue;let h=new D(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),u=n.getValueInRange(h).split("").reverse().join("");o.push(new Kn(new ge(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),u))}else{let h=new D(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),u=n.getValueInRange(h).split("").reverse().join("");o.push(new Mm(h,u,new ge(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}},Vv=class extends we{run(e,t){let i=t.getSelections();if(i===null)return;let n=t.getModel();if(n===null)return;let o=t.getOption(119),s=[];for(let a of i)if(a.isEmpty()){let l=a.getStartPosition(),c=t.getConfiguredWordAtPosition(l);if(!c)continue;let d=new D(l.lineNumber,c.startColumn,l.lineNumber,c.endColumn),h=n.getValueInRange(d);s.push(li.replace(d,this._modifyText(h,o)))}else{let l=n.getValueInRange(a);s.push(li.replace(a,this._modifyText(l,o)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}},PH=class extends Vv{constructor(){super({id:"editor.action.transformToUppercase",label:g("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:F.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}},AH=class extends Vv{constructor(){super({id:"editor.action.transformToLowercase",label:g("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:F.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}},jp=class{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}},Uv=class extends Vv{constructor(){super({id:"editor.action.transformToTitlecase",label:g("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:F.writable})}_modifyText(e,t){let i=Uv.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,n=>n.toLocaleUpperCase()):e}};Uv.titleBoundary=new jp("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");var yu=class extends Vv{constructor(){super({id:"editor.action.transformToSnakecase",label:g("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:F.writable})}_modifyText(e,t){let i=yu.caseBoundary.get(),n=yu.singleLetters.get();return!i||!n?e:e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase()}};yu.caseBoundary=new jp("(\\p{Ll})(\\p{Lu})","gmu");yu.singleLetters=new jp("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");var Xd=class extends Vv{constructor(){super({id:"editor.action.transformToKebabcase",label:g("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:F.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(t=>t.isSupported())}_modifyText(e,t){let i=Xd.caseBoundary.get(),n=Xd.singleLetters.get(),o=Xd.underscoreBoundary.get();return!i||!n||!o?e:e.replace(o,"$1-$3").replace(i,"$1-$2").replace(n,"$1-$2").toLocaleLowerCase()}};Xd.caseBoundary=new jp("(\\p{Ll})(\\p{Lu})","gmu");Xd.singleLetters=new jp("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu");Xd.underscoreBoundary=new jp("(\\S)(_)(\\S)","gm");le(pH);le(_H);le(bH);le(vH);le(CH);le(wH);le(yH);le(SH);le(yy);le(LH);le(xH);le(DH);le(kH);le(EH);le(IH);le(OH);le(NH);le(TH);le(PH);le(AH);yu.caseBoundary.isSupported()&&yu.singleLetters.isSupported()&&le(yu);Uv.titleBoundary.isSupported()&&le(Uv);Xd.isSupported()&&le(Xd);Ft();ot();Di();ho();ut();Oe();se();Ye();vi();xt();lo();rt();Le();Ui();Ao();io();Ne();St();Ai();Ct();oi();Bc();Ha();var CSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},XF=function(r,e){return function(t,i){e(t,i,r)}},MH=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Xoe=new Ce("LinkedEditingInputVisible",!1),Qoe="linked-editing-decoration",Wp=class RH extends ${constructor(e,t,i,n,o){super(),this.languageConfigurationService=n,this._syncRangesToken=0,this._localToDispose=this._register(new J),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=Xoe.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new J),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(64)||s.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(RH.ID)}reinitialize(e){let t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._localToDispose.add(Ie.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));let n=new gr(this._debounceInformation.get(t)),o=()=>{var l;this._rangeUpdateTriggerPromise=n.trigger(()=>this.updateRanges(),(l=this._debounceDuration)!==null&&l!==void 0?l:this._debounceInformation.get(t))},s=new gr(0),a=l=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){let c=this._currentDecorations.getRange(0);if(c&&l.changes.every(d=>c.intersectRanges(d.range))){a(this._syncRangesToken);return}}o()})),this._localToDispose.add({dispose:()=>{n.dispose(),s.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||this._currentDecorations.length===0)return;let t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();let n=t.getValueInRange(i);if(this._currentWordPattern){let s=n.match(this._currentWordPattern);if((s?s[0].length:0)!==n.length)return this.clearRanges()}let o=[];for(let s=1,a=this._currentDecorations.length;s<a;s++){let l=this._currentDecorations.getRange(s);if(!!l)if(l.startLineNumber!==l.endLineNumber)o.push({range:l,text:n});else{let c=t.getValueInRange(l),d=n,h=l.startColumn,u=l.endColumn,f=wl(c,d);h+=f,c=c.substr(f),d=d.substr(f);let m=qu(c,d);u-=m,c=c.substr(0,c.length-m),d=d.substr(0,d.length-m),(h!==u||d.length!==0)&&o.push({range:new D(l.startLineNumber,h,l.endLineNumber,u),text:d})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;let s=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(s)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return MH(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}let t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}let i=this._editor.getModel(),n=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===n){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){let s=this._currentDecorations.getRange(0);if(s&&s.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=n;let o=wi(s=>MH(this,void 0,void 0,function*(){try{let a=new _n(!1),l=yield Joe(this._providers,i,t,s);if(this._debounceInformation.update(i,a.elapsed()),o!==this._currentRequest||(this._currentRequest=null,n!==i.getVersionId()))return;let c=[];l?.ranges&&(c=l.ranges),this._currentWordPattern=l?.wordPattern||this._languageWordPattern;let d=!1;for(let u=0,f=c.length;u<f;u++)if(D.containsPosition(c[u],t)){if(d=!0,u!==0){let m=c[u];c.splice(u,1),c.unshift(m)}break}if(!d){this.clearRanges();return}let h=c.map(u=>({range:u,options:RH.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(h),this._syncRangesToken++}catch(a){Ps(a)||Pe(a),(this._currentRequest===o||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=o,o})}};Wp.ID="editor.contrib.linkedEditing";Wp.DECORATION=Ge.register({description:"linked-editing",stickiness:0,className:Qoe});Wp=CSe([XF(1,Te),XF(2,_e),XF(3,ii),XF(4,Mo)],Wp);var FH=class extends we{constructor(){super({id:"editor.action.linkedEditing",label:g("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Se.and(F.writable,F.hasRenameProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){let i=e.get(kt),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return Ee.isUri(n)&&H.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(s=>{!s||(s.setPosition(o),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},Pe):super.runCommand(e,t)}run(e,t){let i=Wp.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}},wSe=zi.bindToContribution(Wp.get);me(new wSe({id:"cancelLinkedEditingInput",precondition:Xoe,handler:r=>r.clearRanges(),kbOpts:{kbExpr:F.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function Joe(r,e,t,i){let n=r.ordered(e);return zO(n.map(o=>()=>MH(this,void 0,void 0,function*(){try{return yield o.provideLinkedEditingRanges(e,t,i)}catch(s){Oi(s);return}})),o=>!!o&&an(o?.ranges))}var ySe=W("editor.linkedEditingBackground",{dark:Z.fromHex("#f00").transparent(.3),light:Z.fromHex("#f00").transparent(.3),hcDark:Z.fromHex("#f00").transparent(.3),hcLight:Z.white},g("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Lt((r,e)=>{let t=r.getColor(ySe);t&&e.addRule(`.monaco-editor .${Qoe} { background: ${t}; border-left-color: ${t}; }`)});wa("_executeLinkedEditingProvider",(r,e,t)=>{let{linkedEditingRangeProvider:i}=r.get(_e);return Joe(i,e,t,Je.None)});Ze(Wp.ID,Wp);le(FH);ot();Di();ut();se();Ws();At();Vr();Ha();vi();xt();Ao();Bc();oi();Ft();Di();ut();se();ti();vi();Le();_s();hn();oi();var ere=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},BH=class{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return ere(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}},Sy=class{constructor(e){this._disposables=new J;let t=[];for(let[i,n]of e){let o=i.links.map(s=>new BH(s,n));t=Sy._union(t,o),R0(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i=[],n,o,s,a;for(n=0,s=0,o=e.length,a=t.length;n<o&&s<a;){let l=e[n],c=t[s];if(D.areIntersectingOrTouching(l.range,c.range)){n++;continue}D.compareRangesUsingStarts(l.range,c.range)<0?(i.push(l),n++):(i.push(c),s++)}for(;n<o;n++)i.push(e[n]);for(;s<a;s++)i.push(t[s]);return i}};function jH(r,e,t){let i=[],n=r.ordered(e).reverse().map((o,s)=>Promise.resolve(o.provideLinks(e,t)).then(a=>{a&&(i[s]=[a,o])},Oi));return Promise.all(n).then(()=>{let o=new Sy(Mg(i));return t.isCancellationRequested?(o.dispose(),new Sy([])):o})}gt.registerCommand("_executeLinkProvider",(r,...e)=>ere(void 0,void 0,void 0,function*(){let[t,i]=e;$t(t instanceof Ee),typeof i!="number"&&(i=0);let{linkProvider:n}=r.get(_e),o=r.get(si).getModel(t);if(!o)return[];let s=yield jH(n,o,Je.None);if(!s)return[];for(let l=0;l<Math.min(i,s.links.length);l++)yield s.links[l].resolve(Je.None);let a=s.links.slice(0);return s.dispose(),a}));Ne();Ds();Ai();Ct();var SSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},QF=function(r,e){return function(t,i){e(t,i,r)}},LSe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Ly=class ire extends ${constructor(e,t,i,n,o){super(),this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=n,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=o.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new pt(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;let s=this._register(new Lp(e));this._register(s.onMouseMoveOrRelevantKeyDown(([a,l])=>{this._onEditorMouseMove(a,l)})),this._register(s.onExecute(a=>{this.onEditorMouseUp(a)})),this._register(s.onCancel(a=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(a=>{!a.hasChanged(65)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(a=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(a=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(a=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(a=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(e){return e.getContribution(ire.ID)}computeLinksNow(){return LSe(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;let e=this.editor.getModel();if(!!this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=wi(t=>jH(this.providers,e,t));try{let t=new _n(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){Pe(t)}finally{this.computePromise=null}}})}updateDecorations(e){let t=this.editor.getOption(72)==="altKey",i=[],n=Object.keys(this.currentOccurrences);for(let s of n){let a=this.currentOccurrences[s];i.push(a.decorationId)}let o=[];if(e)for(let s of e)o.push(zp.decoration(s,t));this.editor.changeDecorations(s=>{let a=s.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let l=0,c=a.length;l<c;l++){let d=new zp(e[l],a[l]);this.currentOccurrences[d.decorationId]=d}})}_onEditorMouseMove(e,t){let i=this.editor.getOption(72)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();let n=this.getLinkOccurrence(e.target.position);n&&this.editor.changeDecorations(o=>{n.activate(o,i),this.activeLinkDecorationId=n.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){let e=this.editor.getOption(72)==="altKey";if(this.activeLinkDecorationId){let t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;let t=this.getLinkOccurrence(e.target.position);!t||this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;let{link:n}=e;n.resolve(Je.None).then(o=>{if(typeof o=="string"&&this.editor.hasModel()){let s=this.editor.getModel().uri;if(s.scheme===lt.file&&o.startsWith(`${lt.file}:`)){let a=Ee.parse(o);if(a.scheme===lt.file){let l=Id(a),c=null;l.startsWith("/./")?c=`.${l.substr(1)}`:l.startsWith("//./")&&(c=`.${l.substr(2)}`),c&&(o=vJ(s,c))}}}return this.openerService.open(o,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},o=>{let s=o instanceof Error?o.message:o;s==="invalid"?this.notificationService.warn(g("invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):s==="missing"?this.notificationService.warn(g("missing.url","Failed to open this link because its target is missing.")):Pe(o)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;let t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(let i of t){let n=this.currentOccurrences[i.id];if(n)return n}return null}isEnabled(e,t){return Boolean(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};Ly.ID="editor.linkDetector";Ly=SSe([QF(1,wo),QF(2,ui),QF(3,_e),QF(4,Mo)],Ly);var tre={general:Ge.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Ge.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},zp=class{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:zp._getOptions(e,t,!1)}}static _getOptions(e,t,i){let n=Object.assign({},i?tre.active:tre.general);return n.hoverMessage=xSe(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,zp._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,zp._getOptions(this.link,t,!1))}};function xSe(r,e){let t=r.url&&/^command:/i.test(r.url.toString()),i=r.tooltip?r.tooltip:t?g("links.navigate.executeCmd","Execute command"):g("links.navigate.follow","Follow link"),n=e?at?g("links.navigate.kb.meta.mac","cmd + click"):g("links.navigate.kb.meta","ctrl + click"):at?g("links.navigate.kb.alt.mac","option + click"):g("links.navigate.kb.alt","alt + click");if(r.url){let o="";if(/^command:/i.test(r.url.toString())){let a=r.url.toString().match(/^command:([^?#]+)/);if(a){let l=a[1];o=g("tooltip.explanation","Execute command {0}",l)}}return new ro("",!0).appendLink(r.url.toString(!0).replace(/ /g,"%20"),i,o).appendMarkdown(` (${n})`)}else return new ro().appendText(`${i} (${n})`)}var WH=class extends we{constructor(){super({id:"editor.action.openLink",label:g("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=Ly.get(t);if(!i||!t.hasModel())return;let n=t.getSelections();for(let o of n){let s=i.getLinkOccurrence(o.getEndPosition());s&&i.openLinkOccurrence(s,!1)}}};Ze(Ly.ID,Ly);le(WH);Lt((r,e)=>{let t=r.getColor(XC);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});Vs();ot();bl();se();xt();Le();Ci();Ui();Rs();Ao();Ne();er();St();Ai();Ct();oi();var DSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},kSe=function(r,e){return function(t,i){e(t,i,r)}};function Up(r,e){let t=e.filter(i=>!r.find(n=>n.equals(i)));if(t.length>=1){let i=t.map(o=>`line ${o.viewState.position.lineNumber} column ${o.viewState.position.column}`).join(", "),n=t.length===1?g("cursorAdded","Cursor added: {0}",i):g("cursorsAdded","Cursors added: {0}",i);Z_(n)}}var zH=class extends we{constructor(){super({id:"editor.action.insertCursorAbove",label:g("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"3_multi",title:g({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&i.logicalLine===!1&&(n=!1);let o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let s=o.getCursorStates();o.setCursorStates(i.source,3,no.addCursorUp(o,s,n)),o.revealTopMostCursor(i.source),Up(s,o.getCursorStates())}},VH=class extends we{constructor(){super({id:"editor.action.insertCursorBelow",label:g("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"3_multi",title:g({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&i.logicalLine===!1&&(n=!1);let o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let s=o.getCursorStates();o.setCursorStates(i.source,3,no.addCursorDown(o,s,n)),o.revealBottomMostCursor(i.source),Up(s,o.getCursorStates())}},UH=class extends we{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:g("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"3_multi",title:g({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){let o=t.getLineMaxColumn(n);i.push(new ge(n,o,n,o))}e.endColumn>1&&i.push(new ge(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=t.getSelections(),o=t._getViewModel(),s=o.getCursorStates(),a=[];n.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&t.setSelections(a),Up(s,o.getCursorStates())}},HH=class extends we{constructor(){super({id:"editor.action.addCursorsToBottom",label:g("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getSelections(),n=t.getModel().getLineCount(),o=[];for(let l=i[0].startLineNumber;l<=n;l++)o.push(new ge(l,i[0].startColumn,l,i[0].endColumn));let s=t._getViewModel(),a=s.getCursorStates();o.length>0&&t.setSelections(o),Up(a,s.getCursorStates())}},$H=class extends we{constructor(){super({id:"editor.action.addCursorsToTop",label:g("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getSelections(),n=[];for(let a=i[0].startLineNumber;a>=1;a--)n.push(new ge(a,i[0].startColumn,a,i[0].endColumn));let o=t._getViewModel(),s=o.getCursorStates();n.length>0&&t.setSelections(n),Up(s,o.getCursorStates())}},xy=class{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}},Hv=class{constructor(e,t,i,n,o,s,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=s,this.currentMatch=a}static create(e,t){if(!e.hasModel())return null;let i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new Hv(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n=!1,o,s,a=e.getSelections();a.length===1&&a[0].isEmpty()?(n=!0,o=!0,s=!0):(o=i.wholeWord,s=i.matchCase);let l=e.getSelection(),c,d=null;if(l.isEmpty()){let h=e.getConfiguredWordAtPosition(l.getStartPosition());if(!h)return null;c=h.word,d=new ge(l.startLineNumber,h.startColumn,l.startLineNumber,h.endColumn)}else c=e.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new Hv(e,t,n,c,o,s,d)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();if(!e)return null;let t=this._editor.getSelections();return new xy(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let e=this._getNextMatch();if(!e)return null;let t=this._editor.getSelections();return new xy(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let n=this.currentMatch;return this.currentMatch=null,n}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return i?new ge(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();if(!e)return null;let t=this._editor.getSelections();return new xy(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let e=this._getPreviousMatch();if(!e)return null;let t=this._editor.getSelections();return new xy(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let n=this.currentMatch;return this.currentMatch=null,n}this.findController.highlightFindOptions();let e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return i?new ge(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();let t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}},_g=class extends ${constructor(e){super(),this._sessionDispose=this._register(new J),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(_g.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){let t=Hv.create(this._editor,e);if(!t)return;this._session=t;let i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(n=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(n=>{(n.matchCase||n.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){let e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;let i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new ge(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){!e||(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(!!this._editor.hasModel()){if(!this._session){let t=this._editor.getSelections();if(t.length>1){let n=e.getState().matchCase;if(!ore(this._editor.getModel(),t,n)){let s=this._editor.getModel(),a=[];for(let l=0,c=t.length;l<c;l++)a[l]=this._expandEmptyToWord(s,t[l]);this._editor.setSelections(a);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null,i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){let n=this._editor.getModel();i.searchScope?t=n.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(119):null,!1,1073741824):t=n.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){let n=this._editor.getSelection();for(let o=0,s=t.length;o<s;o++){let a=t[o];if(a.range.intersectRanges(n)){t[o]=t[0],t[0]=a;break}}this._setSelections(t.map(o=>new ge(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)))}}};_g.ID="editor.contrib.multiCursorController";var Vp=class extends we{run(e,t){let i=_g.get(t);if(!i)return;let n=ea.get(t);if(!n)return;let o=t._getViewModel();if(o){let s=o.getCursorStates();this._run(i,n),Up(s,o.getCursorStates())}}},KH=class extends Vp{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:g("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:2082,weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"3_multi",title:g({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}},qH=class extends Vp{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:g("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:z.MenubarSelectionMenu,group:"3_multi",title:g({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}},YH=class extends Vp{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:g("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:en(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}},ZH=class extends Vp{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:g("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}},GH=class extends Vp{constructor(){super({id:"editor.action.selectHighlights",label:g("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:F.focus,primary:3114,weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"3_multi",title:g({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}},XH=class extends Vp{constructor(){super({id:"editor.action.changeAll",label:g("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Se.and(F.writable,F.editorTextFocus),kbOpts:{kbExpr:F.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}},QH=class{constructor(e,t,i,n,o){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=n,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(D.compareRangesUsingStarts)),this._cachedFindMatches}},$v=class JF extends ${constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(99),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new pt(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(n=>{this._isEnabled=e.getOption(99)})),this._register(e.onDidChangeCursorSelection(n=>{!this._isEnabled||(n.selection.isEmpty()?n.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(n=>{this._setState(null)})),this._register(e.onDidChangeModelContent(n=>{this._isEnabled&&this.updateSoon.schedule()}));let i=ea.get(e);i&&this._register(i.getState().onFindReplaceStateChange(n=>{this._update()}))}_update(){this._setState(JF._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;let n=i.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;let o=_g.get(i);if(!o)return null;let s=ea.get(i);if(!s)return null;let a=o.getSession(s);if(!a){let d=i.getSelections();if(d.length>1){let u=s.getState().matchCase;if(!ore(i.getModel(),d,u))return null}a=Hv.create(i,s)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;let l=s.getState(),c=l.matchCase;if(l.isRevealed){let d=l.searchString;c||(d=d.toLowerCase());let h=a.searchText;if(c||(h=h.toLowerCase()),d===h&&a.matchCase===l.matchCase&&a.wholeWord===l.wholeWord&&!l.isRegex)return null}return new QH(i.getModel(),a.searchText,a.matchCase,a.wholeWord?i.getOption(119):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;let t=this.editor.getModel();if(t.isTooLargeForTokenization())return;let i=this.state.findMatches(),n=this.editor.getSelections();n.sort(D.compareRangesUsingStarts);let o=[];for(let l=0,c=0,d=i.length,h=n.length;l<d;){let u=i[l];if(c>=h)o.push(u),l++;else{let f=D.compareRangesUsingStarts(u,n[c]);f<0?((n[c].isEmpty()||!D.areIntersecting(u,n[c]))&&o.push(u),l++):(f>0||l++,c++)}}let s=this._languageFeaturesService.documentHighlightProvider.has(t)&&this.editor.getOption(74),a=o.map(l=>({range:l,options:s?JF._SELECTION_HIGHLIGHT:JF._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(a)}dispose(){this._setState(null),super.dispose()}};$v.ID="editor.contrib.selectionHighlighter";$v._SELECTION_HIGHLIGHT_OVERVIEW=Ge.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:un(QC),position:is.Inline},overviewRuler:{color:un(GN),position:ts.Center}});$v._SELECTION_HIGHLIGHT=Ge.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"});$v=DSe([kSe(1,_e)],$v);function ore(r,e,t){let i=nre(r,e[0],!t);for(let n=1,o=e.length;n<o;n++){let s=e[n];if(s.isEmpty())return!1;let a=nre(r,s,!t);if(i!==a)return!1}return!0}function nre(r,e,t){let i=r.getValueInRange(e);return t?i.toLowerCase():i}var JH=class extends we{constructor(){super({id:"editor.action.focusNextCursor",label:g("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:g("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;let n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();let o=Array.from(n.getCursorStates()),s=o.shift();!s||(o.push(s),n.setCursorStates(i.source,3,o),n.revealPrimaryCursor(i.source,!0),Up(o,n.getCursorStates()))}},e$=class extends we{constructor(){super({id:"editor.action.focusPreviousCursor",label:g("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:g("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;let n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();let o=Array.from(n.getCursorStates()),s=o.pop();!s||(o.unshift(s),n.setCursorStates(i.source,3,o),n.revealPrimaryCursor(i.source,!0),Up(o,n.getCursorStates()))}};Ze(_g.ID,_g);Ze($v.ID,$v);le(zH);le(VH);le(UH);le(KH);le(qH);le(YH);le(ZH);le(GH);le(XH);le(HH);le($H);le(JH);le(e$);se();xt();Ui();Un();Di();ut();ti();vi();rt();Un();oi();Ga();hn();St();var rre=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},bg={Visible:new Ce("parameterHintsVisible",!1),MultipleSignatures:new Ce("parameterHintsMultipleSignatures",!1)};function t$(r,e,t,i,n){return rre(this,void 0,void 0,function*(){let o=r.ordered(e);for(let s of o)try{let a=yield s.provideSignatureHelp(e,t,n,i);if(a)return a}catch(a){Oi(a)}})}gt.registerCommand("_executeSignatureHelpProvider",(r,...e)=>rre(void 0,void 0,void 0,function*(){let[t,i,n]=e;$t(Ee.isUri(t)),$t(H.isIPosition(i)),$t(typeof n=="string"||!n);let o=r.get(_e),s=yield r.get(Fn).createModelReference(t);try{let a=yield t$(o.signatureHelpProvider,s.object.textEditorModel,H.lift(i),{triggerKind:vl.Invoke,isRetrigger:!1,triggerCharacter:n},Je.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{s.dispose()}}));Ne();St();Xe();Fe();Vs();bn();Oe();se();Ye();ti();Qo();oi();ot();ut();Oe();se();T_();Un();var ESe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Hp;(function(r){r.Default={type:0};class e{constructor(n,o){this.request=n,this.previouslyActiveHints=o,this.type=2}}r.Pending=e;class t{constructor(n){this.hints=n,this.type=1}}r.Active=t})(Hp||(Hp={}));var Kv=class extends ${constructor(e,t,i=Kv.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new B),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Hp.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Cn),this.triggerChars=new ad,this.retriggerChars=new ad,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new gr(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(n=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(n=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(n=>this.onCursorChange(n))),this._register(this.editor.onDidChangeModelContent(n=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(n=>this.onDidType(n))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Hp.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){let i=this.editor.getModel();if(!i||!this.providers.has(i))return;let n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(n),t).catch(Pe)}next(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,n=this.editor.getOption(78).cycle;if((e<2||i)&&!n){this.cancel();return}this.updateActiveSignature(i&&n?0:t+1)}previous(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,n=this.editor.getOption(78).cycle;if((e<2||i)&&!n){this.cancel();return}this.updateActiveSignature(i&&n?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new Hp.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return ESe(this,void 0,void 0,function*(){let t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;let n=this._pendingTriggers.reduce(ISe);this._pendingTriggers=[];let o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;let s=this.editor.getModel(),a=this.editor.getPosition();this.state=new Hp.Pending(wi(l=>t$(this.providers,s,a,o,l)),i);try{let l=yield this.state.request;return e!==this.triggerId?(l?.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new Hp.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return e===this.triggerId&&(this.state=Hp.Default),Pe(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new ad,this.retriggerChars=new ad;let e=this.editor.getModel();if(!!e)for(let t of this.providers.ordered(e)){for(let i of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(i.charCodeAt(0)),this.retriggerChars.add(i.charCodeAt(0));for(let i of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;let t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:vl.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:vl.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:vl.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}};Kv.DEFAULT_DELAY=120;function ISe(r,e){switch(e.triggerKind){case vl.Invoke:return e;case vl.ContentChange:return r;case vl.TriggerCharacter:default:return e}}Ne();St();Ds();Ai();Tl();Ct();var OSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},e4=function(r,e){return function(t,i){e(t,i,r)}},ul=he,NSe=fn("parameter-hints-next",p.chevronDown,g("parameterHintsNextIcon","Icon for show next parameter hint.")),TSe=fn("parameter-hints-previous",p.chevronUp,g("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),$k=class sre extends ${constructor(e,t,i,n,o){super(),this.editor=e,this.renderDisposeables=this._register(new J),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Na({editor:e},n,i)),this.model=this._register(new Kv(e,o.signatureHelpProvider)),this.keyVisible=bg.Visible.bindTo(t),this.keyMultipleSignatures=bg.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(s=>{s?(this.show(),this.render(s)):this.hide()}))}createParameterHintDOMNodes(){let e=ul(".editor-widget.parameter-hints-widget"),t=oe(e,ul(".phwrapper"));t.tabIndex=-1;let i=oe(t,ul(".controls")),n=oe(i,ul(".button"+Vt.asCSSSelector(TSe))),o=oe(i,ul(".overloads")),s=oe(i,ul(".button"+Vt.asCSSSelector(NSe)));this._register(ne(n,"click",u=>{Xt.stop(u),this.previous()})),this._register(ne(s,"click",u=>{Xt.stop(u),this.next()}));let a=ul(".body"),l=new Tc(a,{alwaysConsumeMouseWheel:!0});this._register(l),t.appendChild(l.getDomNode());let c=oe(a,ul(".signature")),d=oe(a,ul(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:o,docs:d,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(u=>{this.visible&&this.editor.layoutContentWidget(this)}));let h=()=>{if(!this.domNodes)return;let u=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${u.fontSize}px`,this.domNodes.element.style.lineHeight=`${u.lineHeight/u.fontSize}`};h(),this._register(Ie.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(u=>u.hasChanged(46)).on(h,null)),this._register(this.editor.onDidLayoutChange(u=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var e;(e=this.domNodes)===null||e===void 0||e.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(e=this.domNodes)===null||e===void 0||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;let i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";let n=e.signatures[e.activeSignature];if(!n)return;let o=oe(this.domNodes.signature,ul(".code")),s=this.editor.getOption(46);o.style.fontSize=`${s.fontSize}px`,o.style.fontFamily=s.fontFamily;let a=n.parameters.length>0,l=(t=n.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(a)this.renderParameters(o,n,l);else{let h=oe(o,ul("span"));h.textContent=n.label}let c=n.parameters[l];if(c?.documentation){let h=ul("span.documentation");if(typeof c.documentation=="string")h.textContent=c.documentation;else{let u=this.renderMarkdownDocs(c.documentation);h.appendChild(u.element)}oe(this.domNodes.docs,ul("p",{},h))}if(n.documentation!==void 0)if(typeof n.documentation=="string")oe(this.domNodes.docs,ul("p",{},n.documentation));else{let h=this.renderMarkdownDocs(n.documentation);oe(this.domNodes.docs,h.element)}let d=this.hasDocs(n,c);if(this.domNodes.signature.classList.toggle("has-docs",d),this.domNodes.docs.classList.toggle("empty",!d),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let h="",u=n.parameters[l];Array.isArray(u.label)?h=n.label.substring(u.label[0],u.label[1]):h=u.label,u.documentation&&(h+=typeof u.documentation=="string"?`, ${u.documentation}`:`, ${u.documentation.value}`),n.documentation&&(h+=typeof n.documentation=="string"?`, ${n.documentation}`:`, ${n.documentation.value}`),this.announcedLabel!==h&&(Tn(g("hint","{0}, hint",h)),this.announcedLabel=h)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){let t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var i;(i=this.domNodes)===null||i===void 0||i.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&rS(t.documentation).length>0||t&&typeof t.documentation=="object"&&rS(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&rS(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&rS(e.documentation.value).length>0)}renderParameters(e,t,i){let[n,o]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,n);let a=document.createElement("span");a.textContent=t.label.substring(n,o),a.className="parameter active";let l=document.createElement("span");l.textContent=t.label.substring(o),oe(e,s,a,l)}getParameterLabelOffsets(e,t){let i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){let n=new RegExp(`(\\W|^)${_o(i.label)}(?=\\W|$)`,"g");n.test(e.label);let o=n.lastIndex-i.label.length;return o>=0?[o,n.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return sre.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;let t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;let i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};$k.ID="editor.widget.parameterHintsWidget";$k=OSe([e4(1,Te),e4(2,wo),e4(3,ei),e4(4,_e)],$k);var PSe=W("editorHoverWidget.highlightForeground",{dark:Ja,light:Ja,hcDark:Ja,hcLight:Ja},g("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));Lt((r,e)=>{let t=r.getColor(YN);if(t){let c=Qn(r.type)?2:1;e.addRule(`.monaco-editor .parameter-hints-widget { border: ${c}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`)}let i=r.getColor(cf);i&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${i}; }`);let n=r.getColor(Em);n&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${n}; }`);let o=r.getColor(Im);o&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${o}; }`);let s=r.getColor(qN);s&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${s}; }`);let a=r.getColor($N);a&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);let l=r.getColor(PSe);l&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${l}}`)});var ASe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},MSe=function(r,e){return function(t,i){e(t,i,r)}},qv=class are extends ${constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance($k,this.editor))}static get(e){return e.getContribution(are.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};qv.ID="editor.controller.parameterHints";qv=ASe([MSe(1,je)],qv);var i$=class extends we{constructor(){super({id:"editor.action.triggerParameterHints",label:g("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:F.hasSignatureHelpProvider,kbOpts:{kbExpr:F.editorTextFocus,primary:3082,weight:100}})}run(e,t){let i=qv.get(t);i&&i.trigger({triggerKind:vl.Invoke})}};Ze(qv.ID,qv);le(i$);var n$=100+75,o$=zi.bindToContribution(qv.get);me(new o$({id:"closeParameterHints",precondition:bg.Visible,handler:r=>r.cancel(),kbOpts:{weight:n$,kbExpr:F.focus,primary:9,secondary:[1033]}}));me(new o$({id:"showPrevParameterHint",precondition:Se.and(bg.Visible,bg.MultipleSignatures),handler:r=>r.previous(),kbOpts:{weight:n$,kbExpr:F.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));me(new o$({id:"showNextParameterHint",precondition:Se.and(bg.Visible,bg.MultipleSignatures),handler:r=>r.next(),kbOpts:{weight:n$,kbExpr:F.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));Vs();ot();Di();ut();se();ti();vi();Gf();xt();lo();rt();Le();Ui();zS();Ne();Xu();St();Xe();pc();Rc();fr();se();rt();Ne();St();Ai();Ct();var RSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},r$=function(r,e){return function(t,i){e(t,i,r)}},Kk=new Ce("renameInputVisible",!1,g("renameInputVisible","Whether the rename input widget is visible")),t4=class{constructor(e,t,i,n,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new J,this.allowEditorOverflow=!0,this._visibleContextKey=Kk.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(46)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",g("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);let e=()=>{var t,i;let[n,o]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(n),this._label.innerText=g({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(t=this._keybindingService.lookupKeybinding(n))===null||t===void 0?void 0:t.getLabel(),(i=this._keybindingService.lookupKeybinding(o))===null||i===void 0?void 0:i.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,n,o;if(!this._input||!this._domNode)return;let s=e.getColor(ya);this._domNode.style.backgroundColor=String((t=e.getColor(jn))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.color=String((i=e.getColor(Nm))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((n=e.getColor(Om))!==null&&n!==void 0?n:"");let a=e.getColor(Tm);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=(o=a?.toString())!==null&&o!==void 0?o:"none"}_updateFont(){if(!this._input||!this._label)return;let e=this._editor.getOption(46);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){var t;(t=this._currentAcceptInput)===null||t===void 0||t.call(this,e)}cancelInput(e){var t;(t=this._currentCancelInput)===null||t===void 0||t.call(this,e)}getInput(e,t,i,n,o,s){this._domNode.classList.toggle("preview",o),this._position=new H(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);let a=new J;return new Promise(l=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:o&&c})},a.add(s.onCancellationRequested(()=>this.cancelInput(!0))),a.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};t4=RSe([r$(2,Tt),r$(3,gn),r$(4,Te)],t4);oi();var FSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Yv=function(r,e){return function(t,i){e(t,i,r)}},Zv=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},qk=class{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return Zv(this,void 0,void 0,function*(){let t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){let n=this._providers[this._providerRenameIdx];if(!n.resolveRenameLocation)break;let o=yield n.resolveRenameLocation(this.model,this.position,e);if(!!o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}let i=this.model.getWordAtPosition(this.position);return i?{range:new D(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:D.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return Zv(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,i,n){return Zv(this,void 0,void 0,function*(){let o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join(`
`)};let s=yield o.provideRenameEdits(this.model,this.position,e,n);if(s){if(s.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(s.rejectReason),n)}else return this._provideRenameEdits(e,t+1,i.concat(g("no result","No result.")),n);return s})}};function BSe(r,e,t,i){return Zv(this,void 0,void 0,function*(){let n=new qk(e,t,r),o=yield n.resolveRenameLocation(Je.None);return o?.rejectReason?{edits:[],rejectReason:o.rejectReason}:n.provideRenameEdits(i,Je.None)})}var Gv=class lre{constructor(e,t,i,n,o,s,a,l){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=o,this._logService=s,this._configService=a,this._languageFeaturesService=l,this._disposableStore=new J,this._cts=new qi,this._renameInputField=this._disposableStore.add(new Za(()=>this._disposableStore.add(this._instaService.createInstance(t4,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(lre.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return Zv(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;let i=this.editor.getPosition(),n=new qk(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!n.hasProvider())return;this._cts=new al(this.editor,5);let o;try{let u=n.resolveRenameLocation(this._cts.token);this._progressService.showWhile(u,250),o=yield u}catch(u){(e=Cr.get(this.editor))===null||e===void 0||e.showMessage(u||g("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i);return}if(!o)return;if(o.rejectReason){(t=Cr.get(this.editor))===null||t===void 0||t.showMessage(o.rejectReason,i);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new al(this.editor,5,o.range);let s=this.editor.getSelection(),a=0,l=o.text.length;!D.isEmpty(s)&&!D.spansMultipleLines(s)&&D.containsRange(o.range,s)&&(a=Math.max(0,s.startColumn-o.range.startColumn),l=Math.min(o.range.endColumn,s.endColumn)-o.range.startColumn);let c=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),d=yield this._renameInputField.value.getInput(o.range,o.text,a,l,c,this._cts.token);if(typeof d=="boolean"){d&&this.editor.focus();return}this.editor.focus();let h=iC(n.provideRenameEdits(d.newName,this._cts.token),this._cts.token).then(u=>Zv(this,void 0,void 0,function*(){if(!(!u||!this.editor.hasModel())){if(u.rejectReason){this._notificationService.info(u.rejectReason);return}this.editor.setSelection(D.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(jc.convert(u),{editor:this.editor,showPreview:d.wantsPreview,label:g("label","Renaming '{0}' to '{1}'",o?.text,d.newName),code:"undoredo.rename",quotableLabel:g("quotableLabel","Renaming {0} to {1}",o?.text,d.newName),respectAutoSaveConfig:!0}).then(f=>{f.ariaSummary&&Tn(g("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,d.newName,f.ariaSummary))}).catch(f=>{this._notificationService.error(g("rename.failedApply","Rename failed to apply edits")),this._logService.error(f)})}}),u=>{this._notificationService.error(g("rename.failed","Rename failed to compute edits")),this._logService.error(u)});return this._progressService.showWhile(h,250),h})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Gv.ID="editor.contrib.renameController";Gv=FSe([Yv(1,je),Yv(2,ui),Yv(3,eu),Yv(4,Da),Yv(5,Oo),Yv(6,aC),Yv(7,_e)],Gv);var s$=class extends we{constructor(){super({id:"editor.action.rename",label:g("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Se.and(F.writable,F.hasRenameProvider),kbOpts:{kbExpr:F.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){let i=e.get(kt),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return Ee.isUri(n)&&H.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(s=>{!s||(s.setPosition(o),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},Pe):super.runCommand(e,t)}run(e,t){let i=Gv.get(t);return i?i.run():Promise.resolve()}};Ze(Gv.ID,Gv);le(s$);var a$=zi.bindToContribution(Gv.get);me(new a$({id:"acceptRenameInput",precondition:Kk,handler:r=>r.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:F.focus,primary:3}}));me(new a$({id:"acceptRenameInputWithPreview",precondition:Se.and(Kk,Se.has("config.editor.rename.enablePreview")),handler:r=>r.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:F.focus,primary:1024+3}}));me(new a$({id:"cancelRenameInput",precondition:Kk,handler:r=>r.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:F.focus,primary:9,secondary:[1033]}}));wa("_executeDocumentRenameProvider",function(r,e,t,...i){let[n]=i;$t(typeof n=="string");let{renameProvider:o}=r.get(_e);return BSe(o,e,t,n)});wa("_executePrepareRename",function(r,e,t){return Zv(this,void 0,void 0,function*(){let{renameProvider:i}=r.get(_e),o=yield new qk(e,t,i).resolveRenameLocation(Je.None);if(o?.rejectReason)throw new Error(o.rejectReason);return o})});di.as(ps.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:g("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var _zt=l0(hre());Ft();Di();ut();xt();rt();Le();Ci();Ui();Ye();Le();var n4=class{provideSelectionRanges(e,t){let i=[];for(let n of t){let o=[];i.push(o),this._addInWordRanges(o,e,n),this._addWordRanges(o,e,n),this._addWhitespaceLine(o,e,n),o.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){let n=t.getWordAtPosition(i);if(!n)return;let{word:o,startColumn:s}=n,a=i.column-s,l=a,c=a,d=0;for(;l>=0;l--){let h=o.charCodeAt(l);if(l!==a&&(h===95||h===45))break;if(dh(h)&&Cl(d))break;d=h}for(l+=1;c<o.length;c++){let h=o.charCodeAt(c);if(Cl(h)&&dh(d))break;if(h===95||h===45)break;d=h}l<c&&e.push({range:new D(i.lineNumber,s+l,i.lineNumber,s+c)})}_addWordRanges(e,t,i){let n=t.getWordAtPosition(i);n&&e.push({range:new D(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new D(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}};Ne();er();hn();oi();Ga();ti();vi();var zSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},VSe=function(r,e){return function(t,i){e(t,i,r)}},r4=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},Zk=class{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;let i=new Zk(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}},Dy=class ure{constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}static get(e){return e.getContribution(ure.ID)}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return r4(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;let t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||(yield fre(this._languageFeaturesService.selectionRangeProvider,i,t.map(o=>o.getPosition()),this._editor.getOption(104),Je.None).then(o=>{var s;if(!(!an(o)||o.length!==t.length)&&!(!this._editor.hasModel()||!go(this._editor.getSelections(),t,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<o.length;a++)o[a]=o[a].filter(l=>l.containsPosition(t[a].getStartPosition())&&l.containsPosition(t[a].getEndPosition())),o[a].unshift(t[a]);this._state=o.map(a=>new Zk(0,a)),(s=this._selectionListener)===null||s===void 0||s.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var a;this._ignoreSelection||((a=this._selectionListener)===null||a===void 0||a.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(o=>o.mov(e));let n=this._state.map(o=>ge.fromPositions(o.ranges[o.index].getStartPosition(),o.ranges[o.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(n)}finally{this._ignoreSelection=!1}})}};Dy.ID="editor.contrib.smartSelectController";Dy=zSe([VSe(1,_e)],Dy);var o4=class extends we{constructor(e,t){super(t),this._forward=e}run(e,t){return r4(this,void 0,void 0,function*(){let i=Dy.get(t);i&&(yield i.run(this._forward))})}},d$=class extends o4{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:g("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"1_basic",title:g({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}};gt.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var h$=class extends o4{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:g("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:F.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:z.MenubarSelectionMenu,group:"1_basic",title:g({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}};Ze(Dy.ID,Dy);le(d$);le(h$);function fre(r,e,t,i,n){return r4(this,void 0,void 0,function*(){let o=r.all(e).concat(new n4);o.length===1&&o.unshift(new as);let s=[],a=[];for(let l of o)s.push(Promise.resolve(l.provideSelectionRanges(e,t,n)).then(c=>{if(an(c)&&c.length===t.length)for(let d=0;d<t.length;d++){a[d]||(a[d]=[]);for(let h of c[d])D.isIRange(h.range)&&D.containsPosition(h.range,t[d])&&a[d].push(D.lift(h.range))}},Oi));return yield Promise.all(s),a.map(l=>{if(l.length===0)return[];l.sort((u,f)=>H.isBefore(u.getStartPosition(),f.getStartPosition())?1:H.isBefore(f.getStartPosition(),u.getStartPosition())||H.isBefore(u.getEndPosition(),f.getEndPosition())?-1:H.isBefore(f.getEndPosition(),u.getEndPosition())?1:0);let c=[],d;for(let u of l)(!d||D.containsRange(u,d)&&!D.equalsRange(u,d))&&(c.push(u),d=u);if(!i.selectLeadingAndTrailingWhitespace)return c;let h=[c[0]];for(let u=1;u<c.length;u++){let f=c[u-1],m=c[u];if(m.startLineNumber!==f.startLineNumber||m.endLineNumber!==f.endLineNumber){let _=new D(f.startLineNumber,e.getLineFirstNonWhitespaceColumn(f.startLineNumber),f.endLineNumber,e.getLineLastNonWhitespaceColumn(f.endLineNumber));_.containsRange(f)&&!_.equalsRange(f)&&m.containsRange(_)&&!m.equalsRange(_)&&h.push(_);let v=new D(f.startLineNumber,1,f.endLineNumber,e.getLineMaxColumn(f.endLineNumber));v.containsRange(f)&&!v.equalsRange(_)&&m.containsRange(v)&&!m.equalsRange(v)&&h.push(v)}h.push(m)}return h})})}gt.registerCommand("_executeSelectionRangeProvider",function(r,...e){return r4(this,void 0,void 0,function*(){let[t,i]=e;$t(Ee.isUri(t));let n=r.get(_e).selectionRangeProvider,o=yield r.get(Fn).createModelReference(t);try{return fre(n,o.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0},Je.None)}finally{o.dispose()}})});Di();aa();se();xt();lo();Le();oi();Xe();var m$=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Qv=function(r,e){return function(t,i){e(t,i,r)}},USe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},u$=class{constructor(e,t,i,n,o,s){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=n,this.command=o,this.completion=s}},f$=class extends nI{constructor(e,t,i,n,o,s){super(o.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=n,this._suggestMemoryService=s}canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&this.completionModel.incomplete.size===0}get items(){var e;let t=[],{items:i}=this.completionModel,n=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},i),o=wt.slice(i,n),s=wt.slice(i,0,n),a=5;for(let l of wt.concat(o,s)){if(l.score===Ys.Default)continue;let c=new D(l.editStart.lineNumber,l.editStart.column,l.editInsertEnd.lineNumber,l.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),d=l.completion.insertTextRules&&l.completion.insertTextRules&z0.InsertAsSnippet?{snippet:l.completion.insertText}:l.completion.insertText;t.push(new u$(c,d,(e=l.filterTextLow)!==null&&e!==void 0?e:l.labelLow,l.completion.additionalTextEdits,l.completion.command,l)),a-->=0&&l.resolve(Je.None)}return t}};f$=m$([Qv(5,ay)],f$);var g$=class{constructor(e,t,i,n){this._getEditorOption=e,this._languageFeatureService=t,this._clipboardService=i,this._suggestMemoryService=n}provideInlineCompletions(e,t,i,n){var o;return USe(this,void 0,void 0,function*(){if(i.selectedSuggestionInfo)return;let s=this._getEditorOption(81,e);if(gu.isAllOff(s))return;e.tokenization.tokenizeIfCheap(t.lineNumber);let a=e.tokenization.getLineTokens(t.lineNumber),l=a.getStandardTokenType(a.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(gu.valueFor(s,l)!=="inline")return;let c=e.getWordAtPosition(t),d;if(c?.word||(d=this._getTriggerCharacterInfo(e,t)),!c?.word&&!d||(c||(c=e.getWordUntilPosition(t)),c.endColumn!==t.column))return;let h,u=e.getValueInRange(new D(t.lineNumber,1,t.lineNumber,t.column));if(!d&&((o=this._lastResult)===null||o===void 0?void 0:o.canBeReused(e,t.lineNumber,c))){let f=new Pk(u,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=f,this._lastResult.acquire(),h=this._lastResult}else{let f=yield YD(this._languageFeatureService.completionProvider,e,t,new og(void 0,void 0,d?.providers),d&&{triggerKind:1,triggerCharacter:d.ch},n),m;f.needsClipboard&&(m=yield this._clipboardService.readText());let _=new Kc(f.items,t.column,new Pk(u,0),Pa.None,this._getEditorOption(108,e),this._getEditorOption(103,e),{boostFullMatch:!1,firstMatchCanBeWeak:!1},m);h=new f$(e,t.lineNumber,c,_,f,this._suggestMemoryService)}return this._lastResult=h,h})}handleItemDidShow(e,t){t.completion.resolve(Je.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){var i;let n=e.getValueInRange(D.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),o=new Set;for(let s of this._languageFeatureService.completionProvider.all(e))!((i=s.triggerCharacters)===null||i===void 0)&&i.includes(n)&&o.add(s);if(o.size!==0)return{providers:o,ch:n}}};g$=m$([Qv(1,_e),Qv(2,Ls),Qv(3,ay)],g$);var s4=class ky{constructor(e,t,i,n){if(++ky._counter===1){let o=n.createInstance(g$,(s,a)=>{var l;return((l=i.listCodeEditors().find(d=>d.getModel()===a))!==null&&l!==void 0?l:e).getOption(s)});ky._disposable=t.inlineCompletionsProvider.register("*",o)}}dispose(){var e;--ky._counter===0&&((e=ky._disposable)===null||e===void 0||e.dispose(),ky._disposable=void 0)}};s4._counter=0;s4=m$([Qv(1,_e),Qv(2,kt),Qv(3,je)],s4);Ze("suggest.inlineCompletionsProvider",s4);Ha();xt();Ne();var p$=class extends we{constructor(){super({id:"editor.action.forceRetokenize",label:g("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;let i=t.getModel();i.tokenization.resetTokenization();let n=new _n(!0);i.tokenization.forceTokenization(i.getLineCount()),n.stop(),console.log(`tokenization took ${n.elapsed()}`)}};le(p$);Vs();xt();Ne();var Ey=class extends we{constructor(){super({id:Ey.ID,label:g({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){let n=!PC.getTabFocusMode();PC.setTabFocusMode(n),n?Tn(g("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Tn(g("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}};Ey.ID="editor.action.toggleTabFocusMode";le(Ey);ot();bn();se();At();Ye();xt();Ao();Mf();Qo();Fe();Fr();se();Xe();Fe();bs();Oe();se();Ds();Ai();Ct();var HSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},$Se=function(r,e){return function(t,i){e(t,i,r)}},a4=class extends ${constructor(e,t,i={},n){var o;super(),this._link=t,this._enabled=!0,this.el=oe(e,he("a.monaco-link",{tabIndex:(o=t.tabIndex)!==null&&o!==void 0?o:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");let s=this._register(new ai(this.el,"click")),a=this._register(new ai(this.el,"keypress")),l=Ie.chain(a.event).map(h=>new Gt(h)).filter(h=>h.keyCode===3).event,c=this._register(new ai(this.el,mi.Tap)).event;this._register(Yt.addTarget(this.el));let d=Ie.any(s.event,l,c);this._register(d(h=>{!this.enabled||(Xt.stop(h,!0),i?.opener?i.opener(this._link.href):n.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};a4=HSe([$Se(3,wo)],a4);Lt((r,e)=>{let t=r.getColor(Em);t&&e.addRule(`.monaco-link { color: ${t}; }`);let i=r.getColor(Im);i&&e.addRule(`.monaco-link:hover { color: ${i}; }`)});Ct();var gre=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},mre=function(r,e){return function(t,i){e(t,i,r)}},KSe=26,l4=class extends ${constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(_$))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{var t;this.hide(),(t=e.onClose)===null||t===void 0||t.call(e)}})),this._editor.setBanner(this.banner.element,KSe)}};l4=gre([mre(1,je)],l4);var _$=class extends ${constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Na,{}),this.element=he("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){let t=he("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){Yi(this.element)}show(e){Yi(this.element);let t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);let i=oe(this.element,he("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild(he(`div${Vt.asCSSSelector(e.icon)}`));let n=oe(this.element,he("div.message-container"));if(n.setAttribute("aria-hidden","true"),n.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=oe(this.element,he("div.message-actions-container")),e.actions)for(let s of e.actions)this._register(this.instantiationService.createInstance(a4,this.messageActionsContainer,Object.assign(Object.assign({},s),{tabIndex:-1}),{}));let o=oe(this.element,he("div.action-container"));this.actionBar=this._register(new nr(o)),this.actionBar.push(this._register(new Xn("banner.close","Close Banner",Vt.asClassName(FA),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};_$=gre([mre(0,je)],_$);Ne();to();Xe();Ds();var L$=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Iy=function(r,e){return function(t,i){e(t,i,r)}},Yr=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},qSe=fn("extensions-warning-message",p.warning,g("warningIcon","Icon shown with a warning message in the extensions editor.")),Oy=class extends ${constructor(e,t,i,n){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=o=>{if(o&&o.hasMore){if(this._bannerClosed)return;let s=Math.max(o.ambiguousCharacterCount,o.nonBasicAsciiCharacterCount,o.invisibleCharacterCount),a;if(o.nonBasicAsciiCharacterCount>=s)a={message:g("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Kp};else if(o.ambiguousCharacterCount>=s)a={message:g("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Su};else if(o.invisibleCharacterCount>=s)a={message:g("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new $p};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:qSe,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(n.createInstance(l4,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(115),this._register(i.onDidChangeTrust(o=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(o=>{o.hasChanged(115)&&(this._options=e.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;let e=YSe(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;let t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?Qq:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new b$(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new v$(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};Oy.ID="editor.contrib.unicodeHighlighter";Oy=L$([Iy(1,or),Iy(2,fM),Iy(3,je)],Oy);function YSe(r,e){return{nonBasicASCII:e.nonBasicASCII===ca?!r:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===ca?!r:e.includeComments,includeStrings:e.includeStrings===ca?!r:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}var b$=class extends ${constructor(e,t,i,n){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=n,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new pt(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}let e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);let i=[];if(!t.hasMore)for(let n of t.ranges)i.push({range:n,options:Ny.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;let t=this._editor.getModel();if(!_A(t,e))return null;let i=t.getValueInRange(e.range);return{reason:_re(i,this._options),inComment:bA(t,e),inString:vA(t,e)}}};b$=L$([Iy(3,or)],b$);var v$=class extends ${constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new pt(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}let e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(let n of e){let o=A_.computeUnicodeHighlights(this._model,this._options,n);for(let s of o.ranges)i.ranges.push(s);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||o.hasMore}if(!i.hasMore)for(let n of i.ranges)t.push({range:n,options:Ny.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;let t=this._editor.getModel(),i=t.getValueInRange(e.range);return _A(t,e)?{reason:_re(i,this._options),inComment:bA(t,e),inString:vA(t,e)}:null}},C$=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=4}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];let i=this._editor.getModel(),n=this._editor.getContribution(Oy.ID);if(!n)return[];let o=[],s=300;for(let a of t){let l=n.getDecorationInfo(a);if(!l)continue;let d=i.getValueInRange(a.range).codePointAt(0),h=pre(d),u;switch(l.reason.kind){case 0:u=g("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",h,pre(l.reason.confusableWith.codePointAt(0)));break;case 1:u=g("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",h);break;case 2:u=g("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",h);break}let f={codePoint:d,reason:l.reason,inComment:l.inComment,inString:l.inString},m=g("unicodeHighlight.adjustSettings","Adjust settings"),_=`command:${Jv.ID}?${encodeURIComponent(JSON.stringify(f))}`,v=new ro("",!0).appendMarkdown(u).appendText(" ").appendLink(_,m);o.push(new dl(this,a.range,[v],s++))}return o}renderHoverParts(e,t){return gV(e,t,this._editor,this._languageService,this._openerService)}};C$=L$([Iy(1,ei),Iy(2,wo)],C$);function w$(r){return`U+${r.toString(16).padStart(4,"0")}`}function pre(r){let e=`\`${w$(r)}\``;return Ka.isInvisibleCharacter(r)||(e+=` "${`${ZSe(r)}`}"`),e}function ZSe(r){return r===96?"`` ` ``":"`"+String.fromCodePoint(r)+"`"}function _re(r,e){return A_.computeUnicodeHighlightReason(r,e)}var Ny=class{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){let i=`${e}${t}`,n=this.map.get(i);return n||(n=Ge.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,n)),n}};Ny.instance=new Ny;var y$=class extends we{constructor(){super({id:Su.ID,label:g("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=g("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,i){return Yr(this,void 0,void 0,function*(){let n=e?.get(yt);n&&this.runAction(n)})}runAction(e){return Yr(this,void 0,void 0,function*(){yield e.updateValue(fs.includeComments,!1,2)})}},S$=class extends we{constructor(){super({id:Su.ID,label:g("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=g("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,i){return Yr(this,void 0,void 0,function*(){let n=e?.get(yt);n&&this.runAction(n)})}runAction(e){return Yr(this,void 0,void 0,function*(){yield e.updateValue(fs.includeStrings,!1,2)})}},Su=class extends we{constructor(){super({id:Su.ID,label:g("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=g("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,i){return Yr(this,void 0,void 0,function*(){let n=e?.get(yt);n&&this.runAction(n)})}runAction(e){return Yr(this,void 0,void 0,function*(){yield e.updateValue(fs.ambiguousCharacters,!1,2)})}};Su.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";var $p=class extends we{constructor(){super({id:$p.ID,label:g("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=g("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,i){return Yr(this,void 0,void 0,function*(){let n=e?.get(yt);n&&this.runAction(n)})}runAction(e){return Yr(this,void 0,void 0,function*(){yield e.updateValue(fs.invisibleCharacters,!1,2)})}};$p.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";var Kp=class extends we{constructor(){super({id:Kp.ID,label:g("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=g("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,i){return Yr(this,void 0,void 0,function*(){let n=e?.get(yt);n&&this.runAction(n)})}runAction(e){return Yr(this,void 0,void 0,function*(){yield e.updateValue(fs.nonBasicASCII,!1,2)})}};Kp.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";var Jv=class extends we{constructor(){super({id:Jv.ID,label:g("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,i){return Yr(this,void 0,void 0,function*(){let{codePoint:n,reason:o,inString:s,inComment:a}=i,l=String.fromCodePoint(n),c=e.get(lu),d=e.get(yt);function h(m){return Ka.isInvisibleCharacter(m)?g("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",w$(m)):g("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${w$(m)} "${l}"`)}let u=[];if(o.kind===0)for(let m of o.notAmbiguousInLocales)u.push({label:g("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',m),run:()=>Yr(this,void 0,void 0,function*(){XSe(d,[m])})});if(u.push({label:h(n),run:()=>GSe(d,[n])}),a){let m=new y$;u.push({label:m.label,run:()=>Yr(this,void 0,void 0,function*(){return m.runAction(d)})})}else if(s){let m=new S$;u.push({label:m.label,run:()=>Yr(this,void 0,void 0,function*(){return m.runAction(d)})})}if(o.kind===0){let m=new Su;u.push({label:m.label,run:()=>Yr(this,void 0,void 0,function*(){return m.runAction(d)})})}else if(o.kind===1){let m=new $p;u.push({label:m.label,run:()=>Yr(this,void 0,void 0,function*(){return m.runAction(d)})})}else if(o.kind===2){let m=new Kp;u.push({label:m.label,run:()=>Yr(this,void 0,void 0,function*(){return m.runAction(d)})})}else QSe(o);let f=yield c.pick(u,{title:g("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});f&&(yield f.run())})}};Jv.ID="editor.action.unicodeHighlight.showExcludeOptions";function GSe(r,e){return Yr(this,void 0,void 0,function*(){let t=r.getValue(fs.allowedCharacters),i;typeof t=="object"&&t?i=t:i={};for(let n of e)i[String.fromCodePoint(n)]=!0;yield r.updateValue(fs.allowedCharacters,i,2)})}function XSe(r,e){var t;return Yr(this,void 0,void 0,function*(){let i=(t=r.inspect(fs.allowedLocales).user)===null||t===void 0?void 0:t.value,n;typeof i=="object"&&i?n=Object.assign({},i):n={};for(let o of e)n[o]=!0;yield r.updateValue(fs.allowedLocales,n,2)})}function QSe(r){throw new Error(`Unexpected value: ${r}`)}le(Su);le($p);le(Kp);le(Jv);Ze(Oy.ID,Oy);ql.register(C$);se();Vr();xt();lo();Ne();var JSe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},bre=function(r,e){return function(t,i){e(t,i,r)}},eLe=function(r,e,t,i){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(h){s(h)}}function l(d){try{c(i.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):n(d.value).then(a,l)}c((i=i.apply(r,e||[])).next())})},vre="ignoreUnusualLineTerminators";function tLe(r,e,t){r.setModelProperty(e.uri,vre,t)}function iLe(r,e){return r.getModelProperty(e.uri,vre)}var Gk=class extends ${constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(n=>{n.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return eLe(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;let e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||iLe(this._codeEditorService,e)===!0||this._editor.getOption(83))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:g("unusualLineTerminators.title","Unusual Line Terminators"),message:g("unusualLineTerminators.message","Detected unusual line terminators"),detail:g("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",ir(e.uri)),primaryButton:g("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:g("unusualLineTerminators.ignore","Ignore")})).confirmed){tLe(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};Gk.ID="editor.contrib.unusualLineTerminatorsDetector";Gk=JSe([bre(1,Hw),bre(2,kt)],Gk);Ze(Gk.ID,Gk);var Dzt=l0(Cre());Vs();Ft();ot();Di();ut();se();xt();Le();Ui();Rs();Ao();Un();Ne();St();Ai();Ct();oi();Tl();var oLe=function(r,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(n<3?s(o):n>3?s(e,t,o):s(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},wre=function(r,e){return function(t,i){e(t,i,r)}},rLe=W("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},g("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),sLe=W("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},g("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),aLe=W("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Pi,hcLight:Pi},g("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),lLe=W("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Pi,hcLight:Pi},g("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),cLe=W("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},g("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),dLe=W("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},g("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),h4=new Ce("hasWordHighlights",!1);function yre(r,e,t,i){let n=r.ordered(e);return zO(n.map(o=>()=>Promise.resolve(o.provideDocumentHighlights(e,t,i)).then(void 0,Oi)),an)}var c4=class{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=wi(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){let i=e.getWordAtPosition(t.getPosition());return i?new D(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){let n=t.startLineNumber,o=t.startColumn,s=t.endColumn,a=this._getCurrentWordRange(e,t),l=Boolean(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,d=i.length;!l&&c<d;c++){let h=i.getRange(c);h&&h.startLineNumber===n&&h.startColumn<=o&&h.endColumn>=s&&(l=!0)}return l}cancel(){this.result.cancel()}},x$=class extends c4{constructor(e,t,i,n){super(e,t,i),this._providers=n}_compute(e,t,i,n){return yre(this._providers,e,t.getPosition(),n).then(o=>o||[])}},D$=class extends c4{constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return kl(250,n).then(()=>{if(!t.isEmpty())return[];let o=e.getWordAtPosition(t.getPosition());return!o||o.word.length>1e3?[]:e.findMatches(o.word,!0,!1,!0,i,!1).map(a=>({range:a.range,kind:W0.Text}))})}isValid(e,t,i){let n=t.isEmpty();return this._selectionIsEmpty!==n?!1:super.isValid(e,t,i)}};function hLe(r,e,t,i){return r.has(e)?new x$(e,t,i,r):new D$(e,t,i)}wa("_executeDocumentHighlights",(r,e,t)=>{let i=r.get(_e);return yre(i.documentHighlightProvider,e,t,Je.None)});var qp=class{constructor(e,t,i){this.toUnhook=new J,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=h4.bindTo(i),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(n=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(n)})),this.toUnhook.add(e.onDidChangeModelContent(n=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(n=>{let o=this.editor.getOption(74);this.occurrencesHighlight!==o&&(this.occurrencesHighlight=o,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(D.compareRangesUsingStarts)}moveNext(){let e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))+1)%e.length,n=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);let o=this._getWord();if(o){let s=this.editor.getModel().getLineContent(n.startLineNumber);Tn(`${s}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,n=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);let o=this._getWord();if(o){let s=this.editor.getModel().getLineContent(n.startLineNumber);Tn(`${s}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}let t=e.startColumn,i=e.endColumn,n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i){this._stopAll();return}let o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),o)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let s=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=hLe(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(a=>{s===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=a||[],this._beginRenderDecorations())},Pe)}}_beginRenderDecorations(){let e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(let t of this.workerRequestValue)t.range&&e.push({range:t.range,options:qp._getDecorationOptions(t.kind)});this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===W0.Write?this._WRITE_OPTIONS:e===W0.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}};qp._WRITE_OPTIONS=Ge.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:un(dLe),position:ts.Center},minimap:{color:un(QC),position:is.Inline}});qp._TEXT_OPTIONS=Ge.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:un(GN),position:ts.Center},minimap:{color:un(QC),position:is.Inline}});qp._REGULAR_OPTIONS=Ge.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:un(cLe),position:ts.Center},minimap:{color:un(QC),position:is.Inline}});var e0=class Sre extends ${constructor(e,t,i){super(),this.wordHighlighter=null;let n=()=>{e.hasModel()&&(this.wordHighlighter=new qp(e,i.documentHighlightProvider,t))};this._register(e.onDidChangeModel(o=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()})),n()}static get(e){return e.getContribution(Sre.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};e0.ID="editor.contrib.wordHighlighter";e0=oLe([wre(1,Te),wre(2,_e)],e0);var d4=class extends we{constructor(e,t){super(t),this._isNext=e}run(e,t){let i=e0.get(t);!i||(this._isNext?i.moveNext():i.moveBack())}},k$=class extends d4{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:g("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:h4,kbOpts:{kbExpr:F.editorTextFocus,primary:65,weight:100}})}},E$=class extends d4{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:g("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:h4,kbOpts:{kbExpr:F.editorTextFocus,primary:1089,weight:100}})}},I$=class extends we{constructor(){super({id:"editor.action.wordHighlight.trigger",label:g("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:h4.toNegated(),kbOpts:{kbExpr:F.editorTextFocus,primary:0,weight:100}})}run(e,t,i){let n=e0.get(t);!n||n.restoreViewState(!0)}};Ze(e0.ID,e0);le(k$);le(E$);le(I$);Lt((r,e)=>{let t=r.getColor(uL);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));let i=r.getColor(rLe);i&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${i}; }`);let n=r.getColor(sLe);n&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${n}; }`);let o=r.getColor(tX);o&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${Qn(r.type)?"dotted":"solid"} ${o}; box-sizing: border-box; }`);let s=r.getColor(aLe);s&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${Qn(r.type)?"dashed":"solid"} ${s}; box-sizing: border-box; }`);let a=r.getColor(lLe);a&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${Qn(r.type)?"dashed":"solid"} ${a}; box-sizing: border-box; }`)});xt();sC();rt();Le();Ci();Ui();io();Ne();St();var t0=class extends zi{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;let n=ns(t.getOption(119)),o=t.getModel(),a=t.getSelections().map(l=>{let c=new H(l.positionLineNumber,l.positionColumn),d=this._move(n,o,c,this._wordNavigationType);return this._moveTo(l,d,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map(l=>Pt.fromModelSelection(l))),a.length===1){let l=new H(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(l,0)}}_moveTo(e,t,i){return i?new ge(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new ge(t.lineNumber,t.column,t.lineNumber,t.column)}},Lu=class extends t0{_move(e,t,i,n){return Qt.moveWordLeft(e,t,i,n)}},xu=class extends t0{_move(e,t,i,n){return Qt.moveWordRight(e,t,i,n)}},O$=class extends Lu{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}},N$=class extends Lu{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}},T$=class extends Lu{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Se.and(F.textInputFocus,(e=Se.and(eb,oD))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}},P$=class extends Lu{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}},A$=class extends Lu{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}},M$=class extends Lu{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Se.and(F.textInputFocus,(e=Se.and(eb,oD))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}},R$=class extends Lu{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move(ns(Ts.wordSeparators.defaultValue),t,i,n)}},F$=class extends Lu{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move(ns(Ts.wordSeparators.defaultValue),t,i,n)}},B$=class extends xu{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}},j$=class extends xu{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Se.and(F.textInputFocus,(e=Se.and(eb,oD))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}},W$=class extends xu{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}},z$=class extends xu{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}},V$=class extends xu{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Se.and(F.textInputFocus,(e=Se.and(eb,oD))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}},U$=class extends xu{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}},H$=class extends xu{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move(ns(Ts.wordSeparators.defaultValue),t,i,n)}},$$=class extends xu{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move(ns(Ts.wordSeparators.defaultValue),t,i,n)}},i0=class extends zi{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){let n=e.get(ii);if(!t.hasModel())return;let o=ns(t.getOption(119)),s=t.getModel(),a=t.getSelections(),l=t.getOption(5),c=t.getOption(8),d=n.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),h=t._getViewModel(),u=a.map(f=>{let m=this._delete({wordSeparators:o,model:s,selection:f,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:l,autoClosingQuotes:c,autoClosingPairs:d,autoClosedCharacters:h.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Kn(m,"")});t.pushUndoStop(),t.executeCommands(this.id,u),t.pushUndoStop()}},eE=class extends i0{_delete(e,t){let i=Qt.deleteWordLeft(e,t);return i||new D(1,1,1,1)}},tE=class extends i0{_delete(e,t){let i=Qt.deleteWordRight(e,t);if(i)return i;let n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new D(n,o,n,o)}},K$=class extends eE{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:F.writable})}},q$=class extends eE{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:F.writable})}},Y$=class extends eE{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}},Z$=class extends tE{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:F.writable})}},G$=class extends tE{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:F.writable})}},X$=class extends tE{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}},Q$=class extends we{constructor(){super({id:"deleteInsideWord",precondition:F.writable,label:g("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;let n=ns(t.getOption(119)),o=t.getModel(),a=t.getSelections().map(l=>{let c=Qt.deleteInsideWord(n,o,l);return new Kn(c,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}};me(new O$);me(new N$);me(new T$);me(new P$);me(new A$);me(new M$);me(new B$);me(new j$);me(new W$);me(new z$);me(new V$);me(new U$);me(new R$);me(new F$);me(new H$);me(new $$);me(new K$);me(new q$);me(new Y$);me(new Z$);me(new G$);me(new X$);le(Q$);xt();Le();Ui();hn();var J$=class extends i0{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){let i=_b.deleteWordPartLeft(e);return i||new D(1,1,1,1)}},eK=class extends i0{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:F.writable,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let i=_b.deleteWordPartRight(e);if(i)return i;let n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new D(n,o,n,o)}},u4=class extends t0{_move(e,t,i,n){return _b.moveWordPartLeft(e,t,i)}},tK=class extends u4{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:783},weight:100}})}};gt.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var iK=class extends u4{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}};gt.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var f4=class extends t0{_move(e,t,i,n){return _b.moveWordPartRight(e,t,i)}},nK=class extends f4{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:785},weight:100}})}},oK=class extends f4{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:F.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}};me(new J$);me(new eK);me(new tK);me(new iK);me(new nK);me(new oK);se();xt();Ne();var iE=class extends ${constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){let e=Cr.get(this.editor);e&&this.editor.hasModel()&&(this.editor.isSimpleWidget?e.showMessage(g("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):e.showMessage(g("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}};iE.ID="editor.contrib.readOnlyMessageController";Ze(iE.ID,iE);var uLe=Object.defineProperty,fLe=Object.getOwnPropertyDescriptor,gLe=Object.getOwnPropertyNames,mLe=Object.prototype.hasOwnProperty,Lre=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of gLe(e))!mLe.call(r,n)&&n!==t&&uLe(r,n,{get:()=>e[n],enumerable:!(i=fLe(e,n))||i.enumerable});return r},pLe=(r,e,t)=>(Lre(r,e,"default"),t&&Lre(t,e,"default")),nE={};pLe(nE,VR);var xre={},rK={},Dre=class{static getOrCreate(r){return rK[r]||(rK[r]=new Dre(r)),rK[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,xre[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function kre(r){let e=r.id;xre[e]=r,nE.languages.register(r);let t=Dre.getOrCreate(e);nE.languages.registerTokensProviderFactory(e,{create:async()=>(await t.load()).language}),nE.languages.onLanguage(e,async()=>{let i=await t.load();nE.languages.setLanguageConfiguration(e,i.conf)})}kre({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>Promise.resolve().then(()=>(Ire(),Ere))});var oE=class{wasm;state;evalCounter=0;constructor(e){this.wasm=e,this.state=this.wasm._artichoke_web_repl_init()}read(e){let t=this.wasm._artichoke_string_getlen(this.state,e),i=new Uint8Array(t);for(let n=0;n<t;n+=1){let o=this.wasm._artichoke_string_getch(this.state,e,n);i[n]=o}return new TextDecoder().decode(i)}write(e){let t=this.wasm._artichoke_string_new(this.state),i=new TextEncoder().encode(e);for(let n of i)this.wasm._artichoke_string_putch(this.state,t,n);return t}evalRuby(e){this.evalCounter+=1;let t=`eval-ffi-${this.evalCounter}`;window.gtag("event","level_start",{level_name:t});let i=this.write(e),n=this.wasm._artichoke_eval(this.state,i),o=this.read(n);return this.wasm._artichoke_string_free(this.state,i),this.wasm._artichoke_string_free(this.state,n),window.gtag("event","level_end",{level_name:t,success:!0}),o}};var rE=class{editor;outputPane;constructor(e,t){this.editor=e,this.outputPane=t}};var sE=class{evalType;chrome;counter=0;constructor(e,t){this.evalType=e,this.chrome=t}makeHandler(e){return()=>{let t=this.counter+1;this.counter=t;let i=`playground-run-${this.evalType}-${t}`;window.gtag("event","level_start",{level_name:i});let o=(this.chrome.editor.getModel()?.getLinesContent()??[]).join(`
`),s=e.evalRuby(o);this.chrome.outputPane.getModel()?.setValue(s),window.gtag("event","level_end",{level_name:i,success:!0})}}};var Tre=l0(Ore());var Nre=`# frozen_string_literal: true

require 'forwardable'

class Properties
  extend Forwardable
  def_delegators :@properties, :[], :[]=

  def initialize(name)
    @name = name
    @properties = {}
  end

  def inspect
    @name
  end

  def to_h
    @properties
  end
end

artichoke = Properties.new('Artichoke Ruby')
artichoke[:language] = 'Ruby'
artichoke[:implementation] = 'Artichoke'
artichoke[:target] = 'wasm'
artichoke[:emoji] = '\u{1F48E}'

puts artichoke.inspect if artichoke[:emoji] =~ /\u{1F48E}/

artichoke.to_h
`;self.MonacoEnvironment={getWorkerUrl:function(r,e){return e==="json"?"./json.worker.bundle.js":e==="css"||e==="scss"||e==="less"?"./css.worker.bundle.js":e==="html"||e==="handlebars"||e==="razor"?"./html.worker.bundle.js":e==="typescript"||e==="javascript"?"./ts.worker.bundle.js":"./editor.worker.bundle.js"}};var Pre=Nre.trim();window.location.hash&&(Pre=decodeURIComponent(window.location.hash).slice(1));var CLe=document.getElementById("editor"),m4=zR.create(CLe,{value:Pre,language:"ruby",theme:"vs-dark",fontSize:14,automaticLayout:!0});m4.getModel()?.onDidChangeContent(()=>{let e=(m4.getModel()?.getLinesContent()??[]).join(`
`),t=encodeURIComponent(e);history.replaceState(void 0,"",`#${t}`)});var wLe=document.getElementById("output"),yLe=zR.create(wLe,{language:"plaintext",theme:"vs-dark",fontSize:14,automaticLayout:!0,lineNumbers:"off",readOnly:!0,wordWrap:"bounded",wordWrapBreakAfterCharacters:"",minimap:{enabled:!1}}),SLe=new URLSearchParams(window.location.search);SLe.has("embed")&&document.getElementById("embeddable")?.setAttribute("style","position: absolute; width: 100%; height: 100%; top:0; left: 0; background-color: white; max-width: 100%");(0,Tre.default)().then(r=>{let e=new rE(m4,yLe),t="playground-interpreter-init";window.gtag("event","level_start",{level_name:t});let i=new oE(r),n=document.getElementById("artichoke-build-info");n.textContent=i.read(0),document.getElementById("run")?.addEventListener("click",new sE("button",e).makeHandler(i)),m4.addAction({id:"artichoke-playground-run-ruby",label:"Run Ruby source code",keybindings:[FW.CtrlCmd|RW.F8],contextMenuGroupId:"2_playground_eval",run:new sE("code_action",e).makeHandler(i)}),window.gtag("event","level_end",{level_name:t,success:!0})});})();
/*!
  * Bootstrap v5.2.0 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0(9d278685b078158491964f8fd7ac9628fffa0f30)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
